/*! For license information please see 818.7253965d.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[818],{3388:(e,t,o)=>{"use strict";o.d(t,{Jz:()=>Y});class n extends Error{}const r="tempus-dominus";class a{}a.NAME=r,a.dataKey="td",a.events=new class{constructor(){this.key=".td",this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}},a.css=new class{constructor(){this.widget=`${r}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.rangeIn="range-in",this.rangeStart="range-start",this.rangeEnd="range-end",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}},a.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(e){const t=new n(`${this.base} Unexpected option: ${e} does not match a known option.`);throw t.code=1,t}unexpectedOptions(e){const t=new n(`${this.base}: ${e.join(", ")}`);throw t.code=1,t}unexpectedOptionValue(e,t,o){const r=new n(`${this.base} Unexpected option value: ${e} does not accept a value of "${t}". Valid values are: ${o.join(", ")}`);throw r.code=2,r}typeMismatch(e,t,o){const r=new n(`${this.base} Mismatch types: ${e} has a type of ${t} instead of the required ${o}`);throw r.code=3,r}numbersOutOfRange(e,t,o){const r=new n(`${this.base} ${e} expected an array of number between ${t} and ${o}.`);throw r.code=4,r}failedToParseDate(e,t,o=!1){const r=new n(`${this.base} Could not correctly parse "${t}" to a date for ${e}.`);if(r.code=5,!o)throw r;console.warn(r)}mustProvideElement(){const e=new n(`${this.base} No element was provided.`);throw e.code=6,e}subscribeMismatch(){const e=new n(`${this.base} The subscribed events does not match the number of callbacks`);throw e.code=7,e}conflictingConfiguration(e){const t=new n(`${this.base} A configuration value conflicts with another rule. ${e}`);throw t.code=8,t}customDateFormatError(e){const t=new n(`${this.base} Custom Date Format: ${e}`);throw t.code=9,t}dateString(){console.warn(`${this.base} Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.`)}deprecatedWarning(e,t){console.warn(`${this.base} Warning ${e} is deprecated and will be removed in a future version. ${t}`)}throwError(e){const t=new n(`${this.base} ${e}`);throw t.code=9,t}};var s,i={...{dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},format:"L LT",locale:"default",hourCycle:void 0,ordinal:e=>{const t=["th","st","nd","rd"],o=e%100;return`[${e}${t[(o-20)%10]||t[o]||t[0]}]`}}};!function(e){e.seconds="seconds",e.minutes="minutes",e.hours="hours",e.date="date",e.month="month",e.year="year"}(s||(s={}));const l={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},c=e=>{switch(e){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}},d=e=>{if(!e)return"h12";const t={hour:"2-digit",minute:"2-digit",numberingSystem:"latn"},o=(new u).setLocalization({locale:e});o.hours=0;const n=o.parts(void 0,t).hour;if("12"===n)return"h12";if("24"===n)return"h24";o.hours=23;const r=o.parts(void 0,t).hour;return"00"===n&&"11"===r?"h11":"00"===n&&"23"===r?"h23":void console.warn(`couldn't determine hour cycle for ${e}. start: ${n}. end: ${r}`)};class u extends Date{constructor(){super(...arguments),this.localization=i,this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335],this.dateTimeRegex=/(\[[^[\]]*])|y{1,4}|M{1,4}|d{1,4}|H{1,2}|h{1,2}|t|T|m{1,2}|s{1,2}|f{3}/g,this.formattingTokens=/(\[[^[\]]*])|([-_:/.,()\s]+)|(T|t|yyyy|yy?|MM?M?M?|Do|dd?|hh?|HH?|mm?|ss?)/g,this.match2=/\d\d/,this.match3=/\d{3}/,this.match4=/\d{4}/,this.match1to2=/\d\d?/,this.matchSigned=/[+-]?\d+/,this.matchOffset=/[+-]\d\d:?(\d\d)?|Z/,this.matchWord=/[^\d_:/,\-()\s]+/,this.zoneExpressions=[this.matchOffset,(e,t)=>{e.offset=this.offsetFromString(t)}],this.expressions={t:[this.matchWord,(e,t)=>{e.afternoon=this.meridiemMatch(t)}],T:[this.matchWord,(e,t)=>{e.afternoon=this.meridiemMatch(t)}],fff:[this.match3,(e,t)=>{e.milliseconds=+t}],s:[this.match1to2,this.addInput("seconds")],ss:[this.match1to2,this.addInput("seconds")],m:[this.match1to2,this.addInput("minutes")],mm:[this.match1to2,this.addInput("minutes")],H:[this.match1to2,this.addInput("hours")],h:[this.match1to2,this.addInput("hours")],HH:[this.match1to2,this.addInput("hours")],hh:[this.match1to2,this.addInput("hours")],d:[this.match1to2,this.addInput("day")],dd:[this.match2,this.addInput("day")],Do:[this.matchWord,(e,t)=>{if([e.day]=t.match(/\d+/),this.localization.ordinal)for(let o=1;o<=31;o+=1)this.localization.ordinal(o).replace(/[[\]]/g,"")===t&&(e.day=o)}],M:[this.match1to2,this.addInput("month")],MM:[this.match2,this.addInput("month")],MMM:[this.matchWord,(e,t)=>{const o=this.getAllMonths(),n=(this.getAllMonths("short")||o.map((e=>e.slice(0,3)))).indexOf(t)+1;if(n<1)throw new Error;e.month=n%12||n}],MMMM:[this.matchWord,(e,t)=>{const o=this.getAllMonths().indexOf(t)+1;if(o<1)throw new Error;e.month=o%12||o}],y:[this.matchSigned,this.addInput("year")],yy:[this.match2,(e,t)=>{e.year=this.parseTwoDigitYear(t)}],yyyy:[this.match4,this.addInput("year")]}}setLocale(e){return this.localization||(this.localization=i,this.localization.locale=e),this}setLocalization(e){return this.localization=e,this}static convert(e,t="default",o=undefined){if(!e)throw new Error("A date is required");return o||((o=i).locale=t),new u(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).setLocalization(o)}get clone(){return new u(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocalization(this.localization)}static isValid(e){return void 0!==e&&"null"!==JSON.stringify(e)&&e.constructor.name===u.name}startOf(e,t=0){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);switch(e){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":{if(this.startOf(s.date),this.weekDay===t)break;const e=(this.weekDay-t+7)%7;this.manipulate(-1*e,s.date);break}case"month":this.startOf(s.date),this.setDate(1);break;case"year":this.startOf(s.date),this.setMonth(0,1)}return this}endOf(e,t=0){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);switch(e){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":{this.endOf(s.date);const e=6+t;if(this.weekDay===e)break;this.manipulate(e-this.weekDay,s.date);break}case"month":this.endOf(s.date),this.manipulate(1,s.month),this.setDate(0);break;case"year":this.endOf(s.date),this.setMonth(11,31)}return this}manipulate(e,t){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this[t]+=e,this}isBefore(e,t){if(!u.isValid(e))return!1;if(!t)return this.valueOf()<e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()<e.clone.startOf(t).valueOf()}isAfter(e,t){if(!u.isValid(e))return!1;if(!t)return this.valueOf()>e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return this.clone.startOf(t).valueOf()>e.clone.startOf(t).valueOf()}isSame(e,t){if(!u.isValid(e))return!1;if(!t)return this.valueOf()===e.valueOf();if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);return e=u.convert(e),this.clone.startOf(t).valueOf()===e.startOf(t).valueOf()}isBetween(e,t,o,n="()"){if(!u.isValid(e)||!u.isValid(t))return!1;if(o&&void 0===this[o])throw new Error(`Unit '${o}' is not valid`);const r="("===n[0],a=")"===n[1],s=r?this.isAfter(e,o):!this.isBefore(e,o),i=a?this.isBefore(t,o):!this.isAfter(t,o);return s&&i}parts(e=this.localization.locale,t={dateStyle:"full",timeStyle:"long"}){const o={};return new Intl.DateTimeFormat(e,t).formatToParts(this).filter((e=>"literal"!==e.type)).forEach((e=>o[e.type]=e.value)),o}get seconds(){return this.getSeconds()}set seconds(e){this.setSeconds(e)}get secondsFormatted(){return this.parts(void 0,l).second}get minutes(){return this.getMinutes()}set minutes(e){this.setMinutes(e)}get minutesFormatted(){return this.parts(void 0,l).minute}get hours(){return this.getHours()}set hours(e){this.setHours(e)}getHoursFormatted(e="h12"){return this.parts(void 0,{...l,hourCycle:e}).hour}meridiem(e=this.localization.locale){return new Intl.DateTimeFormat(e,{hour:"numeric",hour12:!0}).formatToParts(this).find((e=>"dayPeriod"===e.type))?.value}get date(){return this.getDate()}set date(e){this.setDate(e)}get dateFormatted(){return this.parts(void 0,l).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(e){const t=new Date(this.year,e+1);t.setDate(0);const o=t.getDate();this.date>o&&(this.date=o),this.setMonth(e)}get monthFormatted(){return this.parts(void 0,l).month}get year(){return this.getFullYear()}set year(e){this.setFullYear(e)}get week(){const e=this.computeOrdinal(),t=this.getUTCDay();let o=Math.floor((e-t+10)/7);return o<1?o=this.weeksInWeekYear():o>this.weeksInWeekYear()&&(o=1),o}weeksInWeekYear(){const e=(this.year+Math.floor(this.year/4)-Math.floor(this.year/100)+Math.floor(this.year/400))%7,t=this.year-1,o=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return 4===e||3===o?53:52}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}getAllMonths(e="long"){const t=new Intl.DateTimeFormat(this.localization.locale,{month:e}).format;return[...Array(12).keys()].map((e=>t(new Date(2021,e))))}replaceTokens(e,t){return e.replace(/(\[[^[\]]*])|(LTS?|l{1,4}|L{1,4})/g,((e,o,n)=>{const r=n&&n.toUpperCase();return o||t[r]||i.dateFormats[r]}))}parseTwoDigitYear(e){return(e=+e)+(e>68?1900:2e3)}offsetFromString(e){if(!e)return 0;if("Z"===e)return 0;const[t,o,n]=e.match(/([+-]|\d\d)/g),r=60*o+(+n||0);return 0===r?0:"+"===t?-r:r}zoneInformation(e,t){let o=e.parts(this.localization.locale,{timeZoneName:"longOffset"}).timeZoneName.replace("GMT","").replace(":","");const n=o.includes("-");return o=o.replace("-",""),"z"===t?o=o.substring(1,2):"zz"===t&&(o=o.substring(0,2)),`${n?"-":""}${o}`}addInput(e){return(t,o)=>{t[e]=+o}}meridiemMatch(e){const t=new Intl.DateTimeFormat(this.localization.locale,{hour:"numeric",hour12:!0}).formatToParts(new Date(2022,3,4,13)).find((e=>"dayPeriod"===e.type))?.value;return e.toLowerCase()===t.toLowerCase()}correctHours(e){const{afternoon:t}=e;if(void 0!==t){const{hours:o}=e;t?o<12&&(e.hours+=12):12===o&&(e.hours=0),delete e.afternoon}}makeParser(e){const t=(e=this.replaceTokens(e,this.localization.dateFormats)).match(this.formattingTokens),{length:o}=t;for(let e=0;e<o;e+=1){const o=t[e],n=this.expressions[o],r=n&&n[0],a=n&&n[1];t[e]=a?{regex:r,parser:a}:o.replace(/^\[[^[\]]*]$/g,"")}return e=>{const n={hours:0,minutes:0,seconds:0,milliseconds:0};for(let r=0,a=0;r<o;r+=1){const o=t[r];if("string"==typeof o)a+=o.length;else{const{regex:t,parser:r}=o,s=e.slice(a),i=t.exec(s)[0];r.call(this,n,i),e=e.replace(i,"")}}return this.correctHours(n),n}}static fromString(e,t){t?.format||a.errorMessages.customDateFormatError("No format was provided");try{const o=new u;if(o.setLocalization(t),["x","X"].indexOf(t.format)>-1)return new u(("X"===t.format?1e3:1)*+e);const n=o.makeParser(t.format),{year:r,month:a,day:s,hours:i,minutes:l,seconds:c,milliseconds:d,zone:h}=n(e),p=s||(r||a?1:o.getDate()),m=r||o.getFullYear();let g=0;return r&&!a||(g=a>0?a-1:o.getMonth()),h?new u(Date.UTC(m,g,p,i,l,c,d+60*h.offset*1e3)):new u(m,g,p,i,l,c,d)}catch(o){a.errorMessages.customDateFormatError(`Unable to parse provided input: ${e}, format: ${t.format}`)}}format(e,t=this.localization.locale){if(e&&"object"==typeof e)return new Intl.DateTimeFormat(t,e).format(this);const o=this.replaceTokens(e||this.localization.format||`${i.dateFormats.L}, ${i.dateFormats.LT}`,this.localization.dateFormats),n=e=>new Intl.DateTimeFormat(this.localization.locale,e).format(this);this.localization.hourCycle||(this.localization.hourCycle=d(this.localization.locale));const r=this.localization.hourCycle.startsWith("h1")?"h24":this.localization.hourCycle,a=this.localization.hourCycle.startsWith("h2")?"h12":this.localization.hourCycle,s={yy:n({year:"2-digit"}),yyyy:this.year,M:n({month:"numeric"}),MM:this.monthFormatted,MMM:this.getAllMonths("short")[this.getMonth()],MMMM:this.getAllMonths()[this.getMonth()],d:this.date,dd:this.dateFormatted,ddd:n({weekday:"short"}),dddd:n({weekday:"long"}),H:this.getHours(),HH:this.getHoursFormatted(r),h:this.hours>12?this.hours-12:this.hours,hh:this.getHoursFormatted(a),t:this.meridiem(),T:this.meridiem().toUpperCase(),m:this.minutes,mm:this.minutesFormatted,s:this.seconds,ss:this.secondsFormatted,fff:this.getMilliseconds()};return o.replace(this.dateTimeRegex,((e,t)=>t||s[e])).replace(/\[/g,"").replace(/]/g,"")}}class h{constructor(){this.cache=new Map}locate(e){const t=this.cache.get(e);if(t)return t;const o=new e;return this.cache.set(e,o),o}}let p;const m=[{name:"calendar",className:a.css.daysContainer,unit:s.month,step:1},{name:"months",className:a.css.monthsContainer,unit:s.year,step:1},{name:"years",className:a.css.yearsContainer,unit:s.year,step:10},{name:"decades",className:a.css.decadesContainer,unit:s.year,step:100}];class g{constructor(){this._currentCalendarViewMode=0,this._viewDate=new u,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(e){this._currentCalendarViewMode=e,this.currentView=m[e].name}get viewDate(){return this._viewDate}set viewDate(e){this._viewDate=e,this.options&&(this.options.viewDate=e)}refreshCurrentView(){this.currentView=m[this.currentCalendarViewMode].name}get isTwelveHour(){return["h12","h11"].includes(this.options.localization.hourCycle)}}class f{constructor(){this.optionsStore=p.locate(g)}isValid(e,t){if(!this._enabledDisabledDatesIsValid(t,e))return!1;if(t!==s.month&&t!==s.year&&this.optionsStore.options.restrictions.daysOfWeekDisabled?.length>0&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(e.weekDay))return!1;if(!this._minMaxIsValid(t,e))return!1;if(t===s.hours||t===s.minutes||t===s.seconds){if(!this._enabledDisabledHoursIsValid(e))return!1;if(0!==this.optionsStore.options.restrictions.disabledTimeIntervals?.filter((t=>e.isBetween(t.from,t.to))).length)return!1}return!0}_enabledDisabledDatesIsValid(e,t){return e!==s.date||!(this.optionsStore.options.restrictions.disabledDates.length>0&&this._isInDisabledDates(t))&&!(this.optionsStore.options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(t))}_isInDisabledDates(e){return!(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length)&&!!this.optionsStore.options.restrictions.disabledDates.find((t=>t.isSame(e,s.date)))}_isInEnabledDates(e){return!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length||!!this.optionsStore.options.restrictions.enabledDates.find((t=>t.isSame(e,s.date)))}_minMaxIsValid(e,t){return(!this.optionsStore.options.restrictions.minDate||!t.isBefore(this.optionsStore.options.restrictions.minDate,e))&&(!this.optionsStore.options.restrictions.maxDate||!t.isAfter(this.optionsStore.options.restrictions.maxDate,e))}_enabledDisabledHoursIsValid(e){return!(this.optionsStore.options.restrictions.disabledHours.length>0&&this._isInDisabledHours(e))&&!(this.optionsStore.options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(e))}_isInDisabledHours(e){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;const t=e.hours;return this.optionsStore.options.restrictions.disabledHours.includes(t)}_isInEnabledHours(e){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;const t=e.hours;return this.optionsStore.options.restrictions.enabledHours.includes(t)}dateRangeIsValid(e,t,o){if(!this.optionsStore.options.dateRange)return!0;if(2!==e.length&&1!==t)return!0;const n=e[0].clone;if(n.isSame(o,s.date))return!0;for(n.manipulate(1,s.date);!n.isSame(o,s.date);){if(!this.isValid(n,s.date))return!1;n.manipulate(1,s.date)}return!0}}class y{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(e){this.subscribers.splice(e,1)}emit(e){this.subscribers.forEach((t=>{t(e)}))}destroy(){this.subscribers=null,this.subscribers=[]}}class b{constructor(){this.triggerEvent=new y,this.viewUpdate=new y,this.updateDisplay=new y,this.action=new y,this.updateViewDate=new y}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy(),this.updateViewDate.destroy()}}const v={clear:"Clear selection",close:"Close the picker",dateFormats:i.dateFormats,dayViewHeaderFormat:{month:"long",year:"2-digit"},decrementHour:"Decrement Hour",decrementMinute:"Decrement Minute",decrementSecond:"Decrement Second",format:i.format,hourCycle:i.hourCycle,incrementHour:"Increment Hour",incrementMinute:"Increment Minute",incrementSecond:"Increment Second",locale:i.locale,nextCentury:"Next Century",nextDecade:"Next Decade",nextMonth:"Next Month",nextYear:"Next Year",ordinal:i.ordinal,pickHour:"Pick Hour",pickMinute:"Pick Minute",pickSecond:"Pick Second",previousCentury:"Previous Century",previousDecade:"Previous Decade",previousMonth:"Previous Month",previousYear:"Previous Year",selectDate:"Select Date",selectDecade:"Select Decade",selectMonth:"Select Month",selectTime:"Select Time",selectYear:"Select Year",startOfTheWeek:0,today:"Go to today",toggleMeridiem:"Toggle Meridiem"},_={allowInputToggle:!1,container:void 0,dateRange:!1,debug:!1,defaultDate:void 0,display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto",placement:"bottom"},keepInvalid:!1,localization:v,meta:{},multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},stepping:1,useCurrent:!0,viewDate:new u};function w(e,t){if(!e)return null;if(e.constructor.name===u.name)return e;if(e.constructor.name===Date.name)return u.convert(e);if("string"==typeof e){const o=u.fromString(e,t);return"null"===JSON.stringify(o)?null:o}return null}function k(e,t,o){"string"==typeof e&&"input"!==t&&a.errorMessages.dateString();const n=w(e,o);return n||a.errorMessages.failedToParseDate(t,e,"input"===t),n}function x(e,t,o,n=i){Array.isArray(t)||a.errorMessages.typeMismatch(e,o,"array of DateTime or Date");for(let o=0;o<t.length;o++){const r=k(t[o],e,n);r.setLocalization(n),t[o]=r}}function S(e,t,o){Array.isArray(t)&&!t.some((e=>"number"!=typeof e))||a.errorMessages.typeMismatch(e,o,"array of numbers")}function C(e){return({value:t,providedType:o,localization:n})=>{const r=k(t,e,n);if(void 0!==r)return r.setLocalization(n),r}}function E(e){const t=C(e);return e=>void 0===e.value?e.value:t(e)}function D(e,t,o){return({value:n,providedType:r})=>void 0===n?[]:(S(e,n,r),n.some((e=>e<t||e>o))&&a.errorMessages.numbersOutOfRange(e,t,o),n)}function A(e){return D(e,0,23)}function T(e){return({value:t,providedType:o,localization:n})=>void 0===t?[]:(x(e,t,o,n),t)}function O(e){return({value:t,path:o})=>(e.includes(t)||a.errorMessages.unexpectedOptionValue(o.substring(1),t,e),t)}const M=Object.freeze({defaultDate:C("defaultDate"),viewDate:C("viewDate"),minDate:E("restrictions.minDate"),maxDate:E("restrictions.maxDate"),disabledHours:A("restrictions.disabledHours"),enabledHours:A("restrictions.enabledHours"),disabledDates:T("restrictions.disabledDates"),enabledDates:T("restrictions.enabledDates"),daysOfWeekDisabled:D("restrictions.daysOfWeekDisabled",0,6),disabledTimeIntervals:({key:e,value:t,providedType:o,localization:n})=>{if(void 0===t)return[];Array.isArray(t)||a.errorMessages.typeMismatch(e,o,"array of { from: DateTime|Date, to: DateTime|Date }");const r=t;for(let t=0;t<r.length;t++)Object.keys(r[t]).forEach((o=>{const a=`${e}[${t}].${o}`,s=k(r[t][o],a,n);s.setLocalization(n),r[t][o]=s}));return r},toolbarPlacement:O(["top","bottom","default"]),type:O(["icons","sprites"]),viewMode:O(["clock","calendar","months","years","decades"]),theme:O(["light","dark","auto"]),placement:O(["top","bottom"]),meta:({value:e})=>e,dayViewHeaderFormat:({value:e})=>e,container:({value:e,path:t})=>(e&&!(e instanceof HTMLElement||e instanceof Element||e?.appendChild)&&a.errorMessages.typeMismatch(t.substring(1),typeof e,"HTMLElement"),e),useTwentyfourHour:({value:e,path:t,providedType:o,defaultType:n})=>{if(a.errorMessages.deprecatedWarning("useTwentyfourHour",'Please use "options.localization.hourCycle" instead'),void 0===e||"boolean"===o)return e;a.errorMessages.typeMismatch(t,o,n)},hourCycle:O(["h11","h12","h23","h24"])}),z=({value:e,defaultType:t,providedType:o,path:n})=>{switch(t){case"boolean":return"true"===e||!0===e;case"number":return+e;case"string":return e.toString();case"object":return{};case"function":return e;default:a.errorMessages.typeMismatch(n,o,t)}};class R{static deepCopy(e){const t={};return Object.keys(e).forEach((o=>{const n=e[o];n instanceof u?t[o]=n.clone:n instanceof Date?t[o]=new Date(n.valueOf()):(t[o]=n,"object"!=typeof n||n instanceof HTMLElement||n instanceof Element||Array.isArray(n)||(t[o]=R.deepCopy(n)))})),t}static objectPath(e,t){return"."===e.charAt(0)&&(e=e.slice(1)),e?e.split(".").reduce(((e,t)=>R.isValue(e)||R.isValue(e[t])?e[t]:void 0),t):t}static spread(e,t,o,n=""){const r=R.objectPath(n,_),s=Object.keys(e).filter((e=>!Object.keys(r).includes(e)));if(s.length>0){const e=R.getFlattenDefaultOptions(),t=s.map((t=>{let o=`"${n}.${t}" in not a known option.`;const r=e.find((e=>e.includes(t)));return r&&(o+=` Did you mean "${r}"?`),o}));a.errorMessages.unexpectedOptions(t)}Object.keys(e).filter((e=>"__proto__"!==e&&"constructor"!==e)).forEach((a=>{"."===(n+=`.${a}`).charAt(0)&&(n=n.slice(1));const s=r[a],i=typeof e[a],l=typeof s,c=e[a];if(null==c)return t[a]=c,void(n=n.substring(0,n.lastIndexOf(`.${a}`)));"object"!=typeof s||Array.isArray(e[a])||s instanceof Date||R.ignoreProperties.includes(a)?t[a]=R.processKey(a,c,i,l,n,o):R.spread(e[a],t[a],o,n),n=n.substring(0,n.lastIndexOf(`.${a}`))}))}static processKey(e,t,o,n,r,a){return(M[(s={key:e,value:t,providedType:o,defaultType:n,path:r,localization:a}).key]||z)(s);var s}static _mergeOptions(e,t){const o=R.deepCopy(t),n="default"!==t.localization?.locale?t.localization:e?.localization||_.localization;return R.spread(e,o,n,""),o}static _dataToOptions(e,t){const o=JSON.parse(JSON.stringify(e.dataset));if(o?.tdTargetInput&&delete o.tdTargetInput,o?.tdTargetToggle&&delete o.tdTargetToggle,!o||0===Object.keys(o).length||o.constructor!==DOMStringMap)return t;const n={},r=e=>{const t={};return Object.keys(e).forEach((e=>{t[e.toLowerCase()]=e})),t},s=this.normalizeObject(r),i=r(t);return Object.keys(o).filter((e=>e.startsWith(a.dataKey))).map((e=>e.substring(2))).forEach((e=>{let r=i[e.toLowerCase()];if(e.includes("_")){const a=e.split("_");r=i[a[0].toLowerCase()],void 0!==r&&t[r].constructor===Object&&(n[r]=s(a,1,t[r],o[`td${e}`]))}else void 0!==r&&(n[r]=o[`td${e}`])})),this._mergeOptions(n,t)}static normalizeObject(e){const t=(o,n,r,a)=>{const s=e(r)[o[n].toLowerCase()],i={};return void 0===s||(r[s].constructor===Object?(n++,i[s]=t(o,n,r[s],a)):i[s]=a),i};return t}static _dateTypeCheck(e,t){return w(e,t)}static _typeCheckDateArray(e,t,o,n){return x(e,t,o,n)}static _typeCheckNumberArray(e,t,o){return S(e,t,o)}static dateConversion(e,t,o){return k(e,t,o)}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;const e=(t,o=[])=>Array.isArray(t)?[]:Object(t)===t?Object.entries(t).flatMap((([t,n])=>e(n,[...o,t]))):o.join(".");return this._flattenDefaults=e(_),this._flattenDefaults}static _validateConflicts(e){!e.display.sideBySide||e.display.components.clock&&(e.display.components.hours||e.display.components.minutes||e.display.components.seconds)||a.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),e.restrictions.minDate&&e.restrictions.maxDate&&(e.restrictions.minDate.isAfter(e.restrictions.maxDate)&&a.errorMessages.conflictingConfiguration("minDate is after maxDate"),e.restrictions.maxDate.isBefore(e.restrictions.minDate)&&a.errorMessages.conflictingConfiguration("maxDate is before minDate")),e.multipleDates&&e.dateRange&&a.errorMessages.conflictingConfiguration('Cannot uss option "multipleDates" with "dateRange"')}}R.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],R.isValue=e=>null!=e;class N{constructor(){this._dates=[],this.optionsStore=p.locate(g),this.validation=p.locate(f),this._eventEmitters=p.locate(b)}get picked(){return[...this._dates]}get lastPicked(){return this._dates[this.lastPickedIndex]?.clone}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(e){return e?(e.localization=this.optionsStore.options.localization,e.format()):""}parseInput(e){return R.dateConversion(e,"input",this.optionsStore.options.localization)}setFromInput(e,t){if(!e)return void this.setValue(void 0,t);const o=this.parseInput(e);o&&(o.setLocalization(this.optionsStore.options.localization),this.setValue(o,t))}add(e){this._dates.push(e)}isPicked(e,t){if(!u.isValid(e))return!1;if(!t)return void 0!==this._dates.find((t=>t.isSame(e)));const o=c(t),n=e.format(o);return void 0!==this._dates.map((e=>e.format(o))).find((e=>e===n))}pickedIndex(e,t){if(!u.isValid(e))return-1;if(!t)return this._dates.map((e=>e.valueOf())).indexOf(e.valueOf());const o=c(t),n=e.format(o);return this._dates.map((e=>e.format(o))).indexOf(n)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:a.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[],this.optionsStore.input&&(this.optionsStore.input.value=""),this._eventEmitters.updateDisplay.emit("all")}static getStartEndYear(e,t){const o=e/10,n=Math.floor(t/e)*e;return[n,n+9*o,Math.floor(t/o)*o]}updateInput(e){if(!this.optionsStore.input)return;let t=this.formatInput(e);(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)&&(t=this._dates.map((e=>this.formatInput(e))).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=t&&(this.optionsStore.input.value=t)}setValue(e,t){const o=void 0===t,n=!e&&o;let r=this.optionsStore.unset?null:this._dates[t]?.clone;if(!r&&!this.optionsStore.unset&&o&&n&&(r=this.lastPicked),e&&r?.isSame(e))return void this.updateInput(e);if(!e)return void this._setValueNull(n,t,r);t=t||0,e=e.clone,1!==this.optionsStore.options.stepping&&(e.minutes=Math.round(e.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,e.startOf(s.minutes));const i=o=>{this._dates[t]=e,this._eventEmitters.updateViewDate.emit(e.clone),this.updateInput(e),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:a.events.change,date:e,oldDate:r,isClear:n,isValid:o})};this.validation.isValid(e)&&this.validation.dateRangeIsValid(this.picked,t,e)?i(!0):(this.optionsStore.options.keepInvalid&&i(!1),this._eventEmitters.triggerEvent.emit({type:a.events.error,reason:a.errorMessages.failedToSetInvalidDate,date:e,oldDate:r}))}_setValueNull(e,t,o){!this.optionsStore.options.multipleDates||1===this._dates.length||e?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(t,1),this.updateInput(),this._eventEmitters.triggerEvent.emit({type:a.events.change,date:void 0,oldDate:o,isClear:e,isValid:!0}),this._eventEmitters.updateDisplay.emit("all")}}var I;!function(e){e.next="next",e.previous="previous",e.changeCalendarView="changeCalendarView",e.selectMonth="selectMonth",e.selectYear="selectYear",e.selectDecade="selectDecade",e.selectDay="selectDay",e.selectHour="selectHour",e.selectMinute="selectMinute",e.selectSecond="selectSecond",e.incrementHours="incrementHours",e.incrementMinutes="incrementMinutes",e.incrementSeconds="incrementSeconds",e.decrementHours="decrementHours",e.decrementMinutes="decrementMinutes",e.decrementSeconds="decrementSeconds",e.toggleMeridiem="toggleMeridiem",e.togglePicker="togglePicker",e.showClock="showClock",e.showHours="showHours",e.showMinutes="showMinutes",e.showSeconds="showSeconds",e.clear="clear",e.close="close",e.today="today"}(I||(I={}));var L=I;class P{constructor(){this.optionsStore=p.locate(g),this.dates=p.locate(N),this.validation=p.locate(f)}getPicker(){const e=document.createElement("div");if(e.classList.add(a.css.daysContainer),e.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(a.css.calendarWeeks,a.css.noHighlight),e.appendChild(t)}const{rangeHoverEvent:t,rangeHoverOutEvent:o}=this.handleMouseEvents(e);for(let n=0;n<42;n++){if(0!==n&&n%7==0&&this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(a.css.calendarWeeks,a.css.noHighlight),e.appendChild(t)}const r=document.createElement("div");r.setAttribute("data-action",L.selectDay),e.appendChild(r),matchMedia("(hover: hover)").matches&&this.optionsStore.options.dateRange&&(r.addEventListener("mouseover",t),r.addEventListener("mouseout",o))}return e}_update(e,t){const o=e.getElementsByClassName(a.css.daysContainer)[0];this._updateCalendarView(o);const n=this.optionsStore.viewDate.clone.startOf(s.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,s.hours);this._handleCalendarWeeks(o,n.clone),o.querySelectorAll(`[data-action="${L.selectDay}"]`).forEach((e=>{const o=[];o.push(a.css.day),n.isBefore(this.optionsStore.viewDate,s.month)&&o.push(a.css.old),n.isAfter(this.optionsStore.viewDate,s.month)&&o.push(a.css.new),this.optionsStore.unset||this.optionsStore.options.dateRange||!this.dates.isPicked(n,s.date)||o.push(a.css.active),this.validation.isValid(n,s.date)||o.push(a.css.disabled),n.isSame(new u,s.date)&&o.push(a.css.today),0!==n.weekDay&&6!==n.weekDay||o.push(a.css.weekend),this._handleDateRange(n,o),t(s.date,n,o,e),e.classList.remove(...e.classList),e.classList.add(...o),e.setAttribute("data-value",this._dateToDataValue(n)),e.setAttribute("data-day",`${n.date}`),e.innerText=n.parts(void 0,{day:"numeric"}).day,n.manipulate(1,s.date)}))}_dateToDataValue(e){return u.isValid(e)?`${e.year}-${e.monthFormatted}-${e.dateFormatted}`:""}_handleDateRange(e,t){const o=this.dates.picked[0],n=this.dates.picked[1];this.optionsStore.options.dateRange&&(e.isBetween(o,n,s.date)&&t.push(a.css.rangeIn),e.isSame(o,s.date)&&t.push(a.css.rangeStart),e.isSame(n,s.date)&&t.push(a.css.rangeEnd))}handleMouseEvents(e){return{rangeHoverEvent:t=>{const o=t?.currentTarget;if(1!==this.dates.picked.length||o.classList.contains(a.css.disabled))return;const n=[...e.querySelectorAll(".day")],r=o.getAttribute("data-value"),i=u.fromString(r,{format:"yyyy-MM-dd"}),l=n.findIndex((e=>e.getAttribute("data-value")===r)),c=this.dates.picked[0],d=this.dates.picked[1],h=this._dateToDataValue(c),p=n.findIndex((e=>e.getAttribute("data-value")===h)),m=n[p];let g;i.isSame(c,s.date)||o.classList.remove(a.css.rangeStart),i.isSame(d,s.date)||o.classList.remove(a.css.rangeEnd),i.isBefore(c)?(o.classList.add(a.css.rangeStart),m?.classList.remove(a.css.rangeStart),m?.classList.add(a.css.rangeEnd),g=(e,t)=>t>l&&t<p):(o.classList.add(a.css.rangeEnd),m?.classList.remove(a.css.rangeEnd),m?.classList.add(a.css.rangeStart),g=(e,t)=>t<l&&t>p),n.filter(g).forEach((e=>{e.classList.add(a.css.rangeIn)}))},rangeHoverOutEvent:t=>{const o=[...e.querySelectorAll(".day")];if(1===this.dates.picked.length&&o.forEach((e=>e.classList.remove(a.css.rangeIn))),1!==this.dates.picked.length)return;const n=t?.currentTarget,r=new u(n.getAttribute("data-value"));r.isSame(this.dates.picked[0],s.date)||n.classList.remove(a.css.rangeStart),r.isSame(this.dates.picked[1],s.date)||n.classList.remove(a.css.rangeEnd)}}}_updateCalendarView(e){if("calendar"!==this.optionsStore.currentView)return;const[t,o,n]=e.parentElement.getElementsByClassName(a.css.calendarHeader)[0].getElementsByTagName("div");o.setAttribute(a.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?o.classList.remove(a.css.disabled):o.classList.add(a.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.month),s.month)?t.classList.remove(a.css.disabled):t.classList.add(a.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.month),s.month)?n.classList.remove(a.css.disabled):n.classList.add(a.css.disabled)}_daysOfTheWeek(){const e=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(s.date),t=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){const e=document.createElement("div");e.classList.add(a.css.calendarWeeks,a.css.noHighlight),e.innerText="#",t.push(e)}for(let o=0;o<7;o++){const o=document.createElement("div");o.classList.add(a.css.dayOfTheWeek,a.css.noHighlight),o.innerText=e.format({weekday:"short"}),e.manipulate(1,s.date),t.push(o)}return t}_handleCalendarWeeks(e,t){[...e.querySelectorAll(`.${a.css.calendarWeeks}`)].filter((e=>"#"!==e.innerText)).forEach((e=>{e.innerText=`${t.week}`,t.manipulate(7,s.date)}))}}class B{constructor(){this.optionsStore=p.locate(g),this.dates=p.locate(N),this.validation=p.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(a.css.monthsContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",L.selectMonth),e.appendChild(t)}return e}_update(e,t){const o=e.getElementsByClassName(a.css.monthsContainer)[0];if("months"===this.optionsStore.currentView){const[e,t,n]=o.parentElement.getElementsByClassName(a.css.calendarHeader)[0].getElementsByTagName("div");t.setAttribute(a.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?t.classList.remove(a.css.disabled):t.classList.add(a.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.year),s.year)?e.classList.remove(a.css.disabled):e.classList.add(a.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.year),s.year)?n.classList.remove(a.css.disabled):n.classList.add(a.css.disabled)}const n=this.optionsStore.viewDate.clone.startOf(s.year);o.querySelectorAll(`[data-action="${L.selectMonth}"]`).forEach(((e,o)=>{const r=[];r.push(a.css.month),!this.optionsStore.unset&&this.dates.isPicked(n,s.month)&&r.push(a.css.active),this.validation.isValid(n,s.month)||r.push(a.css.disabled),t(s.month,n,r,e),e.classList.remove(...e.classList),e.classList.add(...r),e.setAttribute("data-value",`${o}`),e.innerText=`${n.format({month:"short"})}`,n.manipulate(1,s.month)}))}}class H{constructor(){this.optionsStore=p.locate(g),this.dates=p.locate(N),this.validation=p.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(a.css.yearsContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",L.selectYear),e.appendChild(t)}return e}_update(e,t){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,s.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,s.year);const o=e.getElementsByClassName(a.css.yearsContainer)[0];if("years"===this.optionsStore.currentView){const[e,t,n]=o.parentElement.getElementsByClassName(a.css.calendarHeader)[0].getElementsByTagName("div");t.setAttribute(a.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this.optionsStore.options.display.components.decades?t.classList.remove(a.css.disabled):t.classList.add(a.css.disabled),this.validation.isValid(this._startYear,s.year)?e.classList.remove(a.css.disabled):e.classList.add(a.css.disabled),this.validation.isValid(this._endYear,s.year)?n.classList.remove(a.css.disabled):n.classList.add(a.css.disabled)}const n=this.optionsStore.viewDate.clone.startOf(s.year).manipulate(-1,s.year);o.querySelectorAll(`[data-action="${L.selectYear}"]`).forEach((e=>{const o=[];o.push(a.css.year),!this.optionsStore.unset&&this.dates.isPicked(n,s.year)&&o.push(a.css.active),this.validation.isValid(n,s.year)||o.push(a.css.disabled),t(s.year,n,o,e),e.classList.remove(...e.classList),e.classList.add(...o),e.setAttribute("data-value",`${n.year}`),e.innerText=n.format({year:"numeric"}),n.manipulate(1,s.year)}))}}class F{constructor(){this.optionsStore=p.locate(g),this.dates=p.locate(N),this.validation=p.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(a.css.decadesContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",L.selectDecade),e.appendChild(t)}return e}_update(e,t){const[o,n]=N.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(s.year),this._startDecade.year=o,this._endDecade=this.optionsStore.viewDate.clone.startOf(s.year),this._endDecade.year=n;const r=e.getElementsByClassName(a.css.decadesContainer)[0],[i,l,c]=r.parentElement.getElementsByClassName(a.css.calendarHeader)[0].getElementsByTagName("div");"decades"===this.optionsStore.currentView&&(l.setAttribute(a.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),this.validation.isValid(this._startDecade,s.year)?i.classList.remove(a.css.disabled):i.classList.add(a.css.disabled),this.validation.isValid(this._endDecade,s.year)?c.classList.remove(a.css.disabled):c.classList.add(a.css.disabled));const d=this.dates.picked.map((e=>e.year));r.querySelectorAll(`[data-action="${L.selectDecade}"]`).forEach(((e,o)=>{if(0===o)return e.classList.add(a.css.old),this._startDecade.year-10<0?(e.textContent=" ",i.classList.add(a.css.disabled),e.classList.add(a.css.disabled),void e.setAttribute("data-value","")):(e.innerText=this._startDecade.clone.manipulate(-10,s.year).format({year:"numeric"}),void e.setAttribute("data-value",`${this._startDecade.year}`));const n=[];n.push(a.css.decade);const r=this._startDecade.year,l=this._startDecade.year+9;!this.optionsStore.unset&&d.filter((e=>e>=r&&e<=l)).length>0&&n.push(a.css.active),t("decade",this._startDecade,n,e),e.classList.remove(...e.classList),e.classList.add(...n),e.setAttribute("data-value",`${this._startDecade.year}`),e.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,s.year)}))}}class V{constructor(){this._gridColumns="",this.optionsStore=p.locate(g),this.dates=p.locate(N),this.validation=p.locate(f)}getPicker(e){const t=document.createElement("div");return t.classList.add(a.css.clockContainer),t.append(...this._grid(e)),t}_update(e){const t=e.getElementsByClassName(a.css.clockContainer)[0];let o=this.dates.lastPicked?.clone;if(!o&&this.optionsStore.options.useCurrent&&(o=this.optionsStore.viewDate.clone),t.querySelectorAll(".disabled").forEach((e=>e.classList.remove(a.css.disabled))),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.hours),s.hours)||t.querySelector(`[data-action=${L.incrementHours}]`).classList.add(a.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.hours),s.hours)||t.querySelector(`[data-action=${L.decrementHours}]`).classList.add(a.css.disabled),t.querySelector(`[data-time-component=${s.hours}]`).innerText=o?o.getHoursFormatted(this.optionsStore.options.localization.hourCycle):"--"),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.minutes),s.minutes)||t.querySelector(`[data-action=${L.incrementMinutes}]`).classList.add(a.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.minutes),s.minutes)||t.querySelector(`[data-action=${L.decrementMinutes}]`).classList.add(a.css.disabled),t.querySelector(`[data-time-component=${s.minutes}]`).innerText=o?o.minutesFormatted:"--"),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,s.seconds),s.seconds)||t.querySelector(`[data-action=${L.incrementSeconds}]`).classList.add(a.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,s.seconds),s.seconds)||t.querySelector(`[data-action=${L.decrementSeconds}]`).classList.add(a.css.disabled),t.querySelector(`[data-time-component=${s.seconds}]`).innerText=o?o.secondsFormatted:"--"),this.optionsStore.isTwelveHour){const e=t.querySelector(`[data-action=${L.toggleMeridiem}]`),n=(o||this.optionsStore.viewDate).clone;e.innerText=n.meridiem(),this.validation.isValid(n.manipulate(n.hours>=12?-12:12,s.hours))?e.classList.remove(a.css.disabled):e.classList.add(a.css.disabled)}t.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(e){this._gridColumns="";const t=[],o=[],n=[],r=document.createElement("div"),i=e(this.optionsStore.options.display.icons.up),l=e(this.optionsStore.options.display.icons.down);r.classList.add(a.css.separator,a.css.noHighlight);const c=r.cloneNode(!0);c.innerHTML=":";const d=(e=!1)=>e?c.cloneNode(!0):r.cloneNode(!0);if(this.optionsStore.options.display.components.hours){let e=document.createElement("div");e.setAttribute("title",this.optionsStore.options.localization.incrementHour),e.setAttribute("data-action",L.incrementHours),e.appendChild(i.cloneNode(!0)),t.push(e),e=document.createElement("div"),e.setAttribute("title",this.optionsStore.options.localization.pickHour),e.setAttribute("data-action",L.showHours),e.setAttribute("data-time-component",s.hours),o.push(e),e=document.createElement("div"),e.setAttribute("title",this.optionsStore.options.localization.decrementHour),e.setAttribute("data-action",L.decrementHours),e.appendChild(l.cloneNode(!0)),n.push(e),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(t.push(d()),o.push(d(!0)),n.push(d()),this._gridColumns+=" a");let e=document.createElement("div");e.setAttribute("title",this.optionsStore.options.localization.incrementMinute),e.setAttribute("data-action",L.incrementMinutes),e.appendChild(i.cloneNode(!0)),t.push(e),e=document.createElement("div"),e.setAttribute("title",this.optionsStore.options.localization.pickMinute),e.setAttribute("data-action",L.showMinutes),e.setAttribute("data-time-component",s.minutes),o.push(e),e=document.createElement("div"),e.setAttribute("title",this.optionsStore.options.localization.decrementMinute),e.setAttribute("data-action",L.decrementMinutes),e.appendChild(l.cloneNode(!0)),n.push(e)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(t.push(d()),o.push(d(!0)),n.push(d()),this._gridColumns+=" a");let e=document.createElement("div");e.setAttribute("title",this.optionsStore.options.localization.incrementSecond),e.setAttribute("data-action",L.incrementSeconds),e.appendChild(i.cloneNode(!0)),t.push(e),e=document.createElement("div"),e.setAttribute("title",this.optionsStore.options.localization.pickSecond),e.setAttribute("data-action",L.showSeconds),e.setAttribute("data-time-component",s.seconds),o.push(e),e=document.createElement("div"),e.setAttribute("title",this.optionsStore.options.localization.decrementSecond),e.setAttribute("data-action",L.decrementSeconds),e.appendChild(l.cloneNode(!0)),n.push(e)}if(this.optionsStore.isTwelveHour){this._gridColumns+=" a";let e=d();t.push(e);const r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),r.setAttribute("data-action",L.toggleMeridiem),r.setAttribute("tabindex","-1"),a.css.toggleMeridiem.includes(",")?r.classList.add(...a.css.toggleMeridiem.split(",")):r.classList.add(a.css.toggleMeridiem),e=document.createElement("div"),e.classList.add(a.css.noHighlight),e.appendChild(r),o.push(e),e=d(),n.push(e)}return this._gridColumns=this._gridColumns.trim(),[...t,...o,...n]}}class j{constructor(){this.optionsStore=p.locate(g),this.validation=p.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(a.css.hourContainer);for(let t=0;t<(this.optionsStore.isTwelveHour?12:24);t++){const t=document.createElement("div");t.setAttribute("data-action",L.selectHour),e.appendChild(t)}return e}_update(e,t){const o=e.getElementsByClassName(a.css.hourContainer)[0],n=this.optionsStore.viewDate.clone.startOf(s.date);o.querySelectorAll(`[data-action="${L.selectHour}"]`).forEach((e=>{const o=[];o.push(a.css.hour),this.validation.isValid(n,s.hours)||o.push(a.css.disabled),t(s.hours,n,o,e),e.classList.remove(...e.classList),e.classList.add(...o),e.setAttribute("data-value",`${n.hours}`),e.innerText=n.getHoursFormatted(this.optionsStore.options.localization.hourCycle),n.manipulate(1,s.hours)}))}}class U{constructor(){this.optionsStore=p.locate(g),this.validation=p.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(a.css.minuteContainer);const t=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;for(let o=0;o<60/t;o++){const t=document.createElement("div");t.setAttribute("data-action",L.selectMinute),e.appendChild(t)}return e}_update(e,t){const o=e.getElementsByClassName(a.css.minuteContainer)[0],n=this.optionsStore.viewDate.clone.startOf(s.hours),r=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;o.querySelectorAll(`[data-action="${L.selectMinute}"]`).forEach((e=>{const o=[];o.push(a.css.minute),this.validation.isValid(n,s.minutes)||o.push(a.css.disabled),t(s.minutes,n,o,e),e.classList.remove(...e.classList),e.classList.add(...o),e.setAttribute("data-value",`${n.minutes}`),e.innerText=n.minutesFormatted,n.manipulate(r,s.minutes)}))}}class W{constructor(){this.optionsStore=p.locate(g),this.validation=p.locate(f)}getPicker(){const e=document.createElement("div");e.classList.add(a.css.secondContainer);for(let t=0;t<12;t++){const t=document.createElement("div");t.setAttribute("data-action",L.selectSecond),e.appendChild(t)}return e}_update(e,t){const o=e.getElementsByClassName(a.css.secondContainer)[0],n=this.optionsStore.viewDate.clone.startOf(s.minutes);o.querySelectorAll(`[data-action="${L.selectSecond}"]`).forEach((e=>{const o=[];o.push(a.css.second),this.validation.isValid(n,s.seconds)||o.push(a.css.disabled),t(s.seconds,n,o,e),e.classList.remove(...e.classList),e.classList.add(...o),e.setAttribute("data-value",`${n.seconds}`),e.innerText=n.secondsFormatted,n.manipulate(5,s.seconds)}))}}class Z{static toggle(e){e.classList.contains(a.css.show)?this.hide(e):this.show(e)}static showImmediately(e){e.classList.remove(a.css.collapsing),e.classList.add(a.css.collapse,a.css.show),e.style.height=""}static show(e){if(e.classList.contains(a.css.collapsing)||e.classList.contains(a.css.show))return;e.style.height="0",e.classList.remove(a.css.collapse),e.classList.add(a.css.collapsing),setTimeout((()=>{Z.showImmediately(e)}),this.getTransitionDurationFromElement(e)),e.style.height=`${e.scrollHeight}px`}static hideImmediately(e){e&&(e.classList.remove(a.css.collapsing,a.css.show),e.classList.add(a.css.collapse))}static hide(e){if(e.classList.contains(a.css.collapsing)||!e.classList.contains(a.css.show))return;e.style.height=`${e.getBoundingClientRect().height}px`;e.offsetHeight,e.classList.remove(a.css.collapse,a.css.show),e.classList.add(a.css.collapsing),e.style.height="",setTimeout((()=>{Z.hideImmediately(e)}),this.getTransitionDurationFromElement(e))}}Z.getTransitionDurationFromElement=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:o}=window.getComputedStyle(e);const n=Number.parseFloat(t),r=Number.parseFloat(o);return n||r?(t=t.split(",")[0],o=o.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(o))):0};class ${constructor(){this._isVisible=!1,this._documentClickEvent=e=>{this.optionsStore.options.debug||window.debug||!this._isVisible||e.composedPath().includes(this.widget)||e.composedPath()?.includes(this.optionsStore.element)||this.hide()},this._actionsClickEvent=e=>{this._eventEmitters.action.emit({e})},this.optionsStore=p.locate(g),this.validation=p.locate(f),this.dates=p.locate(N),this.dateDisplay=p.locate(P),this.monthDisplay=p.locate(B),this.yearDisplay=p.locate(H),this.decadeDisplay=p.locate(F),this.timeDisplay=p.locate(V),this.hourDisplay=p.locate(j),this.minuteDisplay=p.locate(U),this.secondDisplay=p.locate(W),this._eventEmitters=p.locate(b),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe((e=>{this._update(e)}))}get widget(){return this._widget}get dateContainer(){return this.widget?.querySelector(`div.${a.css.dateContainer}`)}get timeContainer(){return this.widget?.querySelector(`div.${a.css.timeContainer}`)}get isVisible(){return this._isVisible}_update(e){if(this.widget)switch(e){case s.seconds:this.secondDisplay._update(this.widget,this.paint);break;case s.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case s.hours:this.hourDisplay._update(this.widget,this.paint);break;case s.date:this.dateDisplay._update(this.widget,this.paint);break;case s.month:this.monthDisplay._update(this.widget,this.paint);break;case s.year:this.yearDisplay._update(this.widget,this.paint);break;case"decade":this.decadeDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(s.hours),this._update(s.minutes),this._update(s.seconds);break;case"calendar":this._update(s.date),this._update(s.year),this._update(s.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(e,t,o,n){}show(){if(null==this.widget){if(this._showSetDefaultIfNeeded(),this._buildWidget(),this._updateTheme(),this._showSetupViewMode(),this.optionsStore.options.display.inline)this.optionsStore.element.appendChild(this.widget);else{const e=this.optionsStore.options?.container||document.body,t=this.optionsStore.options?.display?.placement||"bottom";e.appendChild(this.widget),this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?`${t}-end`:`${t}-start`}).then()}"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:L.showClock}),this.widget.querySelectorAll("[data-action]").forEach((e=>e.addEventListener("click",this._actionsClickEvent))),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(a.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(a.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:a.events.show}),this._isVisible=!0}_showSetupViewMode(){const e=this._hasTime&&!this._hasDate;e?(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:L.showClock})):this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),e||"clock"===this.optionsStore.options.display.viewMode||(this._hasTime&&(this.optionsStore.options.display.sideBySide?Z.show(this.timeContainer):Z.hideImmediately(this.timeContainer)),Z.show(this.dateContainer)),this._hasDate&&this._showMode()}_showSetDefaultIfNeeded(){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){const e=(new u).setLocalization(this.optionsStore.options.localization);if(!this.optionsStore.options.keepInvalid){let t=0,o=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(e)&&(o=-1);!this.validation.isValid(e)&&t>31;)e.manipulate(o,s.date),t++}this.dates.setValue(e)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}}async createPopup(e,t,n){let r;if(window?.Popper)r=window?.Popper?.createPopper;else{const{createPopper:e}=await o.e(492).then(o.bind(o,9492));r=e}r&&(this._popperInstance=r(e,t,n))}updatePopup(){this._popperInstance?.update()}_showMode(e){if(!this.widget)return;if(e){const t=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+e));if(this.optionsStore.currentCalendarViewMode==t)return;this.optionsStore.currentCalendarViewMode=t}this.widget.querySelectorAll(`.${a.css.dateContainer} > div:not(.${a.css.calendarHeader}), .${a.css.timeContainer} > div:not(.${a.css.clockContainer})`).forEach((e=>e.style.display="none"));const t=m[this.optionsStore.currentCalendarViewMode],o=this.widget.querySelector(`.${t.className}`);switch(t.className){case a.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case a.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case a.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case a.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}o.style.display="grid",this.optionsStore.options.display.sideBySide&&(this.widget.querySelectorAll(`.${a.css.clockContainer}`)[0].style.display="grid"),this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit()}_updateTheme(e){if(this.widget){if(e){if(this.optionsStore.options.display.theme===e)return;this.optionsStore.options.display.theme=e}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),"auto"===this.optionsStore.options.display.theme?window.matchMedia(a.css.isDarkPreferredQuery).addEventListener("change",(()=>this._updateTheme())):window.matchMedia(a.css.isDarkPreferredQuery).removeEventListener("change",(()=>this._updateTheme()))}}_getThemeClass(){const e=this.optionsStore.options.display.theme||"auto",t=window.matchMedia&&window.matchMedia(a.css.isDarkPreferredQuery).matches;switch(e){case"light":return a.css.lightTheme;case"dark":return a.css.darkTheme;case"auto":return t?a.css.darkTheme:a.css.lightTheme}}_updateCalendarHeader(){if(!this._hasDate)return;const e=[...this.widget.querySelector(`.${a.css.dateContainer} div[style*="display: grid"]`).classList].find((e=>e.startsWith(a.css.dateContainer))),[t,o,n]=this.widget.getElementsByClassName(a.css.calendarHeader)[0].getElementsByTagName("div");switch(e){case a.css.decadesContainer:t.setAttribute("title",this.optionsStore.options.localization.previousCentury),o.setAttribute("title",""),n.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case a.css.yearsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousDecade),o.setAttribute("title",this.optionsStore.options.localization.selectDecade),n.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case a.css.monthsContainer:t.setAttribute("title",this.optionsStore.options.localization.previousYear),o.setAttribute("title",this.optionsStore.options.localization.selectYear),n.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case a.css.daysContainer:t.setAttribute("title",this.optionsStore.options.localization.previousMonth),o.setAttribute("title",this.optionsStore.options.localization.selectMonth),n.setAttribute("title",this.optionsStore.options.localization.nextMonth),o.setAttribute(e,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat))}o.innerText=o.getAttribute(e)}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(a.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:a.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?.clone}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach((e=>e.removeEventListener("click",this._actionsClickEvent))),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const e=document.createElement("div");e.classList.add(a.css.widget);const t=document.createElement("div");t.classList.add(a.css.dateContainer),t.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker());const o=document.createElement("div");o.classList.add(a.css.timeContainer),o.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),o.appendChild(this.hourDisplay.getPicker()),o.appendChild(this.minuteDisplay.getPicker()),o.appendChild(this.secondDisplay.getPicker());const n=document.createElement("div");if(n.classList.add(a.css.toolbar),n.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&e.classList.add(a.css.inline),this.optionsStore.options.display.calendarWeeks&&e.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDateAndTime)return void this._buildWidgetSideBySide(e,t,o,n);"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(n);const r=(t,o,n,r)=>{t&&(o&&(n.classList.add(a.css.collapse),r&&n.classList.add(a.css.show)),e.appendChild(n))};r(this._hasDate,this._hasTime,t,"clock"!==this.optionsStore.options.display.viewMode),r(this._hasTime,this._hasDate,o,"clock"===this.optionsStore.options.display.viewMode),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(n);const s=document.createElement("div");s.classList.add("arrow"),s.setAttribute("data-popper-arrow",""),e.appendChild(s),this._widget=e}_buildWidgetSideBySide(e,t,o,n){e.classList.add(a.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(n);const r=document.createElement("div");r.classList.add("td-row"),t.classList.add("td-half"),o.classList.add("td-half"),r.appendChild(t),r.appendChild(o),e.appendChild(r),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(n),this._widget=e}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}get _hasDateAndTime(){return this._hasDate&&this._hasTime}getToolbarElements(){const e=[];if(this.optionsStore.options.display.buttons.today){const t=document.createElement("div");t.setAttribute("data-action",L.today),t.setAttribute("title",this.optionsStore.options.localization.today),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),e.push(t)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let t,o;"clock"===this.optionsStore.options.display.viewMode?(t=this.optionsStore.options.localization.selectDate,o=this.optionsStore.options.display.icons.date):(t=this.optionsStore.options.localization.selectTime,o=this.optionsStore.options.display.icons.time);const n=document.createElement("div");n.setAttribute("data-action",L.togglePicker),n.setAttribute("title",t),n.appendChild(this._iconTag(o)),e.push(n)}if(this.optionsStore.options.display.buttons.clear){const t=document.createElement("div");t.setAttribute("data-action",L.clear),t.setAttribute("title",this.optionsStore.options.localization.clear),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),e.push(t)}if(this.optionsStore.options.display.buttons.close){const t=document.createElement("div");t.setAttribute("data-action",L.close),t.setAttribute("title",this.optionsStore.options.localization.close),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),e.push(t)}return e}getHeadTemplate(){const e=document.createElement("div");e.classList.add(a.css.calendarHeader);const t=document.createElement("div");t.classList.add(a.css.previous),t.setAttribute("data-action",L.previous),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous));const o=document.createElement("div");o.classList.add(a.css.switch),o.setAttribute("data-action",L.changeCalendarView);const n=document.createElement("div");return n.classList.add(a.css.next),n.setAttribute("data-action",L.next),n.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),e.append(t,o,n),e}_iconTag(e){if("sprites"===this.optionsStore.options.display.icons.type){const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","use");return o.setAttribute("xlink:href",e),o.setAttribute("href",e),t.appendChild(o),t}const t=document.createElement("i");return t.classList.add(...e.split(" ")),t}_rebuild(){const e=this._isVisible;this._dispose(),e&&this.show()}refreshCurrentView(){switch(this._isVisible||this._dispose(),this.optionsStore.currentView){case"clock":this._update("clock");break;case"calendar":this._update(s.date);break;case"months":this._update(s.month);break;case"years":this._update(s.year);break;case"decades":this._update("decade")}}}class q{constructor(){this.optionsStore=p.locate(g),this.dates=p.locate(N),this.validation=p.locate(f),this.display=p.locate($),this._eventEmitters=p.locate(b),this._eventEmitters.action.subscribe((e=>{this.do(e.e,e.action)}))}do(e,t){const o=e?.currentTarget;if(o?.classList?.contains(a.css.disabled))return;t=t||o?.dataset?.action;const n=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(t){case L.next:case L.previous:this.handleNextPrevious(t);break;case L.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case L.selectMonth:case L.selectYear:case L.selectDecade:this.handleSelectCalendarMode(t,o);break;case L.selectDay:this.handleSelectDay(o);break;case L.selectHour:{let t=+o.dataset.value;n.hours>=12&&this.optionsStore.isTwelveHour&&(t+=12),n.hours=t,this.dates.setValue(n,this.dates.lastPickedIndex),this.hideOrClock(e);break}case L.selectMinute:n.minutes=+o.dataset.value,this.dates.setValue(n,this.dates.lastPickedIndex),this.hideOrClock(e);break;case L.selectSecond:n.seconds=+o.dataset.value,this.dates.setValue(n,this.dates.lastPickedIndex),this.hideOrClock(e);break;case L.incrementHours:this.manipulateAndSet(n,s.hours);break;case L.incrementMinutes:this.manipulateAndSet(n,s.minutes,this.optionsStore.options.stepping);break;case L.incrementSeconds:this.manipulateAndSet(n,s.seconds);break;case L.decrementHours:this.manipulateAndSet(n,s.hours,-1);break;case L.decrementMinutes:this.manipulateAndSet(n,s.minutes,-1*this.optionsStore.options.stepping);break;case L.decrementSeconds:this.manipulateAndSet(n,s.seconds,-1);break;case L.toggleMeridiem:this.manipulateAndSet(n,s.hours,this.dates.lastPicked.hours>=12?-12:12);break;case L.togglePicker:this.handleToggle(o);break;case L.showClock:case L.showHours:case L.showMinutes:case L.showSeconds:this.optionsStore.options.display.sideBySide||"clock"===this.optionsStore.currentView||(Z.hideImmediately(this.display.dateContainer),Z.showImmediately(this.display.timeContainer)),this.handleShowClockContainers(t);break;case L.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case L.close:this.display.hide();break;case L.today:{const e=(new u).setLocalization(this.optionsStore.options.localization);this._eventEmitters.updateViewDate.emit(e),this.validation.isValid(e,s.date)&&this.dates.setValue(e,this.dates.lastPickedIndex);break}}}handleShowClockContainers(e){if(!this.display._hasTime)return void a.errorMessages.throwError("Cannot show clock containers when time is disabled.");this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${a.css.timeContainer} > div`).forEach((e=>e.style.display="none"));let t="";switch(e){case L.showClock:t=a.css.clockContainer,this.display._update("clock");break;case L.showHours:t=a.css.hourContainer,this.display._update(s.hours);break;case L.showMinutes:t=a.css.minuteContainer,this.display._update(s.minutes);break;case L.showSeconds:t=a.css.secondContainer,this.display._update(s.seconds)}this.display.widget.getElementsByClassName(t)[0].style.display="grid"}handleNextPrevious(e){const{unit:t,step:o}=m[this.optionsStore.currentCalendarViewMode];e===L.next?this.optionsStore.viewDate.manipulate(o,t):this.optionsStore.viewDate.manipulate(-1*o,t),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(e){this.optionsStore.isTwelveHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(e,L.showClock):this.display.hide()}manipulateAndSet(e,t,o=1){const n=e.manipulate(o,t);this.validation.isValid(n,t)&&this.dates.setValue(n,this.dates.lastPickedIndex)}handleSelectCalendarMode(e,t){const o=+t.dataset.value;switch(e){case L.selectMonth:this.optionsStore.viewDate.month=o;break;case L.selectYear:case L.selectDecade:this.optionsStore.viewDate.year=o}this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?this.optionsStore.options.display.inline||this.display.hide():this.display._showMode(-1)}handleToggle(e){e.getAttribute("title")===this.optionsStore.options.localization.selectDate?(e.setAttribute("title",this.optionsStore.options.localization.selectTime),e.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(e.setAttribute("title",this.optionsStore.options.localization.selectDate),e.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(L.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${a.css.dateContainer}, .${a.css.timeContainer}`).forEach((e=>Z.toggle(e))),this._eventEmitters.viewUpdate.emit()}handleSelectDay(e){const t=this.optionsStore.viewDate.clone;e.classList.contains(a.css.old)&&t.manipulate(-1,s.month),e.classList.contains(a.css.new)&&t.manipulate(1,s.month),t.date=+e.dataset.day,this.optionsStore.options.dateRange?this.handleDateRange(t):this.optionsStore.options.multipleDates?this.handleMultiDate(t):this.dates.setValue(t,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange||this.display.hide()}handleMultiDate(e){let t=this.dates.pickedIndex(e,s.date);console.log(t),-1!==t?this.dates.setValue(null,t):(t=this.dates.lastPickedIndex+1,0===this.dates.picked.length&&(t=0),this.dates.setValue(e,t))}handleDateRange(e){switch(this.dates.picked.length){case 2:this.dates.clear();break;case 1:{const t=this.dates.picked[0];if(e.getTime()===t.getTime()){this.dates.clear();break}return e.isBefore(t)?(this.dates.setValue(e,0),void this.dates.setValue(t,1)):void this.dates.setValue(e,1)}}this.dates.setValue(e,0)}}class Y{constructor(e,t={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=e=>{const t=e?.detail;if(t)return;const o=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},n=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates)try{const e=n.split(this.optionsStore.options.multipleDatesSeparator);for(let t=0;t<e.length;t++)this.dates.setFromInput(e[t],t);o()}catch{console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(n,0),o()},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||"INPUT"===this._toggle.nodeName&&"text"===this._toggle?.type&&this.optionsStore.options.allowInputToggle||this.toggle()},this._openClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.display.isVisible||this.show()},p=new h,this._eventEmitters=p.locate(b),this.optionsStore=p.locate(g),this.display=p.locate($),this.dates=p.locate(N),this.actions=p.locate(q),e||a.errorMessages.mustProvideElement(),this.optionsStore.element=e,this._initializeOptions(t,_,!0),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe((e=>{this._triggerEvent(e)})),this._eventEmitters.viewUpdate.subscribe((()=>{this._viewUpdate()})),this._eventEmitters.updateViewDate.subscribe((e=>{this.viewDate=e}))}get viewDate(){return this.optionsStore.viewDate}set viewDate(e){this.optionsStore.viewDate=e,this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display._update("clock"===this.optionsStore.currentView?"clock":"calendar")}updateOptions(e,t=!1){t?this._initializeOptions(e,_):this._initializeOptions(e,this.optionsStore.options),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display.refreshCurrentView()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(e,t){let o;"string"==typeof e&&(e=[e]),o=Array.isArray(t)?t:[t],e.length!==o.length&&a.errorMessages.subscribeMismatch();const n=[];for(let t=0;t<e.length;t++){const r=e[t];if(Array.isArray(this._subscribers[r])||(this._subscribers[r]=[]),this._subscribers[r].push(o[t]),n.push({unsubscribe:this._unsubscribe.bind(this,r,this._subscribers[r].length-1)}),1===e.length)return n[0]}return n}dispose(){this.display.hide(),this.display._dispose(),this._eventEmitters.destroy(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input?.removeEventListener("click",this._openClickEvent),this.optionsStore.input?.removeEventListener("focus",this._openClickEvent)),this._toggle?.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}locale(e){const t=G[e];t&&this.updateOptions({localization:t})}_triggerEvent(e){e.viewMode=this.optionsStore.currentView;const t=e.type===a.events.change;if(t){const{date:t,oldDate:o,isClear:n}=e;if(t&&o&&t.isSame(o)||!n&&!t&&!o)return;this._handleAfterChangeEvent(e),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:e}))}if(this.optionsStore.element.dispatchEvent(new CustomEvent(e.type,{detail:e})),window.jQuery){const o=window.jQuery;t&&this.optionsStore.input?o(this.optionsStore.input).trigger(e):o(this.optionsStore.element).trigger(e)}this._publish(e)}_publish(e){Array.isArray(this._subscribers[e.type])&&this._subscribers[e.type].forEach((t=>{t(e)}))}_viewUpdate(){this._triggerEvent({type:a.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(e,t){this._subscribers[e].splice(t,1)}_initializeOptions(e,t,o=!1){let n=R.deepCopy(e);n=R._mergeOptions(n,t),o&&(n=R._dataToOptions(this.optionsStore.element,n)),R._validateConflicts(n),n.viewDate=n.viewDate.setLocalization(n.localization),this.optionsStore.viewDate.isSame(n.viewDate)||(this.optionsStore.viewDate=n.viewDate),n.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),n.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),n.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),m[this.optionsStore.currentCalendarViewMode].name!==n.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(m.findIndex((e=>e.name===n.display.viewMode)),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),n.display.components.useTwentyfourHour&&void 0===n.localization.hourCycle?n.localization.hourCycle="h24":void 0===n.localization.hourCycle&&(n.localization.hourCycle=d(n.localization.locale)),n.restrictions.maxDate&&this.viewDate.isAfter(n.restrictions.maxDate)&&(this.viewDate=n.restrictions.maxDate),n.restrictions.minDate&&this.viewDate.isBefore(n.restrictions.minDate)&&(this.viewDate=n.restrictions.minDate),this.optionsStore.options=n}_initializeInput(){if("INPUT"==this.optionsStore.element.tagName)this.optionsStore.input=this.optionsStore.element;else{const e=this.optionsStore.element.dataset.tdTargetInput;this.optionsStore.input=null==e||"nearest"==e?this.optionsStore.element.querySelector("input"):this.optionsStore.element.querySelector(e)}this.optionsStore.input&&(!this.optionsStore.input.value&&this.optionsStore.options.defaultDate&&(this.optionsStore.input.value=this.dates.formatInput(this.optionsStore.options.defaultDate)),this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input.addEventListener("click",this._openClickEvent),this.optionsStore.input.addEventListener("focus",this._openClickEvent)),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(this.optionsStore.options.display.inline)return;let e=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==e&&(e='[data-td-toggle="datetimepicker"]'),this._toggle=null==e?this.optionsStore.element:this.optionsStore.element.querySelector(e),this._toggle.addEventListener("click",this._toggleClickEvent)}_handleAfterChangeEvent(e){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.multipleDates||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(a.css.show)[0].classList.contains(a.css.timeContainer)||!e.oldDate&&this.optionsStore.options.useCurrent||e.oldDate&&e.date?.isSame(e.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout((()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector('[data-action="togglePicker"]')},action:L.togglePicker})}),this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}}const G={}},4529:e=>{var t;window,t=function(){return function(){"use strict";var e={282:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.clearChoices=t.activateChoices=t.filterChoices=t.addChoice=void 0;var n=o(883);t.addChoice=function(e){var t=e.value,o=e.label,r=e.id,a=e.groupId,s=e.disabled,i=e.elementId,l=e.customProperties,c=e.placeholder,d=e.keyCode;return{type:n.ACTION_TYPES.ADD_CHOICE,value:t,label:o,id:r,groupId:a,disabled:s,elementId:i,customProperties:l,placeholder:c,keyCode:d}},t.filterChoices=function(e){return{type:n.ACTION_TYPES.FILTER_CHOICES,results:e}},t.activateChoices=function(e){return void 0===e&&(e=!0),{type:n.ACTION_TYPES.ACTIVATE_CHOICES,active:e}},t.clearChoices=function(){return{type:n.ACTION_TYPES.CLEAR_CHOICES}}},783:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=void 0;var n=o(883);t.addGroup=function(e){var t=e.value,o=e.id,r=e.active,a=e.disabled;return{type:n.ACTION_TYPES.ADD_GROUP,value:t,id:o,active:r,disabled:a}}},464:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.highlightItem=t.removeItem=t.addItem=void 0;var n=o(883);t.addItem=function(e){var t=e.value,o=e.label,r=e.id,a=e.choiceId,s=e.groupId,i=e.customProperties,l=e.placeholder,c=e.keyCode;return{type:n.ACTION_TYPES.ADD_ITEM,value:t,label:o,id:r,choiceId:a,groupId:s,customProperties:i,placeholder:l,keyCode:c}},t.removeItem=function(e,t){return{type:n.ACTION_TYPES.REMOVE_ITEM,id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:n.ACTION_TYPES.HIGHLIGHT_ITEM,id:e,highlighted:t}}},137:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsLoading=t.resetTo=t.clearAll=void 0;var n=o(883);t.clearAll=function(){return{type:n.ACTION_TYPES.CLEAR_ALL}},t.resetTo=function(e){return{type:n.ACTION_TYPES.RESET_TO,state:e}},t.setIsLoading=function(e){return{type:n.ACTION_TYPES.SET_IS_LOADING,isLoading:e}}},373:function(e,t,o){var n=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(o(996)),s=r(o(221)),i=o(282),l=o(783),c=o(464),d=o(137),u=o(520),h=o(883),p=o(789),m=o(799),g=o(655),f=r(o(744)),y=r(o(686)),b="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,v={},_=function(){function e(t,o){void 0===t&&(t="[data-choice]"),void 0===o&&(o={});var r=this;void 0===o.allowHTML&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=a.default.all([p.DEFAULT_CONFIG,e.defaults.options,o],{arrayMerge:function(e,t){return n([],t,!0)}});var s=(0,m.diff)(this.config,p.DEFAULT_CONFIG);s.length&&console.warn("Unknown config option(s) passed",s.join(", "));var i="string"==typeof t?document.querySelector(t):t;if(!(i instanceof HTMLInputElement||i instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=i.type===h.TEXT_TYPE,this._isSelectOneElement=i.type===h.SELECT_ONE_TYPE,this._isSelectMultipleElement=i.type===h.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),o.addItemFilter&&"function"!=typeof o.addItemFilter){var l=o.addItemFilter instanceof RegExp?o.addItemFilter:new RegExp(o.addItemFilter);this.config.addItemFilter=l.test.bind(l)}if(this._isTextElement?this.passedElement=new u.WrappedInput({element:i,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new u.WrappedSelect({element:i,classNames:this.config.classNames,template:function(e){return r._templates.option(e)}}),this.initialised=!1,this._store=new f.default,this._initialState=g.defaultState,this._currentState=g.defaultState,this._prevState=g.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,m.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var c=window.getComputedStyle(this.passedElement.element).direction;c!==window.getComputedStyle(document.documentElement).direction&&(this._direction=c)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var d=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(d)}if(this.passedElement.options&&this.passedElement.options.forEach((function(e){r._presetChoices.push({value:e.value,label:e.innerHTML,selected:!!e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:(0,m.parseCustomProperties)(e.dataset.customProperties)})})),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),void(this.initialised=!0);this.init()}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return v},get templates(){return y.default}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var e=this.config.callbackOnInit;e&&"function"==typeof e&&e.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=y.default,this.initialised=!1)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var o=e.id,n=e.groupId,r=void 0===n?-1:n,a=e.value,s=void 0===a?"":a,i=e.label,l=void 0===i?"":i,d=r>=0?this._store.getGroupById(r):null;return this._store.dispatch((0,c.highlightItem)(o,!0)),t&&this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:o,value:s,label:l,groupValue:d&&d.value?d.value:null}),this},e.prototype.unhighlightItem=function(e){if(!e||!e.id)return this;var t=e.id,o=e.groupId,n=void 0===o?-1:o,r=e.value,a=void 0===r?"":r,s=e.label,i=void 0===s?"":s,l=n>=0?this._store.getGroupById(n):null;return this._store.dispatch((0,c.highlightItem)(t,!1)),this.passedElement.triggerEvent(h.EVENTS.highlightItem,{id:t,value:a,label:i,groupValue:l&&l.value?l.value:null}),this},e.prototype.highlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.highlightItem(t)})),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.unhighlightItem(t)})),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.id!==e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach((function(o){t._removeItem(o),e&&t._triggerChange(o.value)})),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame((function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(h.EVENTS.showDropdown,{})})),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(h.EVENTS.hideDropdown,{})})),this):this},e.prototype.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce((function(t,o){var n=e?o.value:o;return t.push(n),t}),[]);return this._isSelectOneElement?t[0]:t},e.prototype.setValue=function(e){var t=this;return this.initialised?(e.forEach((function(e){return t._setChoiceOrItem(e)})),this):this},e.prototype.setChoiceByValue=function(e){var t=this;return!this.initialised||this._isTextElement||(Array.isArray(e)?e:[e]).forEach((function(e){return t._findAndSelectChoiceByValue(e)})),this},e.prototype.setChoices=function(e,t,o,n){var r=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===o&&(o="label"),void 0===n&&(n=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(n&&this.clearChoices(),"function"==typeof e){var a=e(this);if("function"==typeof Promise&&a instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return r._handleLoadingState(!0)})).then((function(){return a})).then((function(e){return r.setChoices(e,t,o,n)})).catch((function(e){r.config.silent||console.error(e)})).then((function(){return r._handleLoadingState(!1)})).then((function(){return r}));if(!Array.isArray(a))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof a));return this.setChoices(a,t,o,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach((function(e){if(e.choices)r._addGroup({id:e.id?parseInt("".concat(e.id),10):null,group:e,valueKey:t,labelKey:o});else{var n=e;r._addChoice({value:n[t],label:n[o],isSelected:!!n.selected,isDisabled:!!n.disabled,placeholder:!!n.placeholder,customProperties:n.customProperties})}})),this._stopLoading(),this},e.prototype.clearChoices=function(){return this._store.dispatch((0,i.clearChoices)()),this},e.prototype.clearStore=function(){return this._store.dispatch((0,d.clearAll)()),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,i.activateChoices)(!0))),this},e.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,o=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),o&&this._renderItems(),this._prevState=this._currentState)}},e.prototype._renderChoices=function(){var e=this,t=this._store,o=t.activeGroups,n=t.activeChoices,r=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),o.length>=1&&!this._isSearching){var a=n.filter((function(e){return!0===e.placeholder&&-1===e.groupId}));a.length>=1&&(r=this._createChoicesFragment(a,r)),r=this._createGroupsFragment(o,n,r)}else n.length>=1&&(r=this._createChoicesFragment(n,r));if(r.childNodes&&r.childNodes.length>0){var s=this._store.activeItems,i=this._canAddItem(s,this.input.value);if(i.response)this.choiceList.append(r),this._highlightChoice();else{var l=this._getTemplate("notice",i.notice);this.choiceList.append(l)}}else{var c=void 0;l=void 0,this._isSearching?(l="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,c=this._getTemplate("notice",l,"no-results")):(l="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,c=this._getTemplate("notice",l,"no-choices")),this.choiceList.append(c)}},e.prototype._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},e.prototype._createGroupsFragment=function(e,t,o){var n=this;return void 0===o&&(o=document.createDocumentFragment()),this.config.shouldSort&&e.sort(this.config.sorter),e.forEach((function(e){var r=function(e){return t.filter((function(t){return n._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===n.config.renderSelectedChoices||!t.selected)}))}(e);if(r.length>=1){var a=n._getTemplate("choiceGroup",e);o.appendChild(a),n._createChoicesFragment(r,o,!0)}})),o},e.prototype._createChoicesFragment=function(e,t,o){var r=this;void 0===t&&(t=document.createDocumentFragment()),void 0===o&&(o=!1);var a=this.config,s=a.renderSelectedChoices,i=a.searchResultLimit,l=a.renderChoiceLimit,c=this._isSearching?m.sortByScore:this.config.sorter,d=function(e){if("auto"!==s||r._isSelectOneElement||!e.selected){var o=r._getTemplate("choice",e,r.config.itemSelectText);t.appendChild(o)}},u=e;"auto"!==s||this._isSelectOneElement||(u=e.filter((function(e){return!e.selected})));var h=u.reduce((function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e}),{placeholderChoices:[],normalChoices:[]}),p=h.placeholderChoices,g=h.normalChoices;(this.config.shouldSort||this._isSearching)&&g.sort(c);var f=u.length,y=this._isSelectOneElement?n(n([],p,!0),g,!0):g;this._isSearching?f=i:l&&l>0&&!o&&(f=l);for(var b=0;b<f;b+=1)y[b]&&d(y[b]);return t},e.prototype._createItemsFragment=function(e,t){var o=this;void 0===t&&(t=document.createDocumentFragment());var n=this.config,r=n.shouldSortItems,a=n.sorter,s=n.removeItemButton;return r&&!this._isSelectOneElement&&e.sort(a),this._isTextElement?this.passedElement.value=e.map((function(e){return e.value})).join(this.config.delimiter):this.passedElement.options=e,e.forEach((function(e){var n=o._getTemplate("item",e,s);t.appendChild(n)})),t},e.prototype._triggerChange=function(e){null!=e&&this.passedElement.triggerEvent(h.EVENTS.change,{value:e})},e.prototype._selectPlaceholderChoice=function(e){this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value)},e.prototype._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var o=t.parentNode&&t.parentNode.dataset.id,n=o&&e.find((function(e){return e.id===parseInt(o,10)}));n&&(this._removeItem(n),this._triggerChange(n.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},e.prototype._handleItemAction=function(e,t,o){var n=this;if(void 0===o&&(o=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var r=t.dataset.id;e.forEach((function(e){e.id!==parseInt("".concat(r),10)||e.highlighted?!o&&e.highlighted&&n.unhighlightItem(e):n.highlightItem(e)})),this.input.focus()}},e.prototype._handleChoiceAction=function(e,t){if(e&&t){var o=t.dataset.id,n=o&&this._store.getChoiceById(o);if(n){var r=e[0]&&e[0].keyCode?e[0].keyCode:void 0,a=this.dropdown.isActive;n.keyCode=r,this.passedElement.triggerEvent(h.EVENTS.choice,{choice:n}),n.selected||n.disabled||this._canAddItem(e,n.value).response&&(this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode}),this._triggerChange(n.value)),this.clearInput(),a&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},e.prototype._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],o=e.some((function(e){return e.highlighted}));this.config.editItems&&!o&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(o||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},e.prototype._startLoading=function(){this._store.dispatch((0,d.setIsLoading)(!0))},e.prototype._stopLoading=function(){this._store.dispatch((0,d.setIsLoading)(!1))},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild(".".concat(this.config.classNames.placeholder));e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText))&&this.itemList.append(t):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t&&(t.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(this.input.isFocussed){var t=this._store.choices,o=this.config,n=o.searchFloor,r=o.searchChoices,a=t.some((function(e){return!e.active}));if(null!=e&&e.length>=n){var s=r?this._searchChoices(e):0;this.passedElement.triggerEvent(h.EVENTS.search,{value:e,resultCount:s})}else a&&(this._isSearching=!1,this._store.dispatch((0,i.activateChoices)(!0)))}},e.prototype._canAddItem=function(e,t){var o=!0,n="function"==typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var r=(0,m.existsInArray)(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(o=!1,n="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&r&&o&&(o=!1,n="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&o&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(o=!1,n="function"==typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:o,notice:n}},e.prototype._searchChoices=function(e){var t="string"==typeof e?e.trim():e,o="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(o," "))return 0;var r=this._store.searchableChoices,a=t,l=Object.assign(this.config.fuseOptions,{keys:n([],this.config.searchFields,!0),includeMatches:!0}),c=new s.default(r,l).search(a);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,i.filterChoices)(c)),c.length},e.prototype._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,o=this._store.activeItems,n=this.input.isFocussed,r=this.dropdown.isActive,a=this.itemList.hasChildren(),s=String.fromCharCode(t),i=/[^\x00-\x1F]/.test(s),l=h.KEY_CODES.BACK_KEY,c=h.KEY_CODES.DELETE_KEY,d=h.KEY_CODES.ENTER_KEY,u=h.KEY_CODES.A_KEY,p=h.KEY_CODES.ESC_KEY,m=h.KEY_CODES.UP_KEY,g=h.KEY_CODES.DOWN_KEY,f=h.KEY_CODES.PAGE_UP_KEY,y=h.KEY_CODES.PAGE_DOWN_KEY;switch(this._isTextElement||r||!i||(this.showDropdown(),this.input.isFocussed||(this.input.value+=e.key.toLowerCase())),t){case u:return this._onSelectKey(e,a);case d:return this._onEnterKey(e,o,r);case p:return this._onEscapeKey(r);case m:case f:case g:case y:return this._onDirectionKey(e,r);case c:case l:return this._onDeleteKey(e,o,n)}},e.prototype._onKeyUp=function(e){var t=e.target,o=e.keyCode,n=this.input.value,r=this._store.activeItems,a=this._canAddItem(r,n),s=h.KEY_CODES.BACK_KEY,l=h.KEY_CODES.DELETE_KEY;if(this._isTextElement)if(a.notice&&n){var c=this._getTemplate("notice",a.notice);this.dropdown.element.innerHTML=c.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0);else{var d=(o===s||o===l)&&t&&!t.value,u=!this._isTextElement&&this._isSearching,p=this._canSearch&&a.response;d&&u?(this._isSearching=!1,this._store.dispatch((0,i.activateChoices)(!0))):p&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},e.prototype._onSelectKey=function(e,t){var o=e.ctrlKey,n=e.metaKey;(o||n)&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},e.prototype._onEnterKey=function(e,t,o){var n=e.target,r=h.KEY_CODES.ENTER_KEY,a=n&&n.hasAttribute("data-button");if(this._isTextElement&&n&&n.value){var s=this.input.value;this._canAddItem(t,s).response&&(this.hideDropdown(!0),this._addItem({value:s}),this._triggerChange(s),this.clearInput())}if(a&&(this._handleButtonAction(t,n),e.preventDefault()),o){var i=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));i&&(t[0]&&(t[0].keyCode=r),this._handleChoiceAction(t,i)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},e.prototype._onEscapeKey=function(e){e&&(this.hideDropdown(!0),this.containerOuter.focus())},e.prototype._onDirectionKey=function(e,t){var o=e.keyCode,n=e.metaKey,r=h.KEY_CODES.DOWN_KEY,a=h.KEY_CODES.PAGE_UP_KEY,s=h.KEY_CODES.PAGE_DOWN_KEY;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var i=o===r||o===s?1:-1,l="[data-choice-selectable]",c=void 0;if(n||o===s||o===a)c=i>0?this.dropdown.element.querySelector("".concat(l,":last-of-type")):this.dropdown.element.querySelector(l);else{var d=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));c=d?(0,m.getAdjacentEl)(d,l,i):this.dropdown.element.querySelector(l)}c&&((0,m.isScrolledIntoView)(c,this.choiceList.element,i)||this.choiceList.scrollToChildElement(c,i),this._highlightChoice(c)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,o){var n=e.target;this._isSelectOneElement||n.value||!o||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(b&&this.choiceList.element.contains(t)){var o=this.choiceList.element.firstElementChild,n="ltr"===this._direction?e.offsetX>=o.offsetWidth:e.offsetX<o.offsetLeft;this._isScrollingOnIe=n}if(t!==this.input.element){var r=t.closest("[data-button],[data-item],[data-choice]");if(r instanceof HTMLElement){var a=e.shiftKey,s=this._store.activeItems,i=r.dataset;"button"in i?this._handleButtonAction(s,r):"item"in i?this._handleItemAction(s,r,a):"choice"in i&&this._handleChoiceAction(s,r)}e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target;this.containerOuter.element.contains(t)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))},e.prototype._onFocus=function(e){var t,o=this,n=e.target;n&&this.containerOuter.element.contains(n)&&((t={})[h.TEXT_TYPE]=function(){n===o.input.element&&o.containerOuter.addFocusState()},t[h.SELECT_ONE_TYPE]=function(){o.containerOuter.addFocusState(),n===o.input.element&&o.showDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){n===o.input.element&&(o.showDropdown(!0),o.containerOuter.addFocusState())},t)[this.passedElement.element.type]()},e.prototype._onBlur=function(e){var t,o=this,n=e.target;if(n&&this.containerOuter.element.contains(n)&&!this._isScrollingOnIe){var r=this._store.activeItems.some((function(e){return e.highlighted}));((t={})[h.TEXT_TYPE]=function(){n===o.input.element&&(o.containerOuter.removeFocusState(),r&&o.unhighlightAll(),o.hideDropdown(!0))},t[h.SELECT_ONE_TYPE]=function(){o.containerOuter.removeFocusState(),(n===o.input.element||n===o.containerOuter.element&&!o._canSearch)&&o.hideDropdown(!0)},t[h.SELECT_MULTIPLE_TYPE]=function(){n===o.input.element&&(o.containerOuter.removeFocusState(),o.hideDropdown(!0),r&&o.unhighlightAll())},t)[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){this._store.dispatch((0,d.resetTo)(this._initialState))},e.prototype._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var o=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(o.length){var n=e;Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState))).forEach((function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")})),n?this._highlightPosition=o.indexOf(n):(n=o.length>this._highlightPosition?o[this._highlightPosition]:o[o.length-1])||(n=o[0]),n.classList.add(this.config.classNames.highlightedState),n.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(h.EVENTS.highlightChoice,{el:n}),this.dropdown.isActive&&(this.input.setActiveDescendant(n.id),this.containerOuter.setActiveDescendant(n.id))}},e.prototype._addItem=function(e){var t=e.value,o=e.label,n=void 0===o?null:o,r=e.choiceId,a=void 0===r?-1:r,s=e.groupId,i=void 0===s?-1:s,l=e.customProperties,d=void 0===l?{}:l,u=e.placeholder,p=void 0!==u&&u,m=e.keyCode,g=void 0===m?-1:m,f="string"==typeof t?t.trim():t,y=this._store.items,b=n||f,v=a||-1,_=i>=0?this._store.getGroupById(i):null,w=y?y.length+1:1;this.config.prependValue&&(f=this.config.prependValue+f.toString()),this.config.appendValue&&(f+=this.config.appendValue.toString()),this._store.dispatch((0,c.addItem)({value:f,label:b,id:w,choiceId:v,groupId:i,customProperties:d,placeholder:p,keyCode:g})),this._isSelectOneElement&&this.removeActiveItems(w),this.passedElement.triggerEvent(h.EVENTS.addItem,{id:w,value:f,label:b,customProperties:d,groupValue:_&&_.value?_.value:null,keyCode:g})},e.prototype._removeItem=function(e){var t=e.id,o=e.value,n=e.label,r=e.customProperties,a=e.choiceId,s=e.groupId,i=s&&s>=0?this._store.getGroupById(s):null;t&&a&&(this._store.dispatch((0,c.removeItem)(t,a)),this.passedElement.triggerEvent(h.EVENTS.removeItem,{id:t,value:o,label:n,customProperties:r,groupValue:i&&i.value?i.value:null}))},e.prototype._addChoice=function(e){var t=e.value,o=e.label,n=void 0===o?null:o,r=e.isSelected,a=void 0!==r&&r,s=e.isDisabled,l=void 0!==s&&s,c=e.groupId,d=void 0===c?-1:c,u=e.customProperties,h=void 0===u?{}:u,p=e.placeholder,m=void 0!==p&&p,g=e.keyCode,f=void 0===g?-1:g;if(null!=t){var y=this._store.choices,b=n||t,v=y?y.length+1:1,_="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(v);this._store.dispatch((0,i.addChoice)({id:v,groupId:d,elementId:_,value:t,label:b,disabled:l,customProperties:h,placeholder:m,keyCode:f})),a&&this._addItem({value:t,label:b,choiceId:v,customProperties:h,placeholder:m,keyCode:f})}},e.prototype._addGroup=function(e){var t=this,o=e.group,n=e.id,r=e.valueKey,a=void 0===r?"value":r,s=e.labelKey,i=void 0===s?"label":s,c=(0,m.isType)("Object",o)?o.choices:Array.from(o.getElementsByTagName("OPTION")),d=n||Math.floor((new Date).valueOf()*Math.random()),u=!!o.disabled&&o.disabled;c?(this._store.dispatch((0,l.addGroup)({value:o.label,id:d,active:!0,disabled:u})),c.forEach((function(e){var o=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[a],label:(0,m.isType)("Object",e)?e[i]:e.innerHTML,isSelected:e.selected,isDisabled:o,groupId:d,customProperties:e.customProperties,placeholder:e.placeholder})}))):this._store.dispatch((0,l.addGroup)({value:o.label,id:o.id,active:!1,disabled:o.disabled}))},e.prototype._getTemplate=function(e){for(var t,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return(t=this._templates[e]).call.apply(t,n([this,this.config],o,!1))},e.prototype._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"==typeof e&&(t=e.call(this,m.strToEl)),this._templates=(0,a.default)(y.default,t)},e.prototype._createElements=function(){this.containerOuter=new u.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new u.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new u.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new u.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new u.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new u.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},e.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},e.prototype._addPredefinedGroups=function(e){var t=this,o=this.passedElement.placeholderOption;o&&o.parentNode&&"SELECT"===o.parentNode.tagName&&this._addChoice({value:o.value,label:o.innerHTML,isSelected:o.selected,isDisabled:o.disabled,placeholder:!0}),e.forEach((function(e){return t._addGroup({group:e,id:e.id||null})}))},e.prototype._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var o=e.some((function(e){return e.selected})),n=e.findIndex((function(e){return void 0===e.disabled||!e.disabled}));e.forEach((function(e,r){var a=e.value,s=void 0===a?"":a,i=e.label,l=e.customProperties,c=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var d=!(!t._isSelectOneElement||o||r!==n)||e.selected,u=e.disabled;t._addChoice({value:s,label:i,isSelected:!!d,isDisabled:!!u,placeholder:!!c,customProperties:l})}else t._addChoice({value:s,label:i,isSelected:!!e.selected,isDisabled:!!e.disabled,placeholder:!!e.placeholder,customProperties:l})}))},e.prototype._addPredefinedItems=function(e){var t=this;e.forEach((function(e){"object"==typeof e&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"==typeof e&&t._addItem({value:e})}))},e.prototype._setChoiceOrItem=function(e){var t=this;({object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}})[(0,m.getType)(e).toLowerCase()]()},e.prototype._findAndSelectChoiceByValue=function(e){var t=this,o=this._store.choices.find((function(o){return t.config.valueComparer(o.value,e)}));o&&!o.selected&&this._addItem({value:o.value,label:o.label,choiceId:o.id,groupId:o.groupId,customProperties:o.customProperties,placeholder:o.placeholder,keyCode:o.keyCode})},e.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var e=this.passedElement.placeholderOption;return e?e.text:null}var t=this.config,o=t.placeholder,n=t.placeholderValue,r=this.passedElement.element.dataset;if(o){if(n)return n;if(r.placeholder)return r.placeholder}return null},e}();t.default=_},613:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var n=o(799),r=o(883),a=function(){function e(e){var t=e.element,o=e.type,n=e.classNames,r=e.position;this.element=t,this.classNames=n,this.type=o,this.position=r,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return e.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},e.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.shouldFlip=function(e){if("number"!=typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(t=!0),t},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},e.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},e.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===r.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===r.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){(0,n.wrap)(e,this.element)},e.prototype.unwrap=function(e){this.element.parentNode&&(this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element))},e.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=a},217:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t=e.element,o=e.type,n=e.classNames;this.element=t,this.classNames=n,this.type=o,this.isActive=!1}return Object.defineProperty(e.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}();t.default=o},520:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSelect=t.WrappedInput=t.List=t.Input=t.Container=t.Dropdown=void 0;var r=n(o(217));t.Dropdown=r.default;var a=n(o(613));t.Container=a.default;var s=n(o(11));t.Input=s.default;var i=n(o(624));t.List=i.default;var l=n(o(541));t.WrappedInput=l.default;var c=n(o(982));t.WrappedSelect=c.default},11:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var n=o(799),r=o(883),a=function(){function e(e){var t=e.element,o=e.type,n=e.classNames,r=e.preventPaste;this.element=t,this.type=o,this.classNames=n,this.preventPaste=r,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(0,n.sanitise)(this.element.value)},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element,t=e.style,o=e.value,n=e.placeholder;t.minWidth="".concat(n.length+1,"ch"),t.width="".concat(o.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==r.SELECT_ONE_TYPE&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=a},624:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var n=o(883),r=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.append=function(e){this.element.appendChild(e)},e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.hasChildren=function(){return this.element.hasChildNodes()},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var o=this;if(e){var n=this.element.offsetHeight,r=this.element.scrollTop+n,a=e.offsetHeight,s=e.offsetTop+a,i=t>0?this.element.scrollTop+s-r:e.offsetTop;requestAnimationFrame((function(){o._animateScroll(i,t)}))}},e.prototype._scrollDown=function(e,t,o){var n=(o-e)/t,r=n>1?n:1;this.element.scrollTop=e+r},e.prototype._scrollUp=function(e,t,o){var n=(e-o)/t,r=n>1?n:1;this.element.scrollTop=e-r},e.prototype._animateScroll=function(e,t){var o=this,r=n.SCROLLING_SPEED,a=this.element.scrollTop,s=!1;t>0?(this._scrollDown(a,r,e),a<e&&(s=!0)):(this._scrollUp(a,r,e),a>e&&(s=!0)),s&&requestAnimationFrame((function(){o._animateScroll(e,t)}))},e}();t.default=r},730:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var n=o(799),r=function(){function e(e){var t=e.element,o=e.classNames;if(this.element=t,this.classNames=o,!(t instanceof HTMLInputElement||t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},e.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){(0,n.dispatchEvent)(this.element,e,t)},e}();t.default=r},541:function(e,t,o){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var o=t.element,n=t.classNames,r=t.delimiter,a=e.call(this,{element:o,classNames:n})||this;return a.delimiter=r,a}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),t}(a(o(730)).default);t.default=s},982:function(e,t,o){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var o=t.element,n=t.classNames,r=t.template,a=e.call(this,{element:o,classNames:n})||this;return a.template=r,a}return r(t,e),Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(e){var t=this,o=document.createDocumentFragment();e.forEach((function(e){return n=e,r=t.template(n),void o.appendChild(r);var n,r})),this.appendDocFragment(o)},enumerable:!1,configurable:!0}),t.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},t}(a(o(730)).default);t.default=s},883:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLLING_SPEED=t.SELECT_MULTIPLE_TYPE=t.SELECT_ONE_TYPE=t.TEXT_TYPE=t.KEY_CODES=t.ACTION_TYPES=t.EVENTS=void 0,t.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},t.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},t.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},t.TEXT_TYPE="text",t.SELECT_ONE_TYPE="select-one",t.SELECT_MULTIPLE_TYPE="select-multiple",t.SCROLLING_SPEED=4},789:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_CLASSNAMES=void 0;var n=o(799);t.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},t.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:n.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat((0,n.sanitise)(e),'"</b>')},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:t.DEFAULT_CLASSNAMES}},18:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},978:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},948:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},359:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},285:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},533:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},187:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||n(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(o(18),t),r(o(978),t),r(o(948),t),r(o(359),t),r(o(285),t),r(o(533),t),r(o(287),t),r(o(132),t),r(o(837),t),r(o(598),t),r(o(369),t),r(o(37),t),r(o(47),t),r(o(923),t),r(o(876),t)},287:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},132:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},837:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},598:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},37:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},369:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},47:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},923:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},876:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},799:function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.parseCustomProperties=t.diff=t.cloneObject=t.existsInArray=t.dispatchEvent=t.sortByScore=t.sortByAlpha=t.strToEl=t.sanitise=t.isScrolledIntoView=t.getAdjacentEl=t.wrap=t.isType=t.getType=t.generateId=t.generateChars=t.getRandomNumber=void 0,t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t.generateChars=function(e){return Array.from({length:e},(function(){return(0,t.getRandomNumber)(0,36).toString(36)})).join("")},t.generateId=function(e,o){var n=e.id||e.name&&"".concat(e.name,"-").concat((0,t.generateChars)(2))||(0,t.generateChars)(4);return n=n.replace(/(:|\.|\[|\]|,)/g,""),n="".concat(o,"-").concat(n)},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t.isType=function(e,o){return null!=o&&(0,t.getType)(o)===e},t.wrap=function(e,t){return void 0===t&&(t=document.createElement("div")),e.parentNode&&(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)),t.appendChild(e)},t.getAdjacentEl=function(e,t,o){void 0===o&&(o=1);for(var n="".concat(o>0?"next":"previous","ElementSibling"),r=e[n];r;){if(r.matches(t))return r;r=r[n]}return r},t.isScrolledIntoView=function(e,t,o){return void 0===o&&(o=1),!!e&&(o>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop)},t.sanitise=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},t.strToEl=(o=document.createElement("div"),function(e){var t=e.trim();o.innerHTML=t;for(var n=o.children[0];o.firstChild;)o.removeChild(o.firstChild);return n}),t.sortByAlpha=function(e,t){var o=e.value,n=e.label,r=void 0===n?o:n,a=t.value,s=t.label,i=void 0===s?a:s;return r.localeCompare(i,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},t.sortByScore=function(e,t){var o=e.score,n=void 0===o?0:o,r=t.score;return n-(void 0===r?0:r)},t.dispatchEvent=function(e,t,o){void 0===o&&(o=null);var n=new CustomEvent(t,{detail:o,bubbles:!0,cancelable:!0});return e.dispatchEvent(n)},t.existsInArray=function(e,t,o){return void 0===o&&(o="value"),e.some((function(e){return"string"==typeof t?e[o]===t.trim():e[o]===t}))},t.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.diff=function(e,t){var o=Object.keys(e).sort(),n=Object.keys(t).sort();return o.filter((function(e){return n.indexOf(e)<0}))},t.parseCustomProperties=function(e){if(void 0!==e)try{return JSON.parse(e)}catch(t){return e}return{}}},273:function(e,t){var o=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,n){switch(void 0===e&&(e=t.defaultState),void 0===n&&(n={}),n.type){case"ADD_CHOICE":var r=n,a={id:r.id,elementId:r.elementId,groupId:r.groupId,value:r.value,label:r.label||r.value,disabled:r.disabled||!1,selected:!1,active:!0,score:9999,customProperties:r.customProperties,placeholder:r.placeholder||!1};return o(o([],e,!0),[a],!1);case"ADD_ITEM":var s=n;return s.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(s.choiceId),10)&&(t.selected=!0),t})):e;case"REMOVE_ITEM":var i=n;return i.choiceId&&i.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(i.choiceId),10)&&(t.selected=!1),t})):e;case"FILTER_CHOICES":var l=n;return e.map((function(e){var t=e;return t.active=l.results.some((function(e){var o=e.item,n=e.score;return o.id===t.id&&(t.score=n,!0)})),t}));case"ACTIVATE_CHOICES":var c=n;return e.map((function(e){var t=e;return t.active=c.active,t}));case"CLEAR_CHOICES":return t.defaultState;default:return e}}},871:function(e,t){var o=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,n){switch(void 0===e&&(e=t.defaultState),void 0===n&&(n={}),n.type){case"ADD_GROUP":var r=n;return o(o([],e,!0),[{id:r.id,value:r.value,active:r.active,disabled:r.disabled}],!1);case"CLEAR_CHOICES":return[];default:return e}}},655:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var r=o(791),a=n(o(52)),s=n(o(871)),i=n(o(273)),l=n(o(502)),c=o(799);t.defaultState={groups:[],items:[],choices:[],loading:!1};var d=(0,r.combineReducers)({items:a.default,groups:s.default,choices:i.default,loading:l.default});t.default=function(e,o){var n=e;if("CLEAR_ALL"===o.type)n=t.defaultState;else if("RESET_TO"===o.type)return(0,c.cloneObject)(o.state);return d(n,o)}},52:function(e,t){var o=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,n){switch(void 0===e&&(e=t.defaultState),void 0===n&&(n={}),n.type){case"ADD_ITEM":var r=n;return o(o([],e,!0),[{id:r.id,choiceId:r.choiceId,groupId:r.groupId,value:r.value,label:r.label,active:!0,highlighted:!1,customProperties:r.customProperties,placeholder:r.placeholder||!1,keyCode:null}],!1).map((function(e){var t=e;return t.highlighted=!1,t}));case"REMOVE_ITEM":return e.map((function(e){var t=e;return t.id===n.id&&(t.active=!1),t}));case"HIGHLIGHT_ITEM":var a=n;return e.map((function(e){var t=e;return t.id===a.id&&(t.highlighted=a.highlighted),t}));default:return e}}},502:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=!1,t.default=function(e,o){return void 0===e&&(e=t.defaultState),void 0===o&&(o={}),"SET_IS_LOADING"===o.type?o.isLoading:e}},744:function(e,t,o){var n=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(791),s=r(o(655)),i=function(){function e(){this._store=(0,a.createStore)(s.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return e.prototype.subscribe=function(e){this._store.subscribe(e)},e.prototype.dispatch=function(e){this._store.dispatch(e)},Object.defineProperty(e.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeItems",{get:function(){return this.items.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter((function(e){return e.active&&e.highlighted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectableChoices",{get:function(){return this.choices.filter((function(e){return!0!==e.disabled}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter((function(e){return!0!==e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholderChoice",{get:function(){return n([],this.choices,!0).reverse().find((function(e){return!0===e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this.groups,t=this.choices;return e.filter((function(e){var o=!0===e.active&&!1===e.disabled,n=t.some((function(e){return!0===e.active&&!1===e.disabled}));return o&&n}),[])},enumerable:!1,configurable:!0}),e.prototype.isLoading=function(){return this.state.loading},e.prototype.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===parseInt(e,10)}))},e.prototype.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},e}();t.default=i},686:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o={containerOuter:function(e,t,o,n,r,a,s){var i=e.classNames.containerOuter,l=Object.assign(document.createElement("div"),{className:i});return l.dataset.type=a,t&&(l.dir=t),n&&(l.tabIndex=0),o&&(l.setAttribute("role",r?"combobox":"listbox"),r&&l.setAttribute("aria-autocomplete","list")),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false"),s&&l.setAttribute("aria-labelledby",s),l},containerInner:function(e){var t=e.classNames.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var o=e.classNames,n=o.list,r=o.listSingle,a=o.listItems;return Object.assign(document.createElement("div"),{className:"".concat(n," ").concat(t?r:a)})},placeholder:function(e,t){var o,n=e.allowHTML,r=e.classNames.placeholder;return Object.assign(document.createElement("div"),((o={className:r})[n?"innerHTML":"innerText"]=t,o))},item:function(e,t,o){var n,r,a=e.allowHTML,s=e.classNames,i=s.item,l=s.button,c=s.highlightedState,d=s.itemSelectable,u=s.placeholder,h=t.id,p=t.value,m=t.label,g=t.customProperties,f=t.active,y=t.disabled,b=t.highlighted,v=t.placeholder,_=Object.assign(document.createElement("div"),((n={className:i})[a?"innerHTML":"innerText"]=m,n));if(Object.assign(_.dataset,{item:"",id:h,value:p,customProperties:g}),f&&_.setAttribute("aria-selected","true"),y&&_.setAttribute("aria-disabled","true"),v&&_.classList.add(u),_.classList.add(b?c:d),o){y&&_.classList.remove(d),_.dataset.deletable="";var w="Remove item",k=Object.assign(document.createElement("button"),((r={type:"button",className:l})[a?"innerHTML":"innerText"]=w,r));k.setAttribute("aria-label","".concat(w,": '").concat(p,"'")),k.dataset.button="",_.appendChild(k)}return _},choiceList:function(e,t){var o=e.classNames.list,n=Object.assign(document.createElement("div"),{className:o});return t||n.setAttribute("aria-multiselectable","true"),n.setAttribute("role","listbox"),n},choiceGroup:function(e,t){var o,n=e.allowHTML,r=e.classNames,a=r.group,s=r.groupHeading,i=r.itemDisabled,l=t.id,c=t.value,d=t.disabled,u=Object.assign(document.createElement("div"),{className:"".concat(a," ").concat(d?i:"")});return u.setAttribute("role","group"),Object.assign(u.dataset,{group:"",id:l,value:c}),d&&u.setAttribute("aria-disabled","true"),u.appendChild(Object.assign(document.createElement("div"),((o={className:s})[n?"innerHTML":"innerText"]=c,o))),u},choice:function(e,t,o){var n,r=e.allowHTML,a=e.classNames,s=a.item,i=a.itemChoice,l=a.itemSelectable,c=a.selectedState,d=a.itemDisabled,u=a.placeholder,h=t.id,p=t.value,m=t.label,g=t.groupId,f=t.elementId,y=t.disabled,b=t.selected,v=t.placeholder,_=Object.assign(document.createElement("div"),((n={id:f})[r?"innerHTML":"innerText"]=m,n.className="".concat(s," ").concat(i),n));return b&&_.classList.add(c),v&&_.classList.add(u),_.setAttribute("role",g&&g>0?"treeitem":"option"),Object.assign(_.dataset,{choice:"",id:h,value:p,selectText:o}),y?(_.classList.add(d),_.dataset.choiceDisabled="",_.setAttribute("aria-disabled","true")):(_.classList.add(l),_.dataset.choiceSelectable=""),_},input:function(e,t){var o=e.classNames,n=o.input,r=o.inputCloned,a=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(n," ").concat(r),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return a.setAttribute("role","textbox"),a.setAttribute("aria-autocomplete","list"),a.setAttribute("aria-label",t),a},dropdown:function(e){var t=e.classNames,o=t.list,n=t.listDropdown,r=document.createElement("div");return r.classList.add(o,n),r.setAttribute("aria-expanded","false"),r},notice:function(e,t,o){var n,r=e.allowHTML,a=e.classNames,s=a.item,i=a.itemChoice,l=a.noResults,c=a.noChoices;void 0===o&&(o="");var d=[s,i];return"no-choices"===o?d.push(c):"no-results"===o&&d.push(l),Object.assign(document.createElement("div"),((n={})[r?"innerHTML":"innerText"]=t,n.className=d.join(" "),n))},option:function(e){var t=e.label,o=e.value,n=e.customProperties,r=e.active,a=e.disabled,s=new Option(t,o,!1,r);return n&&(s.dataset.customProperties="".concat(n)),s.disabled=!!a,s}};t.default=o},996:function(e){var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((o=e,Array.isArray(o)?[]:{}),e,t):e;var o}function r(e,t,o){return e.concat(t).map((function(e){return n(e,o)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function i(e,t,o){var r={};return o.isMergeableObject(e)&&a(e).forEach((function(t){r[t]=n(e[t],o)})),a(t).forEach((function(a){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(s(e,a)&&o.isMergeableObject(t[a])?r[a]=function(e,t){if(!t.customMerge)return l;var o=t.customMerge(e);return"function"==typeof o?o:l}(a,o)(e[a],t[a],o):r[a]=n(t[a],o))})),r}function l(e,o,a){(a=a||{}).arrayMerge=a.arrayMerge||r,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=n;var s=Array.isArray(o);return s===Array.isArray(e)?s?a.arrayMerge(e,o,a):i(e,o,a):n(o,a)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,o){return l(e,o,t)}),{})};var c=l;e.exports=c},221:function(e,t,o){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===h(e)}o.r(t),o.d(t,{default:function(){return J}});const r=1/0;function a(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-r?"-0":t}(e)}function s(e){return"string"==typeof e}function i(e){return"number"==typeof e}function l(e){return!0===e||!1===e||function(e){return c(e)&&null!==e}(e)&&"[object Boolean]"==h(e)}function c(e){return"object"==typeof e}function d(e){return null!=e}function u(e){return!e.trim().length}function h(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const p=e=>`Invalid value for key ${e}`,m=e=>`Pattern length exceeds max of ${e}.`,g=e=>`Missing ${e} property in key`,f=e=>`Property 'weight' in key '${e}' must be a positive integer`,y=Object.prototype.hasOwnProperty;class b{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let o=v(e);t+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,t+=o.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function v(e){let t=null,o=null,r=null,a=1,i=null;if(s(e)||n(e))r=e,t=_(e),o=w(e);else{if(!y.call(e,"name"))throw new Error(g("name"));const n=e.name;if(r=n,y.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(f(n));t=_(n),o=w(n),i=e.getFn}return{path:t,id:o,weight:a,src:r,getFn:i}}function _(e){return n(e)?e:e.split(".")}function w(e){return n(e)?e.join("."):e}var k={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let o=[],r=!1;const c=(e,t,u)=>{if(d(e))if(t[u]){const h=e[t[u]];if(!d(h))return;if(u===t.length-1&&(s(h)||i(h)||l(h)))o.push(a(h));else if(n(h)){r=!0;for(let e=0,o=h.length;e<o;e+=1)c(h[e],t,u+1)}else t.length&&c(h,t,u+1)}else o.push(e)};return c(e,s(t)?t.split("."):t,0),r?o:o[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const x=/[^ ]+/g;class S{constructor({getFn:e=k.getFn,fieldNormWeight:t=k.fieldNormWeight}={}){this.norm=function(e=1,t=3){const o=new Map,n=Math.pow(10,t);return{get(t){const r=t.match(x).length;if(o.has(r))return o.get(r);const a=1/Math.pow(r,.5*e),s=parseFloat(Math.round(a*n)/n);return o.set(r,s),s},clear(){o.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,s(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();s(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,o=this.size();t<o;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!d(e)||u(e))return;let o={v:e,i:t,n:this.norm.get(e)};this.records.push(o)}_addObject(e,t){let o={i:t,$:{}};this.keys.forEach(((t,r)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(d(a))if(n(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:o,value:r}=t.pop();if(d(r))if(s(r)&&!u(r)){let t={v:r,i:o,n:this.norm.get(r)};e.push(t)}else n(r)&&r.forEach(((e,o)=>{t.push({nestedArrIndex:o,value:e})}))}o.$[r]=e}else if(s(a)&&!u(a)){let e={v:a,n:this.norm.get(a)};o.$[r]=e}})),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function C(e,t,{getFn:o=k.getFn,fieldNormWeight:n=k.fieldNormWeight}={}){const r=new S({getFn:o,fieldNormWeight:n});return r.setKeys(e.map(v)),r.setSources(t),r.create(),r}function E(e,{errors:t=0,currentLocation:o=0,expectedLocation:n=0,distance:r=k.distance,ignoreLocation:a=k.ignoreLocation}={}){const s=t/e.length;if(a)return s;const i=Math.abs(n-o);return r?s+i/r:i?1:s}const D=32;function A(e,t,o,{location:n=k.location,distance:r=k.distance,threshold:a=k.threshold,findAllMatches:s=k.findAllMatches,minMatchCharLength:i=k.minMatchCharLength,includeMatches:l=k.includeMatches,ignoreLocation:c=k.ignoreLocation}={}){if(t.length>D)throw new Error(m(D));const d=t.length,u=e.length,h=Math.max(0,Math.min(n,u));let p=a,g=h;const f=i>1||l,y=f?Array(u):[];let b;for(;(b=e.indexOf(t,g))>-1;){let e=E(t,{currentLocation:b,expectedLocation:h,distance:r,ignoreLocation:c});if(p=Math.min(e,p),g=b+d,f){let e=0;for(;e<d;)y[b+e]=1,e+=1}}g=-1;let v=[],_=1,w=d+u;const x=1<<d-1;for(let n=0;n<d;n+=1){let a=0,i=w;for(;a<i;)E(t,{errors:n,currentLocation:h+i,expectedLocation:h,distance:r,ignoreLocation:c})<=p?a=i:w=i,i=Math.floor((w-a)/2+a);w=i;let l=Math.max(1,h-i+1),m=s?u:Math.min(h+i,u)+d,b=Array(m+2);b[m+1]=(1<<n)-1;for(let a=m;a>=l;a-=1){let s=a-1,i=o[e.charAt(s)];if(f&&(y[s]=+!!i),b[a]=(b[a+1]<<1|1)&i,n&&(b[a]|=(v[a+1]|v[a])<<1|1|v[a+1]),b[a]&x&&(_=E(t,{errors:n,currentLocation:s,expectedLocation:h,distance:r,ignoreLocation:c}),_<=p)){if(p=_,g=s,g<=h)break;l=Math.max(1,2*h-g)}}if(E(t,{errors:n+1,currentLocation:h,expectedLocation:h,distance:r,ignoreLocation:c})>p)break;v=b}const S={isMatch:g>=0,score:Math.max(.001,_)};if(f){const e=function(e=[],t=k.minMatchCharLength){let o=[],n=-1,r=-1,a=0;for(let s=e.length;a<s;a+=1){let s=e[a];s&&-1===n?n=a:s||-1===n||(r=a-1,r-n+1>=t&&o.push([n,r]),n=-1)}return e[a-1]&&a-n>=t&&o.push([n,a-1]),o}(y,i);e.length?l&&(S.indices=e):S.isMatch=!1}return S}function T(e){let t={};for(let o=0,n=e.length;o<n;o+=1){const r=e.charAt(o);t[r]=(t[r]||0)|1<<n-o-1}return t}class O{constructor(e,{location:t=k.location,threshold:o=k.threshold,distance:n=k.distance,includeMatches:r=k.includeMatches,findAllMatches:a=k.findAllMatches,minMatchCharLength:s=k.minMatchCharLength,isCaseSensitive:i=k.isCaseSensitive,ignoreLocation:l=k.ignoreLocation}={}){if(this.options={location:t,threshold:o,distance:n,includeMatches:r,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:i,ignoreLocation:l},this.pattern=i?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:T(e),startIndex:t})},d=this.pattern.length;if(d>D){let e=0;const t=d%D,o=d-t;for(;e<o;)c(this.pattern.substr(e,D),e),e+=D;if(t){const e=d-D;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:o}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return o&&(t.indices=[[0,e.length-1]]),t}const{location:n,distance:r,threshold:a,findAllMatches:s,minMatchCharLength:i,ignoreLocation:l}=this.options;let c=[],d=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:h,startIndex:p})=>{const{isMatch:m,score:g,indices:f}=A(e,t,h,{location:n+p,distance:r,threshold:a,findAllMatches:s,minMatchCharLength:i,includeMatches:o,ignoreLocation:l});m&&(u=!0),d+=g,m&&f&&(c=[...c,...f])}));let h={isMatch:u,score:u?d/this.chunks.length:1};return u&&o&&(h.indices=c),h}}class M{constructor(e){this.pattern=e}static isMultiMatch(e){return z(e,this.multiRegex)}static isSingleMatch(e){return z(e,this.singleRegex)}search(){}}function z(e,t){const o=e.match(t);return o?o[1]:null}class R extends M{constructor(e,{location:t=k.location,threshold:o=k.threshold,distance:n=k.distance,includeMatches:r=k.includeMatches,findAllMatches:a=k.findAllMatches,minMatchCharLength:s=k.minMatchCharLength,isCaseSensitive:i=k.isCaseSensitive,ignoreLocation:l=k.ignoreLocation}={}){super(e),this._bitapSearch=new O(e,{location:t,threshold:o,distance:n,includeMatches:r,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:i,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class N extends M{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,o=0;const n=[],r=this.pattern.length;for(;(t=e.indexOf(this.pattern,o))>-1;)o=t+r,n.push([t,o-1]);const a=!!n.length;return{isMatch:a,score:a?0:1,indices:n}}}const I=[class extends M{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},N,class extends M{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends M{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends M{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends M{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends M{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},R],L=I.length,P=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,B="|",H=new Set([R.type,N.type]);class F{constructor(e,{isCaseSensitive:t=k.isCaseSensitive,includeMatches:o=k.includeMatches,minMatchCharLength:n=k.minMatchCharLength,ignoreLocation:r=k.ignoreLocation,findAllMatches:a=k.findAllMatches,location:s=k.location,threshold:i=k.threshold,distance:l=k.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:o,minMatchCharLength:n,findAllMatches:a,ignoreLocation:r,location:s,threshold:i,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split(B).map((e=>{let o=e.trim().split(P).filter((e=>e&&!!e.trim())),n=[];for(let e=0,r=o.length;e<r;e+=1){const r=o[e];let a=!1,s=-1;for(;!a&&++s<L;){const e=I[s];let o=e.isMultiMatch(r);o&&(n.push(new e(o,t)),a=!0)}if(!a)for(s=-1;++s<L;){const e=I[s];let o=e.isSingleMatch(r);if(o){n.push(new e(o,t));break}}}return n}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:n}=this.options;e=n?e:e.toLowerCase();let r=0,a=[],s=0;for(let n=0,i=t.length;n<i;n+=1){const i=t[n];a.length=0,r=0;for(let t=0,n=i.length;t<n;t+=1){const n=i[t],{isMatch:l,indices:c,score:d}=n.search(e);if(!l){s=0,r=0,a.length=0;break}if(r+=1,s+=d,o){const e=n.constructor.type;H.has(e)?a=[...a,...c]:a.push(c)}}if(r){let e={isMatch:!0,score:s/r};return o&&(e.indices=a),e}}return{isMatch:!1,score:1}}}const V=[];function j(e,t){for(let o=0,n=V.length;o<n;o+=1){let n=V[o];if(n.condition(e,t))return new n(e,t)}return new O(e,t)}const U="$and",W="$or",Z={PATH:"$path",PATTERN:"$val"},$=e=>!(!e[U]&&!e[W]),q=e=>!!e[Z.PATH],Y=e=>!n(e)&&c(e)&&!$(e),G=e=>({[U]:Object.keys(e).map((t=>({[t]:e[t]})))});function K(e,t,{auto:o=!0}={}){const r=e=>{let a=Object.keys(e);const i=q(e);if(!i&&a.length>1&&!$(e))return r(G(e));if(Y(e)){const n=i?e[Z.PATH]:a[0],r=i?e[Z.PATTERN]:e[n];if(!s(r))throw new Error(p(n));const l={keyId:w(n),pattern:r};return o&&(l.searcher=j(r,t)),l}let l={children:[],operator:a[0]};return a.forEach((t=>{const o=e[t];n(o)&&o.forEach((e=>{l.children.push(r(e))}))})),l};return $(e)||(e=G(e)),r(e)}function X(e,t){const o=e.matches;t.matches=[],d(o)&&o.forEach((e=>{if(!d(e.indices)||!e.indices.length)return;const{indices:o,value:n}=e;let r={indices:o,value:n};e.key&&(r.key=e.key.src),e.idx>-1&&(r.refIndex=e.idx),t.matches.push(r)}))}function Q(e,t){t.score=e.score}class J{constructor(e,t={},o){this.options={...k,...t},this.options.useExtendedSearch,this._keyStore=new b(this.options.keys),this.setCollection(e,o)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof S))throw new Error("Incorrect 'index' type");this._myIndex=t||C(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){d(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let o=0,n=this._docs.length;o<n;o+=1){const r=this._docs[o];e(r,o)&&(this.removeAt(o),o-=1,n-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:o,includeScore:n,shouldSort:r,sortFn:a,ignoreFieldNorm:l}=this.options;let c=s(e)?s(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=k.ignoreFieldNorm}){e.forEach((e=>{let o=1;e.matches.forEach((({key:e,norm:n,score:r})=>{const a=e?e.weight:null;o*=Math.pow(0===r&&a?Number.EPSILON:r,(a||1)*(t?1:n))})),e.score=o}))}(c,{ignoreFieldNorm:l}),r&&c.sort(a),i(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:o=k.includeMatches,includeScore:n=k.includeScore}={}){const r=[];return o&&r.push(X),n&&r.push(Q),e.map((e=>{const{idx:o}=e,n={item:t[o],refIndex:o};return r.length&&r.forEach((t=>{t(e,n)})),n}))}(c,this._docs,{includeMatches:o,includeScore:n})}_searchStringList(e){const t=j(e,this.options),{records:o}=this._myIndex,n=[];return o.forEach((({v:e,i:o,n:r})=>{if(!d(e))return;const{isMatch:a,score:s,indices:i}=t.searchIn(e);a&&n.push({item:e,idx:o,matches:[{score:s,value:e,norm:r,indices:i}]})})),n}_searchLogical(e){const t=K(e,this.options),o=(e,t,n)=>{if(!e.children){const{keyId:o,searcher:r}=e,a=this._findMatches({key:this._keyStore.get(o),value:this._myIndex.getValueForItemAtKeyId(t,o),searcher:r});return a&&a.length?[{idx:n,item:t,matches:a}]:[]}const r=[];for(let a=0,s=e.children.length;a<s;a+=1){const s=e.children[a],i=o(s,t,n);if(i.length)r.push(...i);else if(e.operator===U)return[]}return r},n=this._myIndex.records,r={},a=[];return n.forEach((({$:e,i:n})=>{if(d(e)){let s=o(t,e,n);s.length&&(r[n]||(r[n]={idx:n,item:e,matches:[]},a.push(r[n])),s.forEach((({matches:e})=>{r[n].matches.push(...e)})))}})),a}_searchObjectList(e){const t=j(e,this.options),{keys:o,records:n}=this._myIndex,r=[];return n.forEach((({$:e,i:n})=>{if(!d(e))return;let a=[];o.forEach(((o,n)=>{a.push(...this._findMatches({key:o,value:e[n],searcher:t}))})),a.length&&r.push({idx:n,item:e,matches:a})})),r}_findMatches({key:e,value:t,searcher:o}){if(!d(t))return[];let r=[];if(n(t))t.forEach((({v:t,i:n,n:a})=>{if(!d(t))return;const{isMatch:s,score:i,indices:l}=o.searchIn(t);s&&r.push({score:i,key:e,value:t,idx:n,norm:a,indices:l})}));else{const{v:n,n:a}=t,{isMatch:s,score:i,indices:l}=o.searchIn(n);s&&r.push({score:i,key:e,value:n,norm:a,indices:l})}return r}}J.version="6.6.2",J.createIndex=C,J.parseIndex=function(e,{getFn:t=k.getFn,fieldNormWeight:o=k.fieldNormWeight}={}){const{keys:n,records:r}=e,a=new S({getFn:t,fieldNormWeight:o});return a.setKeys(n),a.setIndexRecords(r),a},J.config=k,J.parseQuery=K,function(...e){V.push(...e)}(F)},791:function(e,t,o){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t,o){return(t=r(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}o.r(t),o.d(t,{__DO_NOT_USE__ActionTypes:function(){return u},applyMiddleware:function(){return v},bindActionCreators:function(){return y},combineReducers:function(){return g},compose:function(){return b},createStore:function(){return p},legacy_createStore:function(){return m}});var c="function"==typeof Symbol&&Symbol.observable||"@@observable",d=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function h(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,o){var n;if("function"==typeof t&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error(l(0));if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw new Error(l(1));return o(p)(e,t)}if("function"!=typeof e)throw new Error(l(2));var r=e,a=t,s=[],i=s,d=!1;function m(){i===s&&(i=s.slice())}function g(){if(d)throw new Error(l(3));return a}function f(e){if("function"!=typeof e)throw new Error(l(4));if(d)throw new Error(l(5));var t=!0;return m(),i.push(e),function(){if(t){if(d)throw new Error(l(6));t=!1,m();var o=i.indexOf(e);i.splice(o,1),s=null}}}function y(e){if(!h(e))throw new Error(l(7));if(void 0===e.type)throw new Error(l(8));if(d)throw new Error(l(9));try{d=!0,a=r(a,e)}finally{d=!1}for(var t=s=i,o=0;o<t.length;o++)(0,t[o])();return e}return y({type:u.INIT}),(n={dispatch:y,subscribe:f,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw new Error(l(10));r=e,y({type:u.REPLACE})}})[c]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(l(11));function o(){e.next&&e.next(g())}return o(),{unsubscribe:t(o)}}})[c]=function(){return this},e},n}var m=p;function g(e){for(var t=Object.keys(e),o={},n=0;n<t.length;n++){var r=t[n];"function"==typeof e[r]&&(o[r]=e[r])}var a,s=Object.keys(o);try{!function(e){Object.keys(e).forEach((function(t){var o=e[t];if(void 0===o(void 0,{type:u.INIT}))throw new Error(l(12));if(void 0===o(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(l(13))}))}(o)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,r={},i=0;i<s.length;i++){var c=s[i],d=o[c],u=e[c],h=d(u,t);if(void 0===h)throw t&&t.type,new Error(l(14));r[c]=h,n=n||h!==u}return(n=n||s.length!==Object.keys(e).length)?r:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function y(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error(l(16));var o={};for(var n in e){var r=e[n];"function"==typeof r&&(o[n]=f(r,t))}return o}function b(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return function(){var o=e.apply(void 0,arguments),n=function(){throw new Error(l(15))},r={getState:o.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(r)}));return n=b.apply(void 0,a)(o.dispatch),i(i({},o),{},{dispatch:n})}}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n,r,a={};return n=o(373),r=o.n(n),o(187),o(883),o(789),o(686),a.default=r(),a=a.default}()},e.exports=t()},9662:(e,t,o)=>{var n=o(614),r=o(6330),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(r(e)+" is not a function")}},1223:(e,t,o)=>{var n=o(5112),r=o(30),a=o(3070).f,s=n("unscopables"),i=Array.prototype;null==i[s]&&a(i,s,{configurable:!0,value:r(null)}),e.exports=function(e){i[s][e]=!0}},9670:(e,t,o)=>{var n=o(111),r=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(r(e)+" is not an object")}},8533:(e,t,o)=>{"use strict";var n=o(2092).forEach,r=o(9341)("forEach");e.exports=r?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},1318:(e,t,o)=>{var n=o(5656),r=o(1400),a=o(6244),s=function(e){return function(t,o,s){var i,l=n(t),c=a(l),d=r(s,c);if(e&&o!=o){for(;c>d;)if((i=l[d++])!=i)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===o)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:(e,t,o)=>{var n=o(9974),r=o(1702),a=o(8361),s=o(7908),i=o(6244),l=o(5417),c=r([].push),d=function(e){var t=1==e,o=2==e,r=3==e,d=4==e,u=6==e,h=7==e,p=5==e||u;return function(m,g,f,y){for(var b,v,_=s(m),w=a(_),k=n(g,f),x=i(w),S=0,C=y||l,E=t?C(m,x):o||h?C(m,0):void 0;x>S;S++)if((p||S in w)&&(v=k(b=w[S],S,_),e))if(t)E[S]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return S;case 2:c(E,b)}else switch(e){case 4:return!1;case 7:c(E,b)}return u?-1:r||d?d:E}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},1194:(e,t,o)=>{var n=o(7293),r=o(5112),a=o(7392),s=r("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,o)=>{"use strict";var n=o(7293);e.exports=function(e,t){var o=[][e];return!!o&&n((function(){o.call(null,t||function(){return 1},1)}))}},7475:(e,t,o)=>{var n=o(3157),r=o(4411),a=o(111),s=o(5112)("species"),i=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(r(t)&&(t===i||n(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?i:t}},5417:(e,t,o)=>{var n=o(7475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},4326:(e,t,o)=>{var n=o(1702),r=n({}.toString),a=n("".slice);e.exports=function(e){return a(r(e),8,-1)}},648:(e,t,o)=>{var n=o(1694),r=o(614),a=o(4326),s=o(5112)("toStringTag"),i=Object,l="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,o,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=i(e),s))?o:l?a(t):"Object"==(n=a(t))&&r(t.callee)?"Arguments":n}},9920:(e,t,o)=>{var n=o(2597),r=o(3887),a=o(1236),s=o(3070);e.exports=function(e,t,o){for(var i=r(t),l=s.f,c=a.f,d=0;d<i.length;d++){var u=i[d];n(e,u)||o&&n(o,u)||l(e,u,c(t,u))}}},4964:(e,t,o)=>{var n=o(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},8880:(e,t,o)=>{var n=o(9781),r=o(3070),a=o(9114);e.exports=n?function(e,t,o){return r.f(e,t,a(1,o))}:function(e,t,o){return e[t]=o,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:(e,t,o)=>{var n=o(614),r=o(3070),a=o(6339),s=o(3072);e.exports=function(e,t,o,i){i||(i={});var l=i.enumerable,c=void 0!==i.name?i.name:t;if(n(o)&&a(o,c,i),i.global)l?e[t]=o:s(t,o);else{try{i.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=o:r.f(e,t,{value:o,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e}},3072:(e,t,o)=>{var n=o(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(n,e,{value:t,configurable:!0,writable:!0})}catch(o){n[e]=t}return t}},9781:(e,t,o)=>{var n=o(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,o=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:o}},317:(e,t,o)=>{var n=o(7854),r=o(111),a=n.document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,o)=>{var n=o(317)("span").classList,r=n&&n.constructor&&n.constructor.prototype;e.exports=r===Object.prototype?void 0:r},8113:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(e,t,o)=>{var n,r,a=o(7854),s=o(8113),i=a.process,l=a.Deno,c=i&&i.versions||l&&l.version,d=c&&c.v8;d&&(r=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(r=+n[1]),e.exports=r},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,o)=>{var n=o(7854),r=o(1236).f,a=o(8880),s=o(8052),i=o(3072),l=o(9920),c=o(4705);e.exports=function(e,t){var o,d,u,h,p,m=e.target,g=e.global,f=e.stat;if(o=g?n:f?n[m]||i(m,{}):(n[m]||{}).prototype)for(d in t){if(h=t[d],u=e.dontCallGetSet?(p=r(o,d))&&p.value:o[d],!c(g?d:m+(f?".":"#")+d,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;l(h,u)}(e.sham||u&&u.sham)&&a(h,"sham",!0),s(o,d,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,o)=>{var n=o(1470),r=o(9662),a=o(4374),s=n(n.bind);e.exports=function(e,t){return r(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,o)=>{var n=o(7293);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,o)=>{var n=o(4374),r=Function.prototype.call;e.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},6530:(e,t,o)=>{var n=o(9781),r=o(2597),a=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,i=r(a,"name"),l=i&&"something"===function(){}.name,c=i&&(!n||n&&s(a,"name").configurable);e.exports={EXISTS:i,PROPER:l,CONFIGURABLE:c}},1470:(e,t,o)=>{var n=o(4326),r=o(1702);e.exports=function(e){if("Function"===n(e))return r(e)}},1702:(e,t,o)=>{var n=o(4374),r=Function.prototype,a=r.call,s=n&&r.bind.bind(a,a);e.exports=n?s:function(e){return function(){return a.apply(e,arguments)}}},5005:(e,t,o)=>{var n=o(7854),r=o(614);e.exports=function(e,t){return arguments.length<2?(o=n[e],r(o)?o:void 0):n[e]&&n[e][t];var o}},8173:(e,t,o)=>{var n=o(9662),r=o(8554);e.exports=function(e,t){var o=e[t];return r(o)?void 0:n(o)}},7854:(e,t,o)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof o.g&&o.g)||function(){return this}()||Function("return this")()},2597:(e,t,o)=>{var n=o(1702),r=o(7908),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},3501:e=>{e.exports={}},490:(e,t,o)=>{var n=o(5005);e.exports=n("document","documentElement")},4664:(e,t,o)=>{var n=o(9781),r=o(7293),a=o(317);e.exports=!n&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,o)=>{var n=o(1702),r=o(7293),a=o(4326),s=Object,i=n("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i(e,""):s(e)}:s},2788:(e,t,o)=>{var n=o(1702),r=o(614),a=o(5465),s=n(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},9909:(e,t,o)=>{var n,r,a,s=o(4811),i=o(7854),l=o(111),c=o(8880),d=o(2597),u=o(5465),h=o(6200),p=o(3501),m="Object already initialized",g=i.TypeError,f=i.WeakMap;if(s||u.state){var y=u.state||(u.state=new f);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw g(m);return t.facade=e,y.set(e,t),t},r=function(e){return y.get(e)||{}},a=function(e){return y.has(e)}}else{var b=h("state");p[b]=!0,n=function(e,t){if(d(e,b))throw g(m);return t.facade=e,c(e,b,t),t},r=function(e){return d(e,b)?e[b]:{}},a=function(e){return d(e,b)}}e.exports={set:n,get:r,has:a,enforce:function(e){return a(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var o;if(!l(t)||(o=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return o}}}},3157:(e,t,o)=>{var n=o(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},614:(e,t,o)=>{var n=o(4154),r=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},4411:(e,t,o)=>{var n=o(1702),r=o(7293),a=o(614),s=o(648),i=o(5005),l=o(2788),c=function(){},d=[],u=i("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=n(h.exec),m=!h.exec(c),g=function(e){if(!a(e))return!1;try{return u(c,d,e),!0}catch(e){return!1}},f=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!p(h,l(e))}catch(e){return!0}};f.sham=!0,e.exports=!u||r((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?f:g},4705:(e,t,o)=>{var n=o(7293),r=o(614),a=/#|\.prototype\./,s=function(e,t){var o=l[i(e)];return o==d||o!=c&&(r(t)?n(t):!!t)},i=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";e.exports=s},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,o)=>{var n=o(614),r=o(4154),a=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},1913:e=>{e.exports=!1},7850:(e,t,o)=>{var n=o(111),r=o(4326),a=o(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},2190:(e,t,o)=>{var n=o(5005),r=o(614),a=o(7976),s=o(3307),i=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return r(t)&&a(t.prototype,i(e))}},6244:(e,t,o)=>{var n=o(7466);e.exports=function(e){return n(e.length)}},6339:(e,t,o)=>{var n=o(1702),r=o(7293),a=o(614),s=o(2597),i=o(9781),l=o(6530).CONFIGURABLE,c=o(2788),d=o(9909),u=d.enforce,h=d.get,p=String,m=Object.defineProperty,g=n("".slice),f=n("".replace),y=n([].join),b=i&&!r((function(){return 8!==m((function(){}),"length",{value:8}).length})),v=String(String).split("String"),_=e.exports=function(e,t,o){"Symbol("===g(p(t),0,7)&&(t="["+f(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(t="get "+t),o&&o.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(i?m(e,"name",{value:t,configurable:!0}):e.name=t),b&&o&&s(o,"arity")&&e.length!==o.arity&&m(e,"length",{value:o.arity});try{o&&s(o,"constructor")&&o.constructor?i&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=u(e);return s(n,"source")||(n.source=y(v,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return a(this)&&h(this).source||c(this)}),"toString")},4758:e=>{var t=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?o:t)(n)}},3929:(e,t,o)=>{var n=o(7850),r=TypeError;e.exports=function(e){if(n(e))throw r("The method doesn't accept regular expressions");return e}},3009:(e,t,o)=>{var n=o(7854),r=o(7293),a=o(1702),s=o(1340),i=o(3111).trim,l=o(1361),c=n.parseInt,d=n.Symbol,u=d&&d.iterator,h=/^[+-]?0x/i,p=a(h.exec),m=8!==c(l+"08")||22!==c(l+"0x16")||u&&!r((function(){c(Object(u))}));e.exports=m?function(e,t){var o=i(s(e));return c(o,t>>>0||(p(h,o)?16:10))}:c},30:(e,t,o)=>{var n,r=o(9670),a=o(6048),s=o(748),i=o(3501),l=o(490),c=o(317),d=o(6200),u="prototype",h="script",p=d("IE_PROTO"),m=function(){},g=function(e){return"<"+h+">"+e+"</"+h+">"},f=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,o;y="undefined"!=typeof document?document.domain&&n?f(n):(t=c("iframe"),o="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(o),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):f(n);for(var r=s.length;r--;)delete y[u][s[r]];return y()};i[p]=!0,e.exports=Object.create||function(e,t){var o;return null!==e?(m[u]=r(e),o=new m,m[u]=null,o[p]=e):o=y(),void 0===t?o:a.f(o,t)}},6048:(e,t,o)=>{var n=o(9781),r=o(3353),a=o(3070),s=o(9670),i=o(5656),l=o(1956);t.f=n&&!r?Object.defineProperties:function(e,t){s(e);for(var o,n=i(t),r=l(t),c=r.length,d=0;c>d;)a.f(e,o=r[d++],n[o]);return e}},3070:(e,t,o)=>{var n=o(9781),r=o(4664),a=o(3353),s=o(9670),i=o(4948),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",h="configurable",p="writable";t.f=n?a?function(e,t,o){if(s(e),t=i(t),s(o),"function"==typeof e&&"prototype"===t&&"value"in o&&p in o&&!o[p]){var n=d(e,t);n&&n[p]&&(e[t]=o.value,o={configurable:h in o?o[h]:n[h],enumerable:u in o?o[u]:n[u],writable:!1})}return c(e,t,o)}:c:function(e,t,o){if(s(e),t=i(t),s(o),r)try{return c(e,t,o)}catch(e){}if("get"in o||"set"in o)throw l("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},1236:(e,t,o)=>{var n=o(9781),r=o(6916),a=o(5296),s=o(9114),i=o(5656),l=o(4948),c=o(2597),d=o(4664),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=i(e),t=l(t),d)try{return u(e,t)}catch(e){}if(c(e,t))return s(!r(a.f,e,t),e[t])}},8006:(e,t,o)=>{var n=o(6324),r=o(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},7976:(e,t,o)=>{var n=o(1702);e.exports=n({}.isPrototypeOf)},6324:(e,t,o)=>{var n=o(1702),r=o(2597),a=o(5656),s=o(1318).indexOf,i=o(3501),l=n([].push);e.exports=function(e,t){var o,n=a(e),c=0,d=[];for(o in n)!r(i,o)&&r(n,o)&&l(d,o);for(;t.length>c;)r(n,o=t[c++])&&(~s(d,o)||l(d,o));return d}},1956:(e,t,o)=>{var n=o(6324),r=o(748);e.exports=Object.keys||function(e){return n(e,r)}},5296:(e,t)=>{"use strict";var o={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!o.call({1:2},1);t.f=r?function(e){var t=n(this,e);return!!t&&t.enumerable}:o},288:(e,t,o)=>{"use strict";var n=o(1694),r=o(648);e.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},2140:(e,t,o)=>{var n=o(6916),r=o(614),a=o(111),s=TypeError;e.exports=function(e,t){var o,i;if("string"===t&&r(o=e.toString)&&!a(i=n(o,e)))return i;if(r(o=e.valueOf)&&!a(i=n(o,e)))return i;if("string"!==t&&r(o=e.toString)&&!a(i=n(o,e)))return i;throw s("Can't convert object to primitive value")}},3887:(e,t,o)=>{var n=o(5005),r=o(1702),a=o(8006),s=o(5181),i=o(9670),l=r([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(i(e)),o=s.f;return o?l(t,o(e)):t}},4488:(e,t,o)=>{var n=o(8554),r=TypeError;e.exports=function(e){if(n(e))throw r("Can't call method on "+e);return e}},6200:(e,t,o)=>{var n=o(2309),r=o(9711),a=n("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},5465:(e,t,o)=>{var n=o(7854),r=o(3072),a="__core-js_shared__",s=n[a]||r(a,{});e.exports=s},2309:(e,t,o)=>{var n=o(1913),r=o(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.1",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"})},3111:(e,t,o)=>{var n=o(1702),r=o(4488),a=o(1340),s=o(1361),i=n("".replace),l=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),d=function(e){return function(t){var o=a(r(t));return 1&e&&(o=i(o,l,"")),2&e&&(o=i(o,c,"$1")),o}};e.exports={start:d(1),end:d(2),trim:d(3)}},6293:(e,t,o)=>{var n=o(7392),r=o(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:(e,t,o)=>{var n=o(9303),r=Math.max,a=Math.min;e.exports=function(e,t){var o=n(e);return o<0?r(o+t,0):a(o,t)}},5656:(e,t,o)=>{var n=o(8361),r=o(4488);e.exports=function(e){return n(r(e))}},9303:(e,t,o)=>{var n=o(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},7466:(e,t,o)=>{var n=o(9303),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},7908:(e,t,o)=>{var n=o(4488),r=Object;e.exports=function(e){return r(n(e))}},7593:(e,t,o)=>{var n=o(6916),r=o(111),a=o(2190),s=o(8173),i=o(2140),l=o(5112),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var o,l=s(e,d);if(l){if(void 0===t&&(t="default"),o=n(l,e,t),!r(o)||a(o))return o;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),i(e,t)}},4948:(e,t,o)=>{var n=o(7593),r=o(2190);e.exports=function(e){var t=n(e,"string");return r(t)?t:t+""}},1694:(e,t,o)=>{var n={};n[o(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},1340:(e,t,o)=>{var n=o(648),r=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,o)=>{var n=o(1702),r=0,a=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+a,36)}},3307:(e,t,o)=>{var n=o(6293);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,o)=>{var n=o(9781),r=o(7293);e.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(e,t,o)=>{var n=o(7854),r=o(614),a=n.WeakMap;e.exports=r(a)&&/native code/.test(String(a))},5112:(e,t,o)=>{var n=o(7854),r=o(2309),a=o(2597),s=o(9711),i=o(6293),l=o(3307),c=n.Symbol,d=r("wks"),u=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return a(d,e)||(d[e]=i&&a(c,e)?c[e]:u("Symbol."+e)),d[e]}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9554:(e,t,o)=>{"use strict";var n=o(2109),r=o(8533);n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},6699:(e,t,o)=>{"use strict";var n=o(2109),r=o(1318).includes,a=o(7293),s=o(1223);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},1249:(e,t,o)=>{"use strict";var n=o(2109),r=o(2092).map;n({target:"Array",proto:!0,forced:!o(1194)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},1539:(e,t,o)=>{var n=o(1694),r=o(8052),a=o(288);n||r(Object.prototype,"toString",a,{unsafe:!0})},1058:(e,t,o)=>{var n=o(2109),r=o(3009);n({global:!0,forced:parseInt!=r},{parseInt:r})},2023:(e,t,o)=>{"use strict";var n=o(2109),r=o(1702),a=o(3929),s=o(4488),i=o(1340),l=o(4964),c=r("".indexOf);n({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(i(s(this)),i(a(e)),arguments.length>1?arguments[1]:void 0)}})},4747:(e,t,o)=>{var n=o(7854),r=o(8324),a=o(8509),s=o(8533),i=o(8880),l=function(e){if(e&&e.forEach!==s)try{i(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in r)r[c]&&l(n[c]&&n[c].prototype);l(a)},9748:(e,t,o)=>{"use strict";o.d(t,{jz:()=>N});var n,r,a,s=o(6400),i=[],l=[],c=s.YM.__b,d=s.YM.__r,u=s.YM.diffed,h=s.YM.__c,p=s.YM.unmount;function m(){for(var e;e=i.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(y),e.__H.__h.forEach(b),e.__H.__h=[]}catch(t){e.__H.__h=[],s.YM.__e(t,e.__v)}}s.YM.__b=function(e){n=null,c&&c(e)},s.YM.__r=function(e){d&&d(e),0;var t=(n=e.__c).__H;t&&(r===n?(t.__h=[],n.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=l,e.__N=e.i=void 0}))):(t.__h.forEach(y),t.__h.forEach(b),t.__h=[])),r=n},s.YM.diffed=function(e){u&&u(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==i.push(t)&&a===s.YM.requestAnimationFrame||((a=s.YM.requestAnimationFrame)||f)(m)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==l&&(e.__=e.__V),e.i=void 0,e.__V=l}))),r=n=null},s.YM.__c=function(e,t){t.some((function(e){try{e.__h.forEach(y),e.__h=e.__h.filter((function(e){return!e.__||b(e)}))}catch(o){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.YM.__e(o,e.__v)}})),h&&h(e,t)},s.YM.unmount=function(e){p&&p(e);var t,o=e.__c;o&&o.__H&&(o.__H.__.forEach((function(e){try{y(e)}catch(e){t=e}})),o.__H=void 0,t&&s.YM.__e(t,o.__v))};var g="function"==typeof requestAnimationFrame;function f(e){var t,o=function(){clearTimeout(n),g&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(o,100);g&&(t=requestAnimationFrame(o))}function y(e){var t=n,o=e.__c;"function"==typeof o&&(e.__c=void 0,o()),n=t}function b(e){var t=n;e.__c=e.__(),n=t}function v(e,t){for(var o in t)e[o]=t[o];return e}function _(e,t){for(var o in e)if("__source"!==o&&!(o in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function w(e){this.props=e}(w.prototype=new s.wA).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(e,t){return _(this.props,e)||_(this.state,t)};var k=s.YM.__b;s.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),k&&k(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var x=function(e,t){return null==e?null:(0,s.bR)((0,s.bR)(e).map(t))},S=(s.bR,s.YM.__e);s.YM.__e=function(e,t,o,n){if(e.then)for(var r,a=t;a=a.__;)if((r=a.__c)&&r.__c)return null==t.__e&&(t.__e=o.__e,t.__k=o.__k),r.__c(e,t);S(e,t,o,n)};var C=s.YM.unmount;function E(e,t,o){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=v({},e)).__c&&(e.__c.__P===o&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return E(e,t,o)}))),e}function D(e,t,o){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return D(e,t,o)})),e.__c&&e.__c.__P===t&&(e.__e&&o.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=o)),e}function A(){this.__u=0,this.t=null,this.__b=null}function T(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function O(){this.u=null,this.o=null}s.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),C&&C(e)},(A.prototype=new s.wA).__c=function(e,t){var o=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(o);var r=T(n.__v),a=!1,s=function(){a||(a=!0,o.__R=null,r?r(i):i())};o.__R=s;var i=function(){if(!--n.__u){if(n.state.__a){var e=n.state.__a;n.__v.__k[0]=D(e,e.__c.__P,e.__c.__O)}var t;for(n.setState({__a:n.__b=null});t=n.t.pop();)t.forceUpdate()}},l=!0===t.__h;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(s,s)},A.prototype.componentWillUnmount=function(){this.t=[]},A.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=E(this.__b,o,n.__O=n.__P)}this.__b=null}var r=t.__a&&(0,s.az)(s.HY,null,e.fallback);return r&&(r.__h=null),[(0,s.az)(s.HY,null,t.__a?null:e.children),r]};var M=function(e,t,o){if(++o[1]===o[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(o=e.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;e.u=o=o[2]}};function z(e){return this.getChildContext=function(){return e.context},e.children}function R(e){var t=this,o=e.i;t.componentWillUnmount=function(){(0,s.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==o&&t.componentWillUnmount(),e.__v?(t.l||(t.i=o,t.l={nodeType:1,parentNode:o,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,o){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,s.sY)((0,s.az)(z,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function N(e,t){var o=(0,s.az)(R,{__v:e,i:t});return o.containerInfo=t,o}(O.prototype=new s.wA).__a=function(e){var t=this,o=T(t.__v),n=t.o.get(e);return n[0]++,function(r){var a=function(){t.props.revealOrder?(n.push(r),M(t,e,n)):r()};o?o(a):a()}},O.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,s.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var o=t.length;o--;)this.o.set(t[o],this.u=[1,0,this.u]);return e.children},O.prototype.componentDidUpdate=O.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,o){M(e,o,t)}))};var I="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,L=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,P="undefined"!=typeof document,B=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};s.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(s.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var H=s.YM.event;function F(){}function V(){return this.cancelBubble}function j(){return this.defaultPrevented}s.YM.event=function(e){return H&&(e=H(e)),e.persist=F,e.isPropagationStopped=V,e.isDefaultPrevented=j,e.nativeEvent=e};var U={configurable:!0,get:function(){return this.class}},W=s.YM.vnode;s.YM.vnode=function(e){var t=e.type,o=e.props,n=o;if("string"==typeof t){var r=-1===t.indexOf("-");for(var a in n={},o){var i=o[a];P&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in o&&null==i||("defaultValue"===a&&"value"in o&&null==o.value?a="value":"download"===a&&!0===i?i="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!B(o.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&L.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===i&&(i=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=i)}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=(0,s.bR)(o.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=(0,s.bR)(o.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),e.props=n,o.class!=o.className&&(U.enumerable="className"in o,null!=o.className&&(n.class=o.className),Object.defineProperty(n,"className",U))}e.$$typeof=I,W&&W(e)};var Z=s.YM.__r;s.YM.__r=function(e){Z&&Z(e),e.__c};s.HY;s.az,s.kr,s.Vf,s.HY,s.wA},6400:(e,t,o)=>{"use strict";o.d(t,{HY:()=>v,Tm:()=>U,Vf:()=>b,YM:()=>r,ZB:()=>j,az:()=>f,bR:()=>z,kr:()=>W,sY:()=>V,wA:()=>S});var n,r,a,s,i,l,c,d,u={},h=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(e,t){for(var o in t)e[o]=t[o];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,t,o){var r,a,s,i={};for(s in t)"key"==s?r=t[s]:"ref"==s?a=t[s]:i[s]=t[s];if(arguments.length>2&&(i.children=arguments.length>3?n.call(arguments,2):o),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===i[s]&&(i[s]=e.defaultProps[s]);return y(e,i,r,a,null)}function y(e,t,o,n,s){var i={type:e,props:t,key:o,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++a:s};return null==s&&null!=r.vnode&&r.vnode(i),i}function b(){return{current:null}}function v(e){return e.children}function _(e,t,o){"-"===t[0]?e.setProperty(t,null==o?"":o):e[t]=null==o?"":"number"!=typeof o||p.test(t)?o:o+"px"}function w(e,t,o,n,r){var a;e:if("style"===t)if("string"==typeof o)e.style.cssText=o;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)o&&t in o||_(e.style,t,"");if(o)for(t in o)n&&o[t]===n[t]||_(e.style,t,o[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=o,o?n||e.addEventListener(t,a?x:k,a):e.removeEventListener(t,a?x:k,a);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==o?"":o;break e}catch(e){}"function"==typeof o||(null==o||!1===o&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,o))}}function k(e){s=!0;try{return this.l[e.type+!1](r.event?r.event(e):e)}finally{s=!1}}function x(e){s=!0;try{return this.l[e.type+!0](r.event?r.event(e):e)}finally{s=!1}}function S(e,t){this.props=e,this.context=t}function C(e,t){if(null==t)return e.__?C(e.__,e.__.__k.indexOf(e)+1):null;for(var o;t<e.__k.length;t++)if(null!=(o=e.__k[t])&&null!=o.__e)return o.__e;return"function"==typeof e.type?C(e):null}function E(e){var t,o;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(o=e.__k[t])&&null!=o.__e){e.__e=e.__c.base=o.__e;break}return E(e)}}function D(e){s?setTimeout(e):c(e)}function A(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!T.__r++||l!==r.debounceRendering)&&((l=r.debounceRendering)||D)(T)}function T(){var e,t,o,n,r,a,s,l;for(i.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=i.shift();)e.__d&&(t=i.length,n=void 0,r=void 0,s=(a=(o=e).__v).__e,(l=o.__P)&&(n=[],(r=m({},a)).__v=a.__v+1,I(l,a,r,o.__n,void 0!==l.ownerSVGElement,null!=a.__h?[s]:null,n,null==s?C(a):s,a.__h),L(n,a),a.__e!=s&&E(a)),i.length>t&&i.sort((function(e,t){return e.__v.__b-t.__v.__b})));T.__r=0}function O(e,t,o,n,r,a,s,i,l,c){var d,p,m,g,f,b,_,w=n&&n.__k||h,k=w.length;for(o.__k=[],d=0;d<t.length;d++)if(null!=(g=o.__k[d]=null==(g=t[d])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g||"bigint"==typeof g?y(null,g,null,null,g):Array.isArray(g)?y(v,{children:g},null,null,null):g.__b>0?y(g.type,g.props,g.key,g.ref?g.ref:null,g.__v):g)){if(g.__=o,g.__b=o.__b+1,null===(m=w[d])||m&&g.key==m.key&&g.type===m.type)w[d]=void 0;else for(p=0;p<k;p++){if((m=w[p])&&g.key==m.key&&g.type===m.type){w[p]=void 0;break}m=null}I(e,g,m=m||u,r,a,s,i,l,c),f=g.__e,(p=g.ref)&&m.ref!=p&&(_||(_=[]),m.ref&&_.push(m.ref,null,g),_.push(p,g.__c||f,g)),null!=f?(null==b&&(b=f),"function"==typeof g.type&&g.__k===m.__k?g.__d=l=M(g,l,e):l=R(e,g,m,w,f,l),"function"==typeof o.type&&(o.__d=l)):l&&m.__e==l&&l.parentNode!=e&&(l=C(m))}for(o.__e=b,d=k;d--;)null!=w[d]&&("function"==typeof o.type&&null!=w[d].__e&&w[d].__e==o.__d&&(o.__d=N(n).nextSibling),H(w[d],w[d]));if(_)for(d=0;d<_.length;d++)B(_[d],_[++d],_[++d])}function M(e,t,o){for(var n,r=e.__k,a=0;r&&a<r.length;a++)(n=r[a])&&(n.__=e,t="function"==typeof n.type?M(n,t,o):R(o,n,n,r,n.__e,t));return t}function z(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){z(e,t)})):t.push(e)),t}function R(e,t,o,n,r,a){var s,i,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==o||r!=a||null==r.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(r),s=null;else{for(i=a,l=0;(i=i.nextSibling)&&l<n.length;l+=1)if(i==r)break e;e.insertBefore(r,a),s=a}return void 0!==s?s:r.nextSibling}function N(e){var t,o,n;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((o=e.__k[t])&&(n=N(o)))return n;return null}function I(e,t,o,n,a,s,i,l,c){var d,u,h,p,g,f,y,b,_,w,k,x,C,E,D,A=t.type;if(void 0!==t.constructor)return null;null!=o.__h&&(c=o.__h,l=t.__e=o.__e,t.__h=null,s=[l]),(d=r.__b)&&d(t);try{e:if("function"==typeof A){if(b=t.props,_=(d=A.contextType)&&n[d.__c],w=d?_?_.props.value:d.__:n,o.__c?y=(u=t.__c=o.__c).__=u.__E:("prototype"in A&&A.prototype.render?t.__c=u=new A(b,w):(t.__c=u=new S(b,w),u.constructor=A,u.render=F),_&&_.sub(u),u.props=b,u.state||(u.state={}),u.context=w,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=A.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=m({},u.__s)),m(u.__s,A.getDerivedStateFromProps(b,u.__s))),p=u.props,g=u.state,u.__v=t,h)null==A.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==A.getDerivedStateFromProps&&b!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(b,w),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(b,u.__s,w)||t.__v===o.__v){for(t.__v!==o.__v&&(u.props=b,u.state=u.__s,u.__d=!1),t.__e=o.__e,t.__k=o.__k,t.__k.forEach((function(e){e&&(e.__=t)})),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[],u.__h.length&&i.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(b,u.__s,w),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,g,f)}))}if(u.context=w,u.props=b,u.__P=e,x=r.__r,C=0,"prototype"in A&&A.prototype.render){for(u.state=u.__s,u.__d=!1,x&&x(t),d=u.render(u.props,u.state,u.context),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[]}else do{u.__d=!1,x&&x(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++C<25);u.state=u.__s,null!=u.getChildContext&&(n=m(m({},n),u.getChildContext())),h||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(p,g)),D=null!=d&&d.type===v&&null==d.key?d.props.children:d,O(e,Array.isArray(D)?D:[D],t,o,n,a,s,i,l,c),u.base=t.__e,t.__h=null,u.__h.length&&i.push(u),y&&(u.__E=u.__=null),u.__e=!1}else null==s&&t.__v===o.__v?(t.__k=o.__k,t.__e=o.__e):t.__e=P(o.__e,t,o,n,a,s,i,c);(d=r.diffed)&&d(t)}catch(e){t.__v=null,(c||null!=s)&&(t.__e=l,t.__h=!!c,s[s.indexOf(l)]=null),r.__e(e,t,o)}}function L(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function P(e,t,o,r,a,s,i,l){var c,d,h,p=o.props,m=t.props,f=t.type,y=0;if("svg"===f&&(a=!0),null!=s)for(;y<s.length;y++)if((c=s[y])&&"setAttribute"in c==!!f&&(f?c.localName===f:3===c.nodeType)){e=c,s[y]=null;break}if(null==e){if(null===f)return document.createTextNode(m);e=a?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,m.is&&m),s=null,l=!1}if(null===f)p===m||l&&e.data===m||(e.data=m);else{if(s=s&&n.call(e.childNodes),d=(p=o.props||u).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!l){if(null!=s)for(p={},y=0;y<e.attributes.length;y++)p[e.attributes[y].name]=e.attributes[y].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}if(function(e,t,o,n,r){var a;for(a in o)"children"===a||"key"===a||a in t||w(e,a,null,o[a],n);for(a in t)r&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||o[a]===t[a]||w(e,a,t[a],o[a],n)}(e,m,p,a,l),h)t.__k=[];else if(y=t.props.children,O(e,Array.isArray(y)?y:[y],t,o,r,a&&"foreignObject"!==f,s,i,s?s[0]:o.__k&&C(o,0),l),null!=s)for(y=s.length;y--;)null!=s[y]&&g(s[y]);l||("value"in m&&void 0!==(y=m.value)&&(y!==e.value||"progress"===f&&!y||"option"===f&&y!==p.value)&&w(e,"value",y,p.value,!1),"checked"in m&&void 0!==(y=m.checked)&&y!==e.checked&&w(e,"checked",y,p.checked,!1))}return e}function B(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,o)}}function H(e,t,o){var n,a;if(r.unmount&&r.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||B(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){r.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&H(n[a],t,o||"function"!=typeof e.type);o||null==e.__e||g(e.__e),e.__=e.__e=e.__d=void 0}function F(e,t,o){return this.constructor(e,o)}function V(e,t,o){var a,s,i;r.__&&r.__(e,t),s=(a="function"==typeof o)?null:o&&o.__k||t.__k,i=[],I(t,e=(!a&&o||t).__k=f(v,null,[e]),s||u,u,void 0!==t.ownerSVGElement,!a&&o?[o]:s?null:t.firstChild?n.call(t.childNodes):null,i,!a&&o?o:s?s.__e:t.firstChild,a),L(i,e)}function j(e,t){V(e,t,j)}function U(e,t,o){var r,a,s,i=m({},e.props);for(s in t)"key"==s?r=t[s]:"ref"==s?a=t[s]:i[s]=t[s];return arguments.length>2&&(i.children=arguments.length>3?n.call(arguments,2):o),y(e.type,i,r||e.key,a||e.ref,null)}function W(e,t){var o={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var o,n;return this.getChildContext||(o=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&o.some((function(e){e.__e=!0,A(e)}))},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}),e.children}};return o.Provider.__=o.Consumer.contextType=o}n=h.slice,r={__e:function(e,t,o,n){for(var r,a,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&null!=a.getDerivedStateFromError&&(r.setState(a.getDerivedStateFromError(e)),s=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,n||{}),s=r.__d),s)return r.__E=r}catch(t){e=t}throw e}},a=0,s=!1,S.prototype.setState=function(e,t){var o;o=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},o),this.props)),e&&m(o,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},S.prototype.render=v,i=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,T.__r=0,d=0},8785:()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},6890:(e,t,o)=>{o(8785)},7490:(e,t,o)=>{o(3557)},3557:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(o=r=e,n=(a=String).prototype,n.isPrototypeOf(o)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var o,n;var r,a,s})(t)===e,o=e=>t=>typeof t===e,n=e=>t=>e===t,r=t("string"),a=t("object"),s=t("array"),i=n(null),l=o("boolean"),c=n(void 0),d=e=>!(e=>null==e)(e),u=o("function"),h=o("number"),p=()=>{},m=e=>()=>e,g=e=>e,f=(e,t)=>e===t;function y(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const b=e=>t=>!e(t),v=e=>e(),_=m(!1),w=m(!0);class k{constructor(e,t){this.tag=e,this.value=t}static some(e){return new k(!0,e)}static none(){return k.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?k.some(e(this.value)):k.none()}bind(e){return this.tag?e(this.value):k.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:k.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(!1);const x=Array.prototype.slice,S=Array.prototype.indexOf,C=Array.prototype.push,E=(e,t)=>{return o=e,n=t,S.call(o,n)>-1;var o,n},D=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return!0}return!1},A=(e,t)=>{const o=[];for(let n=0;n<e;n++)o.push(t(n));return o},T=(e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n},O=(e,t)=>{for(let o=0,n=e.length;o<n;o++){t(e[o],o)}},M=(e,t)=>{const o=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?o:n).push(a)}return{pass:o,fail:n}},z=(e,t)=>{const o=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t(r,n)&&o.push(r)}return o},R=(e,t,o)=>(((e,t)=>{for(let o=e.length-1;o>=0;o--)t(e[o],o)})(e,((e,n)=>{o=t(o,e,n)})),o),N=(e,t,o)=>(O(e,((e,n)=>{o=t(o,e,n)})),o),I=(e,t)=>((e,t,o)=>{for(let n=0,r=e.length;n<r;n++){const r=e[n];if(t(r,n))return k.some(r);if(o(r,n))break}return k.none()})(e,t,_),L=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return k.some(o)}return k.none()},P=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!s(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);C.apply(t,e[o])}return t},B=(e,t)=>P(T(e,t)),H=(e,t)=>{for(let o=0,n=e.length;o<n;++o){if(!0!==t(e[o],o))return!1}return!0},F=(e,t)=>{const o={};for(let n=0,r=e.length;n<r;n++){const r=e[n];o[String(r)]=t(r,n)}return o},V=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none(),j=e=>V(e,0),U=e=>V(e,e.length-1),W=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return k.none()},Z=Object.keys,$=Object.hasOwnProperty,q=(e,t)=>{const o=Z(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}},Y=(e,t)=>G(e,((e,o)=>({k:o,v:t(e,o)}))),G=(e,t)=>{const o={};return q(e,((e,n)=>{const r=t(e,n);o[r.k]=r.v})),o},K=(e,t)=>{const o={};return((e,t,o,n)=>{q(e,((e,r)=>{(t(e,r)?o:n)(e,r)}))})(e,t,(e=>(t,o)=>{e[o]=t})(o),p),o},X=(e,t)=>{const o=[];return q(e,((e,n)=>{o.push(t(e,n))})),o},Q=e=>X(e,g),J=(e,t)=>$.call(e,t),ee="undefined"!=typeof window?window:Function("return this;")(),te=(e,t)=>((e,t)=>{let o=null!=t?t:ee;for(let t=0;t<e.length&&null!=o;++t)o=o[e[t]];return o})(e.split("."),t),oe=(e,t)=>{const o=((e,t)=>te(e,t))(e,t);if(null==o)throw new Error(e+" not available on this browser");return o},ne=Object.getPrototypeOf,re=e=>{const t=te("ownerDocument.defaultView",e);return a(e)&&((e=>oe("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ne(e).constructor.name))},ae=e=>e.dom.nodeName.toLowerCase(),se=e=>e.dom.nodeType,ie=e=>t=>se(t)===e,le=e=>8===se(e)||"#comment"===ae(e),ce=e=>de(e)&&re(e.dom),de=ie(1),ue=ie(3),he=ie(9),pe=ie(11),me=e=>t=>de(t)&&ae(t)===e,ge=(e,t,o)=>{if(!(r(o)||l(o)||h(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},fe=(e,t,o)=>{ge(e.dom,t,o)},ye=(e,t)=>{const o=e.dom;q(t,((e,t)=>{ge(o,t,e)}))},be=(e,t)=>{const o=e.dom.getAttribute(t);return null===o?void 0:o},ve=(e,t)=>k.from(be(e,t)),_e=(e,t)=>{e.dom.removeAttribute(t)},we=e=>N(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ke=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},xe={fromHtml:(e,t)=>{const o=(t||document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return ke(o.childNodes[0])},fromTag:(e,t)=>{const o=(t||document).createElement(e);return ke(o)},fromText:(e,t)=>{const o=(t||document).createTextNode(e);return ke(o)},fromDom:ke,fromPoint:(e,t,o)=>k.from(e.dom.elementFromPoint(t,o)).map(ke)},Se=(e,t)=>{const o=e.dom;if(1!==o.nodeType)return!1;{const e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Ce=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ee=(e,t)=>{const o=void 0===t?document:t.dom;return Ce(o)?k.none():k.from(o.querySelector(e)).map(xe.fromDom)},De=(e,t)=>e.dom===t.dom,Ae=(e,t)=>{const o=e.dom,n=t.dom;return o!==n&&o.contains(n)},Te=Se,Oe=e=>xe.fromDom(e.dom.ownerDocument),Me=e=>he(e)?e:Oe(e),ze=e=>k.from(e.dom.parentNode).map(xe.fromDom),Re=e=>k.from(e.dom.parentElement).map(xe.fromDom),Ne=(e,t)=>{const o=u(t)?t:_;let n=e.dom;const r=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=xe.fromDom(e);if(r.push(t),!0===o(t))break;n=e}return r},Ie=e=>k.from(e.dom.previousSibling).map(xe.fromDom),Le=e=>k.from(e.dom.nextSibling).map(xe.fromDom),Pe=e=>T(e.dom.childNodes,xe.fromDom),Be=(e,t)=>{const o=e.dom.childNodes;return k.from(o[t]).map(xe.fromDom)},He=(e,t)=>{ze(e).each((o=>{o.dom.insertBefore(t.dom,e.dom)}))},Fe=(e,t)=>{Le(e).fold((()=>{ze(e).each((e=>{je(e,t)}))}),(e=>{He(e,t)}))},Ve=(e,t)=>{const o=(e=>Be(e,0))(e);o.fold((()=>{je(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))},je=(e,t)=>{e.dom.appendChild(t.dom)},Ue=(e,t)=>{He(e,t),je(t,e)},We=(e,t)=>{O(t,((o,n)=>{const r=0===n?e:t[n-1];Fe(r,o)}))},Ze=(e,t)=>{O(t,(t=>{je(e,t)}))},$e=e=>{e.dom.textContent="",O(Pe(e),(e=>{qe(e)}))},qe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ye=e=>{const t=Pe(e);t.length>0&&We(e,t),qe(e)},Ge=(e,t)=>xe.fromDom(e.dom.cloneNode(t)),Ke=e=>Ge(e,!1),Xe=e=>Ge(e,!0),Qe=(e,t)=>{const o=xe.fromTag(t),n=we(e);return ye(o,n),o},Je=["tfoot","thead","tbody","colgroup"],et=(e,t,o)=>({element:e,rowspan:t,colspan:o}),tt=(e,t,o)=>({element:e,cells:t,section:o}),ot=(e,t,o)=>({element:e,isNew:t,isLocked:o}),nt=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n}),rt=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode),at=m(rt),st=rt?e=>xe.fromDom(e.dom.getRootNode()):Me,it=e=>{const t=st(e);return pe(o=t)&&d(o.dom.host)?k.some(t):k.none();var o},lt=e=>xe.fromDom(e.dom.host),ct=e=>d(e.dom.shadowRoot),dt=e=>{const t=ue(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const o=t.ownerDocument;return it(xe.fromDom(t)).fold((()=>o.body.contains(t)),(n=dt,r=lt,e=>n(r(e))));var n,r},ut=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return xe.fromDom(t)},ht=(e,t)=>{let o=[];return O(Pe(e),(e=>{t(e)&&(o=o.concat([e])),o=o.concat(ht(e,t))})),o},pt=(e,t,o)=>((e,t,o)=>z(Ne(e,o),t))(e,(e=>Se(e,t)),o),mt=(e,t)=>((e,t)=>z(Pe(e),t))(e,(e=>Se(e,t))),gt=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return Ce(o)?[]:T(o.querySelectorAll(e),xe.fromDom)})(t,e);var ft=(e,t,o,n,r)=>e(o,n)?k.some(o):u(r)&&r(o)?k.none():t(o,n,r);const yt=(e,t,o)=>{let n=e.dom;const r=u(o)?o:_;for(;n.parentNode;){n=n.parentNode;const e=xe.fromDom(n);if(t(e))return k.some(e);if(r(e))break}return k.none()},bt=(e,t,o)=>ft(((e,t)=>t(e)),yt,e,t,o),vt=(e,t,o)=>yt(e,(e=>Se(e,t)),o),_t=(e,t)=>((e,t)=>I(e.dom.childNodes,(e=>t(xe.fromDom(e)))).map(xe.fromDom))(e,(e=>Se(e,t))),wt=(e,t)=>Ee(t,e),kt=(e,t,o)=>ft(((e,t)=>Se(e,t)),vt,e,t,o),xt=(e,t,o=f)=>e.exists((e=>o(e,t))),St=e=>{const t=[],o=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(o);return t},Ct=(e,t)=>e?k.some(t):k.none(),Et=(e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t,Dt=(e,t,o=0,n)=>{const r=e.indexOf(t,o);return-1!==r&&(!!c(n)||r+t.length<=n)},At=(e,t)=>Et(e,t,0),Tt=(e,t)=>Et(e,t,e.length-t.length),Ot=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),Mt=e=>e.length>0,zt=e=>void 0!==e.style&&u(e.style.getPropertyValue),Rt=(e,t,o)=>{if(!r(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);zt(e)&&e.style.setProperty(t,o)},Nt=(e,t,o)=>{const n=e.dom;Rt(n,t,o)},It=(e,t)=>{const o=e.dom;q(t,((e,t)=>{Rt(o,t,e)}))},Lt=(e,t)=>{const o=e.dom,n=window.getComputedStyle(o).getPropertyValue(t);return""!==n||dt(e)?n:Pt(o,t)},Pt=(e,t)=>zt(e)?e.style.getPropertyValue(t):"",Bt=(e,t)=>{const o=e.dom,n=Pt(o,t);return k.from(n).filter((e=>e.length>0))},Ht=(e,t)=>{((e,t)=>{zt(e)&&e.style.removeProperty(t)})(e.dom,t),xt(ve(e,"style").map(Ot),"")&&_e(e,"style")},Ft=(e,t,o=0)=>ve(e,t).map((e=>parseInt(e,10))).getOr(o),Vt=(e,t)=>Ft(e,t,1),jt=e=>me("col")(e)?Ft(e,"span",1)>1:Vt(e,"colspan")>1,Ut=e=>Vt(e,"rowspan")>1,Wt=(e,t)=>parseInt(Lt(e,t),10),Zt=m(10),$t=m(10),qt=(e,t)=>Yt(e,t,w),Yt=(e,t,o)=>B(Pe(e),(e=>Se(e,t)?o(e)?[e]:[]:Yt(e,t,o))),Gt=(e,t)=>((e,t,o=_)=>o(t)?k.none():E(e,ae(t))?k.some(t):vt(t,e.join(","),(e=>Se(e,"table")||o(e))))(["td","th"],e,t),Kt=e=>qt(e,"th,td"),Xt=e=>Se(e,"colgroup")?mt(e,"col"):B(eo(e),(e=>mt(e,"col"))),Qt=(e,t)=>kt(e,"table",t),Jt=e=>qt(e,"tr"),eo=e=>Qt(e).fold(m([]),(e=>mt(e,"colgroup"))),to=(e,t)=>T(e,(e=>{if("colgroup"===ae(e)){const t=T(Xt(e),(e=>{const t=Ft(e,"span",1);return et(e,1,t)}));return tt(e,t,"colgroup")}{const o=T(Kt(e),(e=>{const t=Ft(e,"rowspan",1),o=Ft(e,"colspan",1);return et(e,t,o)}));return tt(e,o,t(e))}})),oo=e=>ze(e).map((e=>{const t=ae(e);return(e=>E(Je,e))(t)?t:"tbody"})).getOr("tbody"),no=e=>{const t=Jt(e),o=[...eo(e),...t];return to(o,oo)},ro=e=>{let t,o=!1;return(...n)=>(o||(o=!0,t=e.apply(null,n)),t)},ao=()=>so(0,0),so=(e,t)=>({major:e,minor:t}),io={nu:so,detect:(e,t)=>{const o=String(t).toLowerCase();return 0===e.length?ao():((e,t)=>{const o=((e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t))return n}})(e,t);if(!o)return{major:0,minor:0};const n=e=>Number(t.replace(o,"$"+e));return so(n(1),n(2))})(e,o)},unknown:ao},lo=(e,t)=>{const o=String(t).toLowerCase();return I(e,(e=>e.search(o)))},co=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,uo=e=>t=>Dt(t,e),ho=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Dt(e,"edge/")&&Dt(e,"chrome")&&Dt(e,"safari")&&Dt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,co],search:e=>Dt(e,"chrome")&&!Dt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Dt(e,"msie")||Dt(e,"trident")},{name:"Opera",versionRegexes:[co,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:uo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:uo("firefox")},{name:"Safari",versionRegexes:[co,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Dt(e,"safari")||Dt(e,"mobile/"))&&Dt(e,"applewebkit")}],po=[{name:"Windows",search:uo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Dt(e,"iphone")||Dt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:uo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:uo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:uo("linux"),versionRegexes:[]},{name:"Solaris",search:uo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:uo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:uo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],mo={browsers:m(ho),oses:m(po)},go="Edge",fo="Chromium",yo="Opera",bo="Firefox",vo="Safari",_o=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isEdge:n(go),isChromium:n(fo),isIE:n("IE"),isOpera:n(yo),isFirefox:n(bo),isSafari:n(vo)}},wo={unknown:()=>_o({current:void 0,version:io.unknown()}),nu:_o,edge:m(go),chromium:m(fo),ie:m("IE"),opera:m(yo),firefox:m(bo),safari:m(vo)},ko="Windows",xo="Android",So="Linux",Co="macOS",Eo="Solaris",Do="FreeBSD",Ao="ChromeOS",To=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isWindows:n(ko),isiOS:n("iOS"),isAndroid:n(xo),isMacOS:n(Co),isLinux:n(So),isSolaris:n(Eo),isFreeBSD:n(Do),isChromeOS:n(Ao)}},Oo={unknown:()=>To({current:void 0,version:io.unknown()}),nu:To,windows:m(ko),ios:m("iOS"),android:m(xo),linux:m(So),macos:m(Co),solaris:m(Eo),freebsd:m(Do),chromeos:m(Ao)},Mo=(e,t,o)=>{const n=mo.browsers(),r=mo.oses(),a=t.bind((e=>((e,t)=>W(t.brands,(t=>{const o=t.brand.toLowerCase();return I(e,(e=>{var t;return o===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:io.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>lo(e,t).map((e=>{const o=io.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(n,e))).fold(wo.unknown,wo.nu),s=((e,t)=>lo(e,t).map((e=>{const o=io.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(r,e).fold(Oo.unknown,Oo.nu),i=((e,t,o,n)=>{const r=e.isiOS()&&!0===/ipad/i.test(o),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||n("(pointer:coarse)"),l=r||!a&&s&&n("(min-device-width:768px)"),c=a||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),u=!c&&!l&&!d;return{isiPad:m(r),isiPhone:m(a),isTablet:m(l),isPhone:m(c),isTouch:m(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:m(d),isDesktop:m(u)}})(s,a,e,o);return{browser:a,os:s,deviceType:i}},zo=e=>window.matchMedia(e).matches;let Ro=ro((()=>Mo(navigator.userAgent,k.from(navigator.userAgentData),zo)));const No=()=>Ro(),Io=(e,t)=>{const o=o=>{const n=t(o);if(n<=0||null===n){const t=Lt(o,e);return parseFloat(t)||0}return n},n=(e,t)=>N(t,((t,o)=>{const n=Lt(e,o),r=void 0===n?0:parseInt(n,10);return isNaN(r)?t:t+r}),0);return{set:(t,o)=>{if(!h(o)&&!o.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+o);const n=t.dom;zt(n)&&(n.style[e]=o+"px")},get:o,getOuter:o,aggregate:n,max:(e,t,o)=>{const r=n(e,o);return t>r?t-r:0}}},Lo=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?k.none():k.some(t)})(e).getOr(t),Po=(e,t,o)=>Lo(Lt(e,t),o),Bo=(e,t)=>{const o=e.dom,n=o.getBoundingClientRect().width||o.offsetWidth;return"border-box"===t?n:((e,t,o,n)=>t-Po(e,`padding-${o}`,0)-Po(e,`padding-${n}`,0)-Po(e,`border-${o}-width`,0)-Po(e,`border-${n}-width`,0))(e,n,"left","right")},Ho=Io("width",(e=>e.dom.offsetWidth)),Fo=e=>Ho.get(e),Vo=e=>Ho.getOuter(e),jo=e=>Bo(e,"content-box"),Uo=e=>Po(e,"width",e.dom.offsetWidth),Wo=(e,t,o)=>{const n=e.cells,r=n.slice(0,t),a=n.slice(t),s=r.concat(o).concat(a);return qo(e,s)},Zo=(e,t,o)=>Wo(e,t,[o]),$o=(e,t,o)=>{e.cells[t]=o},qo=(e,t)=>nt(e.element,t,e.section,e.isNew),Yo=(e,t)=>e.cells[t],Go=(e,t)=>Yo(e,t).element,Ko=e=>e.cells.length,Xo=e=>{const t=M(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},Qo=(e,t,o)=>{const n=T(e.cells,o);return nt(t(e.element),n,e.section,!0)},Jo="data-snooker-locked-cols",en=e=>ve(e,Jo).bind((e=>k.from(e.match(/\d+/g)))).map((e=>F(e,w))),tn=e=>{const t=N(Xo(e).rows,((e,t)=>(O(t.cells,((t,o)=>{t.isLocked&&(e[o]=!0)})),e)),{}),o=X(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const o=x.call(e,0);return o.sort(t),o})(o)},on=(e,t)=>e+","+t,nn=(e,t)=>{const o=B(e.all,(e=>e.cells));return z(o,t)},rn=e=>{const t={},o=[],n=j(e).map((e=>e.element)).bind(Qt).bind(en).getOr({});let r=0,a=0,s=0;const{pass:i,fail:l}=M(e,(e=>"colgroup"===e.section));O(l,(e=>{const i=[];O(e.cells,(e=>{let o=0;for(;void 0!==t[on(s,o)];)o++;const r=((e,t)=>J(e,t)&&void 0!==e[t]&&null!==e[t])(n,o.toString()),l=((e,t,o,n,r,a)=>({element:e,rowspan:t,colspan:o,row:n,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,s,o,r);for(let n=0;n<e.colspan;n++)for(let r=0;r<e.rowspan;r++){const e=o+n,i=on(s+r,e);t[i]=l,a=Math.max(a,e+1)}i.push(l)})),r++,o.push(tt(e.element,i,e.section)),s++}));const{columns:c,colgroups:d}=U(i).map((e=>{const t=(e=>{const t={};let o=0;return O(e.cells,(e=>{const n=e.colspan;A(n,(r=>{const a=o+r;t[a]=((e,t,o)=>({element:e,colspan:t,column:o}))(e.element,n,a)})),o+=n})),t})(e),o=((e,t)=>({element:e,columns:t}))(e.element,Q(t));return{colgroups:[o],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),u=((e,t)=>({rows:e,columns:t}))(r,a);return{grid:u,access:t,all:o,columns:c,colgroups:d}},an={fromTable:e=>{const t=no(e);return rn(t)},generate:rn,getAt:(e,t,o)=>k.from(e.access[on(t,o)]),findItem:(e,t,o)=>{const n=nn(e,(e=>o(t,e.element)));return n.length>0?k.some(n[0]):k.none()},filterItems:nn,justCells:e=>B(e.all,(e=>e.cells)),justColumns:e=>Q(e.columns),hasColumns:e=>Z(e.columns).length>0,getColumnAt:(e,t)=>k.from(e.columns[t])},sn=(e,t=w)=>{const o=e.grid,n=A(o.columns,g),r=A(o.rows,g);return T(n,(o=>ln((()=>B(r,(t=>an.getAt(e,t,o).filter((e=>e.column===o)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>an.getAt(e,0,o)))))},ln=(e,t,o)=>{const n=e();return I(n,t).orThunk((()=>k.from(n[0]).orThunk(o))).map((e=>e.element))},cn=e=>{const t=e.grid,o=A(t.rows,g),n=A(t.columns,g);return T(o,(t=>ln((()=>B(n,(o=>an.getAt(e,t,o).filter((e=>e.row===t)).fold(m([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>an.getAt(e,t,0)))))},dn=(e,t)=>{if(t<0||t>=e.length-1)return k.none();const o=e[t].fold((()=>{const o=(e=>{const t=x.call(e,0);return t.reverse(),t})(e.slice(0,t));return W(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>k.some({value:e,delta:0}))),n=e[t+1].fold((()=>{const o=e.slice(t+1);return W(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>k.some({value:e,delta:1})));return o.bind((e=>n.map((t=>{const o=t.delta+e.delta;return Math.abs(t.value-e.value)/o}))))},un=(e,t)=>o=>"rtl"===hn(o)?t:e,hn=e=>"rtl"===Lt(e,"direction")?"rtl":"ltr",pn=Io("height",(e=>{const t=e.dom;return dt(e)?t.getBoundingClientRect().height:t.offsetHeight})),mn=e=>pn.get(e),gn=e=>pn.getOuter(e),fn=e=>Po(e,"height",e.dom.offsetHeight),yn=(e,t)=>({left:e,top:t,translate:(o,n)=>yn(e+o,t+n)}),bn=yn,vn=(e,t)=>void 0!==e?e:void 0!==t?t:0,_n=e=>{const t=e.dom.ownerDocument,o=t.body,n=t.defaultView,r=t.documentElement;if(o===e.dom)return bn(o.offsetLeft,o.offsetTop);const a=vn(null==n?void 0:n.pageYOffset,r.scrollTop),s=vn(null==n?void 0:n.pageXOffset,r.scrollLeft),i=vn(r.clientTop,o.clientTop),l=vn(r.clientLeft,o.clientLeft);return wn(e).translate(s-l,a-i)},wn=e=>{const t=e.dom,o=t.ownerDocument.body;return o===t?bn(o.offsetLeft,o.offsetTop):dt(e)?(e=>{const t=e.getBoundingClientRect();return bn(t.left,t.top)})(t):bn(0,0)},kn=(e,t)=>({row:e,y:t}),xn=(e,t)=>({col:e,x:t}),Sn=e=>_n(e).left+Vo(e),Cn=e=>_n(e).left,En=(e,t)=>xn(e,Cn(t)),Dn=(e,t)=>xn(e,Sn(t)),An=e=>_n(e).top,Tn=(e,t)=>kn(e,An(t)),On=(e,t)=>kn(e,An(t)+gn(t)),Mn=(e,t,o)=>{if(0===o.length)return[];const n=T(o.slice(1),((t,o)=>t.map((t=>e(o,t))))),r=o[o.length-1].map((e=>t(o.length-1,e)));return n.concat([r])},zn={delta:g,positions:e=>Mn(Tn,On,e),edge:An},Rn=un({delta:g,edge:Cn,positions:e=>Mn(En,Dn,e)},{delta:e=>-e,edge:Sn,positions:e=>Mn(Dn,En,e)}),Nn={delta:(e,t)=>Rn(t).delta(e,t),positions:(e,t)=>Rn(t).positions(e,t),edge:e=>Rn(e).edge(e)},In={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ln=(()=>{const e="[0-9]+",t="[eE]"+("[+-]?"+e),o=e=>`(?:${e})?`,n=["Infinity",e+"\\."+o(e)+o(t),"\\."+e+o(t),e+o(t)].join("|");return new RegExp(`^(${`[+-]?(?:${n})`})(.*)$`)})(),Pn=(e,t)=>k.from(Ln.exec(e)).bind((e=>{const o=Number(e[1]),n=e[2];return((e,t)=>D(t,(t=>D(In[t],(t=>e===t)))))(n,t)?k.some({value:o,unit:n}):k.none()})),Bn=/(\d+(\.\d+)?)%/,Hn=/(\d+(\.\d+)?)px|em/,Fn=me("col"),Vn=(e,t,o)=>{const n=Re(e).getOrThunk((()=>ut(Oe(e))));return t(e)/o(n)*100},jn=(e,t)=>{Nt(e,"width",t+"px")},Un=(e,t)=>{Nt(e,"width",t+"%")},Wn=(e,t)=>{Nt(e,"height",t+"px")},Zn=(e,t,o,n)=>{const r=parseFloat(e);return Tt(e,"%")&&"table"!==ae(t)?((e,t,o,n)=>{const r=Qt(e).map((e=>{const n=o(e);return Math.floor(t/100*n)})).getOr(t);return n(e,r),r})(t,r,o,n):r},$n=e=>{const t=(e=>fn(e)+"px")(e);return t?Zn(t,e,mn,Wn):mn(e)},qn=(e,t)=>Bt(e,t).orThunk((()=>ve(e,t).map((e=>e+"px")))),Yn=e=>qn(e,"width"),Gn=e=>Vn(e,Fo,jo),Kn=e=>Fn(e)?Fo(e):Uo(e),Xn=e=>((e,t,o)=>o(e)/Vt(e,t))(e,"rowspan",$n),Qn=(e,t,o)=>{Nt(e,"width",t+o)},Jn=e=>Vn(e,Fo,jo)+"%",er=m(Bn),tr=me("col"),or=e=>Yn(e).getOrThunk((()=>Kn(e)+"px")),nr=e=>{return(t=e,qn(t,"height")).getOrThunk((()=>Xn(e)+"px"));var t},rr=(e,t,o,n,r,a)=>e.filter(n).fold((()=>a(dn(o,t))),(e=>r(e))),ar=(e,t,o,n)=>{const r=sn(e),a=an.hasColumns(e)?(e=>T(an.justColumns(e),(e=>k.from(e.element))))(e):r,s=[k.some(Nn.edge(t))].concat(T(Nn.positions(r,t),(e=>e.map((e=>e.x))))),i=b(jt);return T(a,((e,t)=>rr(e,t,s,i,(e=>{if((e=>{const t=No().browser,o=t.isChromium()||t.isFirefox();return!tr(e)||o})(e))return o(e);{const e=(a=r[t],l=g,null!=a?l(a):k.none());return rr(e,t,s,i,(e=>n(k.some(Fo(e)))),n)}var a,l}),n)))},sr=e=>e.map((e=>e+"px")).getOr(""),ir=(e,t,o)=>ar(e,t,Kn,(e=>e.getOrThunk(o.minCellWidth))),lr=(e,t,o,n,r)=>{const a=cn(e),s=[k.some(o.edge(t))].concat(T(o.positions(a,t),(e=>e.map((e=>e.y)))));return T(a,((e,t)=>rr(e,t,s,b(Ut),n,r)))},cr=(e,t)=>()=>dt(e)?t(e):parseFloat(Bt(e,"width").getOr("0")),dr=e=>{const t=cr(e,Fo),o=m(0);return{width:t,pixelWidth:t,getWidths:(t,o)=>ir(t,e,o),getCellDelta:o,singleColumnWidth:m([0]),minCellWidth:o,setElementWidth:p,adjustTableWidth:p,isRelative:!0,label:"none"}},ur=e=>{const t=cr(e,(e=>parseFloat(Jn(e)))),o=cr(e,Fo);return{width:t,pixelWidth:o,getWidths:(t,o)=>((e,t,o)=>ar(e,t,Gn,(e=>e.fold((()=>o.minCellWidth()),(e=>e/o.pixelWidth()*100)))))(t,e,o),getCellDelta:e=>e/o()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Zt()/o()*100,setElementWidth:Un,adjustTableWidth:o=>{const n=t();Un(e,n+o/100*n)},isRelative:!0,label:"percent"}},hr=e=>{const t=cr(e,Fo);return{width:t,pixelWidth:t,getWidths:(t,o)=>ir(t,e,o),getCellDelta:g,singleColumnWidth:(e,t)=>[Math.max(Zt(),e+t)-e],minCellWidth:Zt,setElementWidth:jn,adjustTableWidth:o=>{const n=t()+o;jn(e,n)},isRelative:!1,label:"pixel"}},pr=e=>Yn(e).fold((()=>dr(e)),(t=>((e,t)=>null!==er().exec(t)?ur(e):hr(e))(e,t))),mr=hr,gr=ur,fr=(e,t,o)=>{const n=e[o].element,r=xe.fromTag("td");je(r,xe.fromTag("br"));(t?je:Ve)(n,r)},yr=(e,t)=>{const o=e=>Se(e.element,t),n=Xe(e),r=no(n),a=pr(e),s=an.generate(r),i=((e,t)=>{const o=e.grid.columns;let n=e.grid.rows,r=o,a=0,s=0;const i=[],l=[];return q(e.access,(e=>{if(i.push(e),t(e)){l.push(e);const t=e.row,o=t+e.rowspan-1,i=e.column,c=i+e.colspan-1;t<n?n=t:o>a&&(a=o),i<r?r=i:c>s&&(s=c)}})),((e,t,o,n,r,a)=>({minRow:e,minCol:t,maxRow:o,maxCol:n,allCells:r,selectedCells:a}))(n,r,a,s,i,l)})(s,o),l="th:not("+t+"),td:not("+t+")",c=Yt(n,"th,td",(e=>Se(e,l)));O(c,qe),((e,t,o,n)=>{const r=z(e,(e=>"colgroup"!==e.section)),a=t.grid.columns,s=t.grid.rows;for(let e=0;e<s;e++){let s=!1;for(let i=0;i<a;i++)e<o.minRow||e>o.maxRow||i<o.minCol||i>o.maxCol||(an.getAt(t,e,i).filter(n).isNone()?fr(r,s,e):s=!0)}})(r,s,i,o);const d=((e,t,o,n)=>{if(0===n.minCol&&t.grid.columns===n.maxCol+1)return 0;const r=ir(t,e,o),a=N(r,((e,t)=>e+t),0),s=N(r.slice(n.minCol,n.maxCol+1),((e,t)=>e+t),0),i=s/a*o.pixelWidth()-o.pixelWidth();return o.getCellDelta(i)})(e,an.fromTable(e),a,i);return((e,t,o,n)=>{q(o.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&qe(e.element)}));const r=z(qt(e,"tr"),(e=>0===e.dom.childElementCount));O(r,qe),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||O(qt(e,"th,td"),(e=>{_e(e,"rowspan"),_e(e,"colspan")})),_e(e,Jo),_e(e,"data-snooker-col-series"),pr(e).adjustTableWidth(n)})(n,i,s,d),n},br=((e,t)=>{const o=t=>e(t)?k.from(t.dom.nodeValue):k.none();return{get:n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},getOption:o,set:(o,n)=>{if(!e(o))throw new Error("Can only set raw "+t+" value of a "+t+" node");o.dom.nodeValue=n}}})(ue,"text"),vr=e=>br.get(e),_r=e=>br.getOption(e),wr=(e,t)=>br.set(e,t),kr=e=>"img"===ae(e)?1:_r(e).fold((()=>Pe(e).length),(e=>e.length)),xr=["img","br"],Sr=e=>_r(e).filter((e=>0!==e.trim().length||e.indexOf(" ")>-1)).isSome()||E(xr,ae(e))||(e=>ce(e)&&"false"===be(e,"contenteditable"))(e),Cr=e=>((e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const r=xe.fromDom(e.childNodes[n]);if(t(r))return k.some(r);const a=o(e.childNodes[n]);if(a.isSome())return a}return k.none()};return o(e.dom)})(e,Sr),Er=e=>Dr(e,Sr),Dr=(e,t)=>{const o=e=>{const n=Pe(e);for(let e=n.length-1;e>=0;e--){const r=n[e];if(t(r))return k.some(r);const a=o(r);if(a.isSome())return a}return k.none()};return o(e)},Ar={scope:["row","col"]},Tr=e=>()=>{const t=xe.fromTag("td",e.dom);return je(t,xe.fromTag("br",e.dom)),t},Or=e=>()=>xe.fromTag("col",e.dom),Mr=e=>()=>xe.fromTag("colgroup",e.dom),zr=e=>()=>xe.fromTag("tr",e.dom),Rr=(e,t,o)=>{const n=((e,t)=>{const o=Qe(e,t),n=Pe(Xe(e));return Ze(o,n),o})(e,t);return q(o,((e,t)=>{null===e?_e(n,t):fe(n,t,e)})),n},Nr=e=>e,Ir=(e,t,o)=>{const n=(e,t)=>{((e,t)=>{const o=e.dom,n=t.dom;zt(o)&&zt(n)&&(n.style.cssText=o.style.cssText)})(e.element,t),Ht(t,"height"),1!==e.colspan&&Ht(t,"width")};return{col:o=>{const r=xe.fromTag(ae(o.element),t.dom);return n(o,r),e(o.element,r),r},colgroup:Mr(t),row:zr(t),cell:r=>{const a=xe.fromTag(ae(r.element),t.dom),s=o.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),i=s.length>0?((e,t,o)=>Cr(e).map((n=>{const r=o.join(","),a=pt(n,r,(t=>De(t,e)));return R(a,((e,t)=>{const o=Ke(t);return je(e,o),o}),t)})).getOr(t))(r.element,a,s):a;return je(i,xe.fromTag("br")),n(r,a),((e,t)=>{q(Ar,((o,n)=>ve(e,n).filter((e=>E(o,e))).each((e=>fe(t,n,e)))))})(r.element,a),e(r.element,a),a},replace:Rr,colGap:Or(t),gap:Tr(t)}},Lr=e=>({col:Or(e),colgroup:Mr(e),row:zr(e),cell:Tr(e),replace:Nr,colGap:Or(e),gap:Tr(e)}),Pr=e=>kt(e,"[contenteditable]"),Br=(e,t=!1)=>dt(e)?e.dom.isContentEditable:Pr(e).fold(m(t),(e=>"true"===Hr(e))),Hr=e=>e.dom.contentEditable,Fr=e=>xe.fromDom(e.getBody()),Vr=e=>t=>De(t,Fr(e)),jr=e=>{_e(e,"data-mce-style");const t=e=>_e(e,"data-mce-style");O(Kt(e),t),O(Xt(e),t),O(Jt(e),t)},Ur=e=>xe.fromDom(e.selection.getStart()),Wr=e=>e.getBoundingClientRect().width,Zr=e=>e.getBoundingClientRect().height,$r=e=>bt(e,me("table")).exists(Br),qr=(e,t)=>{const o=t.column,n=t.column+t.colspan-1,r=t.row,a=t.row+t.rowspan-1;return o<=e.finishCol&&n>=e.startCol&&r<=e.finishRow&&a>=e.startRow},Yr=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Gr=(e,t,o)=>{const n=an.findItem(e,t,De),r=an.findItem(e,o,De);return n.bind((e=>r.map((t=>{return o=e,n=t,r=Math.min(o.row,n.row),a=Math.min(o.column,n.column),s=Math.max(o.row+o.rowspan-1,n.row+n.rowspan-1),i=Math.max(o.column+o.colspan-1,n.column+n.colspan-1),{startRow:r,startCol:a,finishRow:s,finishCol:i};var o,n,r,a,s,i}))))},Kr=(e,t,o)=>Gr(e,t,o).bind((t=>((e,t)=>{let o=!0;const n=y(Yr,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)o=o&&an.getAt(e,r,a).exists(n);return o?k.some(t):k.none()})(e,t))),Xr=(e,t,o)=>Gr(e,t,o).map((t=>{const o=an.filterItems(e,y(qr,t));return T(o,(e=>e.element))})),Qr=(e,t)=>an.findItem(e,t,((e,t)=>Ae(t,e))).map((e=>e.element)),Jr=(e,t,o)=>Qt(e).bind((n=>((e,t,o,n)=>an.findItem(e,t,De).bind((t=>{const r=o>0?t.row+t.rowspan-1:t.row,a=n>0?t.column+t.colspan-1:t.column;return an.getAt(e,r+o,a+n).map((e=>e.element))})))(oa(n),e,t,o))),ea=(e,t,o)=>{const n=oa(e);return Xr(n,t,o)},ta=(e,t,o,n,r)=>{const a=oa(e),s=De(e,o)?k.some(t):Qr(a,t),i=De(e,r)?k.some(n):Qr(a,n);return s.bind((e=>i.bind((t=>Xr(a,e,t)))))},oa=an.fromTable;var na=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ra=()=>({up:m({selector:vt,closest:kt,predicate:yt,all:Ne}),down:m({selector:gt,predicate:ht}),styles:m({get:Lt,getRaw:Bt,set:Nt,remove:Ht}),attrs:m({get:be,set:fe,remove:_e,copyTo:(e,t)=>{const o=we(e);ye(t,o)}}),insert:m({before:He,after:Fe,afterAll:We,append:je,appendAll:Ze,prepend:Ve,wrap:Ue}),remove:m({unwrap:Ye,remove:qe}),create:m({nu:xe.fromTag,clone:e=>xe.fromDom(e.dom.cloneNode(!1)),text:xe.fromText}),query:m({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Ie,nextSibling:Le}),property:m({children:Pe,name:ae,parent:ze,document:e=>Me(e).dom,isText:ue,isComment:le,isElement:de,isSpecial:e=>{const t=ae(e);return E(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>de(e)?ve(e,"lang"):k.none(),getText:vr,setText:wr,isBoundary:e=>!!de(e)&&("body"===ae(e)||E(na,ae(e))),isEmptyTag:e=>!!de(e)&&E(["br","img","hr","input"],ae(e)),isNonEditable:e=>de(e)&&"false"===be(e,"contenteditable")}),eq:De,is:Te});const aa=(e,t,o,n)=>{const r=t(e,o);return R(n,((o,n)=>{const r=t(e,n);return sa(e,o,r)}),r)},sa=(e,t,o)=>t.bind((t=>o.filter(y(e.eq,t)))),ia=(e,t,o)=>o.length>0?((e,t,o,n)=>n(e,t,o[0],o.slice(1)))(e,t,o,aa):k.none(),la=(e,t,o,n=_)=>{const r=[t].concat(e.up().all(t)),a=[o].concat(e.up().all(o)),s=e=>L(e,n).fold((()=>e),(t=>e.slice(0,t+1))),i=s(r),l=s(a),c=I(i,(t=>D(l,((e,t)=>y(e.eq,t))(e,t))));return{firstpath:i,secondpath:l,shared:c}},ca=ra(),da=(e,t)=>ia(ca,((t,o)=>e(o)),t),ua=e=>vt(e,"table"),ha=(e,t,o)=>{const n=e=>t=>void 0!==o&&o(t)||De(t,e);return De(e,t)?k.some({boxes:k.some([e]),start:e,finish:t}):ua(e).bind((r=>ua(t).bind((a=>{if(De(r,a))return k.some({boxes:ea(r,e,t),start:e,finish:t});if(Ae(r,a)){const o=pt(t,"td,th",n(r)),s=o.length>0?o[o.length-1]:t;return k.some({boxes:ta(r,e,r,t,a),start:e,finish:s})}if(Ae(a,r)){const o=pt(e,"td,th",n(a)),s=o.length>0?o[o.length-1]:e;return k.some({boxes:ta(a,e,r,t,a),start:e,finish:s})}return((e,t,o)=>la(ca,e,t,o))(e,t).shared.bind((s=>kt(s,"table",o).bind((o=>{const s=pt(t,"td,th",n(o)),i=s.length>0?s[s.length-1]:t,l=pt(e,"td,th",n(o)),c=l.length>0?l[l.length-1]:e;return k.some({boxes:ta(o,e,r,t,a),start:c,finish:i})}))))}))))},pa=(e,t)=>{const o=gt(e,t);return o.length>0?k.some(o):k.none()},ma=(e,t,o)=>wt(e,t).bind((t=>wt(e,o).bind((e=>da(ua,[t,e]).map((o=>({first:t,last:e,table:o}))))))),ga=(e,t,o,n,r)=>((e,t)=>I(e,(e=>Se(e,t))))(e,r).bind((e=>Jr(e,t,o).bind((e=>((e,t)=>vt(e,"table").bind((o=>wt(o,t).bind((t=>ha(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,n))))),fa=(e,t)=>pa(e,t),ya=(e,t,o)=>ma(e,t,o).bind((t=>{const o=t=>De(e,t),n="thead,tfoot,tbody,table",r=vt(t.first,n,o),a=vt(t.last,n,o);return r.bind((e=>a.bind((o=>De(e,o)?((e,t,o)=>{const n=oa(e);return Kr(n,t,o)})(t.table,t.first,t.last):k.none()))))})),ba=g,va=e=>{const t=(e,t)=>ve(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&H(e,(e=>t(e,"rowspan")||t(e,"colspan")))?k.some(e):k.none()},_a=(e,t,o)=>t.length<=1?k.none():ya(e,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),wa="data-mce-selected",ka="td["+wa+"],th["+wa+"]",xa="["+wa+"]",Sa="data-mce-first-selected",Ca="td["+Sa+"],th["+Sa+"]",Ea="data-mce-last-selected",Da="td["+Ea+"],th["+Ea+"]",Aa=xa,Ta={selected:wa,selectedSelector:ka,firstSelected:Sa,firstSelectedSelector:Ca,lastSelected:Ea,lastSelectedSelector:Da},Oa=(e,t,o)=>({element:o,mergable:_a(t,e,Ta),unmergable:va(e),selection:ba(e)}),Ma=e=>(t,o)=>{const n=ae(t),r="col"===n||"colgroup"===n?Qt(a=t).bind((e=>fa(e,Ta.firstSelectedSelector))).fold(m(a),(e=>e[0])):t;var a;return kt(r,e,o)},za=Ma("th,td,caption"),Ra=Ma("th,td"),Na=e=>{return t=e.model.table.getSelectedCells(),T(t,xe.fromDom);var t},Ia=(e,t)=>{e.on("BeforeGetContent",(t=>{const o=o=>{t.preventDefault(),(e=>Qt(e[0]).map((e=>{const t=yr(e,Aa);return jr(t),[t]})))(o).each((o=>{t.content="text"===t.format?(e=>T(e,(e=>e.dom.innerText)).join(""))(o):((e,t)=>T(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,o)}))};if(!0===t.selection){const t=(e=>z(Na(e),(e=>Se(e,Ta.selectedSelector))))(e);t.length>=1&&o(t)}})),e.on("BeforeSetContent",(o=>{if(!0===o.selection&&!0===o.paste){const n=Na(e);j(n).each((n=>{Qt(n).each((r=>{const a=z(((e,t)=>{const o=(t||document).createElement("div");return o.innerHTML=e,Pe(xe.fromDom(o))})(o.content),(e=>"meta"!==ae(e))),s=me("table");if(1===a.length&&s(a[0])){o.preventDefault();const s=xe.fromDom(e.getDoc()),i=Lr(s),l=((e,t,o)=>({element:e,clipboard:t,generators:o}))(n,a[0],i);t.pasteCells(r,l).each((()=>{e.focus()}))}}))}))}}))},La=(e,t)=>({element:e,offset:t}),Pa=(e,t,o)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?o(t).bind((t=>Pa(e,t,o).orThunk((()=>k.some(t))))):k.none(),Ba=(e,t)=>{if(e.property().isText(t))return e.property().getText(t).length;return e.property().children(t).length},Ha=(e,t)=>{const o=Pa(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(o))return La(o,Ba(e,o));const n=e.property().children(o);return n.length>0?Ha(e,n[n.length-1]):La(o,Ba(e,o))},Fa=Ha,Va=ra(),ja=(e,t)=>{if(!jt(e)){const o=(e=>Yn(e).bind((e=>Pn(e,["fixed","relative","empty"]))))(e);o.each((o=>{const n=o.value/2;Qn(e,n,o.unit),Qn(t,n,o.unit)}))}},Ua=e=>T(e,m(0)),Wa=(e,t,o,n,r)=>r(e.slice(0,t)).concat(n).concat(r(e.slice(o))),Za=e=>(t,o,n,r)=>{if(e(n)){const e=Math.max(r,t[o]-Math.abs(n)),a=Math.abs(e-t[o]);return n>=0?a:-a}return n},$a=Za((e=>e<0)),qa=Za(w),Ya=()=>{const e=(e,t,o,n)=>{const r=(100+o)/100,a=Math.max(n,(e[t]+o)/r);return T(e,((e,o)=>(o===t?a:e/r)-e))},t=(t,o,n,r,a,s)=>s?e(t,o,r,a):((e,t,o,n,r)=>{const a=$a(e,t,n,r);return Wa(e,t,o+1,[a,0],Ua)})(t,o,n,r,a);return{resizeTable:(e,t)=>e(t),clampTableDelta:$a,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,o,n,r,a,s,i)=>t(e,n,r,a,s,i),calcRightEdgeDeltas:(t,o,n,r,a,s)=>{if(s)return e(t,n,r,a);{const e=$a(t,n,r,a);return Ua(t.slice(0,n)).concat([e])}},calcRedestributedWidths:(e,t,o,n)=>{if(n){const n=(t+o)/t,r=T(e,(e=>e/n));return{delta:100*n-100,newSizes:r}}return{delta:o,newSizes:e}}}},Ga=()=>{const e=(e,t,o,n,r)=>{const a=qa(e,n>=0?o:t,n,r);return Wa(e,t,o+1,[a,-a],Ua)};return{resizeTable:(e,t,o)=>{o&&e(t)},clampTableDelta:(e,t,o,n,r)=>{if(r){if(o>=0)return o;{const t=N(e,((e,t)=>e+t-n),0);return Math.max(-t,o)}}return $a(e,t,o,n)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,o,n,r,a,s)=>e(t,n,r,a,s),calcRightEdgeDeltas:(e,t,o,n,r,a)=>{if(a)return Ua(e);{const t=n/e.length;return T(e,m(t))}},calcRedestributedWidths:(e,t,o,n)=>({delta:0,newSizes:e})}},Ka=e=>an.fromTable(e).grid,Xa=me("th"),Qa=e=>H(e,(e=>Xa(e.element))),Ja=(e,t)=>e&&t?"sectionCells":e?"section":"cells",es=e=>{const t="thead"===e.section,o=xt(ts(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||o?{type:"header",subType:Ja(t,o)}:{type:"body"}},ts=e=>{const t=z(e,(e=>Xa(e.element)));return 0===t.length?k.some("td"):t.length===e.length?k.some("th"):k.none()},os=(e,t,o)=>ot(o(e.element,t),!0,e.isLocked),ns=(e,t)=>e.section!==t?nt(e.element,e.cells,t,e.isNew):e,rs=()=>({transformRow:ns,transformCell:(e,t,o)=>{const n=o(e.element,t),r="td"!==ae(n)?((e,t)=>{const o=Qe(e,t);Fe(e,o);const n=Pe(e);return Ze(o,n),qe(e),o})(n,"td"):n;return ot(r,e.isNew,e.isLocked)}}),as=()=>({transformRow:ns,transformCell:os}),ss=()=>({transformRow:(e,t)=>ns(e,"thead"===t?"tbody":t),transformCell:os}),is=(e,t)=>{const o=(e=>W(e.all,(e=>{const t=es(e);return"header"===t.type?k.from(t.subType):k.none()})))(an.fromTable(e)).getOr(t);switch(o){case"section":return rs();case"sectionCells":return as();case"cells":return ss()}},ls=rs,cs=as,ds=ss,us=()=>({transformRow:g,transformCell:os}),hs=(e,t,o,n)=>{o===n?_e(e,t):fe(e,t,o)},ps=(e,t,o)=>{U(mt(e,t)).fold((()=>Ve(e,o)),(e=>Fe(e,o)))},ms=(e,t)=>{const o=[],n=[],r=e=>T(e,(e=>{e.isNew&&o.push(e.element);const t=e.element;return $e(t),O(e.cells,(e=>{e.isNew&&n.push(e.element),hs(e.element,"colspan",e.colspan,1),hs(e.element,"rowspan",e.rowspan,1),je(t,e.element)})),t})),a=e=>B(e,(e=>T(e.cells,(e=>(hs(e.element,"span",e.colspan,1),e.element))))),s=(t,o)=>{const n=((e,t)=>{const o=_t(e,t).getOrThunk((()=>{const o=xe.fromTag(t,Oe(e).dom);return"thead"===t?ps(e,"caption,colgroup",o):"colgroup"===t?ps(e,"caption",o):je(e,o),o}));return $e(o),o})(e,o),s=("colgroup"===o?a:r)(t);Ze(n,s)},i=(t,o)=>{t.length>0?s(t,o):(t=>{_t(e,t).each(qe)})(o)},l=[],c=[],d=[],u=[];return O(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":c.push(e);break;case"tfoot":d.push(e);break;case"colgroup":u.push(e)}})),i(u,"colgroup"),i(l,"thead"),i(c,"tbody"),i(d,"tfoot"),{newRows:o,newCells:n}},gs=(e,t)=>{if(0===e.length)return 0;const o=e[0];return L(e,(e=>!t(o.element,e.element))).getOr(e.length)},fs=(e,t,o,n)=>{const r=((e,t)=>e[t])(e,t),a="colgroup"===r.section,s=gs(r.cells.slice(o),n),i=a?1:gs(((e,t)=>T(e,(e=>Yo(e,t))))(e.slice(t),o),n);return{colspan:s,rowspan:i}},ys=(e,t)=>{const o=T(e,(e=>T(e.cells,_)));return T(e,((n,r)=>{const a=B(n.cells,((n,a)=>{if(!1===o[r][a]){const d=fs(e,r,a,t);return((e,t,n,r)=>{for(let a=e;a<e+n;a++)for(let e=t;e<t+r;e++)o[a][e]=!0})(r,a,d.rowspan,d.colspan),[(s=n.element,i=d.rowspan,l=d.colspan,c=n.isNew,{element:s,rowspan:i,colspan:l,isNew:c})]}return[];var s,i,l,c}));return((e,t,o,n)=>({element:e,cells:t,section:o,isNew:n}))(n.element,a,n.section,n.isNew)}))},bs=(e,t,o)=>{const n=[];O(e.colgroups,(r=>{const a=[];for(let n=0;n<e.grid.columns;n++){const r=an.getColumnAt(e,n).map((e=>ot(e.element,o,!1))).getOrThunk((()=>ot(t.colGap(),!0,!1)));a.push(r)}n.push(nt(r.element,a,"colgroup",o))}));for(let r=0;r<e.grid.rows;r++){const a=[];for(let n=0;n<e.grid.columns;n++){const s=an.getAt(e,r,n).map((e=>ot(e.element,o,e.isLocked))).getOrThunk((()=>ot(t.gap(),!0,!1)));a.push(s)}const s=e.all[r],i=nt(s.element,a,s.section,o);n.push(i)}return n},vs=e=>ys(e,De),_s=(e,t)=>W(e.all,(e=>I(e.cells,(e=>De(t,e.element))))),ws=(e,t,o)=>{const n=T(t.selection,(t=>Gt(t).bind((t=>_s(e,t))).filter(o))),r=St(n);return Ct(r.length>0,r)},ks=(e,t,o,n,r)=>(a,s,i,l)=>{const c=an.fromTable(a),d=k.from(null==l?void 0:l.section).getOrThunk(us);return t(c,s).map((t=>{const o=((e,t)=>bs(e,t,!1))(c,i),n=e(o,t,De,r(i),d),a=tn(n.grid);return{info:t,grid:vs(n.grid),cursor:n.cursor,lockedColumns:a}})).bind((e=>{const t=ms(a,e.grid),r=k.from(null==l?void 0:l.sizing).getOrThunk((()=>pr(a))),s=k.from(null==l?void 0:l.resize).getOrThunk(Ga);return o(a,e.grid,e.info,{sizing:r,resize:s,section:d}),n(a),_e(a,Jo),e.lockedColumns.length>0&&fe(a,Jo,e.lockedColumns.join(",")),k.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},xs=(e,t)=>ws(e,t,w).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),Ss=(e,t)=>ws(e,t,w),Cs=(e,t)=>ws(e,t,(e=>!e.isLocked)),Es=(e,t)=>H(t,(t=>((e,t)=>_s(e,t).exists((e=>!e.isLocked)))(e,t))),Ds=(e,t,o,n)=>{const r=Xo(e).rows;let a=!0;for(let e=0;e<r.length;e++)for(let s=0;s<Ko(r[0]);s++){const i=r[e],l=Yo(i,s),c=o(l.element,t);c&&!a?$o(i,s,ot(n(),!0,l.isLocked)):c&&(a=!1)}return e},As=(e,t,o,n)=>{const r=Xo(e).rows;if(t>0&&t<r.length){const e=((e,t)=>N(e,((e,o)=>D(e,(e=>t(e.element,o.element)))?e:e.concat([o])),[]))(r[t-1].cells,o);O(e,(e=>{let a=k.none();for(let s=t;s<r.length;s++)for(let t=0;t<Ko(r[0]);t++){const i=r[s],l=Yo(i,t);o(l.element,e.element)&&(a.isNone()&&(a=k.some(n())),a.each((e=>{$o(i,t,ot(e,!0,l.isLocked))})))}}))}return e},Ts=e=>{const t=t=>t(e),o=m(e),n=()=>r,r={tag:!0,inner:e,fold:(t,o)=>o(e),isValue:w,isError:_,map:t=>Ms.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>k.some(e)};return r},Os=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(t,o)=>t(e),isValue:_,isError:w,map:t,mapError:t=>Ms.error(t(e)),bind:t,exists:_,forall:w,getOr:g,or:g,getOrThunk:v,orThunk:v,getOrDie:(n=String(e),()=>{throw new Error(n)}),each:p,toOptional:k.none};var n;return o},Ms={value:Ts,error:Os,fromOption:(e,t)=>e.fold((()=>Os(t)),Ts)},zs=(e,t)=>({rowDelta:0,colDelta:Ko(e[0])-Ko(t[0])}),Rs=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),Ns=(e,t,o,n)=>{const r="colgroup"===t.section?o.col:o.cell;return A(e,(e=>ot(r(),!0,n(e))))},Is=(e,t,o,n)=>{const r=e[e.length-1];return e.concat(A(t,(()=>{const e="colgroup"===r.section?o.colgroup:o.row,t=Qo(r,e,g),a=Ns(t.cells.length,t,o,(e=>J(n,e.toString())));return qo(t,a)})))},Ls=(e,t,o,n)=>T(e,(e=>{const r=Ns(t,e,o,_);return Wo(e,n,r)})),Ps=(e,t,o)=>{const n=t.colDelta<0?Ls:g,r=t.rowDelta<0?Is:g,a=tn(e),s=Ko(e[0]),i=D(a,(e=>e===s-1)),l=n(e,Math.abs(t.colDelta),o,i?s-1:s),c=tn(l);return r(l,Math.abs(t.rowDelta),o,F(c,w))},Bs=(e,t,o,n)=>{const r=y(n,Yo(e[t],o).element),a=e[t];return e.length>1&&Ko(a)>1&&(o>0&&r(Go(a,o-1))||o<a.cells.length-1&&r(Go(a,o+1))||t>0&&r(Go(e[t-1],o))||t<e.length-1&&r(Go(e[t+1],o)))},Hs=(e,t,o)=>z(o,(o=>o>=e.column&&o<=Ko(t[0])+e.column)),Fs=(e,t,o,n,r)=>{const a=tn(t),s=((e,t,o)=>{const n=Ko(t[0]),r=Xo(t).cols.length+e.row,a=A(n-e.column,(t=>t+e.column)),s=I(a,(e=>H(o,(t=>t!==e)))).getOr(n-1);return{row:r,column:s}})(e,t,a),i=Xo(o).rows,l=Hs(s,i,a),c=((e,t,o)=>{if(e.row>=t.length||e.column>Ko(t[0]))return Ms.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const n=t.slice(e.row),r=n[0].cells.slice(e.column),a=Ko(o[0]),s=o.length;return Ms.value({rowDelta:n.length-s,colDelta:r.length-a})})(s,t,i);return c.map((e=>{const o={...e,colDelta:e.colDelta-l.length},a=Ps(t,o,n),c=tn(a),d=Hs(s,i,c);return((e,t,o,n,r,a)=>{const s=e.row,i=e.column,l=s+o.length,c=i+Ko(o[0])+a.length,d=F(a,w);for(let e=s;e<l;e++){let a=0;for(let l=i;l<c;l++){if(d[l]){a++;continue}Bs(t,e,l,r)&&Ds(t,Go(t[e],l),r,n.cell);const c=l-i-a,u=Yo(o[e-s],c),h=u.element,p=n.replace(h);$o(t[e],l,ot(p,!0,u.isLocked))}}return t})(s,a,i,n,r,d)}))},Vs=(e,t,o,n,r)=>{((e,t,o,n)=>{t>0&&t<e[0].cells.length&&O(e,(e=>{const r=e.cells[t-1];let a=0;const s=n();for(;e.cells.length>t+a&&o(r.element,e.cells[t+a].element);)$o(e,t+a,ot(s,!0,e.cells[t+a].isLocked)),a++}))})(t,e,r,n.cell);const a=Rs(o,t),s=Ps(o,a,n),i=Rs(t,s),l=Ps(t,i,n);return T(l,((t,o)=>Wo(t,e,s[o].cells)))},js=(e,t,o,n,r)=>{As(t,e,r,n.cell);const a=tn(t),s=zs(t,o),i={...s,colDelta:s.colDelta-a.length},l=Ps(t,i,n),{cols:c,rows:d}=Xo(l),u=tn(l),h=zs(o,t),p={...h,colDelta:h.colDelta+u.length},m=((e,t,o)=>T(e,(e=>N(o,((o,n)=>{const r=Ns(1,e,t,w)[0];return Zo(o,n,r)}),e))))(o,n,u),g=Ps(m,p,n);return[...c,...d.slice(0,e),...g,...d.slice(e,d.length)]},Us=(e,t,o,n,r)=>{const{rows:a,cols:s}=Xo(e),i=a.slice(0,t),l=a.slice(t),c=((e,t,o,n)=>Qo(e,(e=>n(e,o)),t))(a[o],((e,o)=>t>0&&t<a.length&&n(Go(a[t-1],o),Go(a[t],o))?Yo(a[t],o):ot(r(e.element,n),!0,e.isLocked)),n,r);return[...s,...i,c,...l]},Ws=(e,t,o,n,r)=>T(e,(e=>{const a=t>0&&t<Ko(e)&&n(Go(e,t-1),Go(e,t)),s=((e,t,o,n,r,a,s)=>{if("colgroup"!==o&&n)return Yo(e,t);{const t=Yo(e,r);return ot(s(t.element,a),!0,!1)}})(e,t,e.section,a,o,n,r);return Zo(e,t,s)})),Zs=(e,t,o,n)=>((e,t,o,n)=>void 0!==Go(e[t],o)&&t>0&&n(Go(e[t-1],o),Go(e[t],o)))(e,t,o,n)||((e,t,o)=>t>0&&o(Go(e,t-1),Go(e,t)))(e[t],o,n),$s=(e,t,o,n)=>{const r=e=>(e=>"row"===e?Ut(t):jt(t))(e)?`${e}group`:e;if(e)return Xa(t)?r(o):null;if(n&&Xa(t)){return r("row"===o?"col":"row")}return null},qs=(e,t,o)=>ot(o(e.element,t),!0,e.isLocked),Ys=(e,t,o,n,r,a,s)=>T(e,((e,i)=>((e,t)=>{const o=e.cells,n=T(o,t);return nt(e.element,n,e.section,e.isNew)})(e,((e,l)=>{if((e=>D(t,(t=>o(e.element,t.element))))(e)){const t=s(e,i,l)?r(e,o,n):e;return a(t,i,l).each((e=>{var o,n;o=t.element,n={scope:k.from(e)},q(n,((e,t)=>{e.fold((()=>{_e(o,t)}),(e=>{ge(o.dom,t,e)}))}))})),t}return e})))),Gs=(e,t,o)=>B(e,((n,r)=>Zs(e,r,t,o)?[]:[Yo(n,t)])),Ks=(e,t,o,n,r)=>{const a=Xo(e).rows,s=B(t,(e=>Gs(a,e,n))),i=T(a,(e=>Qa(e.cells))),l=((e,t)=>H(t,g)&&Qa(e)?w:(e,o,n)=>!("th"===ae(e.element)&&t[o]))(s,i),c=((e,t)=>(o,n)=>k.some($s(e,o.element,"row",t[n])))(o,i);return Ys(e,s,n,r,qs,c,l)},Xs=(e,t,o,n,r,a,s)=>{const{cols:i,rows:l}=Xo(e),c=l[t[0]],d=B(t,(e=>((e,t,o)=>{const n=e[t];return B(n.cells,((n,r)=>Zs(e,t,r,o)?[]:[n]))})(l,e,r))),u=T(c.cells,((e,t)=>Qa(Gs(l,t,r)))),h=[...l];O(t,(e=>{h[e]=s.transformRow(l[e],o)}));const p=[...i,...h],m=((e,t)=>H(t,g)&&Qa(e.cells)?w:(e,o,n)=>!("th"===ae(e.element)&&t[n]))(c,u),f=((e,t)=>(o,n,r)=>k.some($s(e,o.element,"col",t[r])))(n,u);return Ys(p,d,r,a,s.transformCell,f,m)},Qs=(e,t,o,n)=>{const r=Xo(e).rows,a=T(t,(e=>Yo(r[e.row],e.column)));return Ys(e,a,o,n,qs,k.none,w)},Js=e=>{if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],o={};return O(e,((n,r)=>{const a=Z(n);if(1!==a.length)throw new Error("one and only one name per case");const i=a[0],l=n[i];if(void 0!==o[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!s(l))throw new Error("case arguments must be an array");t.push(i),o[i]=(...o)=>{const n=o.length;if(n!==l.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+l.length+" ("+l+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,o)},match:e=>{const n=Z(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!H(t,(e=>E(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,o)},log:e=>{console.log(e,{constructors:t,constructor:i,params:o})}}}})),o},ei={...Js([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ti=(e,t,o,n,r)=>{const a=e.slice(0),s=((e,t)=>0===e.length?ei.none():1===e.length?ei.only(0):0===t?ei.left(0,1):t===e.length-1?ei.right(t-1,t):t>0&&t<e.length-1?ei.middle(t-1,t,t+1):ei.none())(e,t),i=m(T(a,m(0)));return s.fold(i,(e=>n.singleColumnWidth(a[e],o)),((e,t)=>r.calcLeftEdgeDeltas(a,e,t,o,n.minCellWidth(),n.isRelative)),((e,t,s)=>r.calcMiddleDeltas(a,e,t,s,o,n.minCellWidth(),n.isRelative)),((e,t)=>r.calcRightEdgeDeltas(a,e,t,o,n.minCellWidth(),n.isRelative)))},oi=(e,t,o)=>{let n=0;for(let r=e;r<t;r++)n+=void 0!==o[r]?o[r]:0;return n},ni=(e,t)=>{const o=an.justCells(e);return T(o,(e=>{const o=oi(e.row,e.row+e.rowspan,t);return{element:e.element,height:o,rowspan:e.rowspan}}))},ri=(e,t)=>an.hasColumns(e)?((e,t)=>{const o=an.justColumns(e);return T(o,((e,o)=>({element:e.element,width:t[o],colspan:e.colspan})))})(e,t):((e,t)=>{const o=an.justCells(e);return T(o,(e=>{const o=oi(e.column,e.column+e.colspan,t);return{element:e.element,width:o,colspan:e.colspan}}))})(e,t),ai=(e,t,o)=>{const n=ri(e,t);O(n,(e=>{o.setElementWidth(e.element,e.width)}))},si=(e,t,o,n,r)=>{const a=an.fromTable(e),s=r.getCellDelta(t),i=r.getWidths(a,r),l=o===a.grid.columns-1,c=n.clampTableDelta(i,o,s,r.minCellWidth(),l),d=ti(i,o,c,r,n),u=T(d,((e,t)=>e+i[t]));ai(a,u,r),n.resizeTable(r.adjustTableWidth,c,l)},ii=(e,t,o,n)=>{const r=an.fromTable(e),a=((e,t,o)=>lr(e,t,o,Xn,(e=>e.getOrThunk($t))))(r,e,n),s=T(a,((e,n)=>o===n?Math.max(t+e,$t()):e)),i=ni(r,s),l=((e,t)=>T(e.all,((e,o)=>({element:e.element,height:t[o]}))))(r,s);O(l,(e=>{Wn(e.element,e.height)})),O(i,(e=>{Wn(e.element,e.height)}));const c=R(s,((e,t)=>e+t),0);Wn(e,c)},li=e=>N(e,((e,t)=>D(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),ci=me("col"),di=me("colgroup"),ui=e=>"tr"===ae(e)||di(e),hi=e=>({element:e,colspan:Ft(e,"colspan",1),rowspan:Ft(e,"rowspan",1)}),pi=e=>ve(e,"scope").map((e=>e.substr(0,3))),mi=(e,t=hi)=>{const o=o=>{if(ui(o))return di((r={element:o}).element)?e.colgroup(r):e.row(r);{const r=o,a=(t=>ci(t.element)?e.col(t):e.cell(t))(t(r));return n=k.some({item:r,replacement:a}),a}var r};let n=k.none();return{getOrInit:(e,t)=>n.fold((()=>o(e)),(n=>t(e,n.item)?n.replacement:o(e)))}},gi=e=>t=>{const o=[],n=n=>{const r="td"===e?{scope:null}:{},a=t.replace(n,e,r);return o.push({item:n,sub:a}),a};return{replaceOrInit:(e,t)=>{if(ui(e)||ci(e))return e;{const r=e;return((e,t)=>I(o,(o=>t(o.item,e))))(r,t).fold((()=>n(r)),(o=>t(e,o.item)?o.sub:n(r)))}}}},fi=e=>({unmerge:t=>{const o=pi(t);return o.each((e=>fe(t,"scope",e))),()=>{const n=e.cell({element:t,colspan:1,rowspan:1});return Ht(n,"width"),Ht(t,"width"),o.each((e=>fe(n,"scope",e))),n}},merge:e=>(Ht(e[0],"width"),(()=>{const t=St(T(e,pi));if(0===t.length)return k.none();{const e=t[0],o=["row","col"];return D(t,(t=>t!==e&&E(o,t)))?k.none():k.from(e)}})().fold((()=>_e(e[0],"scope")),(t=>fe(e[0],"scope",t+"group"))),m(e[0]))}),yi=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],bi=ra(),vi=e=>((e,t)=>{const o=e.property().name(t);return E(yi,o)})(bi,e),_i=e=>((e,t)=>{const o=e.property().name(t);return E(["ol","ul"],o)})(bi,e),wi=e=>((e,t)=>E(["br","img","hr","input"],e.property().name(t)))(bi,e),ki=e=>{const t=me("br"),o=e=>Er(e).bind((o=>{const n=Le(o).map((e=>!!vi(e)||!!wi(e)&&"img"!==ae(e))).getOr(!1);return ze(o).map((r=>!0===n||(e=>"li"===ae(e)||yt(e,_i).isSome())(r)||t(o)||vi(r)&&!De(e,r)?[]:[xe.fromTag("br")]))})).getOr([]),n=(()=>{const n=B(e,(e=>{const n=Pe(e);return(e=>H(e,(e=>t(e)||ue(e)&&0===vr(e).trim().length)))(n)?[]:n.concat(o(e))}));return 0===n.length?[xe.fromTag("br")]:n})();$e(e[0]),Ze(e[0],n)},xi=e=>Br(e,!0),Si=e=>{0===Kt(e).length&&qe(e)},Ci=(e,t)=>({grid:e,cursor:t}),Ei=(e,t,o)=>{var n,r;const a=Xo(e).rows;return k.from(null===(r=null===(n=a[t])||void 0===n?void 0:n.cells[o])||void 0===r?void 0:r.element).filter(xi).orThunk((()=>(e=>W(e,(e=>W(e.cells,(e=>{const t=e.element;return Ct(xi(t),t)})))))(a)))},Di=(e,t,o)=>{const n=Ei(e,t,o);return Ci(e,n)},Ai=e=>N(e,((e,t)=>D(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),Ti=(e,t)=>(o,n,r,a,s)=>{const i=Ai(n),l=T(i,(e=>e.row)),c=Xs(o,l,e,t,r,a.replaceOrInit,s);return Di(c,n[0].row,n[0].column)},Oi=Ti("thead",!0),Mi=Ti("tbody",!1),zi=Ti("tfoot",!1),Ri=(e,t,o)=>{const n=((e,t)=>to(e,(()=>t)))(e,o.section),r=an.generate(n);return bs(r,t,!0)},Ni=(e,t,o,n)=>((e,t,o,n)=>{const r=an.generate(t),a=n.getWidths(r,n);ai(r,a,n)})(0,t,0,n.sizing),Ii=(e,t,o,n)=>((e,t,o,n,r)=>{const a=an.generate(t),s=n.getWidths(a,n),i=n.pixelWidth(),{newSizes:l,delta:c}=r.calcRedestributedWidths(s,i,o.pixelDelta,n.isRelative);ai(a,l,n),n.adjustTableWidth(c)})(0,t,o,n.sizing,n.resize),Li=(e,t)=>D(t,(e=>0===e.column&&e.isLocked)),Pi=(e,t)=>D(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),Bi=(e,t)=>{const o=sn(e),n=li(t);return N(n,((e,t)=>e+o[t.column].map(Vo).getOr(0)),0)},Hi=e=>(t,o)=>Ss(t,o).filter((o=>!(e?Li:Pi)(t,o))).map((e=>({details:e,pixelDelta:Bi(t,e)}))),Fi=e=>(t,o)=>xs(t,o).filter((o=>!(e?Li:Pi)(t,o.cells))),Vi=gi("th"),ji=gi("td"),Ui=ks(((e,t,o,n)=>{const r=t[0].row,a=Ai(t),s=R(a,((e,t)=>({grid:Us(e.grid,r,t.row+e.delta,o,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Di(s,r,t[0].column)}),Ss,p,p,mi),Wi=ks(((e,t,o,n)=>{const r=Ai(t),a=r[r.length-1],s=a.row+a.rowspan,i=R(r,((e,t)=>Us(e,s,t.row,o,n.getOrInit)),e);return Di(i,s,t[0].column)}),Ss,p,p,mi),Zi=ks(((e,t,o,n)=>{const r=t.details,a=li(r),s=a[0].column,i=R(a,((e,t)=>({grid:Ws(e.grid,s,t.column+e.delta,o,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Di(i,r[0].row,s)}),Hi(!0),Ii,p,mi),$i=ks(((e,t,o,n)=>{const r=t.details,a=r[r.length-1],s=a.column+a.colspan,i=li(r),l=R(i,((e,t)=>Ws(e,s,t.column,o,n.getOrInit)),e);return Di(l,r[0].row,s)}),Hi(!1),Ii,p,mi),qi=ks(((e,t,o,n)=>{const r=li(t.details),a=((e,t)=>B(e,(e=>{const o=e.cells,n=R(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),o);return n.length>0?[nt(e.element,n,e.section,e.isNew)]:[]})))(e,T(r,(e=>e.column))),s=a.length>0?a[0].cells.length-1:0;return Di(a,r[0].row,Math.min(r[0].column,s))}),((e,t)=>Cs(e,t).map((t=>({details:t,pixelDelta:-Bi(e,t)})))),Ii,Si,mi),Yi=ks(((e,t,o,n)=>{const r=Ai(t),a=((e,t,o)=>{const{rows:n,cols:r}=Xo(e);return[...r,...n.slice(0,t),...n.slice(o+1)]})(e,r[0].row,r[r.length-1].row),s=a.length>0?a.length-1:0;return Di(a,Math.min(t[0].row,s),t[0].column)}),Ss,p,Si,mi),Gi=ks(((e,t,o,n)=>{const r=li(t),a=T(r,(e=>e.column)),s=Ks(e,a,!0,o,n.replaceOrInit);return Di(s,t[0].row,t[0].column)}),Cs,p,p,Vi),Ki=ks(((e,t,o,n)=>{const r=li(t),a=T(r,(e=>e.column)),s=Ks(e,a,!1,o,n.replaceOrInit);return Di(s,t[0].row,t[0].column)}),Cs,p,p,ji),Xi=ks(Oi,Cs,p,p,Vi),Qi=ks(Mi,Cs,p,p,ji),Ji=ks(zi,Cs,p,p,ji),el=ks(((e,t,o,n)=>{const r=Qs(e,t,o,n.replaceOrInit);return Di(r,t[0].row,t[0].column)}),Cs,p,p,Vi),tl=ks(((e,t,o,n)=>{const r=Qs(e,t,o,n.replaceOrInit);return Di(r,t[0].row,t[0].column)}),Cs,p,p,ji),ol=ks(((e,t,o,n)=>{const r=t.cells;ki(r);const a=((e,t,o,n)=>{const r=Xo(e).rows;if(0===r.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let o=t.startCol;o<=t.finishCol;o++){const t=r[e],a=Yo(t,o).isLocked;$o(t,o,ot(n(),!1,a))}return e})(e,t.bounds,0,n.merge(r));return Ci(a,k.from(r[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>Es(e,t.cells)))),Ni,p,fi),nl=ks(((e,t,o,n)=>{const r=R(t,((e,t)=>Ds(e,t,o,n.unmerge(t))),e);return Ci(r,k.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>Es(e,t)))),Ni,p,fi),rl=ks(((e,t,o,n)=>{const r=((e,t)=>{const o=an.fromTable(e);return bs(o,t,!0)})(t.clipboard,t.generators),a=((e,t)=>({row:e,column:t}))(t.row,t.column);return Fs(a,e,r,t.generators,o).fold((()=>Ci(e,k.some(t.element))),(e=>Di(e,t.row,t.column)))}),((e,t)=>Gt(t.element).bind((o=>_s(e,o).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),Ni,p,mi),al=ks(((e,t,o,n)=>{const r=Xo(e).rows,a=t.cells[0].column,s=r[t.cells[0].row],i=Ri(t.clipboard,t.generators,s),l=Vs(a,e,i,t.generators,o);return Di(l,t.cells[0].row,t.cells[0].column)}),Fi(!0),p,p,mi),sl=ks(((e,t,o,n)=>{const r=Xo(e).rows,a=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,s=r[t.cells[0].row],i=Ri(t.clipboard,t.generators,s),l=Vs(a,e,i,t.generators,o);return Di(l,t.cells[0].row,t.cells[0].column)}),Fi(!1),p,p,mi),il=ks(((e,t,o,n)=>{const r=Xo(e).rows,a=t.cells[0].row,s=r[a],i=Ri(t.clipboard,t.generators,s),l=js(a,e,i,t.generators,o);return Di(l,t.cells[0].row,t.cells[0].column)}),xs,p,p,mi),ll=ks(((e,t,o,n)=>{const r=Xo(e).rows,a=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,s=r[t.cells[0].row],i=Ri(t.clipboard,t.generators,s),l=js(a,e,i,t.generators,o);return Di(l,t.cells[0].row,t.cells[0].column)}),xs,p,p,mi),cl=(e,t)=>{const o=an.fromTable(e);return Ss(o,t).bind((e=>{const t=e[e.length-1],n=e[0].column,r=t.column+t.colspan,a=P(T(o.all,(e=>z(e.cells,(e=>e.column>=n&&e.column<r)))));return ts(a)})).getOr("")},dl=(e,t)=>{const o=an.fromTable(e);return Ss(o,t).bind(ts).getOr("")},ul=(e,t)=>{const o=an.fromTable(e);return Ss(o,t).bind((e=>{const t=e[e.length-1],n=e[0].row,r=t.row+t.rowspan;return(e=>{const t=T(e,(e=>es(e).type)),o=E(t,"header"),n=E(t,"footer");if(o||n){const e=E(t,"body");return!o||e||n?o||e||!n?k.none():k.some("footer"):k.some("header")}return k.some("body")})(o.all.slice(n,r))})).getOr("")},hl=(e,t)=>e.dispatch("NewRow",{node:t}),pl=(e,t)=>e.dispatch("NewCell",{node:t}),ml=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})},gl={structure:!1,style:!0},fl={structure:!0,style:!1},yl={structure:!0,style:!0},bl=e=>t=>t.options.get(e),vl="100%",_l=e=>{var t;const o=e.dom,n=null!==(t=o.getParent(e.selection.getStart(),o.isBlock))&&void 0!==t?t:e.getBody();return jo(xe.fromDom(n))+"px"},wl=e=>k.from(e.options.get("table_clone_elements")),kl=bl("table_header_type"),xl=bl("table_column_resizing"),Sl=e=>"preservetable"===xl(e),Cl=e=>"resizetable"===xl(e),El=bl("table_sizing_mode"),Dl=e=>"relative"===El(e),Al=e=>"fixed"===El(e),Tl=e=>"responsive"===El(e),Ol=bl("table_resize_bars"),Ml=bl("table_style_by_css"),zl=e=>{const t=e.options,o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:((e,t)=>Tl(e)||Ml(e)?t:Al(e)?{...t,width:_l(e)}:{...t,width:vl})(e,o)},Rl=e=>{const t=e.options,o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:((e,t)=>Tl(e)||!Ml(e)?t:Al(e)?{...t,width:_l(e)}:{...t,width:vl})(e,o)},Nl=bl("table_use_colgroups"),Il=(e,t)=>Dl(e)?gr(t):Al(e)?mr(t):pr(t),Ll=(e,t,o)=>{const n=e=>"table"===ae(Fr(e)),r=wl(e),a=Cl(e)?p:ja,s=t=>{switch(kl(e)){case"section":return ls();case"sectionCells":return cs();case"cells":return ds();default:return is(t,"section")}},i=(t,n)=>n.cursor.fold((()=>{const n=Kt(t);return j(n).filter(dt).map((n=>{o.clearSelectedCells(t.dom);const r=e.dom.createRng();return r.selectNode(n.dom),e.selection.setRng(r),fe(n,"data-mce-selected","1"),r}))}),(n=>{const r=Fa(Va,n);const a=e.dom.createRng();return a.setStart(r.element.dom,r.offset),a.setEnd(r.element.dom,r.offset),e.selection.setRng(a),o.clearSelectedCells(t.dom),k.some(a)})),l=(o,n,a,l)=>(c,d,u=!1)=>{jr(c);const h=xe.fromDom(e.getDoc()),p=Ir(a,h,r),m={sizing:Il(e,c),resize:Cl(e)?Ya():Ga(),section:s(c)};return n(c)?o(c,d,p,m).bind((o=>{t.refresh(c.dom),O(o.newRows,(t=>{hl(e,t.dom)})),O(o.newCells,(t=>{pl(e,t.dom)}));const n=i(c,o);return dt(c)&&(jr(c),u||ml(e,c.dom,l)),n.map((e=>({rng:e,effect:l})))})):k.none()},c=l(Yi,(t=>!n(e)||Ka(t).rows>1),p,fl),d=l(qi,(t=>!n(e)||Ka(t).columns>1),p,fl);return{deleteRow:c,deleteColumn:d,insertRowsBefore:l(Ui,w,p,fl),insertRowsAfter:l(Wi,w,p,fl),insertColumnsBefore:l(Zi,w,a,fl),insertColumnsAfter:l($i,w,a,fl),mergeCells:l(ol,w,p,fl),unmergeCells:l(nl,w,p,fl),pasteColsBefore:l(al,w,p,fl),pasteColsAfter:l(sl,w,p,fl),pasteRowsBefore:l(il,w,p,fl),pasteRowsAfter:l(ll,w,p,fl),pasteCells:l(rl,w,p,yl),makeCellsHeader:l(el,w,p,fl),unmakeCellsHeader:l(tl,w,p,fl),makeColumnsHeader:l(Gi,w,p,fl),unmakeColumnsHeader:l(Ki,w,p,fl),makeRowsHeader:l(Xi,w,p,fl),makeRowsBody:l(Qi,w,p,fl),makeRowsFooter:l(Ji,w,p,fl),getTableRowType:ul,getTableCellType:dl,getTableColType:cl}},Pl=(e,t,o)=>{const n=Ft(e,t,1);1===o||n<=1?_e(e,t):fe(e,t,Math.min(o,n))},Bl=(e,t)=>o=>{const n=o.column+o.colspan-1,r=o.column;return n>=e&&r<t},Hl=(e,t)=>{const o=an.fromTable(e);return Cs(o,t).map((e=>{const t=e[e.length-1],n=e[0].column,r=t.column+t.colspan,a=((e,t,o)=>{if(an.hasColumns(e)){const n=z(an.justColumns(e),Bl(t,o)),r=T(n,(e=>{const n=Xe(e.element);return Pl(n,"span",o-t),n})),a=xe.fromTag("colgroup");return Ze(a,r),[a]}return[]})(o,n,r),s=((e,t,o)=>T(e.all,(e=>{const n=z(e.cells,Bl(t,o)),r=T(n,(e=>{const n=Xe(e.element);return Pl(n,"colspan",o-t),n})),a=xe.fromTag("tr");return Ze(a,r),a})))(o,n,r);return[...a,...s]}))},Fl=(e,t,o)=>{const n=an.fromTable(e);return Ss(n,t).bind((e=>{const t=bs(n,o,!1),r=Xo(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),a=B(r,(e=>{const t=z(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),s=vs(a);return Ct(s.length>0,s)})).map((e=>(e=>T(e,(e=>{const t=Ke(e.element);return O(e.cells,(e=>{const o=Xe(e.element);hs(o,"colspan",e.colspan,1),hs(o,"rowspan",e.rowspan,1),je(t,o)})),t})))(e)))},Vl=Js([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),jl=(e,t,o)=>{const n=o.substring(0,o.length-e.length),r=parseFloat(n);return n===r.toString()?t(r):Vl.invalid(o)},Ul={...Vl,from:e=>Tt(e,"%")?jl("%",Vl.percent,e):Tt(e,"px")?jl("px",Vl.pixels,e):Vl.invalid(e)},Wl=(e,t,o)=>e.fold((()=>t),(e=>((e,t,o)=>{const n=o/t;return T(e,(e=>Ul.from(e).fold((()=>e),(e=>e*n+"px"),(e=>e/100*o+"px"))))})(t,o,e)),(e=>((e,t)=>T(e,(e=>Ul.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,o))),Zl=(e,t,o)=>{const n=Ul.from(o),r=H(e,(e=>"0px"===e))?((e,t)=>{const o=e.fold((()=>m("")),(e=>m(e/t+"px")),(()=>m(100/t+"%")));return A(t,o)})(n,e.length):Wl(n,e,t);return Yl(r)},$l=(e,t)=>0===e.length?t:R(e,((e,t)=>Ul.from(t).fold(m(0),g,g)+e),0),ql=(e,t)=>Ul.from(e).fold(m(e),(e=>e+t+"px"),(e=>e+t+"%")),Yl=e=>{if(0===e.length)return e;const t=R(e,((e,t)=>{const o=Ul.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const o=Math.floor(e);return{value:o+t,remainder:e-o}})(e,"px")),(e=>({value:e+"%",remainder:0})));return{output:[o.value].concat(e.output),remainder:e.remainder+o.remainder}}),{output:[],remainder:0}),o=t.output;return o.slice(0,o.length-1).concat([ql(o[o.length-1],Math.round(t.remainder))])},Gl=Ul.from,Kl=e=>Gl(e).fold(m("px"),m("px"),m("%")),Xl=(e,t,o)=>{const n=an.fromTable(e),r=n.all,a=an.justCells(n),s=an.justColumns(n);t.each((t=>{const o=Kl(t),r=Fo(e),i=((e,t)=>ar(e,t,or,sr))(n,e),l=Zl(i,r,t);an.hasColumns(n)?((e,t,o)=>{O(t,((t,n)=>{const r=$l([e[n]],Zt());Nt(t.element,"width",r+o)}))})(l,s,o):((e,t,o)=>{O(t,(t=>{const n=e.slice(t.column,t.colspan+t.column),r=$l(n,Zt());Nt(t.element,"width",r+o)}))})(l,a,o),Nt(e,"width",t)})),o.each((t=>{const o=Kl(t),s=mn(e),i=((e,t,o)=>lr(e,t,o,nr,sr))(n,e,zn);((e,t,o,n)=>{O(o,(t=>{const o=e.slice(t.row,t.rowspan+t.row),r=$l(o,$t());Nt(t.element,"height",r+n)})),O(t,((t,o)=>{Nt(t.element,"height",e[o])}))})(Zl(i,s,t),r,a,o),Nt(e,"height",t)}))},Ql=e=>Yn(e).exists((e=>Bn.test(e))),Jl=e=>Yn(e).exists((e=>Hn.test(e))),ec=e=>Yn(e).isNone(),tc=e=>{_e(e,"width")},oc=e=>{const t=Jn(e);Xl(e,k.some(t),k.none()),tc(e)},nc=e=>{const t=(e=>Fo(e)+"px")(e);Xl(e,k.some(t),k.none()),tc(e)},rc=e=>{Ht(e,"width");const t=Xt(e),o=t.length>0?t:Kt(e);O(o,(e=>{Ht(e,"width"),tc(e)})),tc(e)},ac={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},sc=e=>{const t=xe.fromTag("colgroup");return A(e,(()=>je(t,xe.fromTag("col")))),t},ic=(e,t,o,n)=>A(e,(e=>((e,t,o,n)=>{const r=xe.fromTag("tr");for(let a=0;a<e;a++){const e=n<t||a<o?xe.fromTag("th"):xe.fromTag("td");a<o&&fe(e,"scope","row"),n<t&&fe(e,"scope","col"),je(e,xe.fromTag("br")),je(r,e)}return r})(t,o,n,e))),lc=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},cc=(e,t,o,n,a)=>{const s=Rl(e),i={styles:s,attributes:zl(e),colGroups:Nl(e)};return e.undoManager.ignore((()=>{const r=((e,t,o,n,r,a=ac)=>{const s=xe.fromTag("table"),i="cells"!==r;It(s,a.styles),ye(s,a.attributes),a.colGroups&&je(s,sc(t));const l=Math.min(e,o);if(i&&o>0){const e=xe.fromTag("thead");je(s,e);const a=ic(o,t,"sectionCells"===r?l:0,n);Ze(e,a)}const c=xe.fromTag("tbody");je(s,c);const d=ic(i?e-l:e,t,i?0:o,n);return Ze(c,d),s})(o,t,a,n,kl(e),i);fe(r,"data-mce-id","__mce");const s=(e=>{const t=xe.fromTag("div"),o=xe.fromDom(e.dom.cloneNode(!0));return je(t,o),(e=>e.dom.innerHTML)(t)})(r);e.insertContent(s),e.addVisual()})),wt(Fr(e),'table[data-mce-id="__mce"]').map((t=>(Al(e)?nc(t):Tl(e)?rc(t):(Dl(e)||(e=>r(e)&&-1!==e.indexOf("%"))(s.width))&&oc(t),jr(t),_e(t,"data-mce-id"),((e,t)=>{O(gt(t,"tr"),(t=>{hl(e,t.dom),O(gt(t,"th,td"),(t=>{pl(e,t.dom)}))}))})(e,t),((e,t)=>{wt(t,"td,th").each(y(lc,e))})(e,t),t.dom))).getOrNull()};var dc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const uc="x-tinymce/dom-table-",hc=uc+"rows",pc=uc+"columns",mc=e=>{const t=dc.FakeClipboardItem(e);dc.write([t])},gc=e=>{var t;const o=null!==(t=dc.read())&&void 0!==t?t:[];return W(o,(t=>k.from(t.getType(e))))},fc=e=>{gc(e).isSome()&&dc.clear()},yc=e=>{e.fold(vc,(e=>mc({[hc]:e})))},bc=()=>gc(hc),vc=()=>fc(hc),_c=e=>{e.fold(kc,(e=>mc({[pc]:e})))},wc=()=>gc(pc),kc=()=>fc(pc),xc=e=>za(Ur(e),Vr(e)).filter($r),Sc=(e,t)=>{const o=Vr(e),n=e=>Qt(e,o),s=t=>(e=>Ra(Ur(e),Vr(e)).filter($r))(e).bind((e=>n(e).map((o=>t(o,e))))),i=t=>{e.focus()},l=(t,o=!1)=>s(((n,r)=>{const a=Oa(Na(e),n,r);t(n,a,o).each(i)})),c=()=>s(((t,o)=>{const n=Oa(Na(e),t,o),r=Ir(p,xe.fromDom(e.getDoc()),k.none());return Fl(t,n,r)})),d=()=>s(((t,o)=>{const n=Oa(Na(e),t,o);return Hl(t,n)})),u=(t,o)=>o().each((o=>{const n=T(o,(e=>Xe(e)));s(((o,r)=>{const a=Lr(xe.fromDom(e.getDoc())),s=((e,t,o,n)=>({selection:ba(e),clipboard:o,generators:n}))(Na(e),0,n,a);t(o,s).each(i)}))})),m=e=>(t,o)=>((e,t)=>J(e,t)?k.from(e[t]):k.none())(o,"type").each((t=>{l(e(t),o.no_events)}));q({mceTableSplitCells:()=>l(t.unmergeCells),mceTableMergeCells:()=>l(t.mergeCells),mceTableInsertRowBefore:()=>l(t.insertRowsBefore),mceTableInsertRowAfter:()=>l(t.insertRowsAfter),mceTableInsertColBefore:()=>l(t.insertColumnsBefore),mceTableInsertColAfter:()=>l(t.insertColumnsAfter),mceTableDeleteCol:()=>l(t.deleteColumn),mceTableDeleteRow:()=>l(t.deleteRow),mceTableCutCol:()=>d().each((e=>{_c(e),l(t.deleteColumn)})),mceTableCutRow:()=>c().each((e=>{yc(e),l(t.deleteRow)})),mceTableCopyCol:()=>d().each((e=>_c(e))),mceTableCopyRow:()=>c().each((e=>yc(e))),mceTablePasteColBefore:()=>u(t.pasteColsBefore,wc),mceTablePasteColAfter:()=>u(t.pasteColsAfter,wc),mceTablePasteRowBefore:()=>u(t.pasteRowsBefore,bc),mceTablePasteRowAfter:()=>u(t.pasteRowsAfter,bc),mceTableDelete:()=>xc(e).each((t=>{Qt(t,o).filter(b(o)).each((t=>{const o=xe.fromText("");if(Fe(t,o),qe(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(o.dom,0),t.setEnd(o.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,o)=>{s((t=>{const n=Na(e),r=H(n,(t=>e.formatter.match("tablecellclass",{value:o},t.dom))),a=r?e.formatter.remove:e.formatter.apply;O(n,(e=>a("tablecellclass",{value:o},e.dom))),ml(e,t.dom,gl)}))},mceTableToggleClass:(t,o)=>{s((t=>{e.formatter.toggle("tableclass",{value:o},t.dom),ml(e,t.dom,gl)}))},mceTableToggleCaption:()=>{xc(e).each((t=>{Qt(t,o).each((o=>{_t(o,"caption").fold((()=>{const t=xe.fromTag("caption");je(t,xe.fromText("Caption")),((e,t,o)=>{Be(e,o).fold((()=>{je(e,t)}),(e=>{He(e,t)}))})(o,t,0),e.selection.setCursorLocation(t.dom,0)}),(n=>{me("caption")(t)&&Ee("td",o).each((t=>e.selection.setCursorLocation(t.dom,0))),qe(n)})),ml(e,o.dom,fl)}))}))},mceTableSizingMode:(t,n)=>(t=>xc(e).each((n=>{Tl(e)||Al(e)||Dl(e)||Qt(n,o).each((o=>{"relative"!==t||Ql(o)?"fixed"!==t||Jl(o)?"responsive"!==t||ec(o)||rc(o):nc(o):oc(o),jr(o),ml(e,o.dom,fl)}))})))(n),mceTableCellType:m((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:m((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:m((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,o)=>e.addCommand(o,t))),e.addCommand("mceInsertTable",((t,o)=>{((e,t,o,n={})=>{const r=e=>h(e)&&e>0;if(r(t)&&r(o)){const r=n.headerRows||0,a=n.headerColumns||0;return cc(e,o,t,a,r)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,o.rows,o.columns,o.options)})),e.addCommand("mceTableApplyCellStyle",((t,o)=>{const s=e=>"tablecell"+e.toLowerCase().replace("-","");if(!a(o))return;const i=z(Na(e),$r);if(0===i.length)return;const l=K(o,((t,o)=>e.formatter.has(s(o))&&r(t)));(e=>{for(const t in e)if($.call(e,t))return!1;return!0})(l)||(q(l,((t,o)=>{const n=s(o);O(i,(o=>{""===t?e.formatter.remove(n,{value:null},o.dom,!0):e.formatter.apply(n,{value:t},o.dom)}))})),n(i[0]).each((t=>ml(e,t.dom,gl))))}))},Cc=Js([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ec={before:Cc.before,on:Cc.on,after:Cc.after,cata:(e,t,o,n)=>e.fold(t,o,n),getStart:e=>e.fold(g,g,g)},Dc=(e,t)=>({selection:e,kill:t}),Ac=(e,t)=>{const o=e.document.createRange();return o.selectNode(t.dom),o},Tc=(e,t)=>{const o=e.document.createRange();return Oc(o,t),o},Oc=(e,t)=>e.selectNodeContents(t.dom),Mc=(e,t,o)=>{const n=e.document.createRange();var r;return r=n,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))})(n,o),n},zc=(e,t,o,n,r)=>{const a=e.document.createRange();return a.setStart(t.dom,o),a.setEnd(n.dom,r),a},Rc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Nc=Js([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ic=(e,t,o)=>t(xe.fromDom(o.startContainer),o.startOffset,xe.fromDom(o.endContainer),o.endOffset),Lc=(e,t)=>{const o=((e,t)=>t.match({domRange:e=>({ltr:m(e),rtl:k.none}),relative:(t,o)=>({ltr:ro((()=>Mc(e,t,o))),rtl:ro((()=>k.some(Mc(e,o,t))))}),exact:(t,o,n,r)=>({ltr:ro((()=>zc(e,t,o,n,r))),rtl:ro((()=>k.some(zc(e,n,r,t,o))))})}))(e,t);return((e,t)=>{const o=t.ltr();if(o.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>Nc.rtl(xe.fromDom(e.endContainer),e.endOffset,xe.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Ic(0,Nc.ltr,o)));return Ic(0,Nc.ltr,o)})(0,o)},Pc=(e,t)=>Lc(e,t).match({ltr:(t,o,n,r)=>{const a=e.document.createRange();return a.setStart(t.dom,o),a.setEnd(n.dom,r),a},rtl:(t,o,n,r)=>{const a=e.document.createRange();return a.setStart(n.dom,r),a.setEnd(t.dom,o),a}});Nc.ltr,Nc.rtl;const Bc=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n}),Hc=(e,t,o,n)=>({start:Ec.on(e,t),finish:Ec.on(o,n)}),Fc=(e,t)=>{const o=Pc(e,t);return Bc(xe.fromDom(o.startContainer),o.startOffset,xe.fromDom(o.endContainer),o.endOffset)},Vc=Hc,jc=(e,t,o,n,r)=>De(o,n)?k.none():ha(o,n,t).bind((t=>{const n=t.boxes.getOr([]);return n.length>1?(r(e,n,t.start,t.finish),k.some(Dc(k.some(Vc(o,0,o,kr(o))),!0))):k.none()})),Uc=(e,t)=>({item:e,mode:t}),Wc=(e,t,o,n=Zc)=>e.property().parent(t).map((e=>Uc(e,n))),Zc=(e,t,o,n=$c)=>o.sibling(e,t).map((e=>Uc(e,n))),$c=(e,t,o,n=$c)=>{const r=e.property().children(t);return o.first(r).map((e=>Uc(e,n)))},qc=[{current:Wc,next:Zc,fallback:k.none()},{current:Zc,next:$c,fallback:k.some(Wc)},{current:$c,next:$c,fallback:k.some(Zc)}],Yc=(e,t,o,n,r=qc)=>I(r,(e=>e.current===o)).bind((o=>o.current(e,t,n,o.next).orThunk((()=>o.fallback.bind((o=>Yc(e,t,o,n))))))),Gc=()=>({sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?k.some(e[e.length-1]):k.none()}),Kc=()=>({sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?k.some(e[0]):k.none()}),Xc=(e,t,o,n,r,a)=>Yc(e,t,n,r).bind((t=>a(t.item)?k.none():o(t.item)?k.some(t.item):Xc(e,t.item,o,t.mode,r,a))),Qc=e=>t=>0===e.property().children(t).length,Jc=(e,t,o,n)=>Xc(e,t,o,Zc,Gc(),n),ed=(e,t,o,n)=>Xc(e,t,o,Zc,Kc(),n),td=ra(),od=(e,t)=>((e,t,o)=>Jc(e,t,Qc(e),o))(td,e,t),nd=(e,t)=>((e,t,o)=>ed(e,t,Qc(e),o))(td,e,t),rd=Js([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ad=e=>kt(e,"tr"),sd={...rd,verify:(e,t,o,n,r,a,s)=>kt(n,"td,th",s).bind((o=>kt(t,"td,th",s).map((t=>De(o,t)?De(n,o)&&kr(o)===r?a(t):rd.none("in same cell"):da(ad,[o,t]).fold((()=>((e,t,o)=>{const n=e.getRect(t),r=e.getRect(o);return r.right>n.left&&r.left<n.right})(e,t,o)?rd.success():a(t)),(e=>a(t))))))).getOr(rd.none("default")),cata:(e,t,o,n,r)=>e.fold(t,o,n,r)},id=(e,t)=>L(e,y(De,t)),ld=me("br"),cd=(e,t,o)=>t(e,o).bind((e=>ue(e)&&0===vr(e).trim().length?cd(e,t,o):k.some(e))),dd=(e,t,o,n)=>((e,t)=>Be(e,t).filter(ld).orThunk((()=>Be(e,t-1).filter(ld))))(t,o).bind((t=>n.traverse(t).fold((()=>cd(t,n.gather,e).map(n.relative)),(e=>(e=>ze(e).bind((t=>{const o=Pe(t);return id(o,e).map((n=>((e,t,o,n)=>({parent:e,children:t,element:o,index:n}))(t,o,e,n)))})))(e).map((e=>Ec.on(e.parent,e.index))))))),ud=(e,t,o,n)=>{const r=ld(t)?((e,t,o)=>o.traverse(t).orThunk((()=>cd(t,o.gather,e))).map(o.relative))(e,t,n):dd(e,t,o,n);return r.map((e=>({start:e,finish:e})))},hd=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),pd=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),md=(e,t,o)=>({left:e.left+t,top:e.top+o,right:e.right+t,bottom:e.bottom+o}),gd=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),fd=(e,t)=>k.some(e.getRect(t)),yd=(e,t,o)=>de(t)?fd(e,t).map(gd):ue(t)?((e,t,o)=>o>=0&&o<kr(t)?e.getRangedRect(t,o,t,o+1):o>0?e.getRangedRect(t,o-1,t,o):k.none())(e,t,o).map(gd):k.none(),bd=(e,t)=>de(t)?fd(e,t).map(gd):ue(t)?e.getRangedRect(t,0,t,kr(t)).map(gd):k.none(),vd=Js([{none:[]},{retry:["caret"]}]),_d=(e,t,o)=>bt(t,vi).fold(_,(t=>bd(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(o,e))))),wd={point:e=>e.bottom,adjuster:(e,t,o,n,r)=>{const a=hd(r,5);return Math.abs(o.bottom-n.bottom)<1||o.top>r.bottom?vd.retry(a):o.top===r.bottom?vd.retry(hd(r,1)):_d(e,t,r)?vd.retry(md(a,5,0)):vd.none()},move:hd,gather:nd},kd=(e,t,o,n,r)=>0===r?k.some(n):((e,t,o)=>e.elementFromPoint(t,o).filter((e=>"table"===ae(e))).isSome())(e,n.left,t.point(n))?((e,t,o,n,r)=>kd(e,t,o,t.move(n,5),r))(e,t,o,n,r-1):e.situsFromPoint(n.left,t.point(n)).bind((a=>a.start.fold(k.none,(a=>bd(e,a).bind((s=>t.adjuster(e,a,s,o,n).fold(k.none,(n=>kd(e,t,o,n,r-1))))).orThunk((()=>k.some(n)))),k.none))),xd=(e,t,o)=>{const n=e.move(o,5),r=kd(t,e,o,n,100).getOr(n);return((e,t,o)=>e.point(t)>o.getInnerHeight()?k.some(e.point(t)-o.getInnerHeight()):e.point(t)<0?k.some(-e.point(t)):k.none())(e,r,t).fold((()=>t.situsFromPoint(r.left,e.point(r))),(o=>(t.scrollBy(0,o),t.situsFromPoint(r.left,e.point(r)-o))))},Sd={tryUp:y(xd,{point:e=>e.top,adjuster:(e,t,o,n,r)=>{const a=pd(r,5);return Math.abs(o.top-n.top)<1||o.bottom<r.top?vd.retry(a):o.bottom===r.top?vd.retry(pd(r,1)):_d(e,t,r)?vd.retry(md(a,5,0)):vd.none()},move:pd,gather:od}),tryDown:y(xd,wd),getJumpSize:m(5)},Cd=(e,t,o)=>e.getSelection().bind((n=>ud(t,n.finish,n.foffset,o).fold((()=>k.some(La(n.finish,n.foffset))),(r=>{const a=e.fromSitus(r);return(e=>sd.cata(e,(e=>k.none()),(()=>k.none()),(e=>k.some(La(e,0))),(e=>k.some(La(e,kr(e))))))(sd.verify(e,n.finish,n.foffset,a.finish,a.foffset,o.failure,t))})))),Ed=(e,t,o,n,r,a)=>0===a?k.none():Td(e,t,o,n,r).bind((s=>{const i=e.fromSitus(s),l=sd.verify(e,o,n,i.finish,i.foffset,r.failure,t);return sd.cata(l,(()=>k.none()),(()=>k.some(s)),(s=>De(o,s)&&0===n?Dd(e,o,n,pd,r):Ed(e,t,s,0,r,a-1)),(s=>De(o,s)&&n===kr(s)?Dd(e,o,n,hd,r):Ed(e,t,s,kr(s),r,a-1)))})),Dd=(e,t,o,n,r)=>yd(e,t,o).bind((t=>Ad(e,r,n(t,Sd.getJumpSize())))),Ad=(e,t,o)=>{const n=No().browser;return n.isChromium()||n.isSafari()||n.isFirefox()?t.retry(e,o):k.none()},Td=(e,t,o,n,r)=>yd(e,o,n).bind((t=>Ad(e,r,t))),Od=(e,t)=>{return yt(e,(e=>ze(e).exists((e=>De(e,t)))),o).isSome();var o},Md=(e,t,o,n,r)=>kt(n,"td,th",t).bind((n=>kt(n,"table",t).bind((a=>Od(r,a)?((e,t,o)=>Cd(e,t,o).bind((n=>Ed(e,t,n.element,n.offset,o,20).map(e.fromSitus))))(e,t,o).bind((e=>kt(e.finish,"td,th",t).map((t=>({start:n,finish:t,range:e}))))):k.none())))),zd=(e,t,o,n,r,a)=>a(n,t).orThunk((()=>Md(e,t,o,n,r).map((e=>{const t=e.range;return Dc(k.some(Vc(t.start,t.soffset,t.finish,t.foffset)),!0)})))),Rd=(e,t)=>kt(e,"tr",t).bind((e=>kt(e,"table",t).bind((o=>{const n=gt(o,"tr");return De(e,n[0])?((e,t,o)=>Jc(td,e,t,o))(o,(e=>Er(e).isSome()),t).map((e=>{const t=kr(e);return Dc(k.some(Vc(e,t,e,t)),!0)})):k.none()})))),Nd=(e,t)=>kt(e,"tr",t).bind((e=>kt(e,"table",t).bind((o=>{const n=gt(o,"tr");return De(e,n[n.length-1])?((e,t,o)=>ed(td,e,t,o))(o,(e=>Cr(e).isSome()),t).map((e=>Dc(k.some(Vc(e,0,e,0)),!0))):k.none()})))),Id=(e,t,o,n,r,a,s)=>Md(e,o,n,r,a).bind((e=>jc(t,o,e.start,e.finish,s))),Ld=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Pd=()=>{const e=(e=>{const t=Ld(k.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(k.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(k.some(e))}}})(p);return{...e,on:t=>e.get().each(t)}},Bd=(e,t)=>kt(e,"td,th",t),Hd=e=>Re(e).exists(Br),Fd={traverse:Le,gather:nd,relative:Ec.before,retry:Sd.tryDown,failure:sd.failedDown},Vd={traverse:Ie,gather:od,relative:Ec.before,retry:Sd.tryUp,failure:sd.failedUp},jd=e=>t=>t===e,Ud=jd(38),Wd=jd(40),Zd=e=>e>=37&&e<=40,$d={isBackward:jd(37),isForward:jd(39)},qd={isBackward:jd(39),isForward:jd(37)},Yd=Js([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gd={domRange:Yd.domRange,relative:Yd.relative,exact:Yd.exact,exactFromRange:e=>Yd.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>xe.fromDom(e.startContainer),relative:(e,t)=>Ec.getStart(e),exact:(e,t,o,n)=>e}))(e);return o=t,xe.fromDom(Me(o).dom.defaultView);var o},range:Bc},Kd=(e,t,o)=>{var n,r;return k.from(null===(r=(n=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(n,t,o)).bind((t=>{if(null===t.offsetNode)return k.none();const o=e.dom.createRange();return o.setStart(t.offsetNode,t.offset),o.collapse(),k.some(o)}))},Xd=(e,t,o)=>{var n,r;return k.from(null===(r=(n=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(n,t,o))},Qd=document.caretPositionFromPoint?Kd:document.caretRangeFromPoint?Xd:k.none,Jd=(e,t)=>{const o=ae(e);return"input"===o?Ec.after(e):E(["br","img"],o)?0===t?Ec.before(e):Ec.after(e):Ec.on(e,t)},eu=(e,t,o,n)=>{const r=((e,t,o,n)=>{const r=Oe(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(o.dom,n),r})(e,t,o,n),a=De(e,o)&&t===n;return r.collapsed&&!a},tu=e=>k.from(e.getSelection()),ou=(e,t)=>{tu(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},nu=(e,t,o,n,r)=>{const a=zc(e,t,o,n,r);ou(e,a)},ru=(e,t)=>Lc(e,t).match({ltr:(t,o,n,r)=>{nu(e,t,o,n,r)},rtl:(t,o,n,r)=>{tu(e).each((a=>{if(a.setBaseAndExtent)a.setBaseAndExtent(t.dom,o,n.dom,r);else if(a.extend)try{((e,t,o,n,r,a)=>{t.collapse(o.dom,n),t.extend(r.dom,a)})(0,a,t,o,n,r)}catch(a){nu(e,n,r,t,o)}else nu(e,n,r,t,o)}))}}),au=(e,t,o,n,r)=>{const a=((e,t,o,n)=>{const r=Jd(e,t),a=Jd(o,n);return Gd.relative(r,a)})(t,o,n,r);ru(e,a)},su=(e,t,o)=>{const n=((e,t)=>{const o=e.fold(Ec.before,Jd,Ec.after),n=t.fold(Ec.before,Jd,Ec.after);return Gd.relative(o,n)})(t,o);ru(e,n)},iu=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),o=e.getRangeAt(e.rangeCount-1);return k.some(Bc(xe.fromDom(t.startContainer),t.startOffset,xe.fromDom(o.endContainer),o.endOffset))}return k.none()},lu=e=>{if(null===e.anchorNode||null===e.focusNode)return iu(e);{const t=xe.fromDom(e.anchorNode),o=xe.fromDom(e.focusNode);return eu(t,e.anchorOffset,o,e.focusOffset)?k.some(Bc(t,e.anchorOffset,o,e.focusOffset)):iu(e)}},cu=(e,t,o=!0)=>{const n=(o?Tc:Ac)(e,t);ou(e,n)},du=e=>(e=>tu(e).filter((e=>e.rangeCount>0)).bind(lu))(e).map((e=>Gd.exact(e.start,e.soffset,e.finish,e.foffset))),uu=(e,t)=>(e=>{const t=e.getClientRects(),o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?k.some(o).map(Rc):k.none()})(Pc(e,t)),hu=(e,t,o)=>((e,t,o)=>{const n=xe.fromDom(e.document);return Qd(n,t,o).map((e=>Bc(xe.fromDom(e.startContainer),e.startOffset,xe.fromDom(e.endContainer),e.endOffset)))})(e,t,o),pu=e=>({elementFromPoint:(t,o)=>xe.fromPoint(xe.fromDom(e.document),t,o),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,o,n,r)=>{const a=Gd.exact(t,o,n,r);return uu(e,a)},getSelection:()=>du(e).map((t=>Fc(e,t))),fromSitus:t=>{const o=Gd.relative(t.start,t.finish);return Fc(e,o)},situsFromPoint:(t,o)=>hu(e,t,o).map((e=>Hc(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{tu(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{du(e).each((o=>o.fold((e=>e.collapse(t)),((o,n)=>{const r=t?o:n;su(e,r,r)}),((o,n,r,a)=>{const s=t?o:r,i=t?n:a;au(e,s,i,s,i)}))))},setSelection:t=>{au(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,o)=>{su(e,t,o)},selectNode:t=>{cu(e,t,!1)},selectContents:t=>{cu(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return bn(o,n)})(xe.fromDom(e.document)).top,scrollBy:(t,o)=>{((e,t,o)=>{const n=(void 0!==o?o.dom:document).defaultView;n&&n.scrollBy(e,t)})(t,o,xe.fromDom(e.document))}}),mu=(e,t)=>({rows:e,cols:t}),gu=(e,t,o,n)=>{const r=((e,t,o,n)=>{const r=Pd(),a=r.clear,s=a=>{r.on((r=>{n.clearBeforeUpdate(t),Bd(a.target,o).each((s=>{ha(r,s,o).each((o=>{const r=o.boxes.getOr([]);if(1===r.length){const o=r[0],s="false"===Hr(o),i=xt(Pr(a.target),o,De);s&&i&&(n.selectRange(t,r,o,o),e.selectContents(o))}else r.length>1&&(n.selectRange(t,r,o.start,o.finish),e.selectContents(s))}))}))}))};return{clearstate:a,mousedown:e=>{n.clear(t),Bd(e.target,o).filter(Hd).each(r.set)},mouseover:e=>{s(e)},mouseup:e=>{s(e),a()}}})(pu(e),t,o,n);return{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}},fu=e=>bt(e,ce).exists(Br),yu=(e,t)=>fu(e)||fu(t),bu=(e,t,o,n)=>{const r=pu(e),a=()=>(n.clear(t),k.none());return{keydown:(e,s,i,l,c,d)=>{const u=e.raw,h=u.which,p=!0===u.shiftKey,m=pa(t,n.selectedSelector).fold((()=>(Zd(h)&&!p&&n.clearBeforeUpdate(t),Zd(h)&&p&&!yu(s,l)?k.none:Wd(h)&&p?y(Id,r,t,o,Fd,l,s,n.selectRange):Ud(h)&&p?y(Id,r,t,o,Vd,l,s,n.selectRange):Wd(h)?y(zd,r,o,Fd,l,s,Nd):Ud(h)?y(zd,r,o,Vd,l,s,Rd):k.none)),(e=>{const o=o=>()=>{const a=W(o,(o=>((e,t,o,n,r)=>ga(n,e,t,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>(r.clearBeforeUpdate(o),r.selectRange(o,e.boxes,e.start,e.finish),e.boxes))))(o.rows,o.cols,t,e,n)));return a.fold((()=>ma(t,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>{const o=Wd(h)||d.isForward(h)?Ec.after:Ec.before;return r.setRelativeSelection(Ec.on(e.first,0),o(e.table)),n.clear(t),Dc(k.none(),!0)}))),(e=>k.some(Dc(k.none(),!0))))};return Zd(h)&&p&&!yu(s,l)?k.none:Wd(h)&&p?o([mu(1,0)]):Ud(h)&&p?o([mu(-1,0)]):d.isBackward(h)&&p?o([mu(0,-1),mu(-1,0)]):d.isForward(h)&&p?o([mu(0,1),mu(1,0)]):Zd(h)&&!p?a:k.none}));return m()},keyup:(e,r,a,s,i)=>pa(t,n.selectedSelector).fold((()=>{const l=e.raw,c=l.which;return!0===l.shiftKey&&Zd(c)&&yu(r,s)?((e,t,o,n,r,a,s)=>De(o,r)&&n===a?k.none():kt(o,"td,th",t).bind((o=>kt(r,"td,th",t).bind((n=>jc(e,t,o,n,s))))))(t,o,r,a,s,i,n.selectRange):k.none()}),k.none)}},vu=(e,t)=>{const o=be(e,t);return void 0===o||""===o?[]:o.split(" ")},_u=e=>void 0!==e.dom.classList,wu=(e,t)=>((e,t,o)=>{const n=vu(e,t).concat([o]);return fe(e,t,n.join(" ")),!0})(e,"class",t),ku=(e,t)=>{_u(e)?e.dom.classList.add(t):wu(e,t)},xu=(e,t)=>_u(e)&&e.dom.classList.contains(t),Su=(e,t,o)=>{const n=t=>{_e(t,e.selected),_e(t,e.firstSelected),_e(t,e.lastSelected)},r=t=>{fe(t,e.selected,"1")},a=e=>{s(e),o()},s=t=>{const o=gt(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);O(o,n)};return{clearBeforeUpdate:s,clear:a,selectRange:(o,n,s,i)=>{a(o),O(n,r),fe(s,e.firstSelected,"1"),fe(i,e.lastSelected,"1"),t(n,s,i)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Cu=()=>({tag:"none"}),Eu=e=>({tag:"multiple",elements:e}),Du=e=>({tag:"single",element:e}),Au=(e,t,o)=>{const n=an.fromTable(e);return Ss(n,t).map((e=>{const t=bs(n,o,!1),{rows:r}=Xo(t),a=((e,t)=>{const o=e.slice(0,t[t.length-1].row+1),n=vs(o);return B(n,(e=>{const o=e.cells.slice(0,t[t.length-1].column+1);return T(o,(e=>e.element))}))})(r,e),s=((e,t)=>{const o=e.slice(t[0].row+t[0].rowspan-1,e.length),n=vs(o);return B(n,(e=>{const o=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return T(o,(e=>e.element))}))})(r,e);return{upOrLeftCells:a,downOrRightCells:s}}))},Tu=e=>{const t=xe.fromDom((e=>{if(at()&&d(e.target)){const t=xe.fromDom(e.target);if(de(t)&&ct(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return j(t)}}return k.from(e.target)})(e).getOr(e.target)),o=()=>e.stopPropagation(),n=()=>e.preventDefault(),r=(a=n,s=o,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,o,n,r,a,s)=>({target:e,x:t,y:o,stop:n,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,o,n,r,e)},Ou=(e,t,o,n,r)=>{const a=((e,t)=>o=>{e(o)&&t(Tu(o))})(o,n);return e.dom.addEventListener(t,a,r),{unbind:y(Mu,e,t,a,r)}},Mu=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)},zu=w,Ru=(e,t,o)=>((e,t,o,n)=>Ou(e,t,o,n,!1))(e,t,zu,o),Nu=Tu,Iu=e=>!xu(xe.fromDom(e.target),"ephox-snooker-resizer-bar"),Lu=(e,t)=>{const o=((e,t,o)=>({get:()=>fa(e(),o).fold((()=>t().fold(Cu,Du)),Eu)}))((()=>xe.fromDom(e.getBody())),(()=>Ra(Ur(e),Vr(e))),Ta.selectedSelector),n=Su(Ta,((t,o,n)=>{Qt(o).each((r=>{const a=wl(e),s=Ir(p,xe.fromDom(e.getDoc()),a),i=Na(e),l=Au(r,{selection:i},s);((e,t,o,n,r)=>{e.dispatch("TableSelectionChange",{cells:t,start:o,finish:n,otherCells:r})})(e,t,o,n,l)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));e.on("init",(o=>{const r=e.getWin(),a=Fr(e),s=Vr(e),i=gu(r,a,s,n),l=bu(r,a,s,n),c=((e,t,o,n)=>{const r=pu(e);return(e,a)=>{n.clearBeforeUpdate(t),ha(e,a,o).each((e=>{const o=e.boxes.getOr([]);n.selectRange(t,o,e.start,e.finish),r.selectContents(a),r.collapseSelection()}))}})(r,a,s,n);e.on("TableSelectorChange",(e=>c(e.start,e.finish)));const d=(t,o)=>{(e=>!0===e.raw.shiftKey)(t)&&(o.kill&&t.kill(),o.selection.each((t=>{const o=Gd.relative(t.start,t.finish),n=Pc(r,o);e.selection.setRng(n)})))},u=e=>0===e.button,h=(()=>{const e=Ld(xe.fromDom(a)),t=Ld(0);return{touchEnd:o=>{const n=xe.fromDom(o.target);if(me("td")(n)||me("th")(n)){const r=e.get(),a=t.get();De(r,n)&&o.timeStamp-a<300&&(o.preventDefault(),c(n,n))}e.set(n),t.set(o.timeStamp)}}})();e.on("dragstart",(e=>{i.clearstate()})),e.on("mousedown",(e=>{u(e)&&Iu(e)&&i.mousedown(Nu(e))})),e.on("mouseover",(e=>{var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Iu(e)||i.mouseover(Nu(e))})),e.on("mouseup",(e=>{u(e)&&Iu(e)&&i.mouseup(Nu(e))})),e.on("touchend",h.touchEnd),e.on("keyup",(t=>{const o=Nu(t);if(o.raw.shiftKey&&Zd(o.raw.which)){const t=e.selection.getRng(),n=xe.fromDom(t.startContainer),r=xe.fromDom(t.endContainer);l.keyup(o,n,t.startOffset,r,t.endOffset).each((e=>{d(o,e)}))}})),e.on("keydown",(o=>{const n=Nu(o);t.hide();const r=e.selection.getRng(),a=xe.fromDom(r.startContainer),s=xe.fromDom(r.endContainer),i=un($d,qd)(xe.fromDom(e.selection.getStart()));l.keydown(n,a,r.startOffset,s,r.endOffset,i).each((e=>{d(n,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,o=xe.fromDom(t.getStart()),r=xe.fromDom(t.getEnd());da(Qt,[o,r]).fold((()=>n.clear(a)),p)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(Ta.firstSelected),e.serializer.addTempAttr(Ta.lastSelected)}));return{getSelectedCells:()=>((e,t,o,n)=>{switch(e.tag){case"none":return t();case"single":return n(e.element);case"multiple":return o(e.elements)}})(o.get(),m([]),(e=>T(e,(e=>e.dom))),(e=>[e.dom])),clearSelectedCells:e=>n.clear(xe.fromDom(e))}},Pu=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=z(t,(t=>t!==e))},trigger:(...o)=>{const n={};O(e,((e,t)=>{n[e]=o[t]})),O(t,(e=>{e(n)}))}}},Bu=e=>({registry:Y(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:Y(e,(e=>e.trigger))}),Hu=e=>e.slice(0).sort(),Fu=(e,t,o)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((e,t)=>{if(!s(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");O(t,(t=>{if(!r(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))})("required",t),(e=>{const t=Hu(e);I(t,((e,o)=>o<t.length-1&&e===t[o+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),n=>{const r=Z(n);H(t,(e=>E(r,e)))||((e,t)=>{throw new Error("All required keys ("+Hu(e).join(", ")+") were not specified. Specified keys were: "+Hu(t).join(", ")+".")})(t,r),e(t,r);const a=z(t,(e=>!o.validate(n[e],e)));return a.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Hu(e).join(", ")+") were not.")})(a,o.label),n}},Vu=(e,t)=>{const o=z(t,(t=>!E(e,t)));o.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Hu(e).join(", "))})(o)},ju=e=>((e,t)=>Fu(e,t,{validate:u,label:"function"}))(Vu,e),Uu=ju(["compare","extract","mutate","sink"]),Wu=ju(["element","start","stop","destroy"]),Zu=ju(["forceDrop","drop","move","delayDrop"]),$u=()=>{let e=k.none();const t=Bu({move:Pu(["info"])});return{onEvent:(o,n)=>{n.extract(o).each((o=>{const r=((t,o)=>{const n=e.map((e=>t.compare(e,o)));return e=k.some(o),n})(n,o);r.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=k.none()},events:t.registry}},qu=()=>{const e=(()=>{const e=Bu({move:Pu(["info"])});return{onEvent:p,reset:p,events:e.registry}})(),t=$u();let o=e;return{on:()=>{o.reset(),o=t},off:()=>{o.reset(),o=e},isOn:()=>o===t,onEvent:(e,t)=>{o.onEvent(e,t)},events:t.events}},Yu=(e,t,o)=>{let n=!1;const r=Bu({start:Pu([]),stop:Pu([])}),a=qu(),s=()=>{d.stop(),a.isOn()&&(a.off(),r.trigger.stop())},l=((e,t)=>{let o=null;const n=()=>{i(o)||(clearTimeout(o),o=null)};return{cancel:n,throttle:(...r)=>{n(),o=setTimeout((()=>{o=null,e.apply(null,r)}),t)}}})(s,200);a.events.move.bind((o=>{t.mutate(e,o.info)}));const c=e=>(...t)=>{n&&e.apply(null,t)},d=t.sink(Zu({forceDrop:s,drop:c(s),move:c((e=>{l.cancel(),a.onEvent(e,t)})),delayDrop:c(l.throttle)}),o);return{element:d.element,go:e=>{d.start(e),a.on(),r.trigger.start()},on:()=>{n=!0},off:()=>{n=!1},isActive:()=>n,destroy:()=>{d.destroy()},events:r.registry}},Gu=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},Ku=Gu("ephox-dragster").resolve;var Xu=Uu({compare:(e,t)=>bn(t.left-e.left,t.top-e.top),extract:e=>k.some(bn(e.x,e.y)),sink:(e,t)=>{const o=(e=>{const t={layerClass:Ku("blocker"),...e},o=xe.fromTag("div");return fe(o,"role","presentation"),It(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ku(o,Ku("blocker")),ku(o,t.layerClass),{element:m(o),destroy:()=>{qe(o)}}})(t),n=Ru(o.element(),"mousedown",e.forceDrop),r=Ru(o.element(),"mouseup",e.drop),a=Ru(o.element(),"mousemove",e.move),s=Ru(o.element(),"mouseout",e.delayDrop);return Wu({element:o.element,start:e=>{je(e,o.element())},stop:()=>{qe(o.element())},destroy:()=>{o.destroy(),r.unbind(),a.unbind(),s.unbind(),n.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const Qu=Gu("ephox-snooker").resolve,Ju=()=>{const e=Bu({drag:Pu(["xDelta","yDelta","target"])});let t=k.none();const o=(()=>{const e=Bu({drag:Pu(["xDelta","yDelta"])});return{mutate:(t,o)=>{e.trigger.drag(t,o)},events:e.registry}})();o.events.drag.bind((o=>{t.each((t=>{e.trigger.drag(o.xDelta,o.yDelta,t)}))}));return{assign:e=>{t=k.some(e)},get:()=>t,mutate:o.mutate,events:e.registry}},eh=Qu("resizer-bar"),th=Qu("resizer-rows"),oh=Qu("resizer-cols"),nh=e=>{const t=gt(e.parent(),"."+eh);O(t,qe)},rh=(e,t,o)=>{const n=e.origin();O(t,(t=>{t.each((t=>{const r=o(n,t);ku(r,eh),je(e.parent(),r)}))}))},ah=(e,t,o,n)=>{rh(e,t,((e,t)=>{const r=((e,t,o,n,r)=>{const a=xe.fromTag("div");return It(a,{position:"absolute",left:t-n/2+"px",top:o+"px",height:r+"px",width:n+"px"}),ye(a,{"data-column":e,role:"presentation"}),a})(t.col,t.x-e.left,o.top-e.top,7,n);return ku(r,oh),r}))},sh=(e,t,o,n)=>{rh(e,t,((e,t)=>{const r=((e,t,o,n,r)=>{const a=xe.fromTag("div");return It(a,{position:"absolute",left:t+"px",top:o-r/2+"px",height:r+"px",width:n+"px"}),ye(a,{"data-row":e,role:"presentation"}),a})(t.row,o.left-e.left,t.y-e.top,n,7);return ku(r,th),r}))},ih=(e,t,o,n,r)=>{const a=_n(o),s=t.isResizable,i=n.length>0?zn.positions(n,o):[],l=i.length>0?((e,t)=>B(e.all,((e,o)=>t(e.element)?[o]:[])))(e,s):[],c=z(i,((e,t)=>D(l,(e=>t===e))));sh(t,c,a,Vo(o));const d=r.length>0?Nn.positions(r,o):[],u=d.length>0?((e,t)=>{const o=[];return A(e.grid.columns,(n=>{const r=an.getColumnAt(e,n).map((e=>e.element));r.forall(t)&&o.push(n)})),z(o,(o=>{const n=an.filterItems(e,(e=>e.column===o));return H(n,(e=>t(e.element)))}))})(e,s):[],h=z(d,((e,t)=>D(u,(e=>t===e))));ah(t,h,a,gn(o))},lh=(e,t)=>{if(nh(e),e.isResizable(t)){const o=an.fromTable(t),n=cn(o),r=sn(o);ih(o,e,t,n,r)}},ch=(e,t)=>{const o=gt(e.parent(),"."+eh);O(o,t)},dh=e=>{ch(e,(e=>{Nt(e,"display","none")}))},uh=e=>{ch(e,(e=>{Nt(e,"display","block")}))},hh=Qu("resizer-bar-dragging"),ph=e=>{const t=Ju(),o=((e,t={})=>{var o;const n=null!==(o=t.mode)&&void 0!==o?o:Xu;return Yu(e,n,t)})(t,{});let n=k.none();const r=(e,t)=>k.from(be(e,t));t.events.drag.bind((e=>{r(e.target,"data-row").each((t=>{const o=Wt(e.target,"top");Nt(e.target,"top",o+e.yDelta+"px")})),r(e.target,"data-column").each((t=>{const o=Wt(e.target,"left");Nt(e.target,"left",o+e.xDelta+"px")}))}));const a=(e,t)=>Wt(e,t)-Ft(e,"data-initial-"+t,0);o.events.stop.bind((()=>{t.get().each((t=>{n.each((o=>{r(t,"data-row").each((e=>{const n=a(t,"top");_e(t,"data-initial-top"),d.trigger.adjustHeight(o,n,parseInt(e,10))})),r(t,"data-column").each((e=>{const n=a(t,"left");_e(t,"data-initial-left"),d.trigger.adjustWidth(o,n,parseInt(e,10))})),lh(e,o)}))}))}));const s=(n,r)=>{d.trigger.startAdjust(),t.assign(n),fe(n,"data-initial-"+r,Wt(n,r)),ku(n,hh),Nt(n,"opacity","0.2"),o.go(e.parent())},i=Ru(e.parent(),"mousedown",(e=>{var t;t=e.target,xu(t,th)&&s(e.target,"top"),(e=>xu(e,oh))(e.target)&&s(e.target,"left")})),l=t=>De(t,e.view()),c=Ru(e.view(),"mouseover",(t=>{var r;(r=t.target,kt(r,"table",l).filter(Br)).fold((()=>{dt(t.target)&&nh(e)}),(t=>{o.isActive()&&(n=k.some(t),lh(e,t))}))})),d=Bu({adjustHeight:Pu(["table","delta","row"]),adjustWidth:Pu(["table","delta","column"]),startAdjust:Pu([])});return{destroy:()=>{i.unbind(),c.unbind(),o.destroy(),nh(e)},refresh:t=>{lh(e,t)},on:o.on,off:o.off,hideBars:y(dh,e),showBars:y(uh,e),events:d.registry}},mh=(e,t,o)=>{const n=zn,r=Nn,a=ph(e),s=Bu({beforeResize:Pu(["table","type"]),afterResize:Pu(["table","type"]),startDrag:Pu([])});return a.events.adjustHeight.bind((e=>{const t=e.table;s.trigger.beforeResize(t,"row");const o=n.delta(e.delta,t);ii(t,o,e.row,n),s.trigger.afterResize(t,"row")})),a.events.startAdjust.bind((e=>{s.trigger.startDrag()})),a.events.adjustWidth.bind((e=>{const n=e.table;s.trigger.beforeResize(n,"col");const a=r.delta(e.delta,n),i=o(n);si(n,a,e.column,t,i),s.trigger.afterResize(n,"col")})),{on:a.on,off:a.off,refreshBars:a.refresh,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:s.registry}},gh=(e,t)=>{const o=he(e)?(e=>xe.fromDom(Me(e).dom.documentElement))(e):e;return{parent:m(o),view:m(e),origin:m(bn(0,0)),isResizable:t}},fh=(e,t,o)=>({parent:m(t),view:m(e),origin:m(bn(0,0)),isResizable:o}),yh=()=>{const e=xe.fromTag("div");return It(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),je(ut(xe.fromDom(document)),e),e},bh=e=>d(e)&&"TABLE"===e.nodeName,vh="bar-",_h=e=>"false"!==be(e,"data-mce-resize"),wh=e=>{const t=Pd(),o=Pd(),n=Pd();let r,a;const s=t=>Il(e,t),i=()=>Sl(e)?Ga():Ya(),l=(t,o,n)=>{const l=Tt(o,"e");if(""===a&&oc(t),n!==r&&""!==a){Nt(t,"width",a);const o=i(),c=s(t),d=Sl(e)||l?(e=>Ka(e).columns)(t)-1:0;si(t,n-r,d,o,c)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(a)){const e=parseFloat(a.replace("%",""));Nt(t,"width",n*e/r+"%")}(e=>/^(\d+(\.\d+)?)px$/.test(e))(a)&&(e=>{const t=an.fromTable(e);an.hasColumns(t)||O(Kt(e),(e=>{const t=Lt(e,"width");Nt(e,"width",t),_e(e,"width")}))})(t)},c=()=>{o.on((e=>{e.destroy()})),n.on((t=>{((e,t)=>{e.inline&&qe(t.parent())})(e,t)}))};e.on("init",(()=>{const r=((e,t)=>e.inline?fh(xe.fromDom(e.getBody()),yh(),t):gh(xe.fromDom(e.getDoc()),t))(e,_h);if(n.set(r),(e=>{const t=e.options.get("object_resizing");return E(t.split(","),"table")})(e)&&Ol(e)){const n=i(),a=mh(r,n,s);a.on(),a.events.startDrag.bind((o=>{t.set(e.selection.getRng())})),a.events.beforeResize.bind((t=>{const o=t.table.dom;((e,t,o,n,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:r})})(e,o,Wr(o),Zr(o),vh+t.type)})),a.events.afterResize.bind((o=>{const n=o.table,r=n.dom;jr(n),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,o,n,r)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:r})})(e,r,Wr(r),Zr(r),vh+o.type),e.undoManager.add()})),o.set(a)}})),e.on("ObjectResizeStart",(t=>{const o=t.target;if(bh(o)){const n=xe.fromDom(o);O(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+xl(e)+"-columns")})),!Jl(n)&&Al(e)?nc(n):!Ql(n)&&Dl(e)&&oc(n),ec(n)&&At(t.origin,vh)&&oc(n),r=t.width,a=Tl(e)?"":((e,t)=>{const o=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return k.from(o).filter(Mt)})(e,o).getOr("")}})),e.on("ObjectResized",(t=>{const o=t.target;if(bh(o)){const n=xe.fromDom(o),r=t.origin;At(r,"corner-")&&l(n,r,t.width),jr(n),ml(e,n.dom,gl)}})),e.on("SwitchMode",(()=>{o.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("dragstart dragend",(e=>{o.on((t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())}))})),e.on("remove",(()=>{c()}));return{refresh:e=>{o.on((t=>t.refreshBars(xe.fromDom(e))))},hide:()=>{o.on((e=>e.hideBars()))},show:()=>{o.on((e=>e.showBars()))}}},kh=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=E(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=E(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0})})(e);const t=wh(e),o=Lu(e,t),n=Ll(e,t,o);return Sc(e,n),((e,t)=>{const o=Vr(e),n=t=>Ra(Ur(e)).bind((n=>Qt(n,o).map((o=>{const r=Oa(Na(e),o,n);return t(o,r)})))).getOr("");q({mceTableRowType:()=>n(t.getTableRowType),mceTableCellType:()=>n(t.getTableCellType),mceTableColType:()=>n(t.getTableColType)},((t,o)=>e.addQueryValueHandler(o,t)))})(e,n),Ia(e,n),{getSelectedCells:o.getSelectedCells,clearSelectedCells:o.clearSelectedCells}},xh=e=>({table:kh(e)});e.add("dom",xh)}()},4400:(e,t,o)=>{o(2242)},2242:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{const n="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(n,!1,!1===o?null:{"list-style-type":o})},o=e=>t=>t.options.get(e),n=o("advlist_number_styles"),r=o("advlist_bullet_styles"),a=e=>null==e,s=e=>!a(e);var i=tinymce.util.Tools.resolve("tinymce.util.Tools");class l{constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return s(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}l.singletonNone=new l(!1);const c=e=>t=>s(t)&&e.test(t.nodeName),d=c(/^(OL|UL|DL)$/),u=c(/^(TH|TD)$/),h=(e,t,o)=>((e,t,o)=>{for(let n=0,r=e.length;n<r;n++){const r=e[n];if(t(r,n))return l.some(r);if(o(r,n))break}return l.none()})(t,(e=>d(e)&&!/\btox\-/.test(e.className)),u).exists((t=>t.nodeName===o&&((e,t)=>e.dom.isChildOf(t,e.getBody()))(e,t))),p=e=>a(e)||"default"===e?"":e,m=(e,t)=>o=>{const n=n=>{o.setActive(h(e,n.parents,t)),o.setEnabled(!((e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return((e,t)=>null!==t&&!e.dom.isEditable(t))(e,o)})(e,n.element))};return e.on("NodeChange",n),()=>e.off("NodeChange",n)},g=(e,o,n,r,a,s)=>{e.ui.registry.addSplitButton(o,{tooltip:n,icon:"OL"===a?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(i.map(s,(e=>{const t="OL"===a?"num":"bull",o="disc"===e||"decimal"===e?"default":e,n=p(e),r=(e=>e.replace(/\-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))(e);return{type:"choiceitem",value:n,icon:"list-"+t+"-"+o,text:r}})))},onAction:()=>e.execCommand(r),onItemAction:(o,n)=>{t(e,a,n)},select:t=>{const o=(e=>{const t=e.dom.getParent(e.selection.getNode(),"ol,ul"),o=e.dom.getStyle(t,"listStyleType");return l.from(o)})(e);return o.map((e=>t===e)).getOr(!1)},onSetup:m(e,a)})},f=(e,o,n,r,a,s)=>{s.length>1?g(e,o,n,r,a,s):((e,o,n,r,a,s)=>{e.ui.registry.addToggleButton(o,{active:!1,tooltip:n,icon:"OL"===a?"ordered-list":"unordered-list",onSetup:m(e,a),onAction:()=>e.queryCommandState(r)||""===s?e.execCommand(r):t(e,a,s)})})(e,o,n,r,a,p(s[0]))};e.add("advlist",(e=>{e.hasPlugin("lists")?((e=>{const t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})})(e),(e=>{f(e,"numlist","Numbered list","InsertOrderedList","OL",n(e)),f(e,"bullist","Bullet list","InsertUnorderedList","UL",r(e))})(e),(e=>{e.addCommand("ApplyUnorderedListStyle",((o,n)=>{t(e,"UL",n["list-style-type"])})),e.addCommand("ApplyOrderedListStyle",((o,n)=>{t(e,"OL",n["list-style-type"])}))})(e)):console.error("Please use the Lists plugin together with the Advanced List plugin.")}))}()},8190:(e,t,o)=>{o(7440)},7440:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},9835:(e,t,o)=>{o(5534)},5414:()=>{window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}})},5534:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>e===t,o=t(null),n=t(void 0),r=()=>{},a=(e=>()=>e)(!1);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?s.none():s.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const i=(e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n},l=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},c=Object.keys,d=Object.hasOwnProperty,u=(e,t)=>{const o=c(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}},h=(e,t)=>{const o={};return u(e,((e,n)=>{const r=t(e,n);o[r.k]=r.v})),o},p=(e,t)=>d.call(e,t),m=(g=(e,t)=>t,(...e)=>{if(0===e.length)throw new Error("Can't merge zero objects");const t={};for(let o=0;o<e.length;o++){const n=e[o];for(const e in n)p(n,e)&&(t[e]=g(t[e],n[e]))}return t});var g;const f=()=>{const e=(e=>{const t=l(s.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(s.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(s.some(e))}}})(r);return{...e,on:t=>e.get().each(t)}},y=(e,t,o=0,r)=>{const a=e.indexOf(t,o);return-1!==a&&(!!n(r)||a+t.length<=r)};var b=tinymce.util.Tools.resolve("tinymce.Resource");const v=e=>t=>t.options.get(e),_=v("emoticons_database"),w=v("emoticons_database_url"),k=v("emoticons_database_id"),x=v("emoticons_append"),S=v("emoticons_images_url"),C="All",E={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},D=(e,t)=>p(e,t)?e[t]:t,A=e=>{const t=x(e);return o=e=>({keywords:[],category:"user",...e}),h(t,((e,t)=>({k:t,v:o(e,t)})));var o},T=(e,t,o)=>{const n=f(),r=f(),a=S(e),i=e=>((e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t)(e.char,"<img",0)?e.char.replace(/src="([^"]+)"/,((e,t)=>`src="${a}${t}"`)):e.char;e.on("init",(()=>{b.load(o,t).then((t=>{const o=A(e);(e=>{const t={},o=[];u(e,((e,n)=>{const r={title:n,keywords:e.keywords,char:i(e),category:D(E,e.category)},a=void 0!==t[r.category]?t[r.category]:[];t[r.category]=a.concat([r]),o.push(r)})),n.set(t),r.set(o)})(m(t,o))}),(e=>{console.log(`Failed to load emojis: ${e}`),n.set({}),r.set([])}))}));const l=()=>r.get().getOr([]),d=()=>n.isSet()&&r.isSet();return{listCategories:()=>[C].concat(c(n.get().getOr({}))),hasLoaded:d,waitForLoad:()=>d()?Promise.resolve(!0):new Promise(((e,o)=>{let n=15;const r=setInterval((()=>{d()?(clearInterval(r),e(!0)):(n--,n<0&&(console.log("Could not load emojis from url: "+t),clearInterval(r),o(!1)))}),100)})),listAll:l,listCategory:e=>e===C?l():n.get().bind((t=>s.from(t[e]))).getOr([])}},O=(e,t)=>y(e.title.toLowerCase(),t)||((e,t)=>{for(let o=0,n=e.length;o<n;o++)if(t(e[o],o))return!0;return!1})(e.keywords,(e=>y(e.toLowerCase(),t))),M=(e,t,o)=>{const n=[],r=t.toLowerCase(),s=o.fold((()=>a),(e=>t=>t>=e));for(let o=0;o<e.length&&(0!==t.length&&!O(e[o],r)||(n.push({value:e[o].char,text:e[o].title,icon:e[o].char}),!s(n.length)));o++);return n},z="pattern",R=(e,t)=>{const n={pattern:"",results:M(t.listAll(),"",s.some(300))},r=l(C),a=((e,t)=>{let n=null;const r=()=>{o(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...o)=>{r(),n=setTimeout((()=>{n=null,e.apply(null,o)}),t)}}})((e=>{(e=>{const o=e.getData(),n=r.get(),a=t.listCategory(n),i=M(a,o[z],n===C?s.some(300):s.none());e.setData({results:i})})(e)}),200),c={label:"Search",type:"input",name:z},d={type:"collection",name:"results"},u=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:i(t.listCategories(),(e=>({title:e,name:e,items:[c,d]})))},initialData:n,onTabChange:(e,t)=>{r.set(t.newTabName),a.throttle(e)},onChange:a.throttle,onAction:(t,o)=>{"results"===o.name&&(((e,t)=>{e.insertContent(t)})(e,o.value),t.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),h=e.windowManager.open(u());h.focus(z),t.hasLoaded()||(h.block("Loading emojis..."),t.waitForLoad().then((()=>{h.redial(u()),a.throttle(h),h.focus(z),h.unblock()})).catch((e=>{h.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),h.focus(z),h.unblock()})))};e.add("emoticons",((e,t)=>{((e,t)=>{const o=e.options.register;o("emoticons_database",{processor:"string",default:"emojis"}),o("emoticons_database_url",{processor:"string",default:`${t}/js/${_(e)}${e.suffix}.js`}),o("emoticons_database_id",{processor:"string",default:"tinymce.plugins.emoticons"}),o("emoticons_append",{processor:"object",default:{}}),o("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})})(e,t);const o=w(e),n=k(e),r=T(e,o,n);((e,t)=>{e.addCommand("mceEmoticons",(()=>R(e,t)))})(e,r),(e=>{const t=()=>e.execCommand("mceEmoticons");e.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:t}),e.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:t})})(e),((e,t)=>{e.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(e,o)=>t.waitForLoad().then((()=>{const n=t.listAll();return M(n,e,s.some(o))})),onAction:(t,o,n)=>{e.selection.setRng(o),e.insertContent(n),t.hide()}})})(e,r),(e=>{e.on("PreInit",(()=>{e.parser.addAttributeFilter("data-emoticon",(e=>{((e,t)=>{for(let o=0,n=e.length;o<n;o++)t(e[o],o)})(e,(e=>{e.attr("data-mce-resize","false"),e.attr("data-mce-placeholder","1")}))}))}))})(e)}))}()},2682:(e,t,o)=>{o(7384)},7384:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(o=r=e,n=(a=String).prototype,n.isPrototypeOf(o)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var o,n;var r,a,s})(t)===e,o=e=>t=>typeof t===e,n=t("string"),r=t("object"),a=t("array"),s=(i=null,e=>i===e);var i;const l=o("boolean"),c=e=>!(e=>null==e)(e),d=o("function"),u=(e,t)=>{if(a(e)){for(let o=0,n=e.length;o<n;++o)if(!t(e[o]))return!1;return!0}return!1},h=()=>{},p=(e,t)=>e===t;class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return c(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const g=Array.prototype.indexOf,f=Array.prototype.push,y=(e,t)=>((e,t)=>g.call(e,t))(e,t)>-1,b=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!a(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);f.apply(t,e[o])}return t},v=(e,t)=>b(((e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n})(e,t)),_=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return m.none()},w=(e,t,o=p)=>e.exists((e=>o(e,t))),k=e=>{const t=[],o=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(o);return t},x=(e,t)=>e?m.some(t):m.none(),S=e=>t=>t.options.get(e),C=S("link_assume_external_targets"),E=S("link_context_toolbar"),D=S("link_list"),A=S("link_default_target"),T=S("link_default_protocol"),O=S("link_target_list"),M=S("link_rel_list"),z=S("link_class_list"),R=S("link_title"),N=S("allow_unsafe_link_target"),I=S("link_quicklink");var L=tinymce.util.Tools.resolve("tinymce.util.Tools");const P=e=>n(e.value)?e.value:"",B=(e,t)=>{const o=[];return L.each(e,(e=>{const r=(e=>n(e.text)?e.text:n(e.title)?e.title:"")(e);if(void 0!==e.menu){const n=B(e.menu,t);o.push({text:r,items:n})}else{const n=t(e);o.push({text:r,value:n})}})),o},H=(e=P)=>t=>m.from(t).map((t=>B(t,e))),F={sanitize:e=>H(P)(e),sanitizeWith:H,createUi:(e,t)=>o=>({name:e,type:"listbox",label:t,items:o}),getValue:P},V=Object.keys,j=Object.hasOwnProperty,U=(e,t,o,n)=>{((e,t)=>{const o=V(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}})(e,((e,r)=>{(t(e,r)?o:n)(e,r)}))},W=(e,t)=>j.call(e,t);var Z=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$=tinymce.util.Tools.resolve("tinymce.util.URI");const q=e=>c(e)&&"a"===e.nodeName.toLowerCase(),Y=e=>q(e)&&!!X(e),G=(e,t)=>{if(e.collapsed)return[];{const o=e.cloneContents(),n=o.firstChild,r=new Z(n,o),a=[];let s=n;do{t(s)&&a.push(s)}while(s=r.next());return a}},K=e=>/^\w+:/i.test(e),X=e=>{var t,o;return null!==(o=null!==(t=e.getAttribute("data-mce-href"))&&void 0!==t?t:e.getAttribute("href"))&&void 0!==o?o:""},Q=(e,t)=>{const o=["noopener"],n=e?e.split(/\s+/):[],r=e=>e.filter((e=>-1===L.inArray(o,e))),a=t?(e=>(e=r(e)).length>0?e.concat(o):o)(n):r(n);return a.length>0?(e=>L.trim(e.sort().join(" ")))(a):""},J=(e,t)=>(t=t||oe(e.selection.getRng())[0]||e.selection.getNode(),se(t)?m.from(e.dom.select("a[href]",t)[0]):m.from(e.dom.getParent(t,"a[href]"))),ee=(e,t)=>J(e,t).isSome(),te=(e,t)=>(e=>e.replace(/\uFEFF/g,""))(t.fold((()=>e.getContent({format:"text"})),(e=>e.innerText||e.textContent||""))),oe=e=>G(e,Y),ne=e=>L.grep(e,Y),re=e=>ne(e).length>0,ae=e=>{const t=e.schema.getTextInlineElements(),o=e=>1===e.nodeType&&!q(e)&&!W(t,e.nodeName.toLowerCase());if(J(e).exists((e=>e.hasAttribute("data-mce-block"))))return!1;const n=e.selection.getRng();if(n.collapsed)return!0;return 0===G(n,o).length},se=e=>c(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),ie=(e,t)=>{const o={...t};if(0===M(e).length&&!N(e)){const e=Q(o.rel,"_blank"===o.target);o.rel=e||null}return m.from(o.target).isNone()&&!1===O(e)&&(o.target=A(e)),o.href=((e,t)=>"http"!==t&&"https"!==t||K(e)?e:t+"://"+e)(o.href,C(e)),o},le=(e,t,o)=>{const n=e.selection.getNode(),r=J(e,n),a=ie(e,(e=>{return t=["title","rel","class","target"],o=(t,o)=>(e[o].each((e=>{t[o]=e.length>0?e:null})),t),n={href:e.href},((e,t)=>{for(let o=0,n=e.length;o<n;o++)t(e[o],o)})(t,((e,t)=>{n=o(n,e,t)})),n;var t,o,n})(o));e.undoManager.transact((()=>{o.href===t.href&&t.attach(),r.fold((()=>{((e,t,o,n)=>{const r=e.dom;se(t)?pe(r,t,n):o.fold((()=>{e.execCommand("mceInsertLink",!1,n)}),(t=>{e.insertContent(r.createHTML("a",n,r.encode(t)))}))})(e,n,o.text,a)}),(t=>{e.focus(),((e,t,o,n)=>{o.each((e=>{W(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,n),e.selection.select(t)})(e,t,o.text,a)}))}))},ce=e=>{const{class:t,href:o,rel:n,target:r,text:a,title:i}=e;return((e,t)=>{const o={};var n;return U(e,t,(n=o,(e,t)=>{n[t]=e}),h),o})({class:t.getOrNull(),href:o,rel:n.getOrNull(),target:r.getOrNull(),text:a.getOrNull(),title:i.getOrNull()},((e,t)=>!1===s(e)))},de=(e,t,o)=>{const n=((e,t)=>{const o=e.options.get,n={allow_html_data_urls:o("allow_html_data_urls"),allow_script_urls:o("allow_script_urls"),allow_svg_data_urls:o("allow_svg_data_urls")},r=t.href;return{...t,href:$.isDomSafe(r,"a",n)?r:""}})(e,o);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,ce(n)):le(e,t,n)},ue=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):(e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();se(t)?he(e,t):(e=>{const t=e.dom,o=e.selection,n=o.getBookmark(),r=o.getRng().cloneRange(),a=t.getParent(r.startContainer,"a[href]",e.getBody()),s=t.getParent(r.endContainer,"a[href]",e.getBody());a&&r.setStartBefore(a),s&&r.setEndAfter(s),o.setRng(r),e.execCommand("unlink"),o.moveToBookmark(n)})(e),e.focus()}))})(e)},he=(e,t)=>{var o;const n=e.dom.select("img",t)[0];if(n){const r=e.dom.getParents(n,"a[href]",t)[0];r&&(null===(o=r.parentNode)||void 0===o||o.insertBefore(n,r),e.dom.remove(r))}},pe=(e,t,o)=>{var n;const r=e.select("img",t)[0];if(r){const t=e.create("a",o);null===(n=r.parentNode)||void 0===n||n.insertBefore(t,r),t.appendChild(r)}},me=e=>{return W(t=e,o="items")&&void 0!==t[o]&&null!==t[o];var t,o},ge=(e,t)=>_(t,(t=>me(t)?ge(e,t.items):x(t.value===e,t))),fe=(e,t,o,n)=>{const r=n[t],a=e.length>0;return void 0!==r?ge(r,o).map((t=>({url:{value:t.value,meta:{text:a?e:t.text,attach:h}},text:a?e:t.text}))):m.none()},ye=(e,t)=>{const o={text:e.text,title:e.title},n=e=>{const t=(n=e.url,x(o.text.length<=0,m.from(null===(r=n.meta)||void 0===r?void 0:r.text).getOr(n.value)));var n,r;const a=(e=>{var t;return x(o.title.length<=0,m.from(null===(t=e.meta)||void 0===t?void 0:t.title).getOr(""))})(e.url);return t.isSome()||a.isSome()?m.some({...t.map((e=>({text:e}))).getOr({}),...a.map((e=>({title:e}))).getOr({})}):m.none()},r=(e,n)=>{const r=(a=t,s=n,"link"===s?a.link:"anchor"===s?a.anchor:m.none()).getOr([]);var a,s;return fe(o.text,n,r,e)};return{onChange:(e,t)=>{const a=t.name;return"url"===a?n(e()):y(["anchor","link"],a)?r(e(),a):"text"===a||"title"===a?(o[a]=e()[a],m.none()):m.none()}}};var be=tinymce.util.Tools.resolve("tinymce.util.Delay");const ve=e=>{const t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?m.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):m.none()},_e=(e,t)=>o=>{const n=o.href;return 1===e&&!K(n)||0===e&&/^\s*www(\.|\d\.)/i.test(n)?m.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+n})}):m.none()},we=(e,t)=>_([ve,_e(C(e),T(e))],(e=>e(t))).fold((()=>Promise.resolve(t)),(o=>new Promise((n=>{((e,t,o)=>{const n=e.selection.getRng();be.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(n),o(t)}))}))})(e,o.message,(e=>{n(e?o.preprocess(t):t)}))})))),ke=e=>{const t=e.dom.select("a:not([href])"),o=v(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return o.length>0?m.some([{text:"None",value:""}].concat(o)):m.none()},xe=e=>{const t=z(e);return t.length>0?F.sanitize(t):m.none()},Se=e=>{try{return m.some(JSON.parse(e))}catch(e){return m.none()}},Ce=e=>{const t=t=>e.convertURL(t.value||t.url||"","href"),o=D(e);return new Promise((e=>{n(o)?fetch(o).then((e=>e.ok?e.text().then(Se):Promise.reject())).then(e,(()=>e(m.none()))):d(o)?o((t=>e(m.some(t)))):e(m.from(o))})).then((e=>e.bind(F.sanitizeWith(t)).map((e=>{if(e.length>0){return[{text:"None",value:""}].concat(e)}return e}))))},Ee=(e,t)=>{const o=M(e);if(o.length>0){const n=w(t,"_blank"),r=e=>Q(F.getValue(e),n);return(!1===N(e)?F.sanitizeWith(r):F.sanitize)(o)}return m.none()},De=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Ae=e=>{const t=O(e);return a(t)?F.sanitize(t).orThunk((()=>m.some(De))):!1===t?m.none():m.some(De)},Te=(e,t,o)=>{const n=e.getAttrib(t,o);return null!==n&&n.length>0?m.some(n):m.none()},Oe=(e,t)=>Ce(e).then((o=>{const n=((e,t)=>{const o=e.dom,n=ae(e)?m.some(te(e.selection,t)):m.none(),r=t.bind((e=>m.from(o.getAttrib(e,"href")))),a=t.bind((e=>m.from(o.getAttrib(e,"target")))),s=t.bind((e=>Te(o,e,"rel"))),i=t.bind((e=>Te(o,e,"class")));return{url:r,text:n,title:t.bind((e=>Te(o,e,"title"))),target:a,rel:s,linkClass:i}})(e,t);return{anchor:n,catalogs:{targets:Ae(e),rels:Ee(e,n.target),classes:xe(e),anchor:ke(e),link:o},optNode:t,flags:{titleEnabled:R(e)}}})),Me=e=>{const t=(e=>{const t=J(e);return Oe(e,t)})(e);t.then((t=>{const o=((e,t)=>o=>{const n=o.getData();if(!n.url.value)return ue(e),void o.close();const r=e=>m.from(n[e]).filter((o=>!w(t.anchor[e],o))),a={href:n.url.value,text:r("text"),target:r("target"),rel:r("rel"),class:r("linkClass"),title:r("title")},s={href:n.url.value,attach:void 0!==n.url.meta&&n.url.meta.attach?n.url.meta.attach:h};we(e,a).then((t=>{de(e,s,t)})),o.close()})(e,t);return((e,t,o)=>{const n=e.anchor.text.map((()=>({name:"text",type:"input",label:"Text to display"}))).toArray(),r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=((e,t)=>{const o=e.anchor,n=o.url.getOr("");return{url:{value:n,meta:{original:{value:n}}},text:o.text.getOr(""),title:o.title.getOr(""),anchor:n,link:n,rel:o.rel.getOr(""),target:o.target.or(t).getOr(""),linkClass:o.linkClass.getOr("")}})(e,m.from(A(o))),s=e.catalogs,i=ye(a,s);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:b([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],n,r,k([s.anchor.map(F.createUi("anchor","Anchors")),s.rels.map(F.createUi("rel","Rel")),s.targets.map(F.createUi("target","Open link in...")),s.link.map(F.createUi("link","Link list")),s.classes.map(F.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onChange:(e,{name:t})=>{i.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}})(t,o,e)})).then((t=>{e.windowManager.open(t)}))};var ze=tinymce.util.Tools.resolve("tinymce.util.VK");const Re=e=>{const t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),((e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)})(t,o)},Ne=(e,t)=>e.dom.getParent(t,"a[href]"),Ie=e=>Ne(e,e.selection.getStart()),Le=(e,t)=>{if(t){const o=X(t);if(/^#/.test(o)){const t=e.dom.select(o);t.length&&e.selection.scrollIntoView(t[0],!0)}else Re(t.href)}},Pe=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},Be=e=>()=>{Le(e,Ie(e))},He=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),Fe=e=>t=>{const o=()=>t.setActive(!e.mode.isReadOnly()&&ee(e,e.selection.getNode()));return o(),He(e,o)},Ve=e=>t=>{const o=()=>t.setEnabled((e=>1===(e.selection.isCollapsed()?ne(e.dom.getParents(e.selection.getStart())):oe(e.selection.getRng())).length)(e));return o(),He(e,o)},je=e=>t=>{const o=t=>{return re(t)||(o=e.selection.getRng(),oe(o).length>0);var o},n=e.dom.getParents(e.selection.getStart());return t.setEnabled(o(n)),He(e,(e=>t.setEnabled(o(e.parents))))},Ue=e=>{const t=t=>{const o=e.selection.getNode();return t.setEnabled(ee(e,o)),h};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Fe(e)},label:"Link",predicate:t=>E(e)&&ee(e,t),initValue:()=>{return J(e).fold((t="",()=>t),X);var t},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{const o=e.selection.getNode();return t.setActive(ee(e,o)),Fe(e)(t)},onAction:t=>{const o=t.getValue(),n=(t=>{const o=J(e),n=ae(e);if(o.isNone()&&n){const n=te(e.selection,o);return x(0===n.length,t)}return m.none()})(o);de(e,{href:o,attach:h},{href:o,text:n,title:m.none(),rel:m.none(),target:m.none(),class:m.none()}),(e=>{e.selection.collapse(!1)})(e),t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:t,onAction:t=>{ue(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:t,onAction:t=>{Be(e)(),t.hide()}}]})};e.add("link",(e=>{(e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=n(e)||l(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>n(e)||d(e)||u(e,r)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>l(e)||u(e,r),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1})})(e),(e=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Pe(e),onSetup:Fe(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Be(e),onSetup:Ve(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ue(e),onSetup:je(e)})})(e),(e=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Be(e),onSetup:Ve(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Pe(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ue(e),onSetup:je(e)})})(e),(e=>{e.ui.registry.addContextMenu("link",{update:t=>e.dom.isEditable(t)?re(e.dom.getParents(t,"a"))?"link unlink openlink":"link":""})})(e),Ue(e),(e=>{e.on("click",(t=>{const o=Ne(e,t.target);o&&ze.metaKeyPressed(t)&&(t.preventDefault(),Le(e,o))})),e.on("keydown",(t=>{if(!t.isDefaultPrevented()&&13===t.keyCode&&(e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey)(t)){const o=Ie(e);o&&(t.preventDefault(),Le(e,o))}}))})(e),(e=>{e.addCommand("mceLink",((t,o)=>{!0!==(null==o?void 0:o.dialog)&&I(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):Me(e)}))})(e),(e=>{e.addShortcut("Meta+K","",(()=>{e.execCommand("mceLink")}))})(e)}))}()},6552:(e,t,o)=>{o(7585)},7585:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(o=r=e,n=(a=String).prototype,n.isPrototypeOf(o)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var o,n;var r,a,s})(t)===e,o=e=>t=>typeof t===e,n=t("string"),r=t("object"),a=t("array"),s=o("boolean"),i=e=>!(e=>null==e)(e),l=o("function"),c=o("number"),d=()=>{},u=(e,t)=>e===t,h=e=>t=>!e(t),p=(m=!1,()=>m);var m;class g{constructor(e,t){this.tag=e,this.value=t}static some(e){return new g(!0,e)}static none(){return g.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?g.some(e(this.value)):g.none()}bind(e){return this.tag?e(this.value):g.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:g.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?g.some(e):g.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}g.singletonNone=new g(!1);const f=Array.prototype.slice,y=Array.prototype.indexOf,b=Array.prototype.push,v=(e,t)=>{return o=e,n=t,y.call(o,n)>-1;var o,n},_=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return!0}return!1},w=(e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n},k=(e,t)=>{for(let o=0,n=e.length;o<n;o++){t(e[o],o)}},x=(e,t)=>{const o=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t(r,n)&&o.push(r)}return o},S=(e,t,o)=>(k(e,((e,n)=>{o=t(o,e,n)})),o),C=(e,t,o)=>{for(let n=0,r=e.length;n<r;n++){const r=e[n];if(t(r,n))return g.some(r);if(o(r,n))break}return g.none()},E=(e,t)=>C(e,t,p),D=(e,t)=>(e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!a(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);b.apply(t,e[o])}return t})(w(e,t)),A=e=>{const t=f.call(e,0);return t.reverse(),t},T=(e,t)=>t>=0&&t<e.length?g.some(e[t]):g.none(),O=e=>T(e,0),M=e=>T(e,e.length-1),z=(e,t)=>{const o=[],n=l(t)?e=>_(o,(o=>t(o,e))):e=>v(o,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];n(r)||o.push(r)}return o},R=(e,t,o=u)=>e.exists((e=>o(e,t))),N=(e,t,o)=>e.isSome()&&t.isSome()?g.some(o(e.getOrDie(),t.getOrDie())):g.none(),I=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},L={fromHtml:(e,t)=>{const o=(t||document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return I(o.childNodes[0])},fromTag:(e,t)=>{const o=(t||document).createElement(e);return I(o)},fromText:(e,t)=>{const o=(t||document).createTextNode(e);return I(o)},fromDom:I,fromPoint:(e,t,o)=>g.from(e.dom.elementFromPoint(t,o)).map(I)},P=(e,t)=>e.dom===t.dom,B=(e,t)=>{const o=e.dom;if(1!==o.nodeType)return!1;{const e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}};"undefined"!=typeof window?window:Function("return this;")();const H=e=>e.dom.nodeName.toLowerCase(),F=(V=1,e=>(e=>e.dom.nodeType)(e)===V);var V;const j=e=>t=>F(t)&&H(t)===e,U=e=>g.from(e.dom.parentNode).map(L.fromDom),W=e=>w(e.dom.childNodes,L.fromDom),Z=(e,t)=>{const o=e.dom.childNodes;return g.from(o[t]).map(L.fromDom)},$=e=>Z(e,0),q=e=>Z(e,e.dom.childNodes.length-1),Y=(e,t,o)=>{let n=e.dom;const r=l(o)?o:p;for(;n.parentNode;){n=n.parentNode;const e=L.fromDom(n);if(t(e))return g.some(e);if(r(e))break}return g.none()},G=(e,t,o)=>((e,t,o,n,r)=>e(o,n)?g.some(o):l(r)&&r(o)?g.none():t(o,n,r))(((e,t)=>t(e)),Y,e,t,o),K=(e,t)=>{U(e).each((o=>{o.dom.insertBefore(t.dom,e.dom)}))},X=(e,t)=>{const o=(e=>g.from(e.dom.nextSibling).map(L.fromDom))(e);o.fold((()=>{U(e).each((e=>{Q(e,t)}))}),(e=>{K(e,t)}))},Q=(e,t)=>{e.dom.appendChild(t.dom)},J=(e,t)=>{k(t,(t=>{Q(e,t)}))},ee=e=>{e.dom.textContent="",k(W(e),(e=>{te(e)}))},te=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var oe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ne=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),re=tinymce.util.Tools.resolve("tinymce.util.VK");const ae=e=>w(e,L.fromDom),se=Object.keys,ie=(e,t)=>{const o=se(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}},le=(e,t)=>{const o={};var n;return((e,t,o,n)=>{ie(e,((e,r)=>{(t(e,r)?o:n)(e,r)}))})(e,t,(n=o,(e,t)=>{n[t]=e}),d),o},ce=(e,t)=>{const o=e.dom;ie(t,((e,t)=>{((e,t,o)=>{if(!(n(o)||s(o)||c(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(o,t,e)}))},de=e=>S(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ue=e=>((e,t)=>L.fromDom(e.dom.cloneNode(t)))(e,!0),he=(e,t)=>{const o=((e,t)=>{const o=L.fromTag(t),n=de(e);return ce(o,n),o})(e,t);X(e,o);const n=W(e);return J(o,n),te(e),o};var pe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),me=tinymce.util.Tools.resolve("tinymce.util.Tools");const ge=e=>t=>i(t)&&t.nodeName.toLowerCase()===e,fe=e=>t=>i(t)&&e.test(t.nodeName),ye=e=>i(e)&&3===e.nodeType,be=e=>i(e)&&1===e.nodeType,ve=fe(/^(OL|UL|DL)$/),_e=fe(/^(OL|UL)$/),we=ge("ol"),ke=fe(/^(LI|DT|DD)$/),xe=fe(/^(DT|DD)$/),Se=fe(/^(TH|TD)$/),Ce=ge("br"),Ee=(e,t)=>i(t)&&t.nodeName in e.schema.getTextBlockElements(),De=(e,t)=>i(e)&&e.nodeName in t,Ae=(e,t)=>i(t)&&t.nodeName in e.schema.getVoidElements(),Te=(e,t,o)=>{const n=e.isEmpty(t);return!(o&&e.select("span[data-mce-type=bookmark]",t).length>0)&&n},Oe=(e,t)=>e.isChildOf(t,e.getRoot()),Me=e=>t=>t.options.get(e),ze=Me("lists_indent_on_tab"),Re=Me("forced_root_block"),Ne=Me("forced_root_block_attrs"),Ie=(e,t)=>{const o=e.dom,n=e.schema.getBlockElements(),r=o.createFragment(),a=Re(e),s=Ne(e);let i,l,c=!1;for(l=o.create(a,s),De(t.firstChild,n)||r.appendChild(l);i=t.firstChild;){const e=i.nodeName;c||"SPAN"===e&&"bookmark"===i.getAttribute("data-mce-type")||(c=!0),De(i,n)?(r.appendChild(i),l=null):(l||(l=o.create(a,s),r.appendChild(l)),l.appendChild(i))}return!c&&l&&l.appendChild(o.create("br",{"data-mce-bogus":"1"})),r},Le=pe.DOM,Pe=(e,t,o)=>{const n=Le.select('span[data-mce-type="bookmark"]',t),r=Ie(e,o),a=Le.createRng();a.setStartAfter(o),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Le.remove(t);break}e.dom.isEmpty(s)||Le.insertAfter(s,t),Le.insertAfter(r,t);const i=o.parentElement;i&&Te(e.dom,i)&&(e=>{const t=e.parentNode;t&&me.each(n,(e=>{t.insertBefore(e,o.parentNode)})),Le.remove(e)})(i),Le.remove(o),Te(e.dom,t)&&Le.remove(t)},Be=j("dd"),He=j("dt"),Fe=(e,t)=>{var o;Be(t)?he(t,"dt"):He(t)&&(o=t,g.from(o.dom.parentElement).map(L.fromDom)).each((o=>Pe(e,o.dom,t.dom)))},Ve=e=>{He(e)&&he(e,"dd")},je=(e,t)=>{if(ye(e))return{container:e,offset:t};const o=oe.getNode(e,t);return ye(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&ye(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&ye(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},Ue=e=>{const t=e.cloneRange(),o=je(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const n=je(e.endContainer,e.endOffset);return t.setEnd(n.container,n.offset),t},We=["OL","UL","DL"],Ze=We.join(","),$e=(e,t)=>{const o=t||e.selection.getStart(!0);return e.dom.getParent(o,Ze,Ke(e,o))},qe=e=>{const t=$e(e),o=e.selection.getSelectedBlocks();return((e,t)=>i(e)&&1===t.length&&t[0]===e)(t,o)?(e=>x(e.querySelectorAll(Ze),ve))(t):x(o,(e=>ve(e)&&t!==e))},Ye=e=>{const t=e.selection.getSelectedBlocks();return x(((e,t)=>{const o=me.map(t,(t=>e.dom.getParent(t,"li,dd,dt",Ke(e,t))||t));return z(o)})(e,t),ke)},Ge=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},Ke=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),n=E(o,(t=>{return o=e.schema,!ve(n=t)&&!ke(n)&&_(We,(e=>o.isValidChild(n.nodeName,e)));var o,n}));return n.getOr(e.getBody())},Xe=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",Ke(e,t));return M(o)},Qe=e=>{const t=(e=>{const t=Xe(e,e.selection.getStart()),o=x(e.selection.getSelectedBlocks(),_e);return t.toArray().concat(o)})(e);return Je(e,t)},Je=(e,t)=>{const o=w(t,(t=>Xe(e,t).getOr(t)));return z(o)},et=e=>/\btox\-/.test(e.className),tt=(e,t)=>C(e,ve,Se).exists((e=>e.nodeName===t&&!et(e))),ot=(e,t)=>null!==t&&!e.dom.isEditable(t),nt=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return ot(e,o)},rt=(e,t)=>{const o=e.selection.getNode();return t({parents:e.dom.getParents(o),element:o}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},at=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),st=(it=/^\s+|\s+$/g,e=>e.replace(it,""));var it;const lt=(e,t,o)=>{if(!n(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);(e=>void 0!==e.style&&l(e.style.getPropertyValue))(e)&&e.style.setProperty(t,o)},ct=(e,t,o)=>{const n=e.dom;lt(n,t,o)},dt=(e,t)=>{Q(e.item,t.list)},ut=(e,t)=>{const o={list:L.fromTag(t,e),item:L.fromTag("li",e)};return Q(o.list,o.item),o},ht=(e,t,o)=>{const n=t.slice(0,o.depth);return M(n).each((t=>{const n=((e,t,o)=>{const n=L.fromTag("li",e);return ce(n,t),J(n,o),n})(e,o.itemAttributes,o.content);((e,t)=>{Q(e.list,t),e.item=t})(t,n),((e,t)=>{H(e.list)!==t.listType&&(e.list=he(e.list,t.listType)),ce(e.list,t.listAttributes)})(t,o)})),n},pt=(e,t,o)=>{const n=((e,t,o)=>{const n=[];for(let r=0;r<o;r++)n.push(ut(e,t.listType));return n})(e,o,o.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)dt(e[t-1],e[t])})(n),((e,t)=>{for(let t=0;t<e.length-1;t++)ct(e[t].item,"list-style-type","none");M(e).each((e=>{ce(e.list,t.listAttributes),ce(e.item,t.itemAttributes),J(e.item,t.content)}))})(n,o),r=n,N(M(t),O(r),dt),t.concat(n)},mt=e=>B(e,"OL,UL"),gt=e=>$(e).exists(mt),ft=e=>e.depth>0,yt=e=>e.isSelected,bt=e=>{const t=W(e),o=q(e).exists(mt)?t.slice(0,-1):t;return w(o,ue)},vt=e=>(k(e,((t,o)=>{((e,t)=>{const o=e[t].depth,n=e=>e.depth===o&&!e.dirty,r=e=>e.depth<o;return C(A(e.slice(0,t)),n,r).orThunk((()=>C(e.slice(t+1),n,r)))})(e,o).fold((()=>{t.dirty&&(e=>{e.listAttributes=le(e.listAttributes,((e,t)=>"start"!==t))})(t)}),(e=>{return n=e,(o=t).listType=n.listType,void(o.listAttributes={...n.listAttributes});var o,n}))})),e),_t=(e,t,o,n)=>$(n).filter(mt).fold((()=>{t.each((e=>{P(e.start,n)&&o.set(!0)}));const r=((e,t,o)=>U(e).filter(F).map((n=>({depth:t,dirty:!1,isSelected:o,content:bt(e),itemAttributes:de(e),listAttributes:de(n),listType:H(n)}))))(n,e,o.get());t.each((e=>{P(e.end,n)&&o.set(!1)}));const a=q(n).filter(mt).map((n=>wt(e,t,o,n))).getOr([]);return r.toArray().concat(a)}),(n=>wt(e,t,o,n))),wt=(e,t,o,n)=>D(W(n),(n=>(mt(n)?wt:_t)(e+1,t,o,n))),kt=(e,t)=>{const o=vt(t);return w(o,(t=>{const o=((e,t)=>{const o=(t||document).createDocumentFragment();return k(e,(e=>{o.appendChild(e.dom)})),L.fromDom(o)})(t.content);return L.fromDom(Ie(e,o.dom))}))},xt=(e,t)=>{const o=vt(t);return((e,t)=>{const o=S(t,((t,o)=>o.depth>t.length?pt(e,t,o):ht(e,t,o)),[]);return O(o).map((e=>e.list))})(e.contentDocument,o).toArray()},St=(e,t,o)=>{const n=((e,t)=>{const o=(e=>{let t=!1;return{get:()=>t,set:e=>{t=e}}})();return w(e,(e=>({sourceList:e,entries:wt(0,t,o,e)})))})(t,(e=>{const t=w(Ye(e),L.fromDom);return N(E(t,h(gt)),E(A(t),h(gt)),((e,t)=>({start:e,end:t})))})(e));k(n,(t=>{((e,t)=>{k(x(e,yt),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,o);const n=((e,t)=>D(((e,t)=>{if(0===e.length)return[];{let o=t(e[0]);const n=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==o&&(n.push(r),r=[]),o=i,r.push(s)}return 0!==r.length&&n.push(r),n}})(t,ft),(t=>O(t).exists(ft)?xt(e,t):kt(e,t))))(e,t.entries);var r;k(n,(t=>{at(e,"Indent"===o?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,k(n,(e=>{K(r,e)})),te(t.sourceList)}))},Ct=(e,t)=>{const o=ae(Qe(e)),n=ae((e=>x(Ye(e),xe))(e));let r=!1;if(o.length||n.length){const a=e.selection.getBookmark();St(e,o,t),((e,t,o)=>{k(o,"Indent"===t?Ve:t=>Fe(e,t))})(e,t,n),e.selection.moveToBookmark(a),e.selection.setRng(Ue(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Et=(e,t)=>!(e=>{const t=$e(e);return ot(e,t)})(e)&&Ct(e,t),Dt=e=>Et(e,"Indent"),At=e=>Et(e,"Outdent"),Tt=e=>Et(e,"Flatten"),Ot=e=>"\ufeff"===e;var Mt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const zt=pe.DOM,Rt=e=>{const t={},o=o=>{let n=e[o?"startContainer":"endContainer"],r=e[o?"startOffset":"endOffset"];if(be(n)){const e=zt.create("span",{"data-mce-type":"bookmark"});n.hasChildNodes()?(r=Math.min(r,n.childNodes.length-1),o?n.insertBefore(e,n.childNodes[r]):zt.insertAfter(e,n.childNodes[r])):n.appendChild(e),n=e,r=0}t[o?"startContainer":"endContainer"]=n,t[o?"startOffset":"endOffset"]=r};return o(!0),e.collapsed||o(),t},Nt=e=>{const t=t=>{let o=e[t?"startContainer":"endContainer"],n=e[t?"startOffset":"endOffset"];if(o){if(be(o)&&o.parentNode){const e=o;n=(e=>{var t;let o=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,n=0;for(;o;){if(o===e)return n;be(o)&&"bookmark"===o.getAttribute("data-mce-type")||n++,o=o.nextSibling}return-1})(o),o=o.parentNode,zt.remove(e),!o.hasChildNodes()&&zt.isBlock(o)&&o.appendChild(zt.create("br"))}e[t?"startContainer":"endContainer"]=o,e[t?"startOffset":"endOffset"]=n}};t(!0),t();const o=zt.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),Ue(o)},It=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Lt=(e,t)=>{me.each(t,((t,o)=>{e.setAttribute(o,t)}))},Pt=(e,t,o)=>{((e,t,o)=>{const n=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",n)})(e,t,o),((e,t,o)=>{Lt(t,o["list-attributes"]),me.each(e.select("li",t),(e=>{Lt(e,o["list-item-attributes"])}))})(e,t,o)},Bt=(e,t)=>i(t)&&!De(t,e.schema.getBlockElements()),Ht=(e,t,o,n)=>{let r=t[o?"startContainer":"endContainer"];const a=t[o?"startOffset":"endOffset"];be(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!o&&Ce(r.nextSibling)&&(r=r.nextSibling);const s=(t,o)=>{var r;const a=new ne(t,n),s=o?"next":"prev";let i;for(;i=a[s]();)if(!Ae(e,i)&&!Ot(i.textContent)&&0!==(null===(r=i.textContent)||void 0===r?void 0:r.length))return g.some(i);return g.none()};if(o&&ye(r))if(Ot(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&Bt(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(Bt(e,r.previousSibling)||ye(r.previousSibling));)r=r.previousSibling;if(!o&&ye(r))if(Ot(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&Bt(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(Bt(e,r.nextSibling)||ye(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==n;){const t=r.parentNode;if(Ee(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},Ft=(e,t,o)=>{const n=e.selection.getRng();let r="LI";const a=Ke(e,e.selection.getStart(!0)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const i=Rt(n),l=((e,t,o)=>{const n=[],r=e.dom,a=Ht(e,t,!0,o),s=Ht(e,t,!1,o);let i;const l=[];for(let e=a;e&&(l.push(e),e!==s);e=e.nextSibling);return me.each(l,(t=>{var a;if(Ee(e,t))return n.push(t),void(i=null);if(r.isBlock(t)||Ce(t))return Ce(t)&&r.remove(t),void(i=null);const s=t.nextSibling;Mt.isBookmarkNode(t)&&(ve(s)||Ee(e,s)||!s&&t.parentNode===o)?i=null:(i||(i=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(i,t),n.push(i)),i.appendChild(t))})),n})(e,n,a);me.each(l,(n=>{let a;const i=n.previousSibling,l=n.parentNode;ke(l)||(i&&ve(i)&&i.nodeName===t&&((e,t,o)=>{const n=e.getStyle(t,"list-style-type");let r=o?o["list-style-type"]:"";return r=null===r?"":r,n===r})(s,i,o)?(a=i,n=s.rename(n,r),i.appendChild(n)):(a=s.create(t),l.insertBefore(a,n),a.appendChild(n),n=s.rename(n,r)),((e,t,o)=>{me.each(o,(o=>e.setStyle(t,o,"")))})(s,n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Pt(s,a,o),jt(e.dom,a))})),e.selection.setRng(Nt(i))},Vt=(e,t,o)=>{return((e,t)=>ve(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,o)&&((e,t,o)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(o,"list-style-type",!0))(e,t,o)&&(n=o,t.className===n.className);var n},jt=(e,t)=>{let o,n=t.nextSibling;if(Vt(e,t,n)){const r=n;for(;o=r.firstChild;)t.appendChild(o);e.remove(r)}if(n=t.previousSibling,Vt(e,t,n)){const r=n;for(;o=r.lastChild;)t.insertBefore(o,t.firstChild);e.remove(r)}},Ut=(e,t,o,n,r)=>{const a=ve(t);if(a&&t.nodeName===n&&!Wt(r))Tt(e);else{Ft(e,n,r);const s=Rt(e.selection.getRng()),i=a?[t,...o]:o;me.each(i,(t=>{((e,t,o,n)=>{if(t.nodeName!==o){const r=e.dom.rename(t,o);Pt(e.dom,r,n),at(e,It(o),r)}else Pt(e.dom,t,n),at(e,It(o),t)})(e,t,n,r)})),e.selection.setRng(Nt(s))}},Wt=e=>"list-style-type"in e,Zt=(e,t,o)=>{const n=$e(e);if(nt(e,n)||(e=>_(e.selection.getSelectedBlocks(),h(e.dom.isEditable)))(e))return;const a=qe(e),s=r(o)?o:{};a.length>0?Ut(e,n,a,t,s):((e,t,o,n)=>{if(t!==e.getBody())if(t)if(t.nodeName!==o||Wt(n)||et(t)){const r=Rt(e.selection.getRng());Pt(e.dom,t,n);const a=e.dom.rename(t,o);jt(e.dom,a),e.selection.setRng(Nt(r)),Ft(e,o,n),at(e,It(o),a)}else Tt(e);else Ft(e,o,n),at(e,It(o),t)})(e,n,t,s)},$t=pe.DOM,qt=(e,t)=>{const o=me.grep(e.select("ol,ul",t));me.each(o,(t=>{((e,t)=>{const o=t.parentElement;if(o&&"LI"===o.nodeName&&o.firstChild===t){const n=o.previousSibling;n&&"LI"===n.nodeName?(n.appendChild(t),Te(e,o)&&$t.remove(o)):$t.setStyle(o,"listStyleType","none")}if(ve(o)){const e=o.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},Yt=(e,t,o,n)=>{let r=t.startContainer;const a=t.startOffset;if(ye(r)&&(o?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();be(r)&&(r=oe.getNode(r,a));const i=new ne(r,n);o&&((e,t)=>!!Ce(t)&&e.isBlock(t.nextSibling)&&!Ce(t.previousSibling))(e.dom,r)&&i.next();const l=o?i.next.bind(i):i.prev2.bind(i);for(;r=l();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(ye(r)&&r.data.length>0)return r}return null},Gt=(e,t)=>{const o=t.childNodes;return 1===o.length&&!ve(o[0])&&e.isBlock(o[0])},Kt=(e,t,o)=>{let n;const r=Gt(e,o)?o.firstChild:o;if(((e,t)=>{Gt(e,t)&&e.remove(t.firstChild,!0)})(e,t),!Te(e,t,!0))for(;n=t.firstChild;)r.appendChild(n)},Xt=(e,t,o)=>{let n;const r=t.parentNode;if(!Oe(e,t)||!Oe(e,o))return;ve(o.lastChild)&&(n=o.lastChild),r===o.lastChild&&Ce(r.previousSibling)&&e.remove(r.previousSibling);const a=o.lastChild;a&&Ce(a)&&t.hasChildNodes()&&e.remove(a),Te(e,o,!0)&&ee(L.fromDom(o)),Kt(e,t,o),n&&o.appendChild(n);const s=((e,t)=>{const o=e.dom,n=t.dom;return o!==n&&o.contains(n)})(L.fromDom(o),L.fromDom(t))?e.getParents(t,ve,o):[];e.remove(t),k(s,(t=>{Te(e,t)&&t!==e.getRoot()&&e.remove(t)}))},Qt=(e,t,o,n)=>{const r=e.dom;if(r.isEmpty(n))((e,t,o)=>{ee(L.fromDom(o)),Xt(e.dom,t,o),e.selection.setCursorLocation(o,0)})(e,o,n);else{const a=Rt(t);Xt(r,o,n),e.selection.setRng(Nt(a))}},Jt=(e,t)=>{const o=e.dom,n=e.selection,r=n.getStart(),a=Ge(e,r),s=o.getParent(n.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&Te(o,r))return!0;const i=Ue(n.getRng()),l=o.getParent(Yt(e,i,t,a),"LI",a);if(l&&l!==s)return e.undoManager.transact((()=>{var o,n;t?Qt(e,i,l,s):(null===(n=(o=s).parentNode)||void 0===n?void 0:n.firstChild)===o?At(e):((e,t,o,n)=>{const r=Rt(t);Xt(e.dom,o,n);const a=Nt(r);e.selection.setRng(a)})(e,i,s,l)})),!0;if(!l&&!t&&0===i.startOffset&&0===i.endOffset)return e.undoManager.transact((()=>{Tt(e)})),!0}return!1},eo=(e,t)=>{const o=e.dom,n=e.selection.getStart(),r=Ge(e,n),a=o.getParent(n,o.isBlock,r);if(a&&o.isEmpty(a)){const n=Ue(e.selection.getRng()),s=o.getParent(Yt(e,n,t,r),"LI",r);if(s){const i=e=>v(["td","th","caption"],H(e)),l=e=>e.dom===r;return!!((e,t,o=u)=>N(e,t,o).getOr(e.isNone()&&t.isNone()))(G(L.fromDom(s),i,l),G(L.fromDom(n.startContainer),i,l),P)&&(e.undoManager.transact((()=>{((e,t,o)=>{const n=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),n&&e.isEmpty(n)&&e.remove(n)})(o,a,r),jt(o,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1},to=e=>{const t=e.selection.getStart(),o=Ge(e,t);return e.dom.getParent(t,"LI,DT,DD",o)||Ye(e).length>0},oo=(e,t)=>{const o=e.selection;return!nt(e,o.getNode())&&(o.isCollapsed()?((e,t)=>Jt(e,t)||eo(e,t))(e,t):(e=>!!to(e)&&(e.undoManager.transact((()=>{e.execCommand("Delete"),qt(e.dom,e.getBody())})),!0))(e))},no=e=>{const t=A(st(e).split("")),o=w(t,((e,t)=>{const o=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*o}));return S(o,((e,t)=>e+t),0)},ro=e=>{if(--e<0)return"";{const t=e%26,o=Math.floor(e/26);return ro(o)+String.fromCharCode("A".charCodeAt(0)+t)}},ao=e=>{const t=parseInt(e.start,10);return R(e.listStyleType,"upper-alpha")?ro(t):R(e.listStyleType,"lower-alpha")?ro(t).toLowerCase():e.start},so=e=>{const t=$e(e);we(t)&&!nt(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ao({start:e.dom.getAttrib(t,"start","1"),listStyleType:g.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return g.some({listStyleType:g.none(),start:e});case 0:return g.some({listStyleType:g.some("upper-alpha"),start:no(e).toString()});case 1:return g.some({listStyleType:g.some("lower-alpha"),start:no(e).toString()});case 3:return g.some({listStyleType:g.none(),start:""});case 4:return g.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},io=(e,t)=>()=>{const o=$e(e);return i(o)&&o.nodeName===t},lo=e=>{e.addCommand("mceListProps",(()=>{so(e)}))},co=e=>{e.on("BeforeExecCommand",(t=>{const o=t.command.toLowerCase();"indent"===o?Dt(e):"outdent"===o&&At(e)})),e.addCommand("InsertUnorderedList",((t,o)=>{Zt(e,"UL",o)})),e.addCommand("InsertOrderedList",((t,o)=>{Zt(e,"OL",o)})),e.addCommand("InsertDefinitionList",((t,o)=>{Zt(e,"DL",o)})),e.addCommand("RemoveList",(()=>{Tt(e)})),lo(e),e.addCommand("mceListUpdate",((t,o)=>{r(o)&&((e,t)=>{const o=$e(e);null===o||nt(e,o)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(o,t.styles),r(t.attrs)&&ie(t.attrs,((t,n)=>e.dom.setAttrib(o,n,t)))}))})(e,o)})),e.addQueryStateHandler("InsertUnorderedList",io(e,"UL")),e.addQueryStateHandler("InsertOrderedList",io(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",io(e,"DL"))};var uo=tinymce.util.Tools.resolve("tinymce.html.Node");const ho=e=>3===e.type,po=e=>0===e.length,mo=e=>{const t=(t,o)=>{const n=uo.create("li");k(t,(e=>n.append(e))),o?e.insert(n,o,!0):e.append(n)},o=S(e.children(),((e,o)=>ho(o)?[...e,o]:po(e)||ho(o)?e:(t(e,o),[])),[]);po(o)||t(o)},go=e=>{ze(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==re.TAB||re.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?At(e):Dt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const o=t.command.toLowerCase();"delete"!==o&&"forwarddelete"!==o||!to(e)||qt(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===re.BACKSPACE?oo(e,!1)&&t.preventDefault():t.keyCode===re.DELETE&&oo(e,!0)&&t.preventDefault()}))})(e)},fo=(e,t)=>o=>rt(e,(n=>{o.setActive(tt(n.parents,t)),o.setEnabled(!nt(e,n.element))})),yo=(e,t)=>o=>rt(e,(n=>o.setEnabled(tt(n.parents,t)&&!nt(e,n.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>k(e,mo)))}))})(e),e.hasPlugin("rtc",!0)?lo(e):(go(e),co(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:fo(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:fo(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:yo(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const o=$e(e,t);return we(o)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{oo(e,t)}}))(e))))}()},8619:(e,t,o)=>{o(2590)},2590:()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(o=r=e,n=(a=String).prototype,n.isPrototypeOf(o)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var o,n;var r,a,s})(t)===e,o=e=>t=>typeof t===e,n=t("string"),r=t("array"),a=o("boolean"),s=(i=void 0,e=>i===e);var i;const l=e=>!(e=>null==e)(e),c=o("function"),d=o("number"),u=()=>{},h=e=>()=>e,p=e=>e,m=(e,t)=>e===t;function g(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const f=e=>{e()},y=h(!1),b=h(!0);class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const _=Object.keys,w=Object.hasOwnProperty,k=(e,t)=>{const o=_(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}},x=(e,t)=>{const o={};var n;return((e,t,o,n)=>{k(e,((e,r)=>{(t(e,r)?o:n)(e,r)}))})(e,t,(n=o,(e,t)=>{n[t]=e}),u),o},S=e=>((e,t)=>{const o=[];return k(e,((e,n)=>{o.push(t(e,n))})),o})(e,p),C=e=>_(e).length,E=(e,t)=>D(e,t)?v.from(e[t]):v.none(),D=(e,t)=>w.call(e,t),A=(e,t)=>D(e,t)&&void 0!==e[t]&&null!==e[t],T=Array.prototype.indexOf,O=Array.prototype.push,M=(e,t)=>((e,t)=>T.call(e,t))(e,t)>-1,z=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return!0}return!1},R=(e,t)=>{const o=[];for(let n=0;n<e;n++)o.push(t(n));return o},N=(e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n},I=(e,t)=>{for(let o=0,n=e.length;o<n;o++){t(e[o],o)}},L=(e,t)=>{const o=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t(r,n)&&o.push(r)}return o},P=(e,t,o)=>(I(e,((e,n)=>{o=t(o,e,n)})),o),B=(e,t)=>((e,t,o)=>{for(let n=0,r=e.length;n<r;n++){const r=e[n];if(t(r,n))return v.some(r);if(o(r,n))break}return v.none()})(e,t,y),H=(e,t)=>(e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!r(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);O.apply(t,e[o])}return t})(N(e,t)),F=(e,t)=>{for(let o=0,n=e.length;o<n;++o){if(!0!==t(e[o],o))return!1}return!0},V=(e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none(),j=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return v.none()},U=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},W={fromHtml:(e,t)=>{const o=(t||document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return U(o.childNodes[0])},fromTag:(e,t)=>{const o=(t||document).createElement(e);return U(o)},fromText:(e,t)=>{const o=(t||document).createTextNode(e);return U(o)},fromDom:U,fromPoint:(e,t,o)=>v.from(e.dom.elementFromPoint(t,o)).map(U)},Z=(e,t)=>{const o=e.dom;if(1!==o.nodeType)return!1;{const e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},$=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,q=(e,t)=>e.dom===t.dom,Y=Z;"undefined"!=typeof window?window:Function("return this;")();const G=e=>e.dom.nodeName.toLowerCase(),K=e=>e.dom.nodeType,X=e=>t=>K(t)===e,Q=e=>8===K(e)||"#comment"===G(e),J=X(1),ee=X(3),te=X(9),oe=X(11),ne=e=>t=>J(t)&&G(t)===e,re=e=>{return te(e)?e:(t=e,W.fromDom(t.dom.ownerDocument));var t},ae=e=>v.from(e.dom.parentNode).map(W.fromDom),se=(e,t)=>{const o=c(t)?t:y;let n=e.dom;const r=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=W.fromDom(e);if(r.push(t),!0===o(t))break;n=e}return r},ie=e=>v.from(e.dom.previousSibling).map(W.fromDom),le=e=>v.from(e.dom.nextSibling).map(W.fromDom),ce=e=>N(e.dom.childNodes,W.fromDom),de=e=>((e,t)=>{const o=e.dom.childNodes;return v.from(o[t]).map(W.fromDom)})(e,0),ue=c(Element.prototype.attachShadow)&&c(Node.prototype.getRootNode)?e=>W.fromDom(e.dom.getRootNode()):re,he=e=>{const t=ue(e);return oe(o=t)&&l(o.dom.host)?v.some(t):v.none();var o},pe=e=>W.fromDom(e.dom.host),me=e=>{const t=ee(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const o=t.ownerDocument;return he(W.fromDom(t)).fold((()=>o.body.contains(t)),(n=me,r=pe,e=>n(r(e))));var n,r};var ge=(e,t,o,n,r)=>e(o,n)?v.some(o):c(r)&&r(o)?v.none():t(o,n,r);const fe=(e,t,o)=>{let n=e.dom;const r=c(o)?o:y;for(;n.parentNode;){n=n.parentNode;const e=W.fromDom(n);if(t(e))return v.some(e);if(r(e))break}return v.none()},ye=(e,t,o)=>fe(e,(e=>Z(e,t)),o),be=(e,t)=>((e,t)=>B(e.dom.childNodes,(e=>t(W.fromDom(e)))).map(W.fromDom))(e,(e=>Z(e,t))),ve=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return $(o)?v.none():v.from(o.querySelector(e)).map(W.fromDom)})(t,e),_e=(e,t,o)=>ge(((e,t)=>Z(e,t)),ye,e,t,o),we=(e,t=!1)=>{return me(e)?e.dom.isContentEditable:(o=e,_e(o,"[contenteditable]")).fold(h(t),(e=>"true"===ke(e)));var o},ke=e=>e.dom.contentEditable,xe=e=>t=>q(t,(e=>W.fromDom(e.getBody()))(e)),Se=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,Ce=e=>W.fromDom(e.selection.getStart()),Ee=e=>{return(t=e,o=ne("table"),ge(((e,t)=>t(e)),fe,t,o,n)).forall(we);var t,o,n},De=(e,t)=>{let o=[];return I(ce(e),(e=>{t(e)&&(o=o.concat([e])),o=o.concat(De(e,t))})),o},Ae=(e,t)=>((e,t)=>L(ce(e),t))(e,(e=>Z(e,t))),Te=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return $(o)?[]:N(o.querySelectorAll(e),W.fromDom)})(t,e),Oe=(e,t,o)=>{if(!(n(o)||a(o)||d(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},Me=(e,t,o)=>{Oe(e.dom,t,o)},ze=(e,t)=>{const o=e.dom.getAttribute(t);return null===o?void 0:o},Re=(e,t)=>v.from(ze(e,t)),Ne=(e,t)=>{e.dom.removeAttribute(t)},Ie=(e,t,o=m)=>e.exists((e=>o(e,t))),Le=(e,t,o)=>e.isSome()&&t.isSome()?v.some(o(e.getOrDie(),t.getOrDie())):v.none(),Pe=(e,t)=>((e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t)(e,t,0),Be=(He=/^\s+|\s+$/g,e=>e.replace(He,""));var He;const Fe=e=>e.length>0,Ve=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?v.none():v.some(o)},je=e=>void 0!==e.style&&c(e.style.getPropertyValue),Ue=(e,t,o)=>{((e,t,o)=>{if(!n(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);je(e)&&e.style.setProperty(t,o)})(e.dom,t,o)},We=(e,t)=>{const o=e.dom,n=window.getComputedStyle(o).getPropertyValue(t);return""!==n||me(e)?n:Ze(o,t)},Ze=(e,t)=>je(e)?e.style.getPropertyValue(t):"",$e=(e,t)=>{const o=e.dom,n=Ze(o,t);return v.from(n).filter((e=>e.length>0))},qe=(e,t)=>{((e,t)=>{je(e)&&e.style.removeProperty(t)})(e.dom,t),Ie(Re(e,"style").map(Be),"")&&Ne(e,"style")},Ye=(e,t,o=0)=>Re(e,t).map((e=>parseInt(e,10))).getOr(o),Ge=(e,t)=>Ke(e,t,b),Ke=(e,t,o)=>H(ce(e),(e=>Z(e,t)?o(e)?[e]:[]:Ke(e,t,o))),Xe=["tfoot","thead","tbody","colgroup"],Qe=(e,t,o)=>({element:e,rowspan:t,colspan:o}),Je=(e,t,o)=>({element:e,cells:t,section:o}),et=(e,t)=>((e,t,o=y)=>o(t)?v.none():M(e,G(t))?v.some(t):ye(t,e.join(","),(e=>Z(e,"table")||o(e))))(["td","th"],e,t),tt=(e,t)=>_e(e,"table",t),ot=e=>Ge(e,"tr"),nt=e=>tt(e).fold(h([]),(e=>Ae(e,"colgroup"))),rt=(e,t)=>N(e,(e=>{if("colgroup"===G(e)){const t=N((e=>Z(e,"colgroup")?Ae(e,"col"):H(nt(e),(e=>Ae(e,"col"))))(e),(e=>{const t=Ye(e,"span",1);return Qe(e,1,t)}));return Je(e,t,"colgroup")}{const o=N((e=>Ge(e,"th,td"))(e),(e=>{const t=Ye(e,"rowspan",1),o=Ye(e,"colspan",1);return Qe(e,t,o)}));return Je(e,o,t(e))}})),at=e=>ae(e).map((e=>{const t=G(e);return(e=>M(Xe,e))(t)?t:"tbody"})).getOr("tbody"),st=e=>Re(e,"data-snooker-locked-cols").bind((e=>v.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const o={};for(let n=0,r=e.length;n<r;n++){const r=e[n];o[String(r)]=t(r,n)}return o})(e,b))),it=(e,t)=>e+","+t,lt=(e,t)=>{const o=H(e.all,(e=>e.cells));return L(o,t)},ct=e=>{const t={},o=[];var n;const r=(n=e,V(n,0)).map((e=>e.element)).bind(tt).bind(st).getOr({});let a=0,s=0,i=0;const{pass:l,fail:c}=((e,t)=>{const o=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?o:n).push(a)}return{pass:o,fail:n}})(e,(e=>"colgroup"===e.section));I(c,(e=>{const n=[];I(e.cells,(e=>{let o=0;for(;void 0!==t[it(i,o)];)o++;const a=A(r,o.toString()),l=((e,t,o,n,r,a)=>({element:e,rowspan:t,colspan:o,row:n,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,i,o,a);for(let n=0;n<e.colspan;n++)for(let r=0;r<e.rowspan;r++){const e=o+n,a=it(i+r,e);t[a]=l,s=Math.max(s,e+1)}n.push(l)})),a++,o.push(Je(e.element,n,e.section)),i++}));const{columns:d,colgroups:u}=(e=>V(e,e.length-1))(l).map((e=>{const t=(e=>{const t={};let o=0;return I(e.cells,(e=>{const n=e.colspan;R(n,(r=>{const a=o+r;t[a]=((e,t,o)=>({element:e,colspan:t,column:o}))(e.element,n,a)})),o+=n})),t})(e),o=((e,t)=>({element:e,columns:t}))(e.element,S(t));return{colgroups:[o],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),h=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:h,access:t,all:o,columns:d,colgroups:u}},dt=e=>{const t=(e=>{const t=ot(e),o=[...nt(e),...t];return rt(o,at)})(e);return ct(t)},ut=(e,t,o)=>v.from(e.access[it(t,o)]),ht=(e,t,o)=>{const n=lt(e,(e=>o(t,e.element)));return n.length>0?v.some(n[0]):v.none()},pt=e=>H(e.all,(e=>e.cells)),mt=(e,t)=>v.from(e.columns[t]);var gt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ft=(e,t,o)=>{const n=e.select("td,th",t);let r;for(let t=0;t<n.length;t++){const a=e.getStyle(n[t],o);if(s(r)&&(r=a),r!==a)return""}return r},yt=(e,t,o)=>{gt.each("left center right".split(" "),(n=>{n!==o&&e.formatter.remove("align"+n,{},t)})),o&&e.formatter.apply("align"+o,{},t)},bt=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})},vt=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?v.none():v.some(t)})(e).getOr(t),_t=(e,t,o)=>vt(We(e,t),o),wt=(e,t)=>{const o=e.dom,n=o.getBoundingClientRect().width||o.offsetWidth;return"border-box"===t?n:((e,t,o,n)=>t-_t(e,`padding-${o}`,0)-_t(e,`padding-${n}`,0)-_t(e,`border-${o}-width`,0)-_t(e,`border-${n}-width`,0))(e,n,"left","right")},kt=e=>wt(e,"content-box");var xt=tinymce.util.Tools.resolve("tinymce.Env");const St=R(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),Ct=N(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),Et="100%",Dt=e=>{var t;const o=e.dom,n=null!==(t=o.getParent(e.selection.getStart(),o.isBlock))&&void 0!==t?t:e.getBody();return kt(W.fromDom(n))+"px"},At=e=>t=>t.options.get(e),Tt=At("table_sizing_mode"),Ot=At("table_border_widths"),Mt=At("table_border_styles"),zt=At("table_cell_advtab"),Rt=At("table_row_advtab"),Nt=At("table_advtab"),It=At("table_appearance_options"),Lt=At("table_grid"),Pt=At("table_style_by_css"),Bt=At("table_cell_class_list"),Ht=At("table_row_class_list"),Ft=At("table_class_list"),Vt=At("table_toolbar"),jt=At("table_background_color_map"),Ut=At("table_border_color_map"),Wt=e=>"fixed"===Tt(e),Zt=e=>"responsive"===Tt(e),$t=e=>{const t=e.options,o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:((e,t)=>Zt(e)||!Pt(e)?t:Wt(e)?{...t,width:Dt(e)}:{...t,width:Et})(e,o)},qt=e=>{const t=e.options,o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:((e,t)=>Zt(e)||Pt(e)?t:Wt(e)?{...t,width:Dt(e)}:{...t,width:Et})(e,o)},Yt=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Gt=(e,t,o)=>{const n=ht(e,t,q),r=ht(e,o,q);return n.bind((e=>r.map((t=>{return o=e,n=t,r=Math.min(o.row,n.row),a=Math.min(o.column,n.column),s=Math.max(o.row+o.rowspan-1,n.row+n.rowspan-1),i=Math.max(o.column+o.colspan-1,n.column+n.colspan-1),{startRow:r,startCol:a,finishRow:s,finishCol:i};var o,n,r,a,s,i}))))},Kt=(e,t,o)=>Gt(e,t,o).bind((t=>((e,t)=>{let o=!0;const n=g(Yt,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)o=o&&ut(e,r,a).exists(n);return o?v.some(t):v.none()})(e,t))),Xt=dt,Qt=(e,t)=>{ae(e).each((o=>{o.dom.insertBefore(t.dom,e.dom)}))},Jt=(e,t)=>{le(e).fold((()=>{ae(e).each((e=>{to(e,t)}))}),(e=>{Qt(e,t)}))},eo=(e,t)=>{de(e).fold((()=>{to(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))},to=(e,t)=>{e.dom.appendChild(t.dom)},oo=(e,t)=>{Qt(e,t),to(t,e)},no=(e,t)=>{I(t,((o,n)=>{const r=0===n?e:t[n-1];Jt(r,o)}))},ro=(e,t)=>{I(t,(t=>{to(e,t)}))},ao=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},so=e=>{const t=ce(e);t.length>0&&no(e,t),ao(e)},io=((e,t)=>{const o=t=>e(t)?v.from(t.dom.nodeValue):v.none();return{get:n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},getOption:o,set:(o,n)=>{if(!e(o))throw new Error("Can only set raw "+t+" value of a "+t+" node");o.dom.nodeValue=n}}})(ee,"text"),lo=e=>io.get(e),co=(e,t)=>io.set(e,t);var uo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const ho=(e,t,o,n)=>{const r=t(e,o);return a=(o,n)=>{const r=t(e,n);return po(e,o,r)},s=r,((e,t)=>{for(let o=e.length-1;o>=0;o--)t(e[o],o)})(n,((e,t)=>{s=a(s,e,t)})),s;var a,s},po=(e,t,o)=>t.bind((t=>o.filter(g(e.eq,t)))),mo=(e,t,o)=>o.length>0?((e,t,o,n)=>n(e,t,o[0],o.slice(1)))(e,t,o,ho):v.none(),go={up:h({selector:ye,closest:_e,predicate:fe,all:se}),down:h({selector:Te,predicate:De}),styles:h({get:We,getRaw:$e,set:Ue,remove:qe}),attrs:h({get:ze,set:Me,remove:Ne,copyTo:(e,t)=>{((e,t)=>{const o=e.dom;k(t,((e,t)=>{Oe(o,t,e)}))})(t,P(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:h({before:Qt,after:Jt,afterAll:no,append:to,appendAll:ro,prepend:eo,wrap:oo}),remove:h({unwrap:so,remove:ao}),create:h({nu:W.fromTag,clone:e=>W.fromDom(e.dom.cloneNode(!1)),text:W.fromText}),query:h({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:ie,nextSibling:le}),property:h({children:ce,name:G,parent:ae,document:e=>re(e).dom,isText:ee,isComment:Q,isElement:J,isSpecial:e=>{const t=G(e);return M(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>J(e)?Re(e,"lang"):v.none(),getText:lo,setText:co,isBoundary:e=>!!J(e)&&("body"===G(e)||M(uo,G(e))),isEmptyTag:e=>!!J(e)&&M(["br","img","hr","input"],G(e)),isNonEditable:e=>J(e)&&"false"===ze(e,"contenteditable")}),eq:q,is:Y},fo=e=>ye(e,"table"),yo=(e,t,o)=>ve(e,t).bind((t=>ve(e,o).bind((e=>{return(o=fo,n=[t,e],mo(go,((e,t)=>o(t)),n)).map((o=>({first:t,last:e,table:o})));var o,n})))),bo=(e,t)=>((e,t)=>{const o=Te(e,t);return o.length>0?v.some(o):v.none()})(e,t),vo=(e,t,o)=>yo(e,t,o).bind((t=>{const o=t=>q(e,t),n="thead,tfoot,tbody,table",r=ye(t.first,n,o),a=ye(t.last,n,o);return r.bind((e=>a.bind((o=>q(e,o)?((e,t,o)=>{const n=Xt(e);return Kt(n,t,o)})(t.table,t.first,t.last):v.none()))))})),_o=e=>N(e,W.fromDom),wo="data-mce-selected",ko="data-mce-first-selected",xo="data-mce-last-selected",So={selected:wo,selectedSelector:"td["+wo+"],th["+wo+"]",firstSelected:ko,firstSelectedSelector:"td["+ko+"],th["+ko+"]",lastSelected:xo,lastSelectedSelector:"td["+xo+"],th["+xo+"]"},Co=e=>(t,o)=>{const n=G(t),r="col"===n||"colgroup"===n?tt(a=t).bind((e=>bo(e,So.firstSelectedSelector))).fold(h(a),(e=>e[0])):t;var a;return _e(r,e,o)},Eo=Co("th,td,caption"),Do=Co("th,td"),Ao=e=>_o(e.model.table.getSelectedCells()),To=(e,t)=>{const o=Do(e),n=o.bind((e=>tt(e))).map((e=>ot(e)));return Le(o,n,((e,o)=>L(o,(o=>z(_o(o.dom.cells),(o=>"1"===ze(o,t)||q(o,e))))))).getOr([])},Oo=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Mo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,zo=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ro=e=>{return(t=e,o="#",Pe(t,o)?((e,t)=>e.substring(t))(t,o.length):t).toUpperCase();var t,o},No=e=>(e=>Mo.test(e)||zo.test(e))(e)?v.some({value:Ro(e)}):v.none(),Io=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Lo=e=>(e=>({value:Ro(e)}))(Io(e.red)+Io(e.green)+Io(e.blue)),Po=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Bo=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ho=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n}),Fo=(e,t,o,n)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(o,10),i=parseFloat(n);return Ho(r,a,s,i)},Vo=e=>{if("transparent"===e)return v.some(Ho(0,0,0,0));const t=Po.exec(e);if(null!==t)return v.some(Fo(t[1],t[2],t[3],"1"));const o=Bo.exec(e);return null!==o?v.some(Fo(o[1],o[2],o[3],o[4])):v.none()},jo=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Uo=()=>(e=>{const t=jo(v.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(v.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(v.some(e))}}})((e=>e.unbind())),Wo=(e,t,o)=>n=>{const r=Uo(),a=!Fe(o);const s=()=>{const s=Ao(e),i=n=>e.formatter.match(t,{value:o},n.dom,a);a?(n.setActive(!z(s,i)),r.set(e.formatter.formatChanged(t,(e=>n.setActive(!e)),!0))):(n.setActive(F(s,i)),r.set(e.formatter.formatChanged(t,n.setActive,!1,{value:o})))};return e.initialized?s():e.on("init",s),r.clear},Zo=e=>A(e,"menu"),$o=e=>N(e,(e=>{const t=e.text||e.title||"";return Zo(e)?{text:t,items:$o(e.menu)}:{text:t,value:e.value}})),qo=(e,t,o,n)=>N(t,(t=>{const r=t.text||t.title;return Zo(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>qo(e,t.menu,o,n)}:{text:r,type:"togglemenuitem",onAction:()=>n(t.value),onSetup:Wo(e,o,t.value)}})),Yo=(e,t)=>o=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:o})},Go=e=>H(e,(e=>Zo(e)?[{...e,menu:Go(e.menu)}]:Fe(e.value)?[e]:[])),Ko=(e,t,o,n)=>r=>r(qo(e,t,o,n)),Xo=(e,t,o)=>{const n=N(t,(e=>{return{text:e.title,value:"#"+(t=e.value,No(t).orThunk((()=>Vo(t).map(Lo))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data,r=n[0],a=n[1],s=n[2],i=n[3];return Lo(Ho(r,a,s,i))}))).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:n.length>0?n:void 0,allowCustomColors:!1},onAction:t=>{const n="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[o]:n})}}]},Qo=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},Jo=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},en=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Oo}],tn=e=>en.concat((e=>{const t=$o(Bt(e));return t.length>0?v.some({name:"class",type:"listbox",label:"Class",items:t}):v.none()})(e).toArray()),on=(e,t)=>{const o=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat($o(Mt(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(o):o}},nn=(e,t)=>{const o=e.dom;return{setAttrib:(e,n)=>{o.setAttrib(t,e,n)},setStyle:(e,n)=>{o.setStyle(t,e,n)},setFormat:(o,n)=>{""===n?e.formatter.remove(o,{value:null},t,!0):e.formatter.apply(o,{value:n},t)}}},rn=ne("th"),an=(e,t)=>e&&t?"sectionCells":e?"section":"cells",sn=e=>{const t=L(e,(e=>rn(e.element)));return 0===t.length?v.some("td"):t.length===e.length?v.some("th"):v.none()},ln=e=>{const t=N(e,(e=>(e=>{const t="thead"===e.section,o=Ie(sn(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||o?{type:"header",subType:an(t,o)}:{type:"body"}})(e).type)),o=M(t,"header"),n=M(t,"footer");if(o||n){const e=M(t,"body");return!o||e||n?o||e||!n?v.none():v.some("footer"):v.some("header")}return v.some("body")},cn=(e,t)=>j(e.all,(e=>B(e.cells,(e=>q(t,e.element))))),dn=(e,t,o)=>{const n=(e=>{const t=[],o=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(o);return t})(N(t.selection,(t=>et(t).bind((t=>cn(e,t))).filter(o))));return r=n.length>0,a=n,r?v.some(a):v.none();var r,a},un=(e,t)=>dn(e,t,b),hn=(e,t)=>F(t,(t=>((e,t)=>cn(e,t).exists((e=>!e.isLocked)))(e,t))),pn=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>hn(e,t.cells))),mn=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>hn(e,t))),gn=e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],o={};return I(e,((n,a)=>{const s=_(n);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],l=n[i];if(void 0!==o[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!r(l))throw new Error("case arguments must be an array");t.push(i),o[i]=(...o)=>{const n=o.length;if(n!==l.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+l.length+" ("+l+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,o)},match:e=>{const n=_(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!F(t,(e=>M(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,o)},log:e=>{console.log(e,{constructors:t,constructor:i,params:o})}}}})),o},fn=(gn([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const o=dt(e);return un(o,t).bind((e=>{const t=e[e.length-1],n=e[0].row,r=t.row+t.rowspan,a=o.all.slice(n,r);return ln(a)})).getOr("")}),yn=e=>{return Pe(e,"rgb")?Vo(t=e).map(Lo).map((e=>"#"+e.value)).getOr(t):e;var t},bn=e=>{const t=W.fromDom(e);return{borderwidth:$e(t,"border-width").getOr(""),borderstyle:$e(t,"border-style").getOr(""),bordercolor:$e(t,"border-color").map(yn).getOr(""),backgroundcolor:$e(t,"background-color").map(yn).getOr("")}},vn=e=>{const t=e[0],o=e.slice(1);return I(o,(e=>{I(_(t),(o=>{k(e,((e,n)=>{const r=t[o];""!==r&&o===n&&r!==e&&(t[o]="")}))}))})),t},_n=(e,t,o,n)=>B(e,(e=>!s(o.formatter.matchNode(n,t+e)))).getOr(""),wn=g(_n,["left","center","right"],"align"),kn=g(_n,["top","middle","bottom"],"valign"),xn=e=>tt(W.fromDom(e)).map((t=>{const o={selection:_o(e.cells)};return fn(t,o)})).getOr(""),Sn=(e,t)=>{const o=dt(e),n=pt(o),r=L(n,(e=>z(t,(t=>q(e.element,t)))));return N(r,(e=>({element:e.element.dom,column:mt(o,e.column).map((e=>e.element.dom))})))},Cn=(e,t,o,n)=>{const r=1===t.length;I(t,(t=>{const a=t.element,s=r?b:n,i=nn(e,a);((e,t,o,n)=>{n("scope")&&e.setAttrib("scope",o.scope),n("class")&&e.setAttrib("class",o.class),n("height")&&e.setStyle("height",Se(o.height)),n("width")&&t.setStyle("width",Se(o.width))})(i,t.column.map((t=>nn(e,t))).getOr(i),o,s),zt(e)&&((e,t,o)=>{o("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),o("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),o("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),o("borderwidth")&&e.setFormat("tablecellborderwidth",Se(t.borderwidth))})(i,o,s),n("halign")&&yt(e,a,o.halign),n("valign")&&((e,t,o)=>{gt.each("top middle bottom".split(" "),(n=>{n!==o&&e.formatter.remove("valign"+n,{},t)})),o&&e.formatter.apply("valign"+o,{},t)})(e,a,o.valign)}))},En=(e,t,o,n)=>{const r=n.getData();n.close(),e.undoManager.transact((()=>{((e,t,o,n)=>{const r=x(n,((e,t)=>o[t]!==e));C(r)>0&&t.length>=1&&tt(t[0]).each((o=>{const a=Sn(o,t),s=C(x(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,i=D(r,"celltype");(s||D(r,"scope"))&&Cn(e,a,n,g(D,r)),i&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,n),bt(e,o.dom,{structure:i,style:s})}))})(e,t,o,r),e.focus()}))},Dn=(e,t)=>{const o=tt(t[0]).map((o=>N(Sn(o,t),(t=>((e,t,o,n)=>{const r=e.dom,a=(e,t)=>r.getStyle(e,t)||r.getAttrib(e,t);return{width:a(n.getOr(t),"width"),height:a(t,"height"),scope:r.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:wn(e,t),valign:kn(e,t),...o?bn(t):{}};var s})(e,t.element,zt(e),t.column)))));return vn(o.getOrDie())},An=e=>{const t=Ao(e);if(0===t.length)return;const o=Dn(e,t),n={type:"tabpanel",tabs:[{title:"General",name:"general",items:tn(e)},on(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:tn(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:zt(e)?n:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:g(En,e,t,o)})},Tn=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],On=e=>Tn.concat((e=>{const t=$o(Ht(e));return t.length>0?v.some({name:"class",type:"listbox",label:"Class",items:t}):v.none()})(e).toArray()),Mn=(e,t,o,n)=>{const r=1===t.length?b:n;I(t,(t=>{const a=nn(e,t);((e,t,o)=>{o("class")&&e.setAttrib("class",t.class),o("height")&&e.setStyle("height",Se(t.height))})(a,o,r),Rt(e)&&((e,t,o)=>{o("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),o("bordercolor")&&e.setStyle("border-color",t.bordercolor),o("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(a,o,r),n("align")&&yt(e,t,o.align)}))},zn=(e,t,o,n)=>{const r=n.getData();n.close(),e.undoManager.transact((()=>{((e,t,o,n)=>{const r=x(n,((e,t)=>o[t]!==e));if(C(r)>0){const o=D(r,"type"),a=!o||C(r)>1;a&&Mn(e,t,n,g(D,r)),o&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,n),tt(W.fromDom(t[0])).each((t=>bt(e,t.dom,{structure:o,style:a})))}})(e,t,o,r),e.focus()}))},Rn=e=>{const t=To(Ce(e),So.selected);if(0===t.length)return;const o=N(t,(t=>((e,t,o)=>{const n=e.dom;return{height:n.getStyle(t,"height")||n.getAttrib(t,"height"),class:n.getAttrib(t,"class",""),type:xn(t),align:wn(e,t),...o?bn(t):{}}})(e,t.dom,Rt(e)))),n=vn(o),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:On(e)},on(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:On(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Rt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:g(zn,e,N(t,(e=>e.dom)),n)})},Nn=(e,t,o)=>{const n=o?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=It(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return n.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},In=(e,t,o,r)=>{if("TD"===t.tagName||"TH"===t.tagName)n(o)&&l(r)?e.setStyle(t,o,r):e.setStyles(t,o);else if(t.children)for(let n=0;n<t.children.length;n++)In(e,t.children[n],o,r)},Ln=(e,t,o,n)=>{const r=e.dom,a=n.getData(),i=x(a,((e,t)=>o[t]!==e));n.close(),""===a.class&&delete a.class,e.undoManager.transact((()=>{if(!t){const o=Ve(a.cols).getOr(1),n=Ve(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:n,columns:o}),t=Do(Ce(e),xe(e)).bind((t=>tt(t,xe(e)))).map((e=>e.dom)).getOrDie()}if(C(i)>0){((e,t,o)=>{const n=e.dom,r={},a={};if(s(o.class)||(r.class=o.class),a.height=Se(o.height),Pt(e)?a.width=Se(o.width):n.getAttrib(t,"width")&&(r.width=(e=>e?e.replace(/px$/,""):"")(o.width)),Pt(e)?(a["border-width"]=Se(o.border),a["border-spacing"]=Se(o.cellspacing)):(r.border=o.border,r.cellpadding=o.cellpadding,r.cellspacing=o.cellspacing),Pt(e)&&t.children)for(let r=0;r<t.children.length;r++)In(n,t.children[r],{"border-width":Se(o.border),padding:Se(o.cellpadding)}),Nt(e)&&In(n,t.children[r],{"border-color":o.bordercolor});if(Nt(e)){const e=o;a["background-color"]=e.backgroundcolor,a["border-color"]=e.bordercolor,a["border-style"]=e.borderstyle}r.style=n.serializeStyle({...$t(e),...a}),n.setAttribs(t,{...qt(e),...r})})(e,t,a);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),yt(e,t,a.align)}if(e.focus(),e.addVisual(),C(i)>0){const o=D(i,"caption"),n=!o||C(i)>1;bt(e,t,{structure:o,style:n})}}))},Pn=(e,t)=>{const o=e.dom;let n,r=((e,t)=>{const o=$t(e),n=qt(e),r=t?{borderstyle:E(o,"border-style").getOr(""),bordercolor:yn(E(o,"border-color").getOr("")),backgroundcolor:yn(E(o,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...o,...n,...r,...(()=>{const t=o["border-width"];return Pt(e)&&t?{border:t}:E(n,"border").fold((()=>({})),(e=>({border:e})))})(),...{...E(o,"border-spacing").or(E(n,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),...E(o,"border-padding").or(E(n,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,Nt(e));t?(r.cols="1",r.rows="1",Nt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(n=o.getParent(e.selection.getStart(),"table",e.getBody()),n?r=((e,t,o)=>{const n=e.dom,r=Pt(e)?n.getStyle(t,"border-spacing")||n.getAttrib(t,"cellspacing"):n.getAttrib(t,"cellspacing")||n.getStyle(t,"border-spacing"),a=Pt(e)?ft(n,t,"padding")||n.getAttrib(t,"cellpadding"):n.getAttrib(t,"cellpadding")||ft(n,t,"padding");return{width:n.getStyle(t,"width")||n.getAttrib(t,"width"),height:n.getStyle(t,"height")||n.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,o)=>{const n=$e(W.fromDom(o),"border-width");return Pt(e)&&n.isSome()?n.getOr(""):t.getAttrib(o,"border")||ft(e.dom,o,"border-width")||ft(e.dom,o,"border")||""})(n,t),caption:!!n.select("caption",t)[0],class:n.getAttrib(t,"class",""),align:wn(e,t),...o?bn(t):{}}})(e,n,Nt(e)):Nt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=$o(Ft(e));a.length>0&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Nn(e,a,t)},i=Nt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},on(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:g(Ln,e,n,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Bn=e=>{k({mceTableProps:g(Pn,e,!1),mceTableRowProps:g(Rn,e),mceTableCellProps:g(An,e),mceInsertTableDialog:g(Pn,e,!0)},((t,o)=>e.addCommand(o,(()=>{return o=t,void(Ee(Ce(e))&&o());var o}))))},Hn=p,Fn=e=>{const t=(e,t)=>Re(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&F(e,(e=>t(e,"rowspan")||t(e,"colspan")))?v.some(e):v.none()},Vn=(e,t,o)=>t.length<=1?v.none():vo(e,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),jn=e=>{const t=jo(v.none()),o=jo([]);let n=v.none();const r=ne("caption"),a=e=>n.forall((t=>!t[e])),s=()=>Eo((e=>W.fromDom(e.selection.getEnd()))(e),xe(e)),i=()=>Eo(Ce(e),xe(e)).bind((t=>{return o=Le(tt(t),s().bind(tt),((o,n)=>q(o,n)?r(t)?v.some((e=>({element:e,mergable:v.none(),unmergable:v.none(),selection:[e]}))(t)):v.some(((e,t,o)=>({element:o,mergable:Vn(t,e,So),unmergable:Fn(e),selection:Hn(e)}))(Ao(e),o,t)):v.none())),o.bind(p);var o})),l=e=>tt(e.element).map((t=>{const o=dt(t),n=un(o,e).getOr([]),r=P(n,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=o.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:pn(o,e).isSome(),unmergeable:mn(o,e).isSome(),locked:r}})),c=()=>{t.set((e=>{let t,o=!1;return(...n)=>(o||(o=!0,t=e.apply(null,n)),t)})(i)()),n=t.get().bind(l),I(o.get(),f)},d=e=>(e(),o.set(o.get().concat([e])),()=>{o.set(L(o.get(),(t=>t!==e)))}),u=(e,o)=>d((()=>t.get().fold((()=>{e.setEnabled(!1)}),(t=>{e.setEnabled(!o(t))})))),h=(e,o,n)=>d((()=>t.get().fold((()=>{e.setEnabled(!1),e.setActive(!1)}),(t=>{e.setEnabled(!o(t)),e.setActive(n(t))})))),m=e=>n.exists((t=>t.locked[e])),g=(t,o)=>n=>h(n,(e=>r(e.element)),(()=>e.queryCommandValue(t)===o)),b=g("mceTableRowType","header"),_=g("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:e=>u(e,(e=>!1)),onSetupCellOrRow:e=>u(e,(e=>r(e.element))),onSetupColumn:e=>t=>u(t,(t=>r(t.element)||m(e))),onSetupPasteable:e=>t=>u(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>o=>u(o,(o=>r(o.element)||e().isNone()||m(t))),onSetupMergeable:e=>u(e,(e=>a("mergeable"))),onSetupUnmergeable:e=>u(e,(e=>a("unmergeable"))),resetTargets:c,onSetupTableWithCaption:t=>h(t,y,(t=>tt(t.element,xe(e)).exists((e=>be(e,"caption").isSome())))),onSetupTableRowHeaders:b,onSetupTableColumnHeaders:_,targets:t.get}};var Un=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Wn="x-tinymce/dom-table-",Zn=Wn+"rows",$n=Wn+"columns",qn=e=>{var t;const o=null!==(t=Un.read())&&void 0!==t?t:[];return j(o,(t=>v.from(t.getType(e))))},Yn=()=>qn(Zn),Gn=()=>qn($n),Kn=e=>{const t=jn(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:St}),t("table_border_styles",{processor:"object[]",default:Ct}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!xt.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Bn(e),((e,t)=>{const o=t=>()=>e.execCommand(t),n=(t,n)=>!!e.queryCommandSupported(n.command)&&(e.ui.registry.addMenuItem(t,{...n,onAction:c(n.onAction)?n.onAction:o(n.command)}),!0),r=(t,n)=>{e.queryCommandSupported(n.command)&&e.ui.registry.addToggleMenuItem(t,{...n,onAction:c(n.onAction)?n.onAction:o(n.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[n("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),n("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),n("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),n("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),n("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),n("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),n("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Yn)}),n("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Yn)})],i=[n("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),n("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),n("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),n("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),n("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),n("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(Gn,"onFirst")}),n("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(Gn,"onLast")})],l=[n("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),n("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),n("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Lt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}]}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTableDialog")}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTableDialog")}),n("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),n("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),M(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:h("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),M(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:h("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),M(l,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:h("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(h(""),(e=>"caption"===G(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const d=Go(Ft(e));0!==d.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>qo(e,d,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const u=Go(Bt(e));0!==u.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>qo(e,u,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>qo(e,Oo,"tablecellverticalalign",Yo(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>qo(e,Ot(e),"tablecellborderwidth",Yo(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>qo(e,Mt(e),"tablecellborderstyle",Yo(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Xo(e,jt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Xo(e,Ut(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Qo(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Jo(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const o=t=>()=>e.execCommand(t),n=(t,n)=>{e.queryCommandSupported(n.command)&&e.ui.registry.addButton(t,{...n,onAction:c(n.onAction)?n.onAction:o(n.command)})},r=(t,n)=>{e.queryCommandSupported(n.command)&&e.ui.registry.addToggleButton(t,{...n,onAction:c(n.onAction)?n.onAction:o(n.command)})};n("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),n("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),n("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),n("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),n("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),n("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),n("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),n("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),n("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),n("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),n("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),n("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),n("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),n("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),n("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Yn)}),n("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Yn)}),n("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),n("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),n("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(Gn,"onFirst")}),n("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(Gn,"onLast")}),n("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const a=Go(Ft(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Ko(e,a,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=Go(Bt(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Ko(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Ko(e,Oo,"tablecellverticalalign",Yo(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Ko(e,Ot(e),"tablecellborderwidth",Yo(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Ko(e,Mt(e),"tablecellborderstyle",Yo(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Xo(e,jt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Xo(e,Ut(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Qo(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Jo(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t),o=Vt(e);o.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:o,scope:"node",position:"node"})})(e)};e.add("table",Kn)}()},8860:(e,t,o)=>{o(1768)},1768:()=>{!function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,o)=>{var n;return!!o(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},o=e=>o=>(e=>{const o=typeof e;return null===e?"null":"object"===o&&Array.isArray(e)?"array":"object"===o&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":o})(o)===e,n=e=>t=>typeof t===e,r=e=>t=>e===t,a=o("string"),s=o("object"),i=o=>((o,n)=>s(o)&&t(o,n,((t,o)=>e(t)===o)))(o,Object),l=o("array"),c=r(null),d=n("boolean"),u=r(void 0),h=e=>null==e,p=e=>!h(e),m=n("function"),g=n("number"),f=(e,t)=>{if(l(e)){for(let o=0,n=e.length;o<n;++o)if(!t(e[o]))return!1;return!0}return!1},y=()=>{},b=e=>()=>e(),v=(e,t)=>(...o)=>e(t.apply(null,o)),_=e=>()=>e,w=e=>e,k=(e,t)=>e===t;function x(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const S=e=>t=>!e(t),C=e=>()=>{throw new Error(e)},E=e=>e(),D=_(!1),A=_(!0);class T{constructor(e,t){this.tag=e,this.value=t}static some(e){return new T(!0,e)}static none(){return T.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?T.some(e(this.value)):T.none()}bind(e){return this.tag?e(this.value):T.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:T.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return p(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const O=Array.prototype.slice,M=Array.prototype.indexOf,z=Array.prototype.push,R=(e,t)=>M.call(e,t),N=(e,t)=>{const o=R(e,t);return-1===o?T.none():T.some(o)},I=(e,t)=>R(e,t)>-1,L=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return!0}return!1},P=(e,t)=>{const o=[];for(let n=0;n<e;n++)o.push(t(n));return o},B=(e,t)=>{const o=[];for(let n=0;n<e.length;n+=t){const r=O.call(e,n,n+t);o.push(r)}return o},H=(e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n},F=(e,t)=>{for(let o=0,n=e.length;o<n;o++){t(e[o],o)}},V=(e,t)=>{const o=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?o:n).push(a)}return{pass:o,fail:n}},j=(e,t)=>{const o=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t(r,n)&&o.push(r)}return o},U=(e,t,o)=>(((e,t)=>{for(let o=e.length-1;o>=0;o--)t(e[o],o)})(e,((e,n)=>{o=t(o,e,n)})),o),W=(e,t,o)=>(F(e,((e,n)=>{o=t(o,e,n)})),o),Z=(e,t)=>((e,t,o)=>{for(let n=0,r=e.length;n<r;n++){const r=e[n];if(t(r,n))return T.some(r);if(o(r,n))break}return T.none()})(e,t,D),$=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return T.some(o)}return T.none()},q=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!l(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);z.apply(t,e[o])}return t},Y=(e,t)=>q(H(e,t)),G=(e,t)=>{for(let o=0,n=e.length;o<n;++o){if(!0!==t(e[o],o))return!1}return!0},K=e=>{const t=O.call(e,0);return t.reverse(),t},X=(e,t)=>j(e,(e=>!I(t,e))),Q=(e,t)=>{const o={};for(let n=0,r=e.length;n<r;n++){const r=e[n];o[String(r)]=t(r,n)}return o},J=e=>[e],ee=(e,t)=>{const o=O.call(e,0);return o.sort(t),o},te=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none(),oe=e=>te(e,0),ne=e=>te(e,e.length-1),re=m(Array.from)?Array.from:e=>O.call(e),ae=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return T.none()},se=Object.keys,ie=Object.hasOwnProperty,le=(e,t)=>{const o=se(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}},ce=(e,t)=>de(e,((e,o)=>({k:o,v:t(e,o)}))),de=(e,t)=>{const o={};return le(e,((e,n)=>{const r=t(e,n);o[r.k]=r.v})),o},ue=e=>(t,o)=>{e[o]=t},he=(e,t,o,n)=>{le(e,((e,r)=>{(t(e,r)?o:n)(e,r)}))},pe=(e,t)=>{const o={};return he(e,t,ue(o),y),o},me=(e,t)=>{const o=[];return le(e,((e,n)=>{o.push(t(e,n))})),o},ge=(e,t)=>{const o=se(e);for(let n=0,r=o.length;n<r;n++){const r=o[n],a=e[r];if(t(a,r,e))return T.some(a)}return T.none()},fe=e=>me(e,w),ye=(e,t)=>be(e,t)?T.from(e[t]):T.none(),be=(e,t)=>ie.call(e,t),ve=(e,t)=>be(e,t)&&void 0!==e[t]&&null!==e[t],_e=(e,t,o=k)=>e.exists((e=>o(e,t))),we=e=>{const t=[],o=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(o);return t},ke=(e,t,o)=>e.isSome()&&t.isSome()?T.some(o(e.getOrDie(),t.getOrDie())):T.none(),xe=(e,t)=>null!=e?T.some(t(e)):T.none(),Se=(e,t)=>e?T.some(t):T.none(),Ce=(e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t,Ee=(e,t)=>Ae(e,t)?((e,t)=>e.substring(t))(e,t.length):e,De=(e,t,o=0,n)=>{const r=e.indexOf(t,o);return-1!==r&&(!!u(n)||r+t.length<=n)},Ae=(e,t)=>Ce(e,t,0),Te=(e,t)=>Ce(e,t,e.length-t.length),Oe=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),Me=e=>e.length>0,ze=e=>void 0!==e.style&&m(e.style.getPropertyValue),Re=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ne={fromHtml:(e,t)=>{const o=(t||document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Re(o.childNodes[0])},fromTag:(e,t)=>{const o=(t||document).createElement(e);return Re(o)},fromText:(e,t)=>{const o=(t||document).createTextNode(e);return Re(o)},fromDom:Re,fromPoint:(e,t,o)=>T.from(e.dom.elementFromPoint(t,o)).map(Re)},Ie="undefined"!=typeof window?window:Function("return this;")(),Le=(e,t)=>((e,t)=>{let o=null!=t?t:Ie;for(let t=0;t<e.length&&null!=o;++t)o=o[e[t]];return o})(e.split("."),t),Pe=(e,t)=>{const o=((e,t)=>Le(e,t))(e,t);if(null==o)throw new Error(e+" not available on this browser");return o},Be=Object.getPrototypeOf,He=e=>{const t=Le("ownerDocument.defaultView",e);return s(e)&&((e=>Pe("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Be(e).constructor.name))},Fe=e=>e.dom.nodeName.toLowerCase(),Ve=e=>t=>(e=>e.dom.nodeType)(t)===e,je=e=>Ue(e)&&He(e.dom),Ue=Ve(1),We=Ve(3),Ze=Ve(9),$e=Ve(11),qe=e=>t=>Ue(t)&&Fe(t)===e,Ye=(e,t)=>{const o=e.dom;if(1!==o.nodeType)return!1;{const e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Ge=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ke=(e,t)=>e.dom===t.dom,Xe=(e,t)=>{const o=e.dom,n=t.dom;return o!==n&&o.contains(n)},Qe=e=>Ne.fromDom(e.dom.ownerDocument),Je=e=>Ze(e)?e:Qe(e),et=e=>Ne.fromDom(Je(e).dom.documentElement),tt=e=>Ne.fromDom(Je(e).dom.defaultView),ot=e=>T.from(e.dom.parentNode).map(Ne.fromDom),nt=e=>T.from(e.dom.parentElement).map(Ne.fromDom),rt=e=>T.from(e.dom.offsetParent).map(Ne.fromDom),at=e=>H(e.dom.childNodes,Ne.fromDom),st=(e,t)=>{const o=e.dom.childNodes;return T.from(o[t]).map(Ne.fromDom)},it=e=>st(e,0),lt=(e,t)=>({element:e,offset:t}),ct=(e,t)=>{const o=at(e);return o.length>0&&t<o.length?lt(o[t],0):lt(e,t)},dt=e=>$e(e)&&p(e.dom.host),ut=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode),ht=_(ut),pt=ut?e=>Ne.fromDom(e.dom.getRootNode()):Je,mt=e=>dt(e)?e:Ne.fromDom(Je(e).dom.body),gt=e=>{const t=pt(e);return dt(t)?T.some(t):T.none()},ft=e=>Ne.fromDom(e.dom.host),yt=e=>p(e.dom.shadowRoot),bt=e=>{const t=We(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const o=t.ownerDocument;return gt(Ne.fromDom(t)).fold((()=>o.body.contains(t)),(n=bt,r=ft,e=>n(r(e))));var n,r},vt=()=>_t(Ne.fromDom(document)),_t=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Ne.fromDom(t)},wt=(e,t,o)=>{if(!(a(o)||d(o)||g(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},kt=(e,t,o)=>{wt(e.dom,t,o)},xt=(e,t)=>{const o=e.dom;le(t,((e,t)=>{wt(o,t,e)}))},St=(e,t)=>{const o=e.dom.getAttribute(t);return null===o?void 0:o},Ct=(e,t)=>T.from(St(e,t)),Et=(e,t)=>{const o=e.dom;return!(!o||!o.hasAttribute)&&o.hasAttribute(t)},Dt=(e,t)=>{e.dom.removeAttribute(t)},At=(e,t,o)=>{if(!a(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);ze(e)&&e.style.setProperty(t,o)},Tt=(e,t)=>{ze(e)&&e.style.removeProperty(t)},Ot=(e,t,o)=>{const n=e.dom;At(n,t,o)},Mt=(e,t)=>{const o=e.dom;le(t,((e,t)=>{At(o,t,e)}))},zt=(e,t)=>{const o=e.dom;le(t,((e,t)=>{e.fold((()=>{Tt(o,t)}),(e=>{At(o,t,e)}))}))},Rt=(e,t)=>{const o=e.dom,n=window.getComputedStyle(o).getPropertyValue(t);return""!==n||bt(e)?n:Nt(o,t)},Nt=(e,t)=>ze(e)?e.style.getPropertyValue(t):"",It=(e,t)=>{const o=e.dom,n=Nt(o,t);return T.from(n).filter((e=>e.length>0))},Lt=e=>{const t={},o=e.dom;if(ze(o))for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}return t},Pt=(e,t,o)=>{const n=Ne.fromTag(e);Ot(n,t,o);return It(n,t).isSome()},Bt=(e,t)=>{const o=e.dom;Tt(o,t),_e(Ct(e,"style").map(Oe),"")&&Dt(e,"style")},Ht=e=>e.dom.offsetWidth,Ft=(e,t)=>{const o=o=>{const n=t(o);if(n<=0||null===n){const t=Rt(o,e);return parseFloat(t)||0}return n},n=(e,t)=>W(t,((t,o)=>{const n=Rt(e,o),r=void 0===n?0:parseInt(n,10);return isNaN(r)?t:t+r}),0);return{set:(t,o)=>{if(!g(o)&&!o.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+o);const n=t.dom;ze(n)&&(n.style[e]=o+"px")},get:o,getOuter:o,aggregate:n,max:(e,t,o)=>{const r=n(e,o);return t>r?t-r:0}}},Vt=Ft("height",(e=>{const t=e.dom;return bt(e)?t.getBoundingClientRect().height:t.offsetHeight})),jt=e=>Vt.get(e),Ut=e=>Vt.getOuter(e),Wt=(e,t)=>({left:e,top:t,translate:(o,n)=>Wt(e+o,t+n)}),Zt=Wt,$t=(e,t)=>void 0!==e?e:void 0!==t?t:0,qt=e=>{const t=e.dom.ownerDocument,o=t.body,n=t.defaultView,r=t.documentElement;if(o===e.dom)return Zt(o.offsetLeft,o.offsetTop);const a=$t(null==n?void 0:n.pageYOffset,r.scrollTop),s=$t(null==n?void 0:n.pageXOffset,r.scrollLeft),i=$t(r.clientTop,o.clientTop),l=$t(r.clientLeft,o.clientLeft);return Yt(e).translate(s-l,a-i)},Yt=e=>{const t=e.dom,o=t.ownerDocument.body;return o===t?Zt(o.offsetLeft,o.offsetTop):bt(e)?(e=>{const t=e.getBoundingClientRect();return Zt(t.left,t.top)})(t):Zt(0,0)},Gt=Ft("width",(e=>e.dom.offsetWidth)),Kt=e=>Gt.get(e),Xt=e=>Gt.getOuter(e),Qt=e=>{let t,o=!1;return(...n)=>(o||(o=!0,t=e.apply(null,n)),t)},Jt=()=>eo(0,0),eo=(e,t)=>({major:e,minor:t}),to={nu:eo,detect:(e,t)=>{const o=String(t).toLowerCase();return 0===e.length?Jt():((e,t)=>{const o=((e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t))return n}})(e,t);if(!o)return{major:0,minor:0};const n=e=>Number(t.replace(o,"$"+e));return eo(n(1),n(2))})(e,o)},unknown:Jt},oo=(e,t)=>{const o=String(t).toLowerCase();return Z(e,(e=>e.search(o)))},no=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ro=e=>t=>De(t,e),ao=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>De(e,"edge/")&&De(e,"chrome")&&De(e,"safari")&&De(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,no],search:e=>De(e,"chrome")&&!De(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>De(e,"msie")||De(e,"trident")},{name:"Opera",versionRegexes:[no,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ro("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ro("firefox")},{name:"Safari",versionRegexes:[no,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(De(e,"safari")||De(e,"mobile/"))&&De(e,"applewebkit")}],so=[{name:"Windows",search:ro("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>De(e,"iphone")||De(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ro("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ro("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ro("linux"),versionRegexes:[]},{name:"Solaris",search:ro("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ro("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ro("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],io={browsers:_(ao),oses:_(so)},lo="Edge",co="Chromium",uo="Opera",ho="Firefox",po="Safari",mo=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isEdge:n(lo),isChromium:n(co),isIE:n("IE"),isOpera:n(uo),isFirefox:n(ho),isSafari:n(po)}},go={unknown:()=>mo({current:void 0,version:to.unknown()}),nu:mo,edge:_(lo),chromium:_(co),ie:_("IE"),opera:_(uo),firefox:_(ho),safari:_(po)},fo="Windows",yo="Android",bo="Linux",vo="macOS",_o="Solaris",wo="FreeBSD",ko="ChromeOS",xo=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isWindows:n(fo),isiOS:n("iOS"),isAndroid:n(yo),isMacOS:n(vo),isLinux:n(bo),isSolaris:n(_o),isFreeBSD:n(wo),isChromeOS:n(ko)}},So={unknown:()=>xo({current:void 0,version:to.unknown()}),nu:xo,windows:_(fo),ios:_("iOS"),android:_(yo),linux:_(bo),macos:_(vo),solaris:_(_o),freebsd:_(wo),chromeos:_(ko)},Co=(e,t,o)=>{const n=io.browsers(),r=io.oses(),a=t.bind((e=>((e,t)=>ae(t.brands,(t=>{const o=t.brand.toLowerCase();return Z(e,(e=>{var t;return o===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:to.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>oo(e,t).map((e=>{const o=to.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(n,e))).fold(go.unknown,go.nu),s=((e,t)=>oo(e,t).map((e=>{const o=to.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(r,e).fold(So.unknown,So.nu),i=((e,t,o,n)=>{const r=e.isiOS()&&!0===/ipad/i.test(o),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||n("(pointer:coarse)"),l=r||!a&&s&&n("(min-device-width:768px)"),c=a||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),u=!c&&!l&&!d;return{isiPad:_(r),isiPhone:_(a),isTablet:_(l),isPhone:_(c),isTouch:_(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:_(d),isDesktop:_(u)}})(s,a,e,o);return{browser:a,os:s,deviceType:i}},Eo=e=>window.matchMedia(e).matches;let Do=Qt((()=>Co(navigator.userAgent,T.from(navigator.userAgentData),Eo)));const Ao=()=>Do(),To=e=>{const t=Ne.fromDom((e=>{if(ht()&&p(e.target)){const t=Ne.fromDom(e.target);if(Ue(t)&&yt(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return oe(t)}}return T.from(e.target)})(e).getOr(e.target)),o=()=>e.stopPropagation(),n=()=>e.preventDefault(),r=v(n,o);return((e,t,o,n,r,a,s)=>({target:e,x:t,y:o,stop:n,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,o,n,r,e)},Oo=(e,t,o,n,r)=>{const a=((e,t)=>o=>{e(o)&&t(To(o))})(o,n);return e.dom.addEventListener(t,a,r),{unbind:x(Mo,e,t,a,r)}},Mo=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)},zo=(e,t)=>{ot(e).each((o=>{o.dom.insertBefore(t.dom,e.dom)}))},Ro=(e,t)=>{const o=(e=>T.from(e.dom.nextSibling).map(Ne.fromDom))(e);o.fold((()=>{ot(e).each((e=>{Io(e,t)}))}),(e=>{zo(e,t)}))},No=(e,t)=>{it(e).fold((()=>{Io(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))},Io=(e,t)=>{e.dom.appendChild(t.dom)},Lo=(e,t)=>{F(t,(t=>{Io(e,t)}))},Po=e=>{e.dom.textContent="",F(at(e),(e=>{Bo(e)}))},Bo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ho=e=>{const t=void 0!==e?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return Zt(o,n)},Fo=(e,t,o)=>{const n=(void 0!==o?o.dom:document).defaultView;n&&n.scrollTo(e,t)},Vo=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),jo=e=>{const t=void 0===e?window:e,o=t.document,n=Ho(Ne.fromDom(o));return(e=>{const t=void 0===e?window:e;return Ao().browser.isFirefox()?T.none():T.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,o=e.clientWidth,r=e.clientHeight;return Vo(n.left,n.top,o,r)}),(e=>Vo(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))},Uo=()=>Ne.fromDom(document),Wo=(e,t)=>e.view(t).fold(_([]),(t=>{const o=e.owner(t),n=Wo(e,o);return[t].concat(n)}));var Zo=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?T.none():T.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Ne.fromDom)},owner:e=>Qe(e)});const $o=e=>{const t=Uo(),o=Ho(t),n=((e,t)=>{const o=t.owner(e),n=Wo(t,o);return T.some(n)})(e,Zo);return n.fold(x(qt,e),(t=>{const n=Yt(e),r=U(t,((e,t)=>{const o=Yt(t);return{left:e.left+o.left,top:e.top+o.top}}),{left:0,top:0});return Zt(r.left+n.left+o.left,r.top+n.top+o.top)}))},qo=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),Yo=e=>{const t=qt(e),o=Xt(e),n=Ut(e);return qo(t.left,t.top,o,n)},Go=e=>{const t=$o(e),o=Xt(e),n=Ut(e);return qo(t.left,t.top,o,n)},Ko=(e,t)=>{const o=Math.max(e.x,t.x),n=Math.max(e.y,t.y),r=Math.min(e.right,t.right),a=Math.min(e.bottom,t.bottom);return qo(o,n,r-o,a-n)},Xo=()=>jo(window);var Qo=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Jo=e=>{const t=t=>t(e),o=_(e),n=()=>r,r={tag:!0,inner:e,fold:(t,o)=>o(e),isValue:A,isError:D,map:t=>tn.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>T.some(e)};return r},en=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(t,o)=>t(e),isValue:D,isError:A,map:t,mapError:t=>tn.error(t(e)),bind:t,exists:D,forall:A,getOr:w,or:w,getOrThunk:E,orThunk:E,getOrDie:C(String(e)),each:y,toOptional:T.none};return o},tn={value:Jo,error:en,fromOption:(e,t)=>e.fold((()=>en(t)),Jo)};var on;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(on||(on={}));const nn=(e,t,o)=>e.stype===on.Error?t(e.serror):o(e.svalue),rn=e=>({stype:on.Value,svalue:e}),an=e=>({stype:on.Error,serror:e}),sn=e=>e.fold(an,rn),ln=e=>nn(e,tn.error,tn.value),cn=rn,dn=e=>{const t=[],o=[];return F(e,(e=>{nn(e,(e=>o.push(e)),(e=>t.push(e)))})),{values:t,errors:o}},un=an,hn=(e,t)=>e.stype===on.Value?t(e.svalue):e,pn=(e,t)=>e.stype===on.Error?t(e.serror):e,mn=(e,t)=>e.stype===on.Value?{stype:on.Value,svalue:t(e.svalue)}:e,gn=(e,t)=>e.stype===on.Error?{stype:on.Error,serror:t(e.serror)}:e,fn=nn,yn=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n}),bn=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},vn=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const o={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)be(r,t)&&(o[t]=e(o[t],r[t]))}return o},_n=vn(((e,t)=>i(e)&&i(t)?_n(e,t):t)),wn=vn(((e,t)=>t)),kn=e=>({tag:"defaultedThunk",process:e}),xn=e=>kn(_(e)),Sn=e=>({tag:"mergeWithThunk",process:e}),Cn=e=>v(un,q)(e),En=e=>{const t=dn(e);return t.errors.length>0?Cn(t.errors):cn(t.values)},Dn=e=>s(e)&&se(e).length>100?" removed due to size":JSON.stringify(e,null,2),An=(e,t)=>un([{path:e,getErrorInfo:t}]),Tn=e=>({extract:(t,o)=>pn(e(o),(e=>((e,t)=>An(e,_(t)))(t,e))),toString:_("val")}),On=Tn(cn),Mn=(e,t,o,n)=>ye(t,o).fold((()=>((e,t,o)=>An(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Dn(o))))(e,o,t)),n),zn=(e,t,o,n)=>n(ye(e,t).getOrThunk((()=>o(e)))),Rn=(e,t,o,n,r)=>{const a=e=>r.extract(t.concat([n]),e),s=e=>e.fold((()=>cn(T.none())),(e=>{const o=r.extract(t.concat([n]),e);return mn(o,T.some)}));switch(e.tag){case"required":return Mn(t,o,n,a);case"defaultedThunk":return zn(o,n,e.process,a);case"option":return((e,t,o)=>o(ye(e,t)))(o,n,s);case"defaultedOptionThunk":return((e,t,o,n)=>n(ye(e,t).map((t=>!0===t?o(e):t))))(o,n,e.process,s);case"mergeWithThunk":return zn(o,n,_({}),(t=>{const n=_n(e.process(o),t);return a(n)}))}},Nn=e=>({extract:(t,o)=>e().extract(t,o),toString:()=>e().toString()}),In=e=>se(pe(e,p)),Ln=e=>{const t=Pn(e),o=U(e,((e,t)=>bn(t,(t=>_n(e,{[t]:!0})),_(e))),{});return{extract:(e,n)=>{const r=d(n)?[]:In(n),a=j(r,(e=>!ve(o,e)));return 0===a.length?t.extract(e,n):((e,t)=>An(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,a)},toString:t.toString}},Pn=e=>({extract:(t,o)=>((e,t,o)=>{const n={},r=[];for(const a of o)bn(a,((o,a,s,i)=>{const l=Rn(s,e,t,o,i);fn(l,(e=>{r.push(...e)}),(e=>{n[a]=e}))}),((e,o)=>{n[e]=o(t)}));return r.length>0?un(r):cn(n)})(t,o,e),toString:()=>{const t=H(e,(e=>bn(e,((e,t,o,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Bn=e=>({extract:(t,o)=>{const n=H(o,((o,n)=>e.extract(t.concat(["["+n+"]"]),o)));return En(n)},toString:()=>"array("+e.toString()+")"}),Hn=(e,t)=>{const o=void 0!==t?t:w;return{extract:(t,n)=>{const r=[];for(const a of e){const e=a.extract(t,n);if(e.stype===on.Value)return{stype:on.Value,svalue:o(e.svalue)};r.push(e)}return En(r)},toString:()=>"oneOf("+H(e,(e=>e.toString())).join(", ")+")"}},Fn=(e,t)=>({extract:(o,n)=>{const r=se(n),a=((t,o)=>Bn(Tn(e)).extract(t,o))(o,r);return hn(a,(e=>{const r=H(e,(e=>yn(e,e,{tag:"required",process:{}},t)));return Pn(r).extract(o,n)}))},toString:()=>"setOf("+t.toString()+")"}),Vn=v(Bn,Pn),jn=_(On),Un=(e,t)=>Tn((o=>{const n=typeof o;return e(o)?cn(o):un(`Expected type: ${t} but got: ${n}`)})),Wn=Un(g,"number"),Zn=Un(a,"string"),$n=Un(d,"boolean"),qn=Un(m,"function"),Yn=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>Yn(e[t])));default:return!1}},Gn=Tn((e=>Yn(e)?cn(e):un("Expected value to be acceptable for sending via postMessage"))),Kn=(e,t,o,n)=>ye(o,n).fold((()=>((e,t,o)=>An(e,(()=>'The chosen schema: "'+o+'" did not exist in branches: '+Dn(t))))(e,o,n)),(o=>o.extract(e.concat(["branch: "+n]),t))),Xn=(e,t)=>({extract:(o,n)=>ye(n,e).fold((()=>((e,t)=>An(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(o,e)),(e=>Kn(o,n,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+se(t)}),Qn=e=>Tn((t=>e(t).fold(un,cn))),Jn=(e,t)=>Fn((t=>sn(e(t))),t),er=(e,t,o)=>ln(((e,t,o)=>{const n=t.extract([e],o);return gn(n,(e=>({input:o,errors:e})))})(e,t,o)),tr=e=>e.fold((e=>{throw new Error(nr(e))}),w),or=(e,t,o)=>tr(er(e,t,o)),nr=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:_("... (only showing first ten failures)")}]):e;return H(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+Dn(e.input),rr=(e,t)=>Xn(e,ce(t,Pn)),ar=(e,t)=>((e,t)=>{const o=Qt(t);return{extract:(e,t)=>o().extract(e,t),toString:()=>o().toString()}})(0,t),sr=yn,ir=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),lr=e=>Qn((t=>I(e,t)?tn.value(t):tn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),cr=e=>sr(e,e,{tag:"required",process:{}},jn()),dr=(e,t)=>sr(e,e,{tag:"required",process:{}},t),ur=e=>dr(e,Wn),hr=e=>dr(e,Zn),pr=(e,t)=>sr(e,e,{tag:"required",process:{}},lr(t)),mr=e=>dr(e,qn),gr=(e,t)=>sr(e,e,{tag:"required",process:{}},Pn(t)),fr=(e,t)=>sr(e,e,{tag:"required",process:{}},Vn(t)),yr=(e,t)=>sr(e,e,{tag:"required",process:{}},Bn(t)),br=e=>sr(e,e,{tag:"option",process:{}},jn()),vr=(e,t)=>sr(e,e,{tag:"option",process:{}},t),_r=e=>vr(e,Wn),wr=e=>vr(e,Zn),kr=(e,t)=>vr(e,lr(t)),xr=e=>vr(e,qn),Sr=(e,t)=>vr(e,Bn(t)),Cr=(e,t)=>vr(e,Pn(t)),Er=(e,t)=>sr(e,e,xn(t),jn()),Dr=(e,t,o)=>sr(e,e,xn(t),o),Ar=(e,t)=>Dr(e,t,Wn),Tr=(e,t)=>Dr(e,t,Zn),Or=(e,t,o)=>Dr(e,t,lr(o)),Mr=(e,t)=>Dr(e,t,$n),zr=(e,t)=>Dr(e,t,qn),Rr=(e,t,o)=>Dr(e,t,Bn(o)),Nr=(e,t,o)=>Dr(e,t,Pn(o)),Ir=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Lr=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],o={};return F(e,((n,r)=>{const a=se(n);if(1!==a.length)throw new Error("one and only one name per case");const s=a[0],i=n[s];if(void 0!==o[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!l(i))throw new Error("case arguments must be an array");t.push(s),o[s]=(...o)=>{const n=o.length;if(n!==i.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+i.length+" ("+i+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,o)},match:e=>{const n=se(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!G(t,(e=>I(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,o)},log:e=>{console.log(e,{constructors:t,constructor:s,params:o})}}}})),o};Lr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Pr=(e,t)=>((e,t)=>{const o={};return le(e,((e,n)=>{I(t,n)||(o[n]=e)})),o})(e,t),Br=(e,t)=>((e,t)=>({[e]:t}))(e,t),Hr=e=>(e=>{const t={};return F(e,(e=>{t[e.key]=e.value})),t})(e),Fr=(e,t)=>{const o=(e=>{const t=[],o=[];return F(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{o.push(e)}))})),{errors:t,values:o}})(e);return o.errors.length>0?(n=o.errors,tn.error(q(n))):((e,t)=>0===e.length?tn.value(t):tn.value(_n(t,wn.apply(void 0,e))))(o.values,t);var n},Vr=e=>m(e)?e:D,jr=(e,t,o)=>{let n=e.dom;const r=Vr(o);for(;n.parentNode;){n=n.parentNode;const e=Ne.fromDom(n),o=t(e);if(o.isSome())return o;if(r(e))break}return T.none()},Ur=(e,t,o)=>{const n=t(e),r=Vr(o);return n.orThunk((()=>r(e)?T.none():jr(e,t,r)))},Wr=(e,t)=>Ke(e.element,t.event.target),Zr={can:A,abort:D,run:y},$r=e=>{if(!ve(e,"can")&&!ve(e,"abort")&&!ve(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Zr,...e}},qr=e=>{const t=((e,t)=>(...o)=>W(e,((e,n)=>e&&t(n).apply(void 0,o)),!0))(e,(e=>e.can)),o=((e,t)=>(...o)=>W(e,((e,n)=>e||t(n).apply(void 0,o)),!1))(e,(e=>e.abort));return{can:t,abort:o,run:(...t)=>{F(e,(e=>{e.run.apply(void 0,t)}))}}},Yr=_,Gr=Yr("touchstart"),Kr=Yr("touchmove"),Xr=Yr("touchend"),Qr=Yr("touchcancel"),Jr=Yr("mousedown"),ea=Yr("mousemove"),ta=Yr("mouseout"),oa=Yr("mouseup"),na=Yr("mouseover"),ra=Yr("focusin"),aa=Yr("focusout"),sa=Yr("keydown"),ia=Yr("keyup"),la=Yr("input"),ca=Yr("change"),da=Yr("click"),ua=Yr("transitioncancel"),ha=Yr("transitionend"),pa=Yr("transitionstart"),ma=Yr("selectstart"),ga=e=>_("alloy."+e),fa={tap:ga("tap")},ya=ga("focus"),ba=ga("blur.post"),va=ga("paste.post"),_a=ga("receive"),wa=ga("execute"),ka=ga("focus.item"),xa=fa.tap,Sa=ga("longpress"),Ca=ga("sandbox.close"),Ea=ga("typeahead.cancel"),Da=ga("system.init"),Aa=ga("system.touchmove"),Ta=ga("system.touchend"),Oa=ga("system.scroll"),Ma=ga("system.resize"),za=ga("system.attached"),Ra=ga("system.detached"),Na=ga("system.dismissRequested"),Ia=ga("system.repositionRequested"),La=ga("focusmanager.shifted"),Pa=ga("slotcontainer.visibility"),Ba=ga("system.external.element.scroll"),Ha=ga("change.tab"),Fa=ga("dismiss.tab"),Va=ga("highlight"),ja=ga("dehighlight"),Ua=(e,t)=>{qa(e,e.element,t,{})},Wa=(e,t,o)=>{qa(e,e.element,t,o)},Za=e=>{Ua(e,wa())},$a=(e,t,o)=>{qa(e,t,o,{})},qa=(e,t,o,n)=>{const r={target:t,...n};e.getSystem().triggerEvent(o,t,r)},Ya=(e,t,o,n)=>{e.getSystem().triggerEvent(o,t,n.event)},Ga=e=>Hr(e),Ka=(e,t)=>({key:e,value:$r({abort:t})}),Xa=e=>({key:e,value:$r({run:(e,t)=>{t.event.prevent()}})}),Qa=(e,t)=>({key:e,value:$r({run:t})}),Ja=(e,t,o)=>({key:e,value:$r({run:(e,n)=>{t.apply(void 0,[e,n].concat(o))}})}),es=e=>t=>({key:e,value:$r({run:(e,o)=>{Wr(e,o)&&t(e,o)}})}),ts=(e,t,o)=>((e,t)=>Qa(e,((o,n)=>{o.getSystem().getByUid(t).each((t=>{Ya(t,t.element,e,n)}))})))(e,t.partUids[o]),os=(e,t)=>Qa(e,((e,o)=>{const n=o.event,r=e.getSystem().getByDom(n.target).getOrThunk((()=>Ur(n.target,(t=>e.getSystem().getByDom(t).toOptional()),D).getOr(e)));t(e,r,o)})),ns=e=>Qa(e,((e,t)=>{t.cut()})),rs=e=>Qa(e,((e,t)=>{t.stop()})),as=(e,t)=>es(e)(t),ss=es(za()),is=es(Ra()),ls=es(Da()),cs=(e=>t=>Qa(e,t))(wa()),ds=e=>e.dom.innerHTML,us=(e,t)=>{const o=Qe(e).dom,n=Ne.fromDom(o.createDocumentFragment()),r=((e,t)=>{const o=(t||document).createElement("div");return o.innerHTML=e,at(Ne.fromDom(o))})(t,o);Lo(n,r),Po(e),Io(e,n)},hs=e=>((e,t)=>Ne.fromDom(e.dom.cloneNode(t)))(e,!1),ps=e=>{if(dt(e))return"#shadow-root";return(e=>{const t=Ne.fromTag("div"),o=Ne.fromDom(e.dom.cloneNode(!0));return Io(t,o),ds(t)})(hs(e))},ms=e=>ps(e),gs=Ga([((e,t)=>({key:e,value:$r({can:t})}))(ya(),((e,t)=>{const o=t.event,n=o.originator,r=o.target;return!((e,t,o)=>Ke(t,e.element)&&!Ke(t,o))(e,n,r)||(console.warn(ya()+" did not get interpreted by the desired target. \nOriginator: "+ms(n)+"\nTarget: "+ms(r)+"\nCheck the "+ya()+" event handlers"),!1)}))]);var fs=Object.freeze({__proto__:null,events:gs});let ys=0;const bs=e=>{const t=(new Date).getTime(),o=Math.floor(1e9*Math.random());return ys++,e+"_"+o+ys+String(t)},vs=_("alloy-id-"),_s=_("data-alloy-id"),ws=vs(),ks=_s(),xs=(e,t)=>{Object.defineProperty(e.dom,ks,{value:t,writable:!0})},Ss=e=>{const t=Ue(e)?e.dom[ks]:null;return T.from(t)},Cs=e=>bs(e),Es=w,Ds=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+ms(e().element)+" is not in context.":""),o=e=>()=>{throw new Error(t(e))},n=e=>()=>{console.warn(t(e))};return{debugInfo:_("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:o("build"),buildOrPatch:o("buildOrPatch"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:D}},As=Ds(),Ts=e=>H(e,(e=>Te(e,"/*")?e.substring(0,e.length-"/*".length):e)),Os=(e,t)=>{const o=e.toString(),n=o.indexOf(")")+1,r=o.indexOf("("),a=o.substring(r+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:Ts(a)}),e},Ms=bs("alloy-premade"),zs=e=>(Object.defineProperty(e.element.dom,Ms,{value:e.uid,writable:!0}),Br(Ms,e)),Rs=e=>ye(e,Ms),Ns=e=>((e,t)=>{const o=t.toString(),n=o.indexOf(")")+1,r=o.indexOf("("),a=o.substring(r+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Ts(a.slice(1))}),e})(((t,...o)=>e(t.getApis(),t,...o)),e),Is={init:()=>Ls({readState:_("No State required")})},Ls=e=>e,Ps=(e,t)=>{const o={};return le(e,((e,n)=>{le(e,((e,r)=>{const a=ye(o,r).getOr([]);o[r]=a.concat([t(n,e)])}))})),o},Bs=e=>({classes:u(e.classes)?[]:e.classes,attributes:u(e.attributes)?{}:e.attributes,styles:u(e.styles)?{}:e.styles}),Hs=e=>e.cHandler,Fs=(e,t)=>({name:e,handler:t}),Vs=(e,t)=>{const o={};return F(e,(e=>{o[e.name()]=e.handlers(t)})),o},js=(e,t,o,n)=>{const r=((e,t,o)=>{const n={...o,...Vs(t,e)};return Ps(n,Fs)})(e,o,n);return Zs(r,t)},Us=e=>{const t=(e=>m(e)?{can:A,abort:D,run:e}:e)(e);return(e,o,...n)=>{const r=[e,o].concat(n);t.abort.apply(void 0,r)?o.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}},Ws=(e,t,o)=>{const n=t[o];return n?((e,t,o,n)=>{try{const r=ee(o,((o,r)=>{const a=o[t],s=r[t],i=n.indexOf(a),l=n.indexOf(s);if(-1===i)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(n,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+s+".\nOrder specified: "+JSON.stringify(n,null,2));return i<l?-1:l<i?1:0}));return tn.value(r)}catch(e){return tn.error([e])}})("Event: "+o,"name",e,n).map((e=>{const t=H(e,(e=>e.handler));return qr(t)})):((e,t)=>tn.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(H(t,(e=>e.name)),null,2)]))(o,e)},Zs=(e,t)=>{const o=me(e,((e,o)=>(1===e.length?tn.value(e[0].handler):Ws(e,t,o)).map((n=>{const r=Us(n),a=e.length>1?j(t[o],(t=>L(e,(e=>e.name===t)))).join(" > "):e[0].name;return Br(o,((e,t)=>({handler:e,purpose:t}))(r,a))}))));return Fr(o,{})},$s="alloy.base.behaviour",qs=Pn([sr("dom","dom",{tag:"required",process:{}},Pn([cr("tag"),Er("styles",{}),Er("classes",[]),Er("attributes",{}),br("value"),br("innerHtml")])),cr("components"),cr("uid"),Er("events",{}),Er("apis",{}),sr("eventOrder","eventOrder",(e=>Sn(_(e)))({[wa()]:["disabling",$s,"toggling","typeaheadevents"],[ya()]:[$s,"focusing","keying"],[Da()]:[$s,"disabling","toggling","representing"],[la()]:[$s,"representing","streaming","invalidating"],[Ra()]:[$s,"representing","item-events","tooltipping"],[Jr()]:["focusing",$s,"item-type-events"],[Gr()]:["focusing",$s,"item-type-events"],[na()]:["item-type-events","tooltipping"],[_a()]:["receiving","reflecting","tooltipping"]}),jn()),br("domModification")]),Ys=e=>e.events,Gs=(e,t)=>{const o=St(e,t);return void 0===o||""===o?[]:o.split(" ")},Ks=e=>void 0!==e.dom.classList,Xs=e=>Gs(e,"class"),Qs=(e,t)=>((e,t,o)=>{const n=Gs(e,t).concat([o]);return kt(e,t,n.join(" ")),!0})(e,"class",t),Js=(e,t)=>((e,t,o)=>{const n=j(Gs(e,t),(e=>e!==o));return n.length>0?kt(e,t,n.join(" ")):Dt(e,t),!1})(e,"class",t),ei=(e,t)=>{Ks(e)?e.dom.classList.add(t):Qs(e,t)},ti=(e,t)=>{if(Ks(e)){e.dom.classList.remove(t)}else Js(e,t);(e=>{0===(Ks(e)?e.dom.classList:Xs(e)).length&&Dt(e,"class")})(e)},oi=(e,t)=>Ks(e)&&e.dom.classList.contains(t),ni=(e,t)=>{F(t,(t=>{ei(e,t)}))},ri=(e,t)=>{F(t,(t=>{ti(e,t)}))},ai=(e,t)=>G(t,(t=>oi(e,t))),si=e=>Ks(e)?(e=>{const t=e.dom.classList,o=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);null!==n&&(o[e]=n)}return o})(e):Xs(e),ii=e=>e.dom.value,li=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},ci=(e,t,o)=>{o.fold((()=>Io(e,t)),(e=>{Ke(e,t)||(zo(e,t),Bo(e))}))},di=(e,t,o)=>{const n=H(t,o),r=at(e);return F(r.slice(n.length),Bo),n},ui=(e,t,o,n)=>{const r=st(e,t),a=n(o,r),s=((e,t,o)=>st(e,t).map((e=>{if(o.exists((t=>!Ke(t,e)))){const t=o.map(Fe).getOr("span"),n=Ne.fromTag(t);return zo(e,n),n}return e})))(e,t,r);return ci(e,a.element,s),a},hi=(e,t)=>{const o=se(e),n=se(t),r=X(n,o),a=((e,t)=>{const o={},n={};return he(e,t,ue(o),ue(n)),{t:o,f:n}})(e,((e,o)=>!be(t,o)||e!==t[o])).t;return{toRemove:r,toSet:a}},pi=(e,t)=>{const{class:o,style:n,...r}=(e=>W(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:a,toRemove:s}=hi(e.attributes,r),i=Lt(t),{toSet:l,toRemove:c}=hi(e.styles,i),d=si(t),u=X(d,e.classes),h=X(e.classes,d);return F(s,(e=>Dt(t,e))),xt(t,a),ni(t,h),ri(t,u),F(c,(e=>Bt(t,e))),Mt(t,l),e.innerHtml.fold((()=>{const o=e.domChildren;((e,t)=>{di(e,t,((t,o)=>{const n=st(e,o);return ci(e,t,n),t}))})(t,o)}),(e=>{us(t,e)})),(()=>{const o=t,n=e.value.getOrUndefined();n!==ii(o)&&li(o,null!=n?n:"")})(),t},mi=(e,t)=>{const o=t.filter((t=>Fe(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>be(e.dom,Ms))(t))).bind((t=>((e,t)=>{try{const o=pi(e,t);return T.some(o)}catch(e){return T.none()}})(e,t))).getOrThunk((()=>(e=>{const t=Ne.fromTag(e.tag);xt(t,e.attributes),ni(t,e.classes),Mt(t,e.styles),e.innerHtml.each((e=>us(t,e)));const o=e.domChildren;return Lo(t,o),e.value.each((e=>{li(t,e)})),t})(e)));return xs(o,e.uid),o},gi=(e,t)=>((e,t)=>{const o=H(t,(e=>Cr(e.name(),[cr("config"),Er("state",Is)]))),n=er("component.behaviours",Pn(o),e.behaviours).fold((t=>{throw new Error(nr(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),w);return{list:t,data:ce(n,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return _(t)}))}})(e,t),fi=e=>{const t=(e=>{const t=ye(e,"behaviours").getOr({});return Y(se(t),(e=>{const o=t[e];return p(o)?[o.me]:[]}))})(e);return gi(e,t)},yi=(e,t,o)=>{const n={...(r=e).dom,uid:r.uid,domChildren:H(r.components,(e=>e.element))};var r;const a=(e=>e.domModification.fold((()=>Bs({})),Bs))(e),s={"alloy.base.modification":a},i=t.length>0?((e,t,o,n)=>{const r={...t};F(o,(t=>{r[t.name()]=t.exhibit(e,n)}));const a=Ps(r,((e,t)=>({name:e,modification:t}))),s=e=>U(e,((e,t)=>({...t.modification,...e})),{}),i=U(a.classes,((e,t)=>t.modification.concat(e)),[]),l=s(a.attributes),c=s(a.styles);return Bs({classes:i,attributes:l,styles:c})})(o,s,t,n):a;return l=n,c=i,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c},bi=(e,t)=>{const o=()=>h,n=Ir(As),r=tr((e=>er("custom.definition",qs,e))(e)),a=fi(e),s=(e=>e.list)(a),i=(e=>e.data)(a),l=yi(r,s,i),c=mi(l,t),d=((e,t,o)=>{const n={"alloy.base.behaviour":Ys(e)};return js(o,e.eventOrder,t,n).getOrDie()})(r,s,i),u=Ir(r.components),h={uid:e.uid,getSystem:n.get,config:t=>{const o=i;return(m(o[t.name()])?o[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>m(i[e.name()]),spec:e,readState:e=>i[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>r.apis,connect:e=>{n.set(e)},disconnect:()=>{n.set(Ds(o))},element:c,syncComponents:()=>{const e=at(c),t=Y(e,(e=>n.get().getByDom(e).fold((()=>[]),J)));u.set(t)},components:u.get,events:d};return h},vi=(e,t)=>{const{events:o,...n}=Es(e),r=((e,t)=>{const o=ye(e,"components").getOr([]);return t.fold((()=>H(o,Si)),(e=>H(o,((t,o)=>xi(t,st(e,o))))))})(n,t),a={...n,events:{...fs,...o},components:r};return tn.value(bi(a,t))},_i=e=>{const t=Ne.fromText(e);return wi({element:t})},wi=e=>{const t=or("external.component",Ln([cr("element"),br("uid")]),e),o=Ir(Ds()),n=t.uid.getOrThunk((()=>Cs("external")));xs(t.element,n);const r={uid:n,getSystem:o.get,config:T.none,hasConfigured:D,connect:e=>{o.set(e)},disconnect:()=>{o.set(Ds((()=>r)))},getApis:()=>({}),element:t.element,spec:e,readState:_("No state"),syncComponents:y,components:_([]),events:{}};return zs(r)},ki=Cs,xi=(e,t)=>Rs(e).getOrThunk((()=>{const o=(e=>be(e,"uid"))(e)?e:{uid:ki(""),...e};return vi(o,t).getOrDie()})),Si=e=>xi(e,T.none()),Ci=zs;var Ei=(e,t,o,n,r)=>e(o,n)?T.some(o):m(r)&&r(o)?T.none():t(o,n,r);const Di=(e,t,o)=>{let n=e.dom;const r=m(o)?o:D;for(;n.parentNode;){n=n.parentNode;const e=Ne.fromDom(n);if(t(e))return T.some(e);if(r(e))break}return T.none()},Ai=(e,t,o)=>Ei(((e,t)=>t(e)),Di,e,t,o),Ti=(e,t,o)=>Ai(e,t,o).isSome(),Oi=(e,t,o)=>Di(e,(e=>Ye(e,t)),o),Mi=(e,t)=>((e,t)=>Z(e.dom.childNodes,(e=>t(Ne.fromDom(e)))).map(Ne.fromDom))(e,(e=>Ye(e,t))),zi=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return Ge(o)?T.none():T.from(o.querySelector(e)).map(Ne.fromDom)})(t,e),Ri=(e,t,o)=>Ei(((e,t)=>Ye(e,t)),Oi,e,t,o),Ni="aria-controls",Ii=()=>{const e=bs(Ni);return{id:e,link:t=>{kt(t,Ni,e)},unlink:e=>{Dt(e,Ni)}}},Li=(e,t)=>(e=>Ai(e,(e=>{if(!Ue(e))return!1;const t=St(e,"id");return void 0!==t&&t.indexOf(Ni)>-1})).bind((e=>{const t=St(e,"id"),o=pt(e);return zi(o,`[${Ni}="${t}"]`)})))(t).exists((t=>Pi(e,t))),Pi=(e,t)=>Ti(t,(t=>Ke(t,e.element)),D)||Li(e,t),Bi="unknown";var Hi;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(Hi||(Hi={}));const Fi=Ir({}),Vi=(e,t,o)=>{switch(ye(Fi.get(),e).orThunk((()=>{const t=se(Fi.get());return ae(t,(t=>e.indexOf(t)>-1?T.some(Fi.get()[t]):T.none()))})).getOr(Hi.NORMAL)){case Hi.NORMAL:return o(Wi());case Hi.LOGGING:{const n=((e,t)=>{const o=[],n=(new Date).getTime();return{logEventCut:(e,t,n)=>{o.push({outcome:"cut",target:t,purpose:n})},logEventStopped:(e,t,n)=>{o.push({outcome:"stopped",target:t,purpose:n})},logNoParent:(e,t,n)=>{o.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:(e,t)=>{o.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,n)=>{o.push({outcome:"response",purpose:n,target:t})},write:()=>{const r=(new Date).getTime();I(["mousemove","mouseover","mouseout",Da()],e)||console.log(e,{event:e,time:r-n,target:t.dom,sequence:H(o,(e=>I(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+ms(e.target)+")":e.outcome))})}}})(e,t),r=o(n);return n.write(),r}case Hi.STOP:return!0}},ji=["alloy/data/Fields","alloy/debugging/Debugging"],Ui=(e,t,o)=>Vi(e,t,o),Wi=_({logEventCut:y,logEventStopped:y,logNoParent:y,logEventNoHandlers:y,logEventResponse:y,write:y}),Zi=_([cr("menu"),cr("selectedMenu")]),$i=_([cr("item"),cr("selectedItem")]);_(Pn($i().concat(Zi())));const qi=_(Pn($i())),Yi=gr("initSize",[cr("numColumns"),cr("numRows")]),Gi=()=>gr("markers",[cr("backgroundMenu")].concat(Zi()).concat($i())),Ki=e=>gr("markers",H(e,cr)),Xi=(e,t,o)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");return Z(t,(e=>e.indexOf("alloy")>0&&!L(ji,(t=>e.indexOf(t)>-1)))).getOr(Bi)}})(),sr(t,t,o,Qn((e=>tn.value(((...t)=>e.apply(void 0,t))))))),Qi=e=>Xi(0,e,xn(y)),Ji=e=>Xi(0,e,xn(T.none)),el=e=>Xi(0,e,{tag:"required",process:{}}),tl=e=>Xi(0,e,{tag:"required",process:{}}),ol=(e,t)=>ir(e,_(t)),nl=e=>ir(e,w),rl=_(Yi),al=(e,t,o,n,r,a,s,i=!1)=>({x:e,y:t,bubble:o,direction:n,placement:r,restriction:a,label:`${s}-${r}`,alwaysFit:i}),sl=Lr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),il=sl.southeast,ll=sl.southwest,cl=sl.northeast,dl=sl.northwest,ul=sl.south,hl=sl.north,pl=sl.east,ml=sl.west,gl=(e,t,o,n)=>{const r=e+t;return r>n?o:r<o?n:r},fl=(e,t,o)=>Math.min(Math.max(e,t),o),yl=(e,t)=>Q(["left","right","top","bottom"],(o=>ye(t,o).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),bl="layout",vl=e=>e.x,_l=(e,t)=>e.x+e.width/2-t.width/2,wl=(e,t)=>e.x+e.width-t.width,kl=(e,t)=>e.y-t.height,xl=e=>e.y+e.height,Sl=(e,t)=>e.y+e.height/2-t.height/2,Cl=(e,t,o)=>al(vl(e),xl(e),o.southeast(),il(),"southeast",yl(e,{left:1,top:3}),bl),El=(e,t,o)=>al(wl(e,t),xl(e),o.southwest(),ll(),"southwest",yl(e,{right:0,top:3}),bl),Dl=(e,t,o)=>al(vl(e),kl(e,t),o.northeast(),cl(),"northeast",yl(e,{left:1,bottom:2}),bl),Al=(e,t,o)=>al(wl(e,t),kl(e,t),o.northwest(),dl(),"northwest",yl(e,{right:0,bottom:2}),bl),Tl=(e,t,o)=>al(_l(e,t),kl(e,t),o.north(),hl(),"north",yl(e,{bottom:2}),bl),Ol=(e,t,o)=>al(_l(e,t),xl(e),o.south(),ul(),"south",yl(e,{top:3}),bl),Ml=(e,t,o)=>al((e=>e.x+e.width)(e),Sl(e,t),o.east(),pl(),"east",yl(e,{left:0}),bl),zl=(e,t,o)=>al(((e,t)=>e.x-t.width)(e,t),Sl(e,t),o.west(),ml(),"west",yl(e,{right:1}),bl),Rl=()=>[Cl,El,Dl,Al,Ol,Tl,Ml,zl],Nl=()=>[El,Cl,Al,Dl,Ol,Tl,Ml,zl],Il=()=>[Dl,Al,Cl,El,Tl,Ol],Ll=()=>[Al,Dl,El,Cl,Tl,Ol],Pl=()=>[Cl,El,Dl,Al,Ol,Tl],Bl=()=>[El,Cl,Al,Dl,Ol,Tl];var Hl=Object.freeze({__proto__:null,events:e=>Ga([Qa(_a(),((t,o)=>{const n=e.channels,r=se(n),a=o,s=((e,t)=>t.universal?e:j(e,(e=>I(t.channels,e))))(r,a);F(s,(e=>{const o=n[e],r=o.schema,s=or("channel["+e+"] data\nReceiver: "+ms(t.element),r,a.data);o.onReceive(t,s)}))}))])}),Fl=[dr("channels",Jn(tn.value,Ln([el("onReceive"),Er("schema",jn())])))];const Vl=(e,t,o)=>ls(((n,r)=>{o(n,e,t)})),jl=(e,t,o)=>((e,t,o)=>{const n=o.toString(),r=n.indexOf(")")+1,a=n.indexOf("("),s=n.substring(a+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:Ts(s.slice(0,1).concat(s.slice(3)))}),e})(((n,...r)=>{const a=[n].concat(r);return n.config({name:_(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+o)}),(e=>{const o=Array.prototype.slice.call(a,1);return t.apply(void 0,[n,e.config,e.state].concat(o))}))}),o,t),Ul=e=>({key:e,value:void 0}),Wl=(e,t,o,n,r,a,s)=>{const i=e=>ve(e,o)?e[o]():T.none(),l=ce(r,((e,t)=>jl(o,e,t))),c={...ce(a,((e,t)=>Os(e,t))),...l,revoke:x(Ul,o),config:t=>{const n=or(o+"-config",e,t);return{key:o,value:{config:n,me:c,configAsRaw:Qt((()=>or(o+"-config",e,t))),initialConfig:t,state:s}}},schema:_(t),exhibit:(e,t)=>ke(i(e),ye(n,"exhibit"),((e,o)=>o(t,e.config,e.state))).getOrThunk((()=>Bs({}))),name:_(o),handlers:e=>i(e).map((e=>ye(n,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},Zl=e=>Hr(e),$l=Ln([cr("fields"),cr("name"),Er("active",{}),Er("apis",{}),Er("state",Is),Er("extra",{})]),ql=e=>{const t=or("Creating behaviour: "+e.name,$l,e);return((e,t,o,n,r,a)=>{const s=Ln(e),i=Cr(t,[(l="config",c=e,vr(l,Ln(c)))]);var l,c;return Wl(s,i,t,o,n,r,a)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Yl=Ln([cr("branchKey"),cr("branches"),cr("name"),Er("active",{}),Er("apis",{}),Er("state",Is),Er("extra",{})]),Gl=e=>{const t=or("Creating behaviour: "+e.name,Yl,e);return((e,t,o,n,r,a)=>{const s=e,i=Cr(t,[vr("config",e)]);return Wl(s,i,t,o,n,r,a)})(rr(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Kl=_(void 0),Xl=ql({fields:Fl,name:"receiving",active:Hl});var Ql=Object.freeze({__proto__:null,exhibit:(e,t)=>Bs({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Jl=e=>e.dom.focus(),ec=e=>e.dom.blur(),tc=e=>{const t=pt(e).dom;return e.dom===t.activeElement},oc=(e=Uo())=>T.from(e.dom.activeElement).map(Ne.fromDom),nc=e=>oc(pt(e)).filter((t=>e.dom.contains(t.dom))),rc=(e,t)=>{const o=pt(t),n=oc(o).bind((e=>{const o=t=>Ke(e,t);return o(t)?T.some(t):((e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const r=Ne.fromDom(e.childNodes[n]);if(t(r))return T.some(r);const a=o(e.childNodes[n]);if(a.isSome())return a}return T.none()};return o(e.dom)})(t,o)})),r=e(t);return n.each((e=>{oc(o).filter((t=>Ke(t,e))).fold((()=>{Jl(e)}),y)})),r},ac=(e,t,o,n,r)=>{const a=e=>e+"px";return{position:e,left:t.map(a),top:o.map(a),right:n.map(a),bottom:r.map(a)}},sc=(e,t)=>{zt(e,(e=>({...e,position:T.some(e.position)}))(t))},ic=Lr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),lc=(e,t,o,n,r,a)=>{const s=t.rect,i=s.x-o,l=s.y-n,c=r-(i+s.width),d=a-(l+s.height),u=T.some(i),h=T.some(l),p=T.some(c),m=T.some(d),g=T.none();return((e,t,o,n,r,a,s,i,l)=>e.fold(t,o,n,r,a,s,i,l))(t.direction,(()=>ac(e,u,h,g,g)),(()=>ac(e,g,h,p,g)),(()=>ac(e,u,g,g,m)),(()=>ac(e,g,g,p,m)),(()=>ac(e,u,h,g,g)),(()=>ac(e,u,g,g,m)),(()=>ac(e,u,h,g,g)),(()=>ac(e,g,h,p,g)))},cc=(e,t)=>e.fold((()=>{const e=t.rect;return ac("absolute",T.some(e.x),T.some(e.y),T.none(),T.none())}),((e,o,n,r)=>lc("absolute",t,e,o,n,r)),((e,o,n,r)=>lc("fixed",t,e,o,n,r))),dc=(e,t)=>{const o=x($o,t),n=e.fold(o,o,(()=>{const e=Ho();return $o(t).translate(-e.left,-e.top)})),r=Xt(t),a=Ut(t);return qo(n.left,n.top,r,a)},uc=(e,t)=>t.fold((()=>e.fold(Xo,Xo,qo)),(t=>e.fold(_(t),_(t),(()=>{const o=hc(e,t.x,t.y);return qo(o.left,o.top,t.width,t.height)})))),hc=(e,t,o)=>{const n=Zt(t,o);return e.fold(_(n),_(n),(()=>{const e=Ho();return n.translate(-e.left,-e.top)}))};ic.none;const pc=ic.relative,mc=ic.fixed,gc=(e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t),fc="data-alloy-placement",yc=e=>Ct(e,fc),bc=Lr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),vc=(e,t,o,n)=>{const r=e.bubble,a=r.offset,s=((e,t,o)=>{const n=(n,r)=>t[n].map((t=>{const a="top"===n||"bottom"===n,s=a?o.top:o.left,i=("left"===n||"top"===n?Math.max:Math.min)(t,r)+s;return a?fl(i,e.y,e.bottom):fl(i,e.x,e.right)})).getOr(r),r=n("left",e.x),a=n("top",e.y),s=n("right",e.right),i=n("bottom",e.bottom);return qo(r,a,s-r,i-a)})(n,e.restriction,a),i=e.x+a.left,l=e.y+a.top,c=qo(i,l,t,o),{originInBounds:d,sizeInBounds:u,visibleW:h,visibleH:p}=((e,t)=>{const{x:o,y:n,right:r,bottom:a}=t,{x:s,y:i,right:l,bottom:c,width:d,height:u}=e;return{originInBounds:s>=o&&s<=r&&i>=n&&i<=a,sizeInBounds:l<=r&&l>=o&&c<=a&&c>=n,visibleW:Math.min(d,s>=o?r-s:l-o),visibleH:Math.min(u,i>=n?a-i:c-n)}})(c,s),m=d&&u,g=m?c:((e,t)=>{const{x:o,y:n,right:r,bottom:a}=t,{x:s,y:i,width:l,height:c}=e,d=Math.max(o,r-l),u=Math.max(n,a-c),h=fl(s,o,d),p=fl(i,n,u),m=Math.min(h+l,r)-h,g=Math.min(p+c,a)-p;return qo(h,p,m,g)})(c,s),f=g.width>0&&g.height>0,{maxWidth:y,maxHeight:b}=((e,t,o)=>{const n=_(t.bottom-o.y),r=_(o.bottom-t.y),a=((e,t,o,n)=>e.fold(t,t,n,n,t,n,o,o))(e,r,r,n),s=_(t.right-o.x),i=_(o.right-t.x),l=((e,t,o,n)=>e.fold(t,n,t,n,o,o,t,n))(e,i,i,s);return{maxWidth:l,maxHeight:a}})(e.direction,g,n),v={rect:g,maxHeight:b,maxWidth:y,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:l};return m||e.alwaysFit?bc.fit(v):bc.nofit(v,h,p,f)},_c=e=>{const t=Ir(T.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(T.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(T.some(e))}}},wc=()=>_c((e=>e.unbind())),kc=()=>{const e=_c(y);return{...e,on:t=>e.get().each(t)}},xc=A,Sc=(e,t,o)=>((e,t,o,n)=>Oo(e,t,o,n,!1))(e,t,xc,o),Cc=(e,t,o)=>((e,t,o,n)=>Oo(e,t,o,n,!0))(e,t,xc,o),Ec=To,Dc=["top","bottom","right","left"],Ac="data-alloy-transition-timer",Tc=(e,t)=>{const o=e=>parseFloat(e).toFixed(3);return ge(t,((t,n)=>!((e,t,o=k)=>ke(e,t,o).getOr(e.isNone()&&t.isNone()))(e[n].map(o),t.map(o)))).isSome()},Oc=(e,t)=>{const o=wc(),n=wc();let r;const s=t=>{var o;const n=null!==(o=t.raw.pseudoElement)&&void 0!==o?o:"";return Ke(t.target,e)&&!Me(n)&&I(Dc,t.raw.propertyName)},i=a=>{if(h(a)||s(a)){o.clear(),n.clear();const s=null==a?void 0:a.raw.type;(h(s)||s===ha())&&(clearTimeout(r),Dt(e,Ac),ri(e,t.classes))}},l=Sc(e,pa(),(t=>{s(t)&&(l.unbind(),o.set(Sc(e,ha(),i)),n.set(Sc(e,ua(),i)))})),c=(e=>{const t=t=>{const o=Rt(e,t).split(/\s*,\s*/);return j(o,Me)},o=e=>{if(a(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Te(e,"ms")?t:1e3*t}return 0},n=t("transition-delay"),r=t("transition-duration");return W(r,((e,t,r)=>{const a=o(n[r])+o(t);return Math.max(e,a)}),0)})(e);requestAnimationFrame((()=>{r=setTimeout(i,c+17),kt(e,Ac,r)}))},Mc=(e,t,o,n,r,a)=>{const s=((e,t,o)=>o.exists((o=>{const n=e.mode;return"all"===n||o[n]!==t[n]})))(n,r,a);if(s||((e,t)=>ai(e,t.classes))(e,n)){Ot(e,"position",o.position);const a=dc(t,e),i=cc(t,{...r,rect:a}),l=Q(Dc,(e=>i[e]));Tc(o,l)&&(zt(e,l),s&&((e,t)=>{ni(e,t.classes),Ct(e,Ac).each((t=>{clearTimeout(parseInt(t,10)),Dt(e,Ac)})),Oc(e,t)})(e,n),Ht(e))}else ri(e,n.classes)},zc=(e,t,o,n)=>{Bt(t,"max-height"),Bt(t,"max-width");const r={width:Xt(a=t),height:Ut(a)};var a;return((e,t,o,n,r,a)=>{const s=n.width,i=n.height,l=(t,l,c,d,u)=>{const h=t(o,n,r,e,a),p=vc(h,s,i,a);return p.fold(_(p),((e,t,o,n)=>(u===n?o>d||t>c:!u&&n)?p:bc.nofit(l,c,d,u)))},c=W(t,((e,t)=>{const o=x(l,t);return e.fold(_(e),o)}),bc.nofit({rect:o,maxHeight:n.height,maxWidth:n.width,direction:il(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return c.fold(w,w)})(t,n.preference,e,r,o,n.bounds)},Rc=(e,t)=>{((e,t)=>{kt(e,fc,t)})(e,t.placement)},Nc=(e,t)=>{((e,t)=>{const o=Vt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ot(e,"max-height",o+"px")})(e,Math.floor(t))},Ic=_(((e,t)=>{Nc(e,t),Mt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Lc=_(((e,t)=>{Nc(e,t)})),Pc=(e,t,o)=>void 0===e[t]?o:e[t],Bc=(e,t,o,n)=>{const r=zc(e,t,o,n);return((e,t,o)=>{const n=cc(o.origin,t);o.transition.each((r=>{Mc(e,o.origin,n,r,t,o.lastPlacement)})),sc(e,n)})(t,r,n),Rc(t,r),((e,t)=>{const o=t.classes;ri(e,o.off),ni(e,o.on)})(t,r),((e,t,o)=>{(0,o.maxHeightFunction)(e,t.maxHeight)})(t,r,n),((e,t,o)=>{(0,o.maxWidthFunction)(e,t.maxWidth)})(t,r,n),{layout:r.layout,placement:r.placement}},Hc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Fc=(e,t,o,n=1)=>{const r=e*n,a=t*n,s=e=>ye(o,e).getOr([]),i=(e,t,o)=>{const n=X(Hc,o);return{offset:Zt(e,t),classesOn:Y(o,s),classesOff:Y(n,s)}};return{southeast:()=>i(-e,t,["top","alignLeft"]),southwest:()=>i(e,t,["top","alignRight"]),south:()=>i(-e/2,t,["top","alignCentre"]),northeast:()=>i(-e,-t,["bottom","alignLeft"]),northwest:()=>i(e,-t,["bottom","alignRight"]),north:()=>i(-e/2,-t,["bottom","alignCentre"]),east:()=>i(e,-t/2,["valignCentre","left"]),west:()=>i(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>i(r,a,["top","alignLeft","inset"]),insetNorthwest:()=>i(-r,a,["top","alignRight","inset"]),insetNorth:()=>i(-r/2,a,["top","alignCentre","inset"]),insetSoutheast:()=>i(r,-a,["bottom","alignLeft","inset"]),insetSouthwest:()=>i(-r,-a,["bottom","alignRight","inset"]),insetSouth:()=>i(-r/2,-a,["bottom","alignCentre","inset"]),insetEast:()=>i(-r,-a/2,["valignCentre","right","inset"]),insetWest:()=>i(r,-a/2,["valignCentre","left","inset"])}},Vc=()=>Fc(0,0,{}),jc=w,Uc=(e,t)=>o=>"rtl"===Wc(o)?t:e,Wc=e=>"rtl"===Rt(e,"direction")?"rtl":"ltr";var Zc;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Zc||(Zc={}));const $c="data-alloy-vertical-dir",qc=e=>Ti(e,(e=>Ue(e)&&St(e,"data-alloy-vertical-dir")===Zc.BottomToTop)),Yc=()=>Cr("layouts",[cr("onLtr"),cr("onRtl"),br("onBottomLtr"),br("onBottomRtl")]),Gc=(e,t,o,n,r,a,s)=>{const i=s.map(qc).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),d=i?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(r):l.getOr(o),u=i?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(a):c.getOr(n);return Uc(d,u)(e)};var Kc=[cr("hotspot"),br("bubble"),Er("overrides",{}),Yc(),ol("placement",((e,t,o)=>{const n=t.hotspot,r=dc(o,n.element),a=Gc(e.element,t,Pl(),Bl(),Il(),Ll(),T.some(t.hotspot.element));return T.some(jc({anchorBox:r,bubble:t.bubble.getOr(Vc()),overrides:t.overrides,layouts:a}))}))];var Xc=[cr("x"),cr("y"),Er("height",0),Er("width",0),Er("bubble",Vc()),Er("overrides",{}),Yc(),ol("placement",((e,t,o)=>{const n=hc(o,t.x,t.y),r=qo(n.left,n.top,t.width,t.height),a=Gc(e.element,t,Rl(),Nl(),Rl(),Nl(),T.none());return T.some(jc({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:a}))}))];const Qc=Lr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Jc=e=>e.fold(w,((e,t,o)=>e.translate(-t,-o))),ed=e=>e.fold(w,w),td=e=>W(e,((e,t)=>e.translate(t.left,t.top)),Zt(0,0)),od=e=>{const t=H(e,ed);return td(t)},nd=Qc.screen,rd=Qc.absolute,ad=(e,t,o)=>{const n=Qe(e.element),r=Ho(n),a=((e,t,o)=>{const n=tt(o.root).dom;return T.from(n.frameElement).map(Ne.fromDom).filter((t=>{const o=Qe(t),n=Qe(e.element);return Ke(o,n)})).map(qt)})(e,0,o).getOr(r);return rd(a,r.left,r.top)},sd=(e,t,o,n)=>{const r=nd(Zt(e,t));return T.some(((e,t,o)=>({point:e,width:t,height:o}))(r,o,n))},id=(e,t,o,n,r)=>e.map((e=>{const a=[t,e.point],s=(i=()=>od(a),l=()=>od(a),c=()=>(e=>{const t=H(e,Jc);return td(t)})(a),n.fold(i,l,c));var i,l,c;const d=((e,t,o,n)=>({x:e,y:t,width:o,height:n}))(s.left,s.top,e.width,e.height),u=o.showAbove?Il():Pl(),h=o.showAbove?Ll():Bl(),p=Gc(r,o,u,h,u,h,T.none());return jc({anchorBox:d,bubble:o.bubble.getOr(Vc()),overrides:o.overrides,layouts:p})}));var ld=[cr("node"),cr("root"),br("bubble"),Yc(),Er("overrides",{}),Er("showAbove",!1),ol("placement",((e,t,o)=>{const n=ad(e,0,t);return t.node.filter(bt).bind((r=>{const a=r.dom.getBoundingClientRect(),s=sd(a.left,a.top,a.width,a.height),i=t.node.getOr(e.element);return id(s,n,t,o,i)}))}))];const cd=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n}),dd=Lr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ud=(dd.before,dd.on,dd.after,e=>e.fold(w,w,w)),hd=Lr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pd={domRange:hd.domRange,relative:hd.relative,exact:hd.exact,exactFromRange:e=>hd.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Ne.fromDom(e.startContainer),relative:(e,t)=>ud(e),exact:(e,t,o,n)=>e}))(e);return tt(t)},range:cd},md=(e,t,o)=>{const n=e.document.createRange();var r;return r=n,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))})(n,o),n},gd=(e,t,o,n,r)=>{const a=e.document.createRange();return a.setStart(t.dom,o),a.setEnd(n.dom,r),a},fd=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),yd=Lr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bd=(e,t,o)=>t(Ne.fromDom(o.startContainer),o.startOffset,Ne.fromDom(o.endContainer),o.endOffset),vd=(e,t)=>{const o=((e,t)=>t.match({domRange:e=>({ltr:_(e),rtl:T.none}),relative:(t,o)=>({ltr:Qt((()=>md(e,t,o))),rtl:Qt((()=>T.some(md(e,o,t))))}),exact:(t,o,n,r)=>({ltr:Qt((()=>gd(e,t,o,n,r))),rtl:Qt((()=>T.some(gd(e,n,r,t,o))))})}))(e,t);return((e,t)=>{const o=t.ltr();if(o.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>yd.rtl(Ne.fromDom(e.endContainer),e.endOffset,Ne.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>bd(0,yd.ltr,o)));return bd(0,yd.ltr,o)})(0,o)},_d=(e,t)=>vd(e,t).match({ltr:(t,o,n,r)=>{const a=e.document.createRange();return a.setStart(t.dom,o),a.setEnd(n.dom,r),a},rtl:(t,o,n,r)=>{const a=e.document.createRange();return a.setStart(n.dom,r),a.setEnd(t.dom,o),a}});yd.ltr,yd.rtl;const wd=(e,t,o)=>j(((e,t)=>{const o=m(t)?t:D;let n=e.dom;const r=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=Ne.fromDom(e);if(r.push(t),!0===o(t))break;n=e}return r})(e,o),t),kd=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return Ge(o)?[]:H(o.querySelectorAll(e),Ne.fromDom)})(t,e),xd=(e,t,o,n)=>{const r=((e,t,o,n)=>{const r=Qe(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(o.dom,n),r})(e,t,o,n),a=Ke(e,o)&&t===n;return r.collapsed&&!a},Sd=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),o=e.getRangeAt(e.rangeCount-1);return T.some(cd(Ne.fromDom(t.startContainer),t.startOffset,Ne.fromDom(o.endContainer),o.endOffset))}return T.none()},Cd=e=>{if(null===e.anchorNode||null===e.focusNode)return Sd(e);{const t=Ne.fromDom(e.anchorNode),o=Ne.fromDom(e.focusNode);return xd(t,e.anchorOffset,o,e.focusOffset)?T.some(cd(t,e.anchorOffset,o,e.focusOffset)):Sd(e)}},Ed=e=>(e=>T.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(Cd),Dd=(e,t)=>(e=>{const t=e.getClientRects(),o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?T.some(o).map(fd):T.none()})(_d(e,t)),Ad=(e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?T.some(t).map(fd):T.none()})(_d(e,t)),Td=((e,t)=>{const o=t=>e(t)?T.from(t.dom.nodeValue):T.none();return{get:n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},getOption:o,set:(o,n)=>{if(!e(o))throw new Error("Can only set raw "+t+" value of a "+t+" node");o.dom.nodeValue=n}}})(We,"text"),Od=(e,t)=>({element:e,offset:t}),Md=(e,t)=>{const o=at(e);if(0===o.length)return Od(e,t);if(t<o.length)return Od(o[t],0);{const e=o[o.length-1],t=We(e)?(e=>Td.get(e))(e).length:at(e).length;return Od(e,t)}},zd=(e,t)=>We(e)?Od(e,t):Md(e,t),Rd=(e,t)=>t.getSelection.getOrThunk((()=>()=>Ed(e)))().map((e=>{const t=zd(e.start,e.soffset),o=zd(e.finish,e.foffset);return pd.range(t.element,t.offset,o.element,o.offset)}));var Nd=[br("getSelection"),cr("root"),br("bubble"),Yc(),Er("overrides",{}),Er("showAbove",!1),ol("placement",((e,t,o)=>{const n=tt(t.root).dom,r=ad(e,0,t),a=Rd(n,t).bind((e=>{const t=Ad(n,pd.exactFromRange(e)).orThunk((()=>{const t=Ne.fromText("\ufeff");zo(e.start,t);const o=Dd(n,pd.exact(t,0,t,1));return Bo(t),o}));return t.bind((e=>sd(e.left,e.top,e.width,e.height)))})),s=Rd(n,t).bind((e=>Ue(e.start)?T.some(e.start):nt(e.start))).getOr(e.element);return id(a,r,t,o,s)}))];const Id="link-layout",Ld=e=>e.x+e.width,Pd=(e,t)=>e.x-t.width,Bd=(e,t)=>e.y-t.height+e.height,Hd=e=>e.y,Fd=(e,t,o)=>al(Ld(e),Hd(e),o.southeast(),il(),"southeast",yl(e,{left:0,top:2}),Id),Vd=(e,t,o)=>al(Pd(e,t),Hd(e),o.southwest(),ll(),"southwest",yl(e,{right:1,top:2}),Id),jd=(e,t,o)=>al(Ld(e),Bd(e,t),o.northeast(),cl(),"northeast",yl(e,{left:0,bottom:3}),Id),Ud=(e,t,o)=>al(Pd(e,t),Bd(e,t),o.northwest(),dl(),"northwest",yl(e,{right:1,bottom:3}),Id),Wd=()=>[Fd,Vd,jd,Ud],Zd=()=>[Vd,Fd,Ud,jd];var $d=[cr("item"),Yc(),Er("overrides",{}),ol("placement",((e,t,o)=>{const n=dc(o,t.item.element),r=Gc(e.element,t,Wd(),Zd(),Wd(),Zd(),T.none());return T.some(jc({anchorBox:n,bubble:Vc(),overrides:t.overrides,layouts:r}))}))],qd=rr("type",{selection:Nd,node:ld,hotspot:Kc,submenu:$d,makeshift:Xc});const Yd=[yr("classes",Zn),Or("mode","all",["all","layout","placement"])],Gd=[Er("useFixed",D),br("getBounds")],Kd=[dr("anchor",qd),Cr("transition",Yd)],Xd=(e,t,o,n,r,a)=>((e,t,o,n,r,a,s,i)=>{const l=Pc(s,"maxHeightFunction",Ic()),c=Pc(s,"maxWidthFunction",y),d=e.anchorBox,u=e.origin,h={bounds:uc(u,a),origin:u,preference:n,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:r,transition:i};return Bc(d,t,o,h)})(gc(t.anchorBox,e),n.element,t.bubble,t.layouts,r,o,t.overrides,a),Qd=(e,t,o,n,r,a)=>{const s=or("placement.info",Pn(Kd),r),i=s.anchor,l=n.element,c=o.get(n.uid);rc((()=>{Ot(l,"position","fixed");const r=It(l,"visibility");Ot(l,"visibility","hidden");const d=t.useFixed()?(()=>{const e=document.documentElement;return mc(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=qt(e.element),o=e.element.dom.getBoundingClientRect();return pc(t.left,t.top,o.width,o.height)})(e);i.placement(e,i,d).each((e=>{const r=a.orThunk((()=>t.getBounds.map(E))),i=Xd(d,e,r,n,c,s.transition);o.set(n.uid,i)})),r.fold((()=>{Bt(l,"visibility")}),(e=>{Ot(l,"visibility",e)})),It(l,"left").isNone()&&It(l,"top").isNone()&&It(l,"right").isNone()&&It(l,"bottom").isNone()&&_e(It(l,"position"),"fixed")&&Bt(l,"position")}),l)};var Jd=Object.freeze({__proto__:null,position:(e,t,o,n,r)=>{const a=T.none();Qd(e,t,o,n,r,a)},positionWithinBounds:Qd,getMode:(e,t,o)=>t.useFixed()?"fixed":"absolute",reset:(e,t,o,n)=>{const r=n.element;F(["position","left","right","top","bottom"],(e=>Bt(r,e))),(e=>{Dt(e,fc)})(r),o.clear(n.uid)}});const eu=ql({fields:Gd,name:"positioning",active:Ql,apis:Jd,state:Object.freeze({__proto__:null,init:()=>{let e={};return Ls({readState:()=>e,clear:t=>{p(t)?delete e[t]:e={}},set:(t,o)=>{e[t]=o},get:t=>ye(e,t)})}})}),tu=e=>e.getSystem().isConnected(),ou=e=>{Ua(e,Ra());const t=e.components();F(t,ou)},nu=e=>{const t=e.components();F(t,nu),Ua(e,za())},ru=(e,t)=>{e.getSystem().addToWorld(t),bt(e.element)&&nu(t)},au=e=>{ou(e),e.getSystem().removeFromWorld(e)},su=(e,t)=>{Io(e.element,t.element)},iu=(e,t,o)=>{const n=e.components();(e=>{F(e.components(),(e=>Bo(e.element))),Po(e.element),e.syncComponents()})(e);const r=o(t),a=X(n,r);F(a,(t=>{ou(t),e.getSystem().removeFromWorld(t)})),F(r,(t=>{tu(t)?su(e,t):(e.getSystem().addToWorld(t),su(e,t),bt(e.element)&&nu(t))})),e.syncComponents()},lu=(e,t)=>{cu(e,t,Io)},cu=(e,t,o)=>{e.getSystem().addToWorld(t),o(e.element,t.element),bt(e.element)&&nu(t),e.syncComponents()},du=e=>{ou(e),Bo(e.element),e.getSystem().removeFromWorld(e)},uu=e=>{const t=ot(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));du(e),t.each((e=>{e.syncComponents()}))},hu=e=>{const t=e.components();F(t,du),Po(e.element),e.syncComponents()},pu=(e,t)=>{gu(e,t,Io)},mu=(e,t)=>{gu(e,t,Ro)},gu=(e,t,o)=>{o(e,t.element);const n=at(t.element);F(n,(e=>{t.getByDom(e).each(nu)}))},fu=e=>{const t=at(e.element);F(t,(t=>{e.getByDom(t).each(ou)})),Bo(e.element)},yu=(e,t,o,n)=>{o.get().each((t=>{hu(e)}));const r=t.getAttachPoint(e);lu(r,e);const a=e.getSystem().build(n);return lu(e,a),o.set(a),a},bu=(e,t,o,n)=>{const r=yu(e,t,o,n);return t.onOpen(e,r),r},vu=(e,t,o)=>{o.get().each((n=>{hu(e),uu(e),t.onClose(e,n),o.clear()}))},_u=(e,t,o)=>o.isOpen(),wu=(e,t,o)=>{const n=t.getAttachPoint(e);Ot(e.element,"position",eu.getMode(n)),((e,t,o,n)=>{It(e.element,t).fold((()=>{Dt(e.element,o)}),(t=>{kt(e.element,o,t)})),Ot(e.element,t,n)})(e,"visibility",t.cloakVisibilityAttr,"hidden")},ku=(e,t,o)=>{(e=>L(["top","left","right","bottom"],(t=>It(e,t).isSome())))(e.element)||Bt(e.element,"position"),((e,t,o)=>{Ct(e.element,o).fold((()=>Bt(e.element,t)),(o=>Ot(e.element,t,o)))})(e,"visibility",t.cloakVisibilityAttr)};var xu=Object.freeze({__proto__:null,cloak:wu,decloak:ku,open:bu,openWhileCloaked:(e,t,o,n,r)=>{wu(e,t),bu(e,t,o,n),r(),ku(e,t)},close:vu,isOpen:_u,isPartOf:(e,t,o,n)=>_u(0,0,o)&&o.get().exists((o=>t.isPartOf(e,o,n))),getState:(e,t,o)=>o.get(),setContent:(e,t,o,n)=>o.get().map((()=>yu(e,t,o,n)))});var Su=Object.freeze({__proto__:null,events:(e,t)=>Ga([Qa(Ca(),((o,n)=>{vu(o,e,t)}))])}),Cu=[Qi("onOpen"),Qi("onClose"),cr("isPartOf"),cr("getAttachPoint"),Er("cloakVisibilityAttr","data-precloak-visibility")];var Eu=Object.freeze({__proto__:null,init:()=>{const e=kc(),t=_("not-implemented");return Ls({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Du=ql({fields:Cu,name:"sandboxing",active:Su,apis:xu,state:Eu}),Au=_("dismiss.popups"),Tu=_("reposition.popups"),Ou=_("mouse.released"),Mu=Ln([Er("isExtraPart",D),Cr("fireEventInstead",[Er("event",Na())])]),zu=e=>{const t=or("Dismissal",Mu,e);return{[Au()]:{schema:Ln([cr("target")]),onReceive:(e,o)=>{if(Du.isOpen(e)){Du.isPartOf(e,o.target)||t.isExtraPart(e,o.target)||t.fireEventInstead.fold((()=>Du.close(e)),(t=>Ua(e,t.event)))}}}}},Ru=Ln([Cr("fireEventInstead",[Er("event",Ia())]),mr("doReposition")]),Nu=e=>{const t=or("Reposition",Ru,e);return{[Tu()]:{onReceive:e=>{Du.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ua(e,t.event)))}}}},Iu=(e,t,o)=>{t.store.manager.onLoad(e,t,o)},Lu=(e,t,o)=>{t.store.manager.onUnload(e,t,o)};var Pu=Object.freeze({__proto__:null,onLoad:Iu,onUnload:Lu,setValue:(e,t,o,n)=>{t.store.manager.setValue(e,t,o,n)},getValue:(e,t,o)=>t.store.manager.getValue(e,t,o),getState:(e,t,o)=>o});var Bu=Object.freeze({__proto__:null,events:(e,t)=>{const o=e.resetOnDom?[ss(((o,n)=>{Iu(o,e,t)})),is(((o,n)=>{Lu(o,e,t)}))]:[Vl(e,t,Iu)];return Ga(o)}});const Hu=()=>{const e=Ir(null);return Ls({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},Fu=()=>{const e=Ir({}),t=Ir({});return Ls({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:o=>ye(e.get(),o).orThunk((()=>ye(t.get(),o))),update:o=>{const n=e.get(),r=t.get(),a={},s={};F(o,(e=>{a[e.value]=e,ye(e,"meta").each((t=>{ye(t,"text").each((t=>{s[t]=e}))}))})),e.set({...n,...a}),t.set({...r,...s})},clear:()=>{e.set({}),t.set({})}})};var Vu=Object.freeze({__proto__:null,memory:Hu,dataset:Fu,manual:()=>Ls({readState:y}),init:e=>e.store.manager.state(e)});const ju=(e,t,o,n)=>{const r=t.store;o.update([n]),r.setValue(e,n),t.onSetValue(e,n)};var Uu=[br("initialValue"),cr("getFallbackEntry"),cr("getDataKey"),cr("setValue"),ol("manager",{setValue:ju,getValue:(e,t,o)=>{const n=t.store,r=n.getDataKey(e);return o.lookup(r).getOrThunk((()=>n.getFallbackEntry(r)))},onLoad:(e,t,o)=>{t.store.initialValue.each((n=>{ju(e,t,o,n)}))},onUnload:(e,t,o)=>{o.clear()},state:Fu})];var Wu=[cr("getValue"),Er("setValue",y),br("initialValue"),ol("manager",{setValue:(e,t,o,n)=>{t.store.setValue(e,n),t.onSetValue(e,n)},getValue:(e,t,o)=>t.store.getValue(e),onLoad:(e,t,o)=>{t.store.initialValue.each((o=>{t.store.setValue(e,o)}))},onUnload:y,state:Is.init})];var Zu=[br("initialValue"),ol("manager",{setValue:(e,t,o,n)=>{o.set(n),t.onSetValue(e,n)},getValue:(e,t,o)=>o.get(),onLoad:(e,t,o)=>{t.store.initialValue.each((e=>{o.isNotSet()&&o.set(e)}))},onUnload:(e,t,o)=>{o.clear()},state:Hu})],$u=[Dr("store",{mode:"memory"},rr("mode",{memory:Zu,manual:Wu,dataset:Uu})),Qi("onSetValue"),Er("resetOnDom",!1)];const qu=ql({fields:$u,name:"representing",active:Bu,apis:Pu,extra:{setValueFrom:(e,t)=>{const o=qu.getValue(t);qu.setValue(e,o)}},state:Vu}),Yu=(e,t)=>Nr(e,{},H(t,(t=>{return o=t.name(),n="Cannot configure "+t.name()+" for "+e,sr(o,o,{tag:"option",process:{}},Tn((e=>un("The field: "+o+" is forbidden. "+n))));var o,n})).concat([ir("dump",w)])),Gu=e=>e.dump,Ku=(e,t)=>({...Zl(t),...e.dump}),Xu=Yu,Qu=Ku,Ju="placeholder",eh=Lr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),th=e=>be(e,"uiType"),oh=(e,t,o,n)=>th(o)&&o.uiType===Ju?((e,t,o,n)=>e.exists((e=>e!==o.owner))?eh.single(!0,_(o)):ye(n,o.name).fold((()=>{throw new Error("Unknown placeholder component: "+o.name+"\nKnown: ["+se(n)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(o,null,2))}),(e=>e.replace())))(e,0,o,n):eh.single(!1,_(o)),nh=(e,t,o,n)=>oh(e,0,o,n).fold(((r,a)=>{const s=th(o)?a(t,o.config,o.validated):a(t),i=ye(s,"components").getOr([]),l=Y(i,(o=>nh(e,t,o,n)));return[{...s,components:l}]}),((e,n)=>{if(th(o)){const e=n(t,o.config,o.validated);return o.validated.preprocess.getOr(w)(e)}return n(t)})),rh=(e,t,o,n)=>{const r=ce(n,((e,t)=>((e,t)=>{let o=!1;return{name:_(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>o,replace:()=>{if(o)throw new Error("Trying to use the same placeholder more than once: "+e);return o=!0,t}}})(t,e))),a=((e,t,o,n)=>Y(o,(o=>nh(e,t,o,n))))(e,t,o,r);return le(r,(o=>{if(!1===o.used()&&o.required())throw new Error("Placeholder: "+o.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),a},ah=eh.single,sh=eh.multiple,ih=_(Ju),lh=Lr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ch=Er("factory",{sketch:w}),dh=Er("schema",[]),uh=cr("name"),hh=sr("pname","pname",kn((e=>"<alloy."+bs(e.name)+">")),jn()),ph=ir("schema",(()=>[br("preprocess")])),mh=Er("defaults",_({})),gh=Er("overrides",_({})),fh=Pn([ch,dh,uh,hh,mh,gh]),yh=Pn([ch,dh,uh,mh,gh]),bh=Pn([ch,dh,uh,hh,mh,gh]),vh=Pn([ch,ph,uh,cr("unit"),hh,mh,gh]),_h=e=>e.fold(T.some,T.none,T.some,T.some),wh=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},kh=(e,t)=>o=>{const n=or("Converting part type",t,o);return e(n)},xh=kh(lh.required,fh),Sh=kh(lh.external,yh),Ch=kh(lh.optional,bh),Eh=kh(lh.group,vh),Dh=_("entirety");var Ah=Object.freeze({__proto__:null,required:xh,external:Sh,optional:Ch,group:Eh,asNamedPart:_h,name:wh,asCommon:e=>e.fold(w,w,w,w),original:Dh});const Th=(e,t,o,n)=>_n(t.defaults(e,o,n),o,{uid:e.partUids[t.name]},t.overrides(e,o,n)),Oh=(e,t)=>{const o={};return F(t,(t=>{_h(t).each((t=>{const n=Mh(e,t.pname);o[t.name]=o=>{const r=or("Part: "+t.name+" in "+e,Pn(t.schema),o);return{...n,config:o,validated:r}}}))})),o},Mh=(e,t)=>({uiType:ih(),owner:e,name:t}),zh=(e,t,o)=>({uiType:ih(),owner:e,name:t,config:o,validated:{}}),Rh=e=>Y(e,(e=>e.fold(T.none,T.some,T.none,T.none).map((e=>gr(e.name,e.schema.concat([nl(Dh())])))).toArray())),Nh=e=>H(e,wh),Ih=(e,t,o)=>((e,t,o)=>{const n={},r={};return F(o,(e=>{e.fold((e=>{n[e.pname]=ah(!0,((t,o,n)=>e.factory.sketch(Th(t,e,o,n))))}),(e=>{const o=t.parts[e.name];r[e.name]=_(e.factory.sketch(Th(t,e,o[Dh()]),o))}),(e=>{n[e.pname]=ah(!1,((t,o,n)=>e.factory.sketch(Th(t,e,o,n))))}),(e=>{n[e.pname]=sh(!0,((t,o,n)=>{const r=t[e.name];return H(r,(o=>e.factory.sketch(_n(e.defaults(t,o,n),o,e.overrides(t,o)))))}))}))})),{internals:_(n),externals:_(r)}})(0,t,o),Lh=(e,t,o)=>rh(T.some(e),t,t.components,o),Ph=(e,t,o)=>{const n=t.partUids[o];return e.getSystem().getByUid(n).toOptional()},Bh=(e,t,o)=>Ph(e,t,o).getOrDie("Could not find part: "+o),Hh=(e,t,o)=>{const n={},r=t.partUids,a=e.getSystem();return F(o,(e=>{n[e]=_(a.getByUid(r[e]))})),n},Fh=(e,t)=>{const o=e.getSystem();return ce(t.partUids,((e,t)=>_(o.getByUid(e))))},Vh=e=>se(e.partUids),jh=(e,t,o)=>{const n={},r=t.partUids,a=e.getSystem();return F(o,(e=>{n[e]=_(a.getByUid(r[e]).getOrDie())})),n},Uh=(e,t)=>{const o=Nh(t);return Hr(H(o,(t=>({key:t,value:e+"-"+t}))))},Wh=e=>sr("partUids","partUids",Sn((t=>Uh(t.uid,e))),jn());var Zh=Object.freeze({__proto__:null,generate:Oh,generateOne:zh,schemas:Rh,names:Nh,substitutes:Ih,components:Lh,defaultUids:Uh,defaultUidsSchema:Wh,getAllParts:Fh,getAllPartNames:Vh,getPart:Ph,getPartOrDie:Bh,getParts:Hh,getPartsOrDie:jh});const $h=(e,t,o,n,r)=>{const a=((e,t)=>(e.length>0?[gr("parts",e)]:[]).concat([cr("uid"),Er("dom",{}),Er("components",[]),nl("originalSpec"),Er("debug.sketcher",{})]).concat(t))(n,r);return or(e+" [SpecSchema]",Ln(a.concat(t)),o)},qh=(e,t,o,n,r)=>{const a=Yh(r),s=Rh(o),i=Wh(o),l=$h(e,t,a,s,[i]),c=Ih(0,l,o);return n(l,Lh(e,l,c.internals()),a,c.externals())},Yh=e=>(e=>be(e,"uid"))(e)?e:{...e,uid:Cs("uid")},Gh=Ln([cr("name"),cr("factory"),cr("configFields"),Er("apis",{}),Er("extraApis",{})]),Kh=Ln([cr("name"),cr("factory"),cr("configFields"),cr("partFields"),Er("apis",{}),Er("extraApis",{})]),Xh=e=>{const t=or("Sketcher for "+e.name,Gh,e),o=ce(t.apis,Ns),n=ce(t.extraApis,((e,t)=>Os(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,o,n)=>{const r=Yh(n);return o($h(e,t,r,[],[]),r)})(t.name,t.configFields,t.factory,e),...o,...n}},Qh=e=>{const t=or("Sketcher for "+e.name,Kh,e),o=Oh(t.name,t.partFields),n=ce(t.apis,Ns),r=ce(t.extraApis,((e,t)=>Os(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>qh(t.name,t.configFields,t.partFields,t.factory,e),parts:o,...n,...r}},Jh=e=>qe("input")(e)&&"radio"!==St(e,"type")||qe("textarea")(e);var ep=Object.freeze({__proto__:null,getCurrent:(e,t,o)=>t.find(e)});const tp=[cr("find")],op=ql({fields:tp,name:"composing",apis:ep}),np=["input","button","textarea","select"],rp=(e,t,o)=>{(t.disabled()?dp:up)(e,t)},ap=(e,t)=>!0===t.useNative&&I(np,Fe(e.element)),sp=e=>{kt(e.element,"disabled","disabled")},ip=e=>{Dt(e.element,"disabled")},lp=e=>{kt(e.element,"aria-disabled","true")},cp=e=>{kt(e.element,"aria-disabled","false")},dp=(e,t,o)=>{t.disableClass.each((t=>{ei(e.element,t)}));(ap(e,t)?sp:lp)(e),t.onDisabled(e)},up=(e,t,o)=>{t.disableClass.each((t=>{ti(e.element,t)}));(ap(e,t)?ip:cp)(e),t.onEnabled(e)},hp=(e,t)=>ap(e,t)?(e=>Et(e.element,"disabled"))(e):(e=>"true"===St(e.element,"aria-disabled"))(e);var pp=Object.freeze({__proto__:null,enable:up,disable:dp,isDisabled:hp,onLoad:rp,set:(e,t,o,n)=>{(n?dp:up)(e,t)}});var mp=Object.freeze({__proto__:null,exhibit:(e,t)=>Bs({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Ga([Ka(wa(),((t,o)=>hp(t,e))),Vl(e,t,rp)])}),gp=[zr("disabled",D),Er("useNative",!0),br("disableClass"),Qi("onDisabled"),Qi("onEnabled")];const fp=ql({fields:gp,name:"disabling",active:mp,apis:pp}),yp=(e,t,o,n)=>{const r=kd(e.element,"."+t.highlightClass);F(r,(o=>{L(n,(e=>Ke(e.element,o)))||(ti(o,t.highlightClass),e.getSystem().getByDom(o).each((o=>{t.onDehighlight(e,o),Ua(o,ja())})))}))},bp=(e,t,o,n)=>{yp(e,t,0,[n]),vp(e,t,o,n)||(ei(n.element,t.highlightClass),t.onHighlight(e,n),Ua(n,Va()))},vp=(e,t,o,n)=>oi(n.element,t.highlightClass),_p=(e,t,o,n)=>{const r=kd(e.element,"."+t.itemClass);return T.from(r[n]).fold((()=>tn.error(new Error("No element found with index "+n))),e.getSystem().getByDom)},wp=(e,t,o)=>zi(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),kp=(e,t,o)=>{const n=kd(e.element,"."+t.itemClass);return(n.length>0?T.some(n[n.length-1]):T.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},xp=(e,t,o,n)=>{const r=kd(e.element,"."+t.itemClass),a=$(r,(e=>oi(e,t.highlightClass)));return a.bind((t=>{const o=gl(t,n,0,r.length-1);return e.getSystem().getByDom(r[o]).toOptional()}))},Sp=(e,t,o)=>{const n=kd(e.element,"."+t.itemClass);return we(H(n,(t=>e.getSystem().getByDom(t).toOptional())))};var Cp=Object.freeze({__proto__:null,dehighlightAll:(e,t,o)=>yp(e,t,0,[]),dehighlight:(e,t,o,n)=>{vp(e,t,o,n)&&(ti(n.element,t.highlightClass),t.onDehighlight(e,n),Ua(n,ja()))},highlight:bp,highlightFirst:(e,t,o)=>{wp(e,t).each((n=>{bp(e,t,o,n)}))},highlightLast:(e,t,o)=>{kp(e,t).each((n=>{bp(e,t,o,n)}))},highlightAt:(e,t,o,n)=>{_p(e,t,o,n).fold((e=>{throw e}),(n=>{bp(e,t,o,n)}))},highlightBy:(e,t,o,n)=>{const r=Sp(e,t);Z(r,n).each((n=>{bp(e,t,o,n)}))},isHighlighted:vp,getHighlighted:(e,t,o)=>zi(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:wp,getLast:kp,getPrevious:(e,t,o)=>xp(e,t,0,-1),getNext:(e,t,o)=>xp(e,t,0,1),getCandidates:Sp}),Ep=[cr("highlightClass"),cr("itemClass"),Qi("onHighlight"),Qi("onDehighlight")];const Dp=ql({fields:Ep,name:"highlighting",apis:Cp}),Ap=[8],Tp=[9],Op=[13],Mp=[27],zp=[32],Rp=[37],Np=[38],Ip=[39],Lp=[40],Pp=(e,t,o)=>{const n=K(e.slice(0,t)),r=K(e.slice(t+1));return Z(n.concat(r),o)},Bp=(e,t,o)=>{const n=K(e.slice(0,t));return Z(n,o)},Hp=(e,t,o)=>{const n=e.slice(0,t),r=e.slice(t+1);return Z(r.concat(n),o)},Fp=(e,t,o)=>{const n=e.slice(t+1);return Z(n,o)},Vp=e=>t=>{const o=t.raw;return I(e,o.which)},jp=e=>t=>G(e,(e=>e(t))),Up=e=>!0===e.raw.shiftKey,Wp=e=>!0===e.raw.ctrlKey,Zp=S(Up),$p=(e,t)=>({matches:e,classification:t}),qp=(e,t,o)=>{t.exists((e=>o.exists((t=>Ke(t,e)))))||Wa(e,La(),{prevFocus:t,newFocus:o})},Yp=()=>{const e=e=>nc(e.element);return{get:e,set:(t,o)=>{const n=e(t);t.getSystem().triggerFocus(o,t.element);const r=e(t);qp(t,n,r)}}},Gp=()=>{const e=e=>Dp.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,o)=>{const n=e(t);t.getSystem().getByDom(o).fold(y,(e=>{Dp.highlight(t,e)}));const r=e(t);qp(t,n,r)}}};var Kp;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Kp||(Kp={}));const Xp=(e,t,o,n,r)=>{const a=(e,t,o,n,r)=>((e,t)=>{const o=Z(e,(e=>e.matches(t)));return o.map((e=>e.classification))})(o(e,t,n,r),t.event).bind((o=>o(e,t,n,r))),s={schema:()=>e.concat([Er("focusManager",Yp()),Dr("focusInside","onFocus",Qn((e=>I(["onFocus","onEnterOrSpace","onApi"],e)?tn.value(e):tn.error("Invalid value for focusInside")))),ol("handler",s),ol("state",t),ol("sendFocusIn",r)]),processKey:a,toEvents:(e,t)=>{const s=e.focusInside!==Kp.OnFocusMode?T.none():r(e).map((o=>Qa(ya(),((n,r)=>{o(n,e,t),r.stop()})))),i=[Qa(sa(),((n,s)=>{a(n,s,o,e,t).fold((()=>{((o,n)=>{const a=Vp(zp.concat(Op))(n.event);e.focusInside===Kp.OnEnterOrSpaceMode&&a&&Wr(o,n)&&r(e).each((r=>{r(o,e,t),n.stop()}))})(n,s)}),(e=>{s.stop()}))})),Qa(ia(),((o,r)=>{a(o,r,n,e,t).each((e=>{r.stop()}))}))];return Ga(s.toArray().concat(i))}};return s},Qp=e=>{const t=[br("onEscape"),br("onEnter"),Er("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Er("firstTabstop",0),Er("useTabstopAt",A),br("visibilitySelector")].concat([e]),o=(e,t)=>{const o=e.visibilitySelector.bind((e=>Ri(t,e))).getOr(t);return jt(o)>0},n=(e,t,n)=>{((e,t)=>{const n=kd(e.element,t.selector),r=j(n,(e=>o(t,e)));return T.from(r[t.firstTabstop])})(e,t).each((o=>{t.focusManager.set(e,o)}))},r=(e,t,n,r,a)=>a(t,n,(e=>((e,t)=>o(e,t)&&e.useTabstopAt(t))(r,e))).fold((()=>r.cyclic?T.some(!0):T.none()),(t=>(r.focusManager.set(e,t),T.some(!0)))),a=(e,t,o,n)=>{const a=kd(e.element,o.selector);return((e,t)=>t.focusManager.get(e).bind((e=>Ri(e,t.selector))))(e,o).bind((t=>$(a,x(Ke,t)).bind((t=>r(e,a,t,o,n)))))},s=_([$p(jp([Up,Vp(Tp)]),((e,t,o)=>{const n=o.cyclic?Pp:Bp;return a(e,0,o,n)})),$p(Vp(Tp),((e,t,o)=>{const n=o.cyclic?Hp:Fp;return a(e,0,o,n)})),$p(jp([Zp,Vp(Op)]),((e,t,o)=>o.onEnter.bind((o=>o(e,t)))))]),i=_([$p(Vp(Mp),((e,t,o)=>o.onEscape.bind((o=>o(e,t)))))]);return Xp(t,Is.init,s,i,(()=>T.some(n)))};var Jp=Qp(ir("cyclic",D)),em=Qp(ir("cyclic",A));const tm=(e,t,o)=>Jh(o)&&Vp(zp)(t.event)?T.none():((e,t,o)=>($a(e,o,wa()),T.some(!0)))(e,0,o),om=(e,t)=>T.some(!0),nm=[Er("execute",tm),Er("useSpace",!1),Er("useEnter",!0),Er("useControlEnter",!1),Er("useDown",!1)],rm=(e,t,o)=>o.execute(e,t,e.element);var am=Xp(nm,Is.init,((e,t,o,n)=>{const r=o.useSpace&&!Jh(e.element)?zp:[],a=o.useEnter?Op:[],s=o.useDown?Lp:[],i=r.concat(a).concat(s);return[$p(Vp(i),rm)].concat(o.useControlEnter?[$p(jp([Wp,Vp(Op)]),rm)]:[])}),((e,t,o,n)=>o.useSpace&&!Jh(e.element)?[$p(Vp(zp),om)]:[]),(()=>T.none()));const sm=()=>{const e=kc();return Ls({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,o)=>{e.set({numRows:t,numColumns:o})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var im=Object.freeze({__proto__:null,flatgrid:sm,init:e=>e.state(e)});const lm=e=>(t,o,n,r)=>{const a=e(t.element);return hm(a,t,o,n,r)},cm=(e,t)=>{const o=Uc(e,t);return lm(o)},dm=(e,t)=>{const o=Uc(t,e);return lm(o)},um=e=>(t,o,n,r)=>hm(e,t,o,n,r),hm=(e,t,o,n,r)=>n.focusManager.get(t).bind((o=>e(t.element,o,n,r))).map((e=>(n.focusManager.set(t,e),!0))),pm=um,mm=um,gm=um,fm=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),ym=(e,t,o)=>{const n=kd(e,o);return((e,t)=>$(e,t).map((t=>({index:t,candidates:e}))))(j(n,fm),(e=>Ke(e,t)))},bm=(e,t)=>$(e,(e=>Ke(t,e))),vm=(e,t,o,n)=>n(Math.floor(t/o),t%o).bind((t=>{const n=t.row*o+t.column;return n>=0&&n<e.length?T.some(e[n]):T.none()})),_m=(e,t,o,n,r)=>vm(e,t,n,((t,a)=>{const s=t===o-1?e.length-t*n:n,i=gl(a,r,0,s-1);return T.some({row:t,column:i})})),wm=(e,t,o,n,r)=>vm(e,t,n,((t,a)=>{const s=gl(t,r,0,o-1),i=s===o-1?e.length-s*n:n,l=fl(a,0,i-1);return T.some({row:s,column:l})})),km=[cr("selector"),Er("execute",tm),Ji("onEscape"),Er("captureTab",!1),rl()],xm=(e,t,o)=>{zi(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))},Sm=e=>(t,o,n,r)=>ym(t,o,n.selector).bind((t=>e(t.candidates,t.index,r.getNumRows().getOr(n.initSize.numRows),r.getNumColumns().getOr(n.initSize.numColumns)))),Cm=(e,t,o)=>o.captureTab?T.some(!0):T.none(),Em=Sm(((e,t,o,n)=>_m(e,t,o,n,-1))),Dm=Sm(((e,t,o,n)=>_m(e,t,o,n,1))),Am=Sm(((e,t,o,n)=>wm(e,t,o,n,-1))),Tm=Sm(((e,t,o,n)=>wm(e,t,o,n,1))),Om=_([$p(Vp(Rp),cm(Em,Dm)),$p(Vp(Ip),dm(Em,Dm)),$p(Vp(Np),pm(Am)),$p(Vp(Lp),mm(Tm)),$p(jp([Up,Vp(Tp)]),Cm),$p(jp([Zp,Vp(Tp)]),Cm),$p(Vp(zp.concat(Op)),((e,t,o,n)=>((e,t)=>t.focusManager.get(e).bind((e=>Ri(e,t.selector))))(e,o).bind((n=>o.execute(e,t,n)))))]),Mm=_([$p(Vp(Mp),((e,t,o)=>o.onEscape(e,t))),$p(Vp(zp),om)]);var zm=Xp(km,sm,Om,Mm,(()=>T.some(xm)));const Rm=(e,t,o,n,r)=>{const a=(e,t,o)=>r(e,t,n,0,o.length-1,o[t],(t=>{return n=o[t],"button"===Fe(n)&&"disabled"===St(n,"disabled")?a(e,t,o):T.from(o[t]);var n}));return ym(e,o,t).bind((e=>{const t=e.index,o=e.candidates;return a(t,t,o)}))},Nm=(e,t,o,n)=>Rm(e,t,o,n,((e,t,o,n,r,a,s)=>{const i=fl(t+o,n,r);return i===e?T.from(a):s(i)})),Im=(e,t,o,n)=>Rm(e,t,o,n,((e,t,o,n,r,a,s)=>{const i=gl(t,o,n,r);return i===e?T.none():s(i)})),Lm=[cr("selector"),Er("getInitial",T.none),Er("execute",tm),Ji("onEscape"),Er("executeOnMove",!1),Er("allowVertical",!0),Er("allowHorizontal",!0),Er("cycles",!0)],Pm=(e,t,o)=>((e,t)=>t.focusManager.get(e).bind((e=>Ri(e,t.selector))))(e,o).bind((n=>o.execute(e,t,n))),Bm=(e,t,o)=>{t.getInitial(e).orThunk((()=>zi(e.element,t.selector))).each((o=>{t.focusManager.set(e,o)}))},Hm=(e,t,o)=>(o.cycles?Im:Nm)(e,o.selector,t,-1),Fm=(e,t,o)=>(o.cycles?Im:Nm)(e,o.selector,t,1),Vm=e=>(t,o,n,r)=>e(t,o,n,r).bind((()=>n.executeOnMove?Pm(t,o,n):T.some(!0))),jm=_([$p(Vp(zp),om),$p(Vp(Mp),((e,t,o)=>o.onEscape(e,t)))]);var Um=Xp(Lm,Is.init,((e,t,o,n)=>{const r=[...o.allowHorizontal?Rp:[]].concat(o.allowVertical?Np:[]),a=[...o.allowHorizontal?Ip:[]].concat(o.allowVertical?Lp:[]);return[$p(Vp(r),Vm(cm(Hm,Fm))),$p(Vp(a),Vm(dm(Hm,Fm))),$p(Vp(Op),Pm),$p(Vp(zp),Pm)]}),jm,(()=>T.some(Bm)));const Wm=(e,t,o)=>T.from(e[t]).bind((e=>T.from(e[o]).map((e=>({rowIndex:t,columnIndex:o,cell:e}))))),Zm=(e,t,o,n)=>{const r=e[t].length,a=gl(o,n,0,r-1);return Wm(e,t,a)},$m=(e,t,o,n)=>{const r=gl(o,n,0,e.length-1),a=e[r].length,s=fl(t,0,a-1);return Wm(e,r,s)},qm=(e,t,o,n)=>{const r=e[t].length,a=fl(o+n,0,r-1);return Wm(e,t,a)},Ym=(e,t,o,n)=>{const r=fl(o+n,0,e.length-1),a=e[r].length,s=fl(t,0,a-1);return Wm(e,r,s)},Gm=[gr("selectors",[cr("row"),cr("cell")]),Er("cycles",!0),Er("previousSelector",T.none),Er("execute",tm)],Km=(e,t,o)=>{t.previousSelector(e).orThunk((()=>{const o=t.selectors;return zi(e.element,o.cell)})).each((o=>{t.focusManager.set(e,o)}))},Xm=(e,t)=>(o,n,r)=>{const a=r.cycles?e:t;return Ri(n,r.selectors.row).bind((e=>{const t=kd(e,r.selectors.cell);return bm(t,n).bind((t=>{const n=kd(o,r.selectors.row);return bm(n,e).bind((e=>{const o=((e,t)=>H(e,(e=>kd(e,t.selectors.cell))))(n,r);return a(o,e,t).map((e=>e.cell))}))}))}))},Qm=Xm(((e,t,o)=>Zm(e,t,o,-1)),((e,t,o)=>qm(e,t,o,-1))),Jm=Xm(((e,t,o)=>Zm(e,t,o,1)),((e,t,o)=>qm(e,t,o,1))),eg=Xm(((e,t,o)=>$m(e,o,t,-1)),((e,t,o)=>Ym(e,o,t,-1))),tg=Xm(((e,t,o)=>$m(e,o,t,1)),((e,t,o)=>Ym(e,o,t,1))),og=_([$p(Vp(Rp),cm(Qm,Jm)),$p(Vp(Ip),dm(Qm,Jm)),$p(Vp(Np),pm(eg)),$p(Vp(Lp),mm(tg)),$p(Vp(zp.concat(Op)),((e,t,o)=>nc(e.element).bind((n=>o.execute(e,t,n)))))]),ng=_([$p(Vp(zp),om)]);var rg=Xp(Gm,Is.init,og,ng,(()=>T.some(Km)));const ag=[cr("selector"),Er("execute",tm),Er("moveOnTab",!1)],sg=(e,t,o)=>o.focusManager.get(e).bind((n=>o.execute(e,t,n))),ig=(e,t,o)=>{zi(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))},lg=(e,t,o)=>Im(e,o.selector,t,-1),cg=(e,t,o)=>Im(e,o.selector,t,1),dg=_([$p(Vp(Np),gm(lg)),$p(Vp(Lp),gm(cg)),$p(jp([Up,Vp(Tp)]),((e,t,o,n)=>o.moveOnTab?gm(lg)(e,t,o,n):T.none())),$p(jp([Zp,Vp(Tp)]),((e,t,o,n)=>o.moveOnTab?gm(cg)(e,t,o,n):T.none())),$p(Vp(Op),sg),$p(Vp(zp),sg)]),ug=_([$p(Vp(zp),om)]);var hg=Xp(ag,Is.init,dg,ug,(()=>T.some(ig)));const pg=[Ji("onSpace"),Ji("onEnter"),Ji("onShiftEnter"),Ji("onLeft"),Ji("onRight"),Ji("onTab"),Ji("onShiftTab"),Ji("onUp"),Ji("onDown"),Ji("onEscape"),Er("stopSpaceKeyup",!1),br("focusIn")];var mg=Xp(pg,Is.init,((e,t,o)=>[$p(Vp(zp),o.onSpace),$p(jp([Zp,Vp(Op)]),o.onEnter),$p(jp([Up,Vp(Op)]),o.onShiftEnter),$p(jp([Up,Vp(Tp)]),o.onShiftTab),$p(jp([Zp,Vp(Tp)]),o.onTab),$p(Vp(Np),o.onUp),$p(Vp(Lp),o.onDown),$p(Vp(Rp),o.onLeft),$p(Vp(Ip),o.onRight),$p(Vp(zp),o.onSpace)]),((e,t,o)=>[...o.stopSpaceKeyup?[$p(Vp(zp),om)]:[],$p(Vp(Mp),o.onEscape)]),(e=>e.focusIn));const gg=Jp.schema(),fg=em.schema(),yg=Um.schema(),bg=zm.schema(),vg=rg.schema(),_g=am.schema(),wg=hg.schema(),kg=mg.schema();const xg=Gl({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:gg,cyclic:fg,flow:yg,flatgrid:bg,matrix:vg,execution:_g,menu:wg,special:kg}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,o)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(n=>{n(e,t,o)}))},setGridSize:(e,t,o,n,r)=>{(e=>ve(e,"setGridSize"))(o)?o.setGridSize(n,r):console.error("Layout does not support setGridSize")}},state:im}),Sg=(e,t)=>{rc((()=>{iu(e,t,(()=>H(t,e.getSystem().build)))}),e.element)},Cg=(e,t)=>{rc((()=>{((e,t,o)=>{const n=e.components(),r=Y(t,(e=>Rs(e).toArray()));F(n,(e=>{I(r,e)||au(e)}));const a=o(t),s=X(n,a);F(s,(e=>{tu(e)&&au(e)})),F(a,(t=>{tu(t)||ru(e,t)})),e.syncComponents()})(e,t,(()=>((e,t,o)=>di(e,t,((t,n)=>ui(e,n,t,o))))(e.element,t,e.getSystem().buildOrPatch)))}),e.element)},Eg=(e,t,o,n)=>{au(t);const r=ui(e.element,o,n,e.getSystem().buildOrPatch);ru(e,r),e.syncComponents()},Dg=(e,t,o)=>{const n=e.getSystem().build(o);cu(e,n,t)},Ag=(e,t,o,n)=>{uu(t),Dg(e,((e,t)=>((e,t,o)=>{st(e,o).fold((()=>{Io(e,t)}),(e=>{zo(e,t)}))})(e,t,o)),n)},Tg=(e,t)=>e.components(),Og=(e,t,o,n,r)=>{const a=Tg(e);return T.from(a[n]).map((o=>(r.fold((()=>uu(o)),(r=>{(t.reuseDom?Eg:Ag)(e,o,n,r)})),o)))};var Mg=Object.freeze({__proto__:null,append:(e,t,o,n)=>{Dg(e,Io,n)},prepend:(e,t,o,n)=>{Dg(e,No,n)},remove:(e,t,o,n)=>{const r=Tg(e),a=Z(r,(e=>Ke(n.element,e.element)));a.each(uu)},replaceAt:Og,replaceBy:(e,t,o,n,r)=>{const a=Tg(e);return $(a,n).bind((o=>Og(e,t,0,o,r)))},set:(e,t,o,n)=>(t.reuseDom?Cg:Sg)(e,n),contents:Tg});const zg=ql({fields:[Mr("reuseDom",!0)],name:"replacing",apis:Mg}),Rg=(e,t)=>{const o=((e,t)=>{const o=Ga(t);return ql({fields:[cr("enabled")],name:e,active:{events:_(o)}})})(e,t);return{key:e,value:{config:{},me:o,configAsRaw:_({}),initialConfig:{},state:Is}}},Ng=(e,t)=>{t.ignore||(Jl(e.element),t.onFocus(e))};var Ig=Object.freeze({__proto__:null,focus:Ng,blur:(e,t)=>{t.ignore||ec(e.element)},isFocused:e=>tc(e.element)});var Lg=Object.freeze({__proto__:null,exhibit:(e,t)=>{const o=t.ignore?{}:{attributes:{tabindex:"-1"}};return Bs(o)},events:e=>Ga([Qa(ya(),((t,o)=>{Ng(t,e),o.stop()}))].concat(e.stopMousedown?[Qa(Jr(),((e,t)=>{t.event.prevent()}))]:[]))}),Pg=[Qi("onFocus"),Er("stopMousedown",!1),Er("ignore",!1)];const Bg=ql({fields:Pg,name:"focusing",active:Lg,apis:Ig}),Hg=(e,t,o,n)=>{const r=o.get();o.set(n),((e,t,o)=>{t.toggleClass.each((t=>{o.get()?ei(e.element,t):ti(e.element,t)}))})(e,t,o),((e,t,o)=>{const n=t.aria;n.update(e,n,o.get())})(e,t,o),r!==n&&t.onToggled(e,n)},Fg=(e,t,o)=>{Hg(e,t,o,!o.get())},Vg=(e,t,o)=>{Hg(e,t,o,t.selected)};var jg=Object.freeze({__proto__:null,onLoad:Vg,toggle:Fg,isOn:(e,t,o)=>o.get(),on:(e,t,o)=>{Hg(e,t,o,!0)},off:(e,t,o)=>{Hg(e,t,o,!1)},set:Hg});var Ug=Object.freeze({__proto__:null,exhibit:()=>Bs({}),events:(e,t)=>{const o=(n=e,r=t,a=Fg,cs((e=>{a(e,n,r)})));var n,r,a;const s=Vl(e,t,Vg);return Ga(q([e.toggleOnExecute?[o]:[],[s]]))}});const Wg=(e,t,o)=>{kt(e.element,"aria-expanded",o)};var Zg=[Er("selected",!1),br("toggleClass"),Er("toggleOnExecute",!0),Qi("onToggled"),Dr("aria",{mode:"none"},rr("mode",{pressed:[Er("syncWithExpanded",!1),ol("update",((e,t,o)=>{kt(e.element,"aria-pressed",o),t.syncWithExpanded&&Wg(e,t,o)}))],checked:[ol("update",((e,t,o)=>{kt(e.element,"aria-checked",o)}))],expanded:[ol("update",Wg)],selected:[ol("update",((e,t,o)=>{kt(e.element,"aria-selected",o)}))],none:[ol("update",y)]}))];const $g=ql({fields:Zg,name:"toggling",active:Ug,apis:jg,state:(qg=!1,{init:()=>{const e=Ir(qg);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(qg),readState:()=>e.get()}}})});var qg;const Yg=()=>{const e=(e,t)=>{t.stop(),Za(e)};return[Qa(da(),e),Qa(xa(),e),ns(Gr()),ns(Jr())]},Gg=e=>Ga(q([e.map((e=>cs(((t,o)=>{e(t),o.stop()})))).toArray(),Yg()])),Kg="alloy.item-hover",Xg="alloy.item-focus",Qg="alloy.item-toggled",Jg=e=>{(nc(e.element).isNone()||Bg.isFocused(e))&&(Bg.isFocused(e)||Bg.focus(e),Wa(e,Kg,{item:e}))},ef=e=>{Wa(e,Xg,{item:e})},tf=_(Kg),of=_(Xg),nf=_(Qg),rf=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),af=e=>({aria:{mode:"checked"},...pe(e,((e,t)=>"exclusive"!==t)),onToggled:(t,o)=>{m(e.onToggled)&&e.onToggled(t,o),((e,t)=>{Wa(e,Qg,{item:e,state:t})})(t,o)}}),sf=[cr("data"),cr("components"),cr("dom"),Er("hasSubmenu",!1),br("toggling"),Xu("itemBehaviours",[$g,Bg,xg,qu]),Er("ignoreFocus",!1),Er("domModification",{}),ol("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:rf(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Qu(e.itemBehaviours,[e.toggling.fold($g.revoke,(e=>$g.config(af(e)))),Bg.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{ef(e)}}),xg.config({mode:"execution"}),qu.config({store:{mode:"memory",initialValue:e.data}}),Rg("item-type-events",[...Yg(),Qa(na(),Jg),Qa(ka(),Bg.focus)])]),components:e.components,eventOrder:e.eventOrder}))),Er("eventOrder",{})],lf=[cr("dom"),cr("components"),ol("builder",(e=>({dom:e.dom,components:e.components,events:Ga([rs(ka())])})))],cf=_("item-widget"),df=_([xh({name:"widget",overrides:e=>({behaviours:Zl([qu.config({store:{mode:"manual",getValue:t=>e.data,setValue:y}})])})})]),uf=[cr("uid"),cr("data"),cr("components"),cr("dom"),Er("autofocus",!1),Er("ignoreFocus",!1),Xu("widgetBehaviours",[qu,Bg,xg]),Er("domModification",{}),Wh(df()),ol("builder",(e=>{const t=Ih(cf(),e,df()),o=Lh(cf(),e,t.internals()),n=t=>Ph(t,e,"widget").map((e=>(xg.focusIn(e),e))),r=(t,o)=>Jh(o.event.target)?T.none():e.autofocus?(o.setSource(t.element),T.none()):T.none();return{dom:e.dom,components:o,domModification:e.domModification,events:Ga([cs(((e,t)=>{n(e).each((e=>{t.stop()}))})),Qa(na(),Jg),Qa(ka(),((t,o)=>{e.autofocus?n(t):Bg.focus(t)}))]),behaviours:Qu(e.widgetBehaviours,[qu.config({store:{mode:"memory",initialValue:e.data}}),Bg.config({ignore:e.ignoreFocus,onFocus:e=>{ef(e)}}),xg.config({mode:"special",focusIn:e.autofocus?e=>{n(e)}:Kl(),onLeft:r,onRight:r,onEscape:(t,o)=>Bg.isFocused(t)||e.autofocus?e.autofocus?(o.setSource(t.element),T.none()):T.none():(Bg.focus(t),T.some(!0))})])}}))],hf=rr("type",{widget:uf,item:sf,separator:lf}),pf=_([Eh({factory:{sketch:e=>{const t=or("menu.spec item",hf,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>be(t,"uid")?t:{...t,uid:Cs("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),mf=_([cr("value"),cr("items"),cr("dom"),cr("components"),Er("eventOrder",{}),Yu("menuBehaviours",[Dp,qu,op,xg]),Dr("movement",{mode:"menu",moveOnTab:!0},rr("mode",{grid:[rl(),ol("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[ol("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),cr("rowSelector"),Er("previousSelector",T.none)],menu:[Er("moveOnTab",!0),ol("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),dr("markers",qi()),Er("fakeFocus",!1),Er("focusManager",Yp()),Qi("onHighlight"),Qi("onDehighlight")]),gf=_("alloy.menu-focus"),ff=Qh({name:"Menu",configFields:mf(),partFields:pf(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ku(e.menuBehaviours,[Dp.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),qu.config({store:{mode:"memory",initialValue:e.value}}),op.config({find:T.some}),xg.config(e.movement.config(e,e.movement))]),events:Ga([Qa(of(),((e,t)=>{const o=t.event;e.getSystem().getByDom(o.target).each((o=>{Dp.highlight(e,o),t.stop(),Wa(e,gf(),{menu:e,item:o})}))})),Qa(tf(),((e,t)=>{const o=t.event.item;Dp.highlight(e,o)})),Qa(nf(),((e,t)=>{const{item:o,state:n}=t.event;n&&"menuitemradio"===St(o.element,"role")&&((e,t)=>{const o=kd(e.element,'[role="menuitemradio"][aria-checked="true"]');F(o,(o=>{Ke(o,t.element)||e.getSystem().getByDom(o).each((e=>{$g.off(e)}))}))})(e,o)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),yf=(e,t,o,n)=>ye(o,n).bind((n=>ye(e,n).bind((n=>{const r=yf(e,t,o,n);return T.some([n].concat(r))})))).getOr([]),bf=(e,t)=>{const o={};le(e,((e,t)=>{F(e,(e=>{o[e]=t}))}));const n=t,r=de(t,((e,t)=>({k:e,v:t})));const a=ce(r,((e,t)=>[t].concat(yf(o,n,r,t))));return ce(o,(e=>ye(a,e).getOr([e])))},vf=e=>"prepared"===e.type?T.some(e.menu):T.none(),_f={init:()=>{const e=Ir({}),t=Ir({}),o=Ir({}),n=kc(),r=Ir({}),a=(t,o,n)=>s(t).bind((r=>(t=>ge(e.get(),((e,o)=>e===t)))(t).bind((e=>o(e).map((e=>({triggeredMenu:r,triggeringItem:e,triggeringPath:n}))))))),s=e=>i(e).bind(vf),i=e=>ye(t.get(),e),l=t=>ye(e.get(),t);return{setMenuBuilt:(e,o)=>{t.set({...t.get(),[e]:{type:"prepared",menu:o}})},setContents:(a,s,i,l)=>{n.set(a),e.set(i),t.set(s),r.set(l);const c=bf(l,i);o.set(c)},expand:t=>ye(e.get(),t).map((e=>{const n=ye(o.get(),t).getOr([]);return[e].concat(n)})),refresh:e=>ye(o.get(),e),collapse:e=>ye(o.get(),e).bind((e=>e.length>1?T.some(e.slice(1)):T.none())),lookupMenu:i,lookupItem:l,otherMenus:e=>{const t=r.get();return X(se(t),e)},getPrimary:()=>n.get().bind(s),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),o.set({}),n.clear()},isClear:()=>n.get().isNone(),getTriggeringPath:(e,t)=>{const r=j(l(e).toArray(),(e=>s(e).isSome()));return ye(o.get(),e).bind((e=>{const o=K(r.concat(e));return(e=>{const t=[];for(let o=0;o<e.length;o++){const n=e[o];if(!n.isSome())return T.none();t.push(n.getOrDie())}return T.some(t)})(Y(o,((e,r)=>a(e,t,o.slice(0,r+1)).fold((()=>_e(n.get(),e)?[]:[T.none()]),(e=>[T.some(e)])))))}))}}},extractPreparedMenu:vf},wf=bs("tiered-menu-item-highlight"),kf=bs("tiered-menu-item-dehighlight");var xf;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(xf||(xf={}));const Sf=_("collapse-item"),Cf=Xh({name:"TieredMenu",configFields:[tl("onExecute"),tl("onEscape"),el("onOpenMenu"),el("onOpenSubmenu"),Qi("onRepositionMenu"),Qi("onCollapseMenu"),Er("highlightOnOpen",xf.HighlightMenuAndItem),gr("data",[cr("primary"),cr("menus"),cr("expansions")]),Er("fakeFocus",!1),Qi("onHighlightItem"),Qi("onDehighlightItem"),Qi("onHover"),Gi(),cr("dom"),Er("navigateOnHover",!0),Er("stayInDom",!1),Yu("tmenuBehaviours",[xg,Dp,op,zg]),Er("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const o=kc(),n=_f.init(),r=t=>{const o=((t,o,n)=>ce(n,((n,r)=>{const a=()=>ff.sketch({...n,value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Wa(e,wf,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Wa(e,kf,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?Gp():Yp()});return r===o?{type:"prepared",menu:t.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}})))(t,e.data.primary,e.data.menus),r=s();return n.setContents(e.data.primary,o,e.data.expansions,r),n.getPrimary()},a=e=>qu.getValue(e).value,s=t=>ce(e.data.menus,((e,t)=>Y(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),i=Dp.highlight,l=(t,o)=>{i(t,o),Dp.getHighlighted(o).orThunk((()=>Dp.getFirst(o))).each((n=>{e.fakeFocus?Dp.highlight(o,n):$a(t,n.element,ka())}))},c=(e,t)=>we(H(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?T.some(e.menu):T.none()))))),d=(t,o,n)=>{const r=c(o,o.otherMenus(n));F(r,(o=>{ri(o.element,[e.markers.backgroundMenu]),e.stayInDom||zg.remove(t,o)}))},u=(t,n)=>{const r=(t=>o.get().getOrThunk((()=>{const n={},r=kd(t.element,`.${e.markers.item}`),s=j(r,(e=>"true"===St(e,"aria-haspopup")));return F(s,(e=>{t.getSystem().getByDom(e).each((e=>{const t=a(e);n[t]=e}))})),o.set(n),n})))(t);le(r,((e,t)=>{const o=I(n,t);kt(e.element,"aria-expanded",o)}))},h=(t,o,n)=>T.from(n[0]).bind((r=>o.lookupMenu(r).bind((r=>{if("notbuilt"===r.type)return T.none();{const a=r.menu,s=c(o,n.slice(1));return F(s,(t=>{ei(t.element,e.markers.backgroundMenu)})),bt(a.element)||zg.append(t,Ci(a)),ri(a.element,[e.markers.backgroundMenu]),l(t,a),d(t,o,n),T.some(a)}}))));let p;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(p||(p={}));const m=(t,o,r=p.HighlightSubmenu)=>{if(o.hasConfigured(fp)&&fp.isDisabled(o))return T.some(o);{const s=a(o);return n.expand(s).bind((a=>(u(t,a),T.from(a[0]).bind((s=>n.lookupMenu(s).bind((i=>{const l=((e,t,o)=>{if("notbuilt"===o.type){const r=e.getSystem().build(o.nbMenu());return n.setMenuBuilt(t,r),r}return o.menu})(t,s,i);return bt(l.element)||zg.append(t,Ci(l)),e.onOpenSubmenu(t,o,l,K(a)),r===p.HighlightSubmenu?(Dp.highlightFirst(l),h(t,n,a)):(Dp.dehighlightAll(l),T.some(o))})))))))}},g=(t,o)=>{const r=a(o);return n.collapse(r).bind((r=>(u(t,r),h(t,n,r).map((n=>(e.onCollapseMenu(t,o,n),n))))))},f=t=>(o,n)=>Ri(n.getSource(),`.${e.markers.item}`).bind((e=>o.getSystem().getByDom(e).toOptional().bind((e=>t(o,e).map(A))))),b=Ga([Qa(gf(),((e,t)=>{const o=t.event.item;n.lookupItem(a(o)).each((()=>{const o=t.event.menu;Dp.highlight(e,o);const r=a(t.event.item);n.refresh(r).each((t=>d(e,n,t)))}))})),cs(((t,o)=>{const n=o.event.target;t.getSystem().getByDom(n).each((o=>{0===a(o).indexOf("collapse-item")&&g(t,o),m(t,o,p.HighlightSubmenu).fold((()=>{e.onExecute(t,o)}),y)}))})),ss(((t,o)=>{r(t).each((o=>{zg.append(t,Ci(o)),e.onOpenMenu(t,o),e.highlightOnOpen===xf.HighlightMenuAndItem?l(t,o):e.highlightOnOpen===xf.HighlightJustMenu&&i(t,o)}))})),Qa(wf,((t,o)=>{e.onHighlightItem(t,o.event.menuComp,o.event.itemComp)})),Qa(kf,((t,o)=>{e.onDehighlightItem(t,o.event.menuComp,o.event.itemComp)})),...e.navigateOnHover?[Qa(tf(),((t,o)=>{const r=o.event.item;((e,t)=>{const o=a(t);n.refresh(o).bind((t=>(u(e,t),h(e,n,t))))})(t,r),m(t,r,p.HighlightParent),e.onHover(t,r)}))]:[]]),v=e=>Dp.getHighlighted(e).bind(Dp.getHighlighted),_={collapseMenu:e=>{v(e).each((t=>{g(e,t)}))},highlightPrimary:e=>{n.getPrimary().each((t=>{l(e,t)}))},repositionMenus:t=>{const o=n.getPrimary().bind((e=>v(t).bind((e=>{const t=a(e),o=fe(n.getMenus()),r=we(H(o,_f.extractPreparedMenu));return n.getTriggeringPath(t,(e=>((e,t,o)=>ae(t,(e=>{if(!e.getSystem().isConnected())return T.none();const t=Dp.getCandidates(e);return Z(t,(e=>a(e)===o))})))(0,r,e)))})).map((t=>({primary:e,triggeringPath:t})))));o.fold((()=>{(e=>T.from(e.components()[0]).filter((e=>"menu"===St(e.element,"role"))))(t).each((o=>{e.onRepositionMenu(t,o,[])}))}),(({primary:o,triggeringPath:n})=>{e.onRepositionMenu(t,o,n)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ku(e.tmenuBehaviours,[xg.config({mode:"special",onRight:f(((e,t)=>Jh(t.element)?T.none():m(e,t,p.HighlightSubmenu))),onLeft:f(((e,t)=>Jh(t.element)?T.none():g(e,t))),onEscape:f(((t,o)=>g(t,o).orThunk((()=>e.onEscape(t,o).map((()=>t)))))),focusIn:(e,t)=>{n.getPrimary().each((t=>{$a(e,t.element,ka())}))}}),Dp.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),op.config({find:e=>Dp.getHighlighted(e)}),zg.config({})]),eventOrder:e.eventOrder,apis:_,events:b}},extraApis:{tieredData:(e,t,o)=>({primary:e,menus:t,expansions:o}),singleData:(e,t)=>({primary:e,menus:Br(e,t),expansions:{}}),collapseItem:e=>({value:bs(Sf()),meta:{text:e}})}}),Ef=Xh({name:"InlineView",configFields:[cr("lazySink"),Qi("onShow"),Qi("onHide"),xr("onEscape"),Yu("inlineBehaviours",[Du,qu,Xl]),Cr("fireDismissalEventInstead",[Er("event",Na())]),Cr("fireRepositionEventInstead",[Er("event",Ia())]),Er("getRelated",T.none),Er("isExtraPart",D),Er("eventOrder",T.none)],factory:(e,t)=>{const o=(t,o,n,r)=>{const a=e.lazySink(t).getOrDie();Du.openWhileCloaked(t,o,(()=>eu.positionWithinBounds(a,t,n,r()))),qu.setValue(t,T.some({mode:"position",config:n,getBounds:r}))},n=(t,o,n,r)=>{const a=((e,t,o,n,r)=>{const a=()=>e.lazySink(t),s="horizontal"===n.type?{layouts:{onLtr:()=>Pl(),onRtl:()=>Bl()}}:{},i=e=>(e=>2===e.length)(e)?s:{};return Cf.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>(Du.close(t),e.onEscape.map((e=>e(t))),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(e,t)=>{eu.positionWithinBounds(a().getOrDie(),t,o,r())},onOpenSubmenu:(e,t,o,n)=>{const r=a().getOrDie();eu.position(r,o,{anchor:{type:"submenu",item:t,...i(n)}})},onRepositionMenu:(e,t,n)=>{const s=a().getOrDie();eu.positionWithinBounds(s,t,o,r()),F(n,(e=>{const t=i(e.triggeringPath);eu.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,o,n,r);Du.open(t,a),qu.setValue(t,T.some({mode:"menu",menu:a}))},r=t=>{Du.isOpen(t)&&qu.getValue(t).each((o=>{switch(o.mode){case"menu":Du.getState(t).each(Cf.repositionMenus);break;case"position":const n=e.lazySink(t).getOrDie();eu.positionWithinBounds(n,t,o.config,o.getBounds())}}))},a={setContent:(e,t)=>{Du.setContent(e,t)},showAt:(e,t,n)=>{const r=T.none;o(e,t,n,r)},showWithinBounds:o,showMenuAt:(e,t,o)=>{n(e,t,o,T.none)},showMenuWithinBounds:n,hide:e=>{Du.isOpen(e)&&(qu.setValue(e,T.none()),Du.close(e))},getContent:e=>Du.getState(e),reposition:r,isOpen:Du.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Ku(e.inlineBehaviours,[Du.config({isPartOf:(t,o,n)=>Pi(o,n)||((t,o)=>e.getRelated(t).exists((e=>Pi(e,o))))(t,n),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),qu.config({store:{mode:"memory",initialValue:T.none()}}),Xl.config({channels:{...zu({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Nu({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:r})}})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:(e,t,o,n)=>{e.showAt(t,o,n)},showWithinBounds:(e,t,o,n,r)=>{e.showWithinBounds(t,o,n,r)},showMenuAt:(e,t,o,n)=>{e.showMenuAt(t,o,n)},showMenuWithinBounds:(e,t,o,n,r)=>{e.showMenuWithinBounds(t,o,n,r)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});var Df=tinymce.util.Tools.resolve("tinymce.util.Delay");const Af=Xh({name:"Button",factory:e=>{const t=Gg(e.action),o=e.dom.tag,n=t=>ye(e.dom,"attributes").bind((e=>ye(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Qu(e.buttonBehaviours,[Bg.config({}),xg.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:(()=>{if("button"===o){return{type:n("type").getOr("button"),...n("role").map((e=>({role:e}))).getOr({})}}return{role:e.role.getOr(n("role").getOr("button"))}})()},eventOrder:e.eventOrder}},configFields:[Er("uid",void 0),cr("dom"),Er("components",[]),Xu("buttonBehaviours",[Bg,xg]),br("action"),br("role"),Er("eventOrder",{})]}),Tf=e=>{const t=(e=>void 0!==e.uid)(e)&&ve(e,"uid")?e.uid:Cs("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var Of=tinymce.util.Tools.resolve("tinymce.util.I18n");const Mf={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},zf="temporary-placeholder",Rf=e=>()=>ye(e,zf).getOr("!not found!"),Nf=(e,t)=>{const o=e.toLowerCase();if(Of.isRtl()){const e=((e,t)=>Te(e,t)?e:((e,t)=>e+t)(e,t))(o,"-rtl");return be(t,e)?e:o}return o},If=(e,t)=>ye(t,Nf(e,t)),Lf=(e,t)=>{const o=t();return If(e,o).getOrThunk(Rf(o))},Pf=()=>Rg("add-focusable",[ss((e=>{Mi(e.element,"svg").each((e=>kt(e,"focusable","false")))}))]),Bf=(e,t,o,n)=>{var r,a;const s=(e=>!!Of.isRtl()&&be(Mf,e))(t)?["tox-icon--flip"]:[],i=ye(o,Nf(t,o)).or(n).getOrThunk(Rf(o));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(s),innerHtml:i},behaviours:Zl([...null!==(a=e.behaviours)&&void 0!==a?a:[],Pf()])}},Hf=(e,t,o,n=T.none())=>Bf(t,e,o(),n),Ff={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Vf=Xh({name:"Notification",factory:e=>{const t=Tf({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Zl([zg.config({})])}),o=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),n=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),r=Tf({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},n(0)],behaviours:Zl([zg.config({})])}),a={updateProgress:(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{zg.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(t)]},n(t)])}))},updateText:(e,o)=>{if(e.getSystem().isConnected()){const n=t.get(e);zg.set(n,[_i(o)])}}},s=q([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>T.from(Ff[e]))).toArray()]),i=Tf(Af.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Hf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),l=((e,t,o)=>{const n=o(),r=Z(e,(e=>be(n,Nf(e,n))));return Bf(t,r.getOr(zf),n,T.none())})(s,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),c=[l,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Zl([zg.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Zl([Bg.config({}),Rg("notification-events",[Qa(ra(),(e=>{i.getOpt(e).each(Bg.focus)}))])]),components:c.concat(e.progress?[r.asSpec()]:[]).concat(e.closeButton?[i.asSpec()]:[]),apis:a}},configFields:[br("level"),cr("progress"),br("icon"),cr("onAction"),cr("text"),cr("iconProvider"),cr("translationProvider"),Mr("closeButton",!0)],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var jf,Uf,Wf=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Zf=tinymce.util.Tools.resolve("tinymce.EditorManager"),$f=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(jf||(jf={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Uf||(Uf={}));const qf=e=>t=>t.options.get(e),Yf=e=>t=>T.from(e(t)),Gf=e=>{const t=$f.deviceType.isPhone(),o=$f.deviceType.isTablet()||t,n=e.options.register,r=e=>a(e)||!1===e,s=e=>a(e)||g(e);n("skin",{processor:e=>a(e)||!1===e,default:"oxide"}),n("skin_url",{processor:"string"}),n("height",{processor:s,default:Math.max(e.getElement().offsetHeight,400)}),n("width",{processor:s,default:Wf.DOM.getStyle(e.getElement(),"width")}),n("min_height",{processor:"number",default:100}),n("min_width",{processor:"number"}),n("max_height",{processor:"number"}),n("max_width",{processor:"number"}),n("style_formats",{processor:"object[]"}),n("style_formats_merge",{processor:"boolean",default:!1}),n("style_formats_autohide",{processor:"boolean",default:!1}),n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),n("font_size_input_default_unit",{processor:"string",default:"pt"}),n("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),n("content_langs",{processor:"object[]"}),n("removed_menuitems",{processor:"string",default:""}),n("menubar",{processor:e=>a(e)||d(e),default:!t}),n("menu",{processor:"object",default:{}}),n("toolbar",{processor:e=>d(e)||a(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),P(9,(e=>{n("toolbar"+(e+1),{processor:"string"})})),n("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"}),n("toolbar_groups",{processor:"object",default:{}}),n("toolbar_location",{processor:"string",default:Uf.auto}),n("toolbar_persist",{processor:"boolean",default:!1}),n("toolbar_sticky",{processor:"boolean",default:e.inline}),n("toolbar_sticky_offset",{processor:"number",default:0}),n("fixed_toolbar_container",{processor:"string",default:""}),n("fixed_toolbar_container_target",{processor:"object"}),n("ui_mode",{processor:"string",default:"combined"}),n("file_picker_callback",{processor:"function"}),n("file_picker_validator_handler",{processor:"function"}),n("file_picker_types",{processor:"string"}),n("typeahead_urls",{processor:"boolean",default:!0}),n("anchor_top",{processor:r,default:"#top"}),n("anchor_bottom",{processor:r,default:"#bottom"}),n("draggable_modal",{processor:"boolean",default:!1}),n("statusbar",{processor:"boolean",default:!0}),n("elementpath",{processor:"boolean",default:!0}),n("branding",{processor:"boolean",default:!0}),n("promotion",{processor:"boolean",default:!0}),n("resize",{processor:e=>"both"===e||d(e),default:!$f.deviceType.isTouch()}),n("sidebar_show",{processor:"string"})},Kf=qf("readonly"),Xf=qf("height"),Qf=qf("width"),Jf=Yf(qf("min_width")),ey=Yf(qf("min_height")),ty=Yf(qf("max_width")),oy=Yf(qf("max_height")),ny=Yf(qf("style_formats")),ry=qf("style_formats_merge"),ay=qf("style_formats_autohide"),sy=qf("content_langs"),iy=qf("removed_menuitems"),ly=qf("toolbar_mode"),cy=qf("toolbar_groups"),dy=qf("toolbar_location"),uy=qf("fixed_toolbar_container"),hy=qf("fixed_toolbar_container_target"),py=qf("toolbar_persist"),my=qf("toolbar_sticky_offset"),gy=qf("menubar"),fy=qf("toolbar"),yy=qf("file_picker_callback"),by=qf("file_picker_validator_handler"),vy=qf("font_size_input_default_unit"),_y=qf("file_picker_types"),wy=qf("typeahead_urls"),ky=qf("anchor_top"),xy=qf("anchor_bottom"),Sy=qf("draggable_modal"),Cy=qf("statusbar"),Ey=qf("elementpath"),Dy=qf("branding"),Ay=qf("resize"),Ty=qf("paste_as_text"),Oy=qf("sidebar_show"),My=qf("promotion"),zy=e=>!1===e.options.get("skin"),Ry=e=>!1!==e.options.get("menubar"),Ny=e=>{const t=e.options.get("skin_url");if(zy(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return Zf.baseURL+"/skins/ui/"+t}},Iy=e=>e.options.get("line_height_formats").split(" "),Ly=e=>{const t=fy(e),o=a(t),n=l(t)&&t.length>0;return!By(e)&&(n||o||!0===t)},Py=e=>{const t=P(9,(t=>e.options.get("toolbar"+(t+1)))),o=j(t,a);return Se(o.length>0,o)},By=e=>Py(e).fold((()=>{const t=fy(e);return f(t,a)&&t.length>0}),A),Hy=e=>dy(e)===Uf.bottom,Fy=e=>{var t;if(!e.inline)return T.none();const o=null!==(t=uy(e))&&void 0!==t?t:"";if(o.length>0)return zi(vt(),o);const n=hy(e);return p(n)?T.some(Ne.fromDom(n)):T.none()},Vy=e=>e.inline&&Fy(e).isSome(),jy=e=>Fy(e).getOrThunk((()=>mt(pt(Ne.fromDom(e.getElement()))))),Uy=e=>e.inline&&!Ry(e)&&!Ly(e)&&!By(e),Wy=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Vy(e)&&!Uy(e),Zy=e=>!Vy(e)&&"split"===e.options.get("ui_mode"),$y=e=>{const t=e.options.get("menu");return ce(t,(e=>({...e,items:e.items})))};var qy=Object.freeze({__proto__:null,get ToolbarMode(){return jf},get ToolbarLocation(){return Uf},register:Gf,getSkinUrl:Ny,isReadOnly:Kf,isSkinDisabled:zy,getHeightOption:Xf,getWidthOption:Qf,getMinWidthOption:Jf,getMinHeightOption:ey,getMaxWidthOption:ty,getMaxHeightOption:oy,getUserStyleFormats:ny,shouldMergeStyleFormats:ry,shouldAutoHideStyleFormats:ay,getLineHeightFormats:Iy,getContentLanguages:sy,getRemovedMenuItems:iy,isMenubarEnabled:Ry,isMultipleToolbars:By,isToolbarEnabled:Ly,isToolbarPersist:py,getMultipleToolbarsOption:Py,getUiContainer:jy,useFixedContainer:Vy,isSplitUiMode:Zy,getToolbarMode:ly,isDraggableModal:Sy,isDistractionFree:Uy,isStickyToolbar:Wy,getStickyToolbarOffset:my,getToolbarLocation:dy,isToolbarLocationBottom:Hy,getToolbarGroups:cy,getMenus:$y,getMenubar:gy,getToolbar:fy,getFilePickerCallback:yy,getFilePickerTypes:_y,useTypeaheadUrls:wy,getAnchorTop:ky,getAnchorBottom:xy,getFilePickerValidatorHandler:by,getFontSizeInputDefaultUnit:vy,useStatusBar:Cy,useElementPath:Ey,promotionEnabled:My,useBranding:Dy,getResize:Ay,getPasteAsText:Ty,getSidebarShow:Oy});const Yy="[data-mce-autocompleter]",Gy=e=>Ri(e,Yy),Ky=(e,t)=>{const o=(e,t)=>{Wa(e,sa(),{raw:t})},n=()=>e.getMenu().bind(Dp.getHighlighted);t.on("keydown",(t=>{const r=t.which;e.isActive()&&(e.isMenuOpen()?13===r?(n().each(Za),t.preventDefault()):40===r?(n().fold((()=>{e.getMenu().each(Dp.highlightFirst)}),(e=>{o(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==r&&38!==r&&39!==r||n().each((e=>{o(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==r&&38!==r&&40!==r||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&Gy(Ne.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))};var Xy;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(Xy||(Xy={}));var Qy=Xy;const Jy="tox-menu-nav__js",eb="tox-collection__item",tb="tox-swatch",ob={normal:Jy,color:tb},nb="tox-collection__item--enabled",rb="tox-collection__item-icon",ab="tox-collection__item-label",sb="tox-collection__item-caret",ib="tox-collection__item--active",lb="tox-collection__item-container",cb="tox-collection__item-container--row",db=e=>ye(ob,e).getOr(Jy),ub=e=>"color"===e?"tox-swatches":"tox-menu",hb=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:ub(e),tieredMenu:"tox-tiered-menu"}),pb=e=>{const t=hb(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:db(e)}},mb=(e,t,o)=>{const n=hb(o);return{tag:"div",classes:q([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}},gb=[ff.parts.items({})],fb=(e,t,o)=>{const n=hb(o);return{dom:{tag:"div",classes:q([[n.tieredMenu]])},markers:pb(o)}},yb=_([br("data"),Er("inputAttributes",{}),Er("inputStyles",{}),Er("tag","input"),Er("inputClasses",[]),Qi("onSetValue"),Er("styles",{}),Er("eventOrder",{}),Yu("inputBehaviours",[qu,Bg]),Er("selectOnFocus",!0)]),bb=e=>Zl([Bg.config({onFocus:e.selectOnFocus?e=>{const t=e.element,o=ii(t);t.dom.setSelectionRange(0,o.length)}:y})]),vb=e=>({...bb(e),...Ku(e.inputBehaviours,[qu.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>ii(e.element),setValue:(e,t)=>{ii(e.element)!==t&&li(e.element,t)}},onSetValue:e.onSetValue})])}),_b=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),wb=Xh({name:"Input",configFields:yb(),factory:(e,t)=>({uid:e.uid,dom:_b(e),components:[],behaviours:vb(e),eventOrder:e.eventOrder})}),kb=bs("refetch-trigger-event"),xb=bs("redirect-menu-item-interaction"),Sb="tox-menu__searcher",Cb=e=>zi(e.element,`.${Sb}`).bind((t=>e.getSystem().getByDom(t).toOptional())),Eb=Cb,Db=e=>({fetchPattern:qu.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Ab=e=>{const t=(e,t)=>(t.cut(),T.none()),o=(e,t)=>{const o={interactionEvent:t.event,eventType:t.event.raw.type};return Wa(e,xb,o),T.some(!0)},n="searcher-events";return{dom:{tag:"div",classes:[eb]},components:[wb.sketch({inputClasses:[Sb,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Zl([Rg(n,[Qa(la(),(e=>{Ua(e,kb)})),Qa(sa(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),xg.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[n,xg.name()]}})]}},Tb="tox-collection--results__js",Ob=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:bs("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Mb=(e,t)=>o=>{const n=B(o,t);return H(n,(t=>({dom:e,components:t})))},zb=(e,t)=>{const o=[];let n=[];return F(e,((e,r)=>{t(e,r)?(n.length>0&&o.push(n),n=[],(be(e.dom,"innerHtml")||e.components&&e.components.length>0)&&n.push(e)):n.push(e)})),n.length>0&&o.push(n),H(o,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Rb=(e,t,o)=>ff.parts.items({preprocess:n=>{const r=H(n,o);return"auto"!==e&&e>1?Mb({tag:"div",classes:["tox-collection__group"]},e)(r):zb(r,((e,o)=>"separator"===t[o].type))}}),Nb=(e,t,o=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Rb(e,t,w)]}),Ib=e=>L(e,(e=>"icon"in e&&void 0!==e.icon)),Lb=e=>(console.error(nr(e)),console.log(e),T.none()),Pb=(e,t,o,n,r)=>{const a=(s=o,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ff.parts.items({preprocess:e=>zb(e,((e,t)=>"separator"===s[t].type))})]});var s;return{value:e,dom:a.dom,components:a.components,items:o}},Bb=(e,t,o,n,r)=>{const a=()=>"searchable"!==r.menuType?Nb(n,o):"search-with-field"===r.searchMode.searchMode?((e,t,o)=>{const n=bs("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Ab({i18n:Of.translate,placeholder:o.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],Tb],attributes:{id:n}},components:[Rb(e,t,Ob)]}]}})(n,o,r.searchMode):((e,t,o=!0)=>{const n=bs("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Tb].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[Rb(e,t,Ob)]}})(n,o);if("color"===r.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ff.parts.items({preprocess:"auto"!==e?Mb({tag:"div",classes:["tox-swatches__row"]},e):w})]}]}))(n);return{value:e,dom:t.dom,components:t.components,items:o}}if("normal"===r.menuType&&"auto"===n){const t=Nb(n,o);return{value:e,dom:t.dom,components:t.components,items:o}}if("normal"===r.menuType||"searchable"===r.menuType){const t=a();return{value:e,dom:t.dom,components:t.components,items:o}}if("listpreview"===r.menuType&&"auto"!==n){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ff.parts.items({preprocess:Mb({tag:"div",classes:["tox-collection__group"]},e)})]}))(n);return{value:e,dom:t.dom,components:t.components,items:o}}return{value:e,dom:mb(t,n,r.menuType),components:gb,items:o}},Hb=hr("type"),Fb=hr("name"),Vb=hr("label"),jb=hr("text"),Ub=hr("title"),Wb=hr("icon"),Zb=hr("value"),$b=mr("fetch"),qb=mr("getSubmenuItems"),Yb=mr("onAction"),Gb=mr("onItemAction"),Kb=zr("onSetup",(()=>y)),Xb=wr("name"),Qb=wr("text"),Jb=wr("icon"),ev=wr("tooltip"),tv=wr("label"),ov=wr("shortcut"),nv=xr("select"),rv=Mr("active",!1),av=Mr("borderless",!1),sv=Mr("enabled",!0),iv=Mr("primary",!1),lv=e=>Er("columns",e),cv=Er("meta",{}),dv=zr("onAction",y),uv=e=>Tr("type",e),hv=e=>sr("name","name",kn((()=>bs(`${e}-name`))),Zn),pv=Pn([Hb,Qb]),mv=Pn([uv("autocompleteitem"),rv,sv,cv,Zb,Qb,Jb]),gv=[sv,ev,Jb,Qb,Kb],fv=Pn([Hb,Yb].concat(gv)),yv=e=>er("toolbarbutton",fv,e),bv=[rv].concat(gv),vv=Pn(bv.concat([Hb,Yb])),_v=e=>er("ToggleButton",vv,e),wv=[zr("predicate",D),Or("scope","node",["node","editor"]),Or("position","selection",["node","selection","line"])],kv=gv.concat([uv("contextformbutton"),iv,Yb,ir("original",w)]),xv=bv.concat([uv("contextformbutton"),iv,Yb,ir("original",w)]),Sv=gv.concat([uv("contextformbutton")]),Cv=bv.concat([uv("contextformtogglebutton")]),Ev=rr("type",{contextformbutton:kv,contextformtogglebutton:xv}),Dv=Pn([uv("contextform"),zr("initValue",_("")),tv,yr("commands",Ev),vr("launch",rr("type",{contextformbutton:Sv,contextformtogglebutton:Cv}))].concat(wv)),Av=Pn([uv("contexttoolbar"),hr("items")].concat(wv)),Tv=[Hb,hr("src"),wr("alt"),Rr("classes",[],Zn)],Ov=Pn(Tv),Mv=[Hb,jb,Xb,Rr("classes",["tox-collection__item-label"],Zn)],zv=Pn(Mv),Rv=Nn((()=>Xn("type",{cardimage:Ov,cardtext:zv,cardcontainer:Nv}))),Nv=Pn([Hb,Tr("direction","horizontal"),Tr("align","left"),Tr("valign","middle"),yr("items",Rv)]),Iv=[sv,Qb,ov,(Lv="menuitem",sr("value","value",kn((()=>bs(`${Lv}-value`))),jn())),cv];var Lv;const Pv=Pn([Hb,tv,yr("items",Rv),Kb,dv].concat(Iv)),Bv=Pn([Hb,rv,Jb].concat(Iv)),Hv=[Hb,hr("fancytype"),dv],Fv=[Er("initData",{})].concat(Hv),Vv=[xr("select"),Nr("initData",{},[Mr("allowCustomColors",!0),Tr("storageKey","default"),Sr("colors",jn())])].concat(Hv),jv=rr("fancytype",{inserttable:Fv,colorswatch:Vv}),Uv=Pn([Hb,Kb,dv,Jb].concat(Iv)),Wv=Pn([Hb,qb,Kb,Jb].concat(Iv)),Zv=Pn([Hb,Jb,rv,Kb,Yb].concat(Iv)),$v=(e,t,o)=>{const n=kd(e.element,"."+o);if(n.length>0){const e=$(n,(e=>{const o=e.dom.getBoundingClientRect().top,r=n[0].dom.getBoundingClientRect().top;return Math.abs(o-r)>t})).getOr(n.length);return T.some({numColumns:e,numRows:Math.ceil(n.length/e)})}return T.none()},qv=(e,t)=>Zl([Rg(e,t)]),Yv=e=>qv(bs("unnamed-events"),e),Gv=bs("tooltip.exclusive"),Kv=bs("tooltip.show"),Xv=bs("tooltip.hide"),Qv=(e,t,o)=>{e.getSystem().broadcastOn([Gv],{})};var Jv=Object.freeze({__proto__:null,hideAllExclusive:Qv,setComponents:(e,t,o,n)=>{o.getTooltip().each((e=>{e.getSystem().isConnected()&&zg.set(e,n)}))}});var e_=Object.freeze({__proto__:null,events:(e,t)=>{const o=o=>{t.getTooltip().each((n=>{uu(n),e.onHide(o,n),t.clearTooltip()})),t.clearTimer()};return Ga(q([[Qa(Kv,(o=>{t.resetTimer((()=>{(o=>{if(!t.isShowing()){Qv(o);const n=e.lazySink(o).getOrDie(),r=o.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ga("normal"===e.mode?[Qa(na(),(e=>{Ua(o,Kv)})),Qa(ta(),(e=>{Ua(o,Xv)}))]:[]),behaviours:Zl([zg.config({})])});t.setTooltip(r),lu(n,r),e.onShow(o,r),eu.position(n,r,{anchor:e.anchor(o)})}})(o)}),e.delay)})),Qa(Xv,(n=>{t.resetTimer((()=>{o(n)}),e.delay)})),Qa(_a(),((e,t)=>{const n=t;n.universal||I(n.channels,Gv)&&o(e)})),is((e=>{o(e)}))],"normal"===e.mode?[Qa(ra(),(e=>{Ua(e,Kv)})),Qa(ba(),(e=>{Ua(e,Xv)})),Qa(na(),(e=>{Ua(e,Kv)})),Qa(ta(),(e=>{Ua(e,Xv)}))]:[Qa(Va(),((e,t)=>{Ua(e,Kv)})),Qa(ja(),(e=>{Ua(e,Xv)}))]]))}}),t_=[cr("lazySink"),cr("tooltipDom"),Er("exclusive",!0),Er("tooltipComponents",[]),Er("delay",300),Or("mode","normal",["normal","follow-highlight"]),Er("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:_([Ol,Tl,Cl,Dl,El,Al]),onRtl:_([Ol,Tl,Cl,Dl,El,Al])}}))),Qi("onHide"),Qi("onShow")];var o_=Object.freeze({__proto__:null,init:()=>{const e=kc(),t=kc(),o=()=>{e.on(clearTimeout)},n=_("not-implemented");return Ls({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:o,resetTimer:(t,n)=>{o(),e.set(setTimeout(t,n))},readState:n})}});const n_=ql({fields:t_,name:"tooltipping",active:e_,state:o_,apis:Jv}),r_="silver.readonly",a_=Pn([(s_="readonly",dr(s_,$n))]);var s_;const i_=(e,t)=>{const o=e.mainUi.outerContainer.element,n=[e.mainUi.mothership,...e.uiMotherships];t&&F(n,(e=>{e.broadcastOn([Au()],{target:o})})),F(n,(e=>{e.broadcastOn([r_],{readonly:t})}))},l_=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&i_(t,!0)})),e.on("SwitchMode",(()=>i_(t,e.mode.isReadOnly()))),Kf(e)&&e.mode.set("readonly")},c_=()=>Xl.config({channels:{[r_]:{schema:a_,onReceive:(e,t)=>{fp.set(e,t.readonly)}}}}),d_=e=>fp.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),u_=e=>fp.config({disabled:e}),h_=e=>fp.config({disabled:e,disableClass:"tox-tbtn--disabled"}),p_=e=>fp.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),m_=(e,t)=>{const o=e.getApi(t);return e=>{e(o)}},g_=(e,t)=>ss((o=>{m_(e,o)((o=>{const n=e.onSetup(o);m(n)&&t.set(n)}))})),f_=(e,t)=>is((o=>m_(e,o)(t.get()))),y_=(e,t)=>cs(((o,n)=>{m_(e,o)(e.onAction),e.triggersSubmenu||t!==Qy.CLOSE_ON_EXECUTE||(o.getSystem().isConnected()&&Ua(o,Ca()),n.stop())})),b_={[wa()]:["disabling","alloy.base.behaviour","toggling","item-events"]},v_=we,__=(e,t,o,n)=>{const r=Ir(y);return{type:"item",dom:t.dom,components:v_(t.optComponents),data:e.data,eventOrder:b_,hasSubmenu:e.triggersSubmenu,itemBehaviours:Zl([Rg("item-events",[y_(e,o),g_(e,r),f_(e,r)]),d_((()=>!e.enabled||n.isDisabled())),c_(),zg.config({})].concat(e.itemBehaviours))}},w_=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),k_=e=>{const t=$f.os.isMacOS()||$f.os.isiOS(),o=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},n=e.split("+"),r=H(n,(e=>{const t=e.toLowerCase().trim();return be(o,t)?o[t]:e}));return t?r.join(""):r.join("+")},x_=(e,t,o=[rb])=>Hf(e,{tag:"div",classes:o},t),S_=e=>({dom:{tag:"div",classes:[ab]},components:[_i(Of.translate(e))]}),C_=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),E_=(e,t)=>({dom:{tag:"div",classes:[ab]},components:[{dom:{tag:e.tag,styles:e.styles},components:[_i(Of.translate(t))]}]}),D_=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[_i(k_(e))]}),A_=e=>x_("checkmark",e,["tox-collection__item-checkmark"]),T_=(e,t,o)=>{const n=e.ariaLabel,r=e.value,a=e.iconContent.map((e=>((e,t,o)=>{const n=t();return If(e,n).or(o).getOrThunk(Rf(n))})(e,t.icons,o)));return{dom:(()=>{const e=tb,o=a.getOr(""),s=n.map((e=>({title:t.translate(e)}))).getOr({}),i={tag:"div",attributes:s,classes:[e]};return"custom"===r?{...i,tag:"button",classes:[...i.classes,"tox-swatches__picker-btn"],innerHtml:o}:"remove"===r?{...i,classes:[...i.classes,"tox-swatch--remove"],innerHtml:o}:p(r)?{...i,attributes:{...i.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:o}:i})(),optComponents:[]}},O_=e=>{const t=e.map((e=>({attributes:{title:Of.translate(e)}}))).getOr({});return{tag:"div",classes:[Jy,eb],...t}},M_=(e,t,o,n=T.none())=>"color"===e.presets?T_(e,t,n):((e,t,o,n)=>{const r={tag:"div",classes:[rb]},a=o?e.iconContent.map((e=>Hf(e,r,t.icons,n))).orThunk((()=>T.some({dom:r}))):T.none(),s=e.checkMark,i=T.from(e.meta).fold((()=>S_),(e=>be(e,"style")?x(E_,e.style):S_)),l=e.htmlContent.fold((()=>e.textContent.map(i)),(e=>T.some(C_(e,[ab]))));return{dom:O_(e.ariaLabel),optComponents:[a,l,e.shortcutContent.map(D_),s,e.caret]}})(e,t,o,n),z_=(e,t)=>ye(e,"tooltipWorker").map((e=>[n_.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Lc}}),mode:"follow-highlight",onShow:(t,o)=>{e((e=>{n_.setComponents(t,[wi({element:Ne.fromDom(e)})])}))}})])).getOr([]),R_=(e,t)=>{const o=(e=>Wf.DOM.encode(e))(Of.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return o.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return o},N_=(e,t)=>H(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const o="vertical"===e.direction?"tox-collection__item-container--column":cb,n="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[lb,o,n,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,N_(e.items,t));case"cardimage":return((e,t,o)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:o.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const o=e.name.exists((e=>I(t.cardText.highlightOn,e))),n=o?T.from(t.cardText.matchText).getOr(""):"";return C_(R_(e.text,n),e.classes)}})),I_=Oh(cf(),df()),L_=e=>({value:F_(e)}),P_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,B_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,H_=e=>P_.test(e)||B_.test(e),F_=e=>Ee(e,"#").toUpperCase(),V_=e=>{const t=(e=>{const t=e.value.replace(P_,((e,t,o,n)=>t+t+o+o+n+n));return{value:t}})(e),o=B_.exec(t.value);return null===o?["FFFFFF","FF","FF","FF"]:o},j_=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},U_=e=>{const t=j_(e.red)+j_(e.green)+j_(e.blue);return L_(t)},W_=Math.min,Z_=Math.max,$_=Math.round,q_=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Y_=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,G_=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n}),K_=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},X_=e=>{let t,o,n;const r=(e.hue||0)%360;let a=e.saturation/100,s=e.value/100;if(a=Z_(0,W_(a,1)),s=Z_(0,W_(s,1)),0===a)return t=o=n=$_(255*s),G_(t,o,n,1);const i=r/60,l=s*a,c=l*(1-Math.abs(i%2-1)),d=s-l;switch(Math.floor(i)){case 0:t=l,o=c,n=0;break;case 1:t=c,o=l,n=0;break;case 2:t=0,o=l,n=c;break;case 3:t=0,o=c,n=l;break;case 4:t=c,o=0,n=l;break;case 5:t=l,o=0,n=c;break;default:t=o=n=0}return t=$_(255*(t+d)),o=$_(255*(o+d)),n=$_(255*(n+d)),G_(t,o,n,1)},Q_=e=>{const t=V_(e),o=parseInt(t[1],16),n=parseInt(t[2],16),r=parseInt(t[3],16);return G_(o,n,r,1)},J_=(e,t,o,n)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(o,10),i=parseFloat(n);return G_(r,a,s,i)},ew=e=>{if("transparent"===e)return T.some(G_(0,0,0,0));const t=q_.exec(e);if(null!==t)return T.some(J_(t[1],t[2],t[3],"1"));const o=Y_.exec(e);return null!==o?T.some(J_(o[1],o[2],o[3],o[4])):T.none()},tw=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ow=G_(255,0,0,1),nw=(e,t)=>{e.dispatch("ResizeContent",t)},rw=(e,t)=>{e.dispatch("TextColorChange",t)},aw=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});var sw=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const iw={},lw=e=>ye(iw,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,o=sw.getItem(t);if(h(o)){const e=sw.getItem("tinymce-custom-colors");sw.setItem(t,p(e)?e:"[]")}const n=((e,t=10)=>{const o=sw.getItem(e),n=a(o)?JSON.parse(o):[],r=t-(s=n).length<0?s.slice(0,t):s;var s;const i=e=>{r.splice(e,1)};return{add:o=>{N(r,o).each(i),r.unshift(o),r.length>t&&r.pop(),sw.setItem(e,JSON.stringify(r))},state:()=>r.slice(0)}})(t,10);return iw[e]=n,n})),cw=(e,t)=>{lw(e).add(t)},dw=(e,t,o)=>({hue:e,saturation:t,value:o}),uw=e=>{let t=0,o=0,n=0;const r=e.red/255,a=e.green/255,s=e.blue/255,i=Math.min(r,Math.min(a,s)),l=Math.max(r,Math.max(a,s));if(i===l)return n=i,dw(0,0,100*n);return t=r===i?3:s===i?1:5,t=60*(t-(r===i?a-s:s===i?r-a:s-r)/(l-i)),o=(l-i)/l,n=l,dw(Math.round(t),Math.round(100*o),Math.round(100*n))},hw=e=>U_(X_(e)),pw=e=>{return(t=e,H_(t)?T.some({value:F_(t)}):T.none()).orThunk((()=>ew(e).map(U_))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),o.fillStyle="#FFFFFF",o.fillStyle=e,o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data,r=n[0],a=n[1],s=n[2],i=n[3];return U_(G_(r,a,s,i))}));var t},mw="forecolor",gw="hilitecolor",fw=e=>Math.max(5,Math.ceil(Math.sqrt(e))),yw=(e,t)=>{const o=fw(t),n=vw("color_cols")(e);return 5===o?n:o},bw=e=>{const t=[];for(let o=0;o<e.length;o+=2)t.push({text:e[o+1],value:"#"+pw(e[o]).value,icon:"checkmark",type:"choiceitem"});return t},vw=e=>t=>t.options.get(e),_w="#000000",ww=(e,t)=>{const o=((e,t)=>t===mw?vw("color_cols_foreground")(e):t===gw?vw("color_cols_background")(e):vw("color_cols")(e))(e,t);return o>0?o:5},kw=vw("custom_colors"),xw=(e,t)=>t===mw&&e.options.isSet("color_map_foreground")?vw("color_map_foreground")(e):t===gw&&e.options.isSet("color_map_background")?vw("color_map_background")(e):vw("color_map")(e),Sw=vw("color_default_foreground"),Cw=vw("color_default_background"),Ew=e=>Ur(e,(e=>{if(Ue(e)){const t=Rt(e,"background-color");return Se((e=>ew(e).exists((e=>0!==e.alpha)))(t),t)}return T.none()})).getOr("rgba(0, 0, 0, 0)"),Dw=(e,t)=>{const o=Ne.fromDom(e.selection.getStart()),n="hilitecolor"===t?Ew(o):Rt(o,"color");return ew(n).map((e=>"#"+U_(e).value))},Aw=e=>{const t="choiceitem",o={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[o,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[o]},Tw=(e,t,o,n)=>{if("custom"===o){Lw(e)((o=>{o.each((o=>{cw(t,o),e.execCommand("mceApplyTextcolor",t,o),n(o)}))}),Dw(e,t).getOr(_w))}else"remove"===o?(n(""),e.execCommand("mceRemoveTextcolor",t)):(n(o),e.execCommand("mceApplyTextcolor",t,o))},Ow=(e,t,o)=>e.concat((e=>H(lw(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat(Aw(o))),Mw=(e,t,o)=>n=>{n(Ow(e,t,o))},zw=(e,t,o)=>{const n="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(n,o)},Rw=(e,t)=>o=>{const n=Dw(e,t);return _e(n,o.toUpperCase())},Nw=(e,t,o,n,r)=>{e.ui.registry.addSplitButton(t,{tooltip:n,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:Rw(e,o),columns:ww(e,o),fetch:Mw(xw(e,o),o,kw(e)),onAction:t=>{Tw(e,o,r.get(),y)},onItemAction:(n,a)=>{Tw(e,o,a,(o=>{r.set(o),rw(e,{name:t,color:o})}))},onSetup:o=>{zw(o,t,r.get());const n=e=>{e.name===t&&zw(o,e.name,e.color)};return e.on("TextColorChange",n),()=>{e.off("TextColorChange",n)}}})},Iw=(e,t,o,n,r)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:e=>(zw(e,t,r.get()),y),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Rw(e,o),initData:{storageKey:o},onAction:n=>{Tw(e,o,n.value,(o=>{r.set(o),rw(e,{name:t,color:o})}))}}]})},Lw=e=>(t,o)=>{let n=!1;const r={colorpicker:o};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:(e,t)=>{"hex-valid"===t.name&&(n=t.value)},onSubmit:o=>{const r=o.getData().colorpicker;n?(t(T.from(r)),o.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))},onClose:y,onCancel:()=>{t(T.none())}})},Pw=(e,t,o,n,r,a,s,i)=>{const l=Ib(t),c=Bw(t,o,n,"color"!==r?"normal":"color",a,s,i);return Bb(e,l,c,n,{menuType:r})},Bw=(e,t,o,n,r,a,s)=>we(H(e,(i=>{return"choiceitem"===i.type?(l=i,er("choicemenuitem",Bv,l)).fold(Lb,(i=>T.some(((e,t,o,n,r,a,s,i=!0)=>{const l=M_({presets:o,textContent:t?e.text:T.none(),htmlContent:T.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:T.none(),checkMark:t?T.some(A_(s.icons)):T.none(),caret:T.none(),value:e.value},s,i);return _n(__({data:w_(e),enabled:e.enabled,getApi:e=>({setActive:t=>{$g.set(e,t)},isActive:()=>$g.isOn(e),isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t)}),onAction:t=>n(e.value),onSetup:e=>(e.setActive(r),y),triggersSubmenu:!1,itemBehaviours:[]},l,a,s),{toggling:{toggleClass:nb,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(i,1===o,n,t,a(i.value),r,s,Ib(e))))):T.none();var l}))),Hw=(e,t)=>{const o=pb(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};return{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?zi(e.element,"[aria-checked=true]"):T.none()}},Fw=(e,t)=>{const o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>Ow(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o)),(e=>e.concat(Aw(o))))},Vw=bs("cell-over"),jw=bs("cell-execute"),Uw=(e,t,o)=>{const n=o=>Wa(o,jw,{row:e,col:t}),r=(e,t)=>{t.stop(),n(e)};return Si({dom:{tag:"div",attributes:{role:"button","aria-labelledby":o}},behaviours:Zl([Rg("insert-table-picker-cell",[Qa(na(),Bg.focus),Qa(wa(),n),Qa(da(),r),Qa(xa(),r)]),$g.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Bg.config({onFocus:o=>Wa(o,Vw,{row:e,col:t})})])})},Ww=e=>Y(e,(e=>H(e,Ci))),Zw=(e,t)=>_i(`${t}x${e}`),$w={inserttable:e=>{const t=bs("size-label"),o=((e,t,o)=>{const n=[];for(let r=0;r<t;r++){const t=[];for(let n=0;n<o;n++)t.push(Uw(r,n,e));n.push(t)}return n})(t,10,10),n=Zw(0,0),r=Tf({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[n],behaviours:Zl([zg.config({})])});return{type:"widget",data:{value:bs("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[I_.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Ww(o).concat(r.asSpec()),behaviours:Zl([Rg("insert-table-picker",[ss((e=>{zg.set(r.get(e),[n])})),os(Vw,((e,t,n)=>{const{row:a,col:s}=n.event;((e,t,o,n,r)=>{for(let a=0;a<n;a++)for(let n=0;n<r;n++)$g.set(e[a][n],a<=t&&n<=o)})(o,a,s,10,10),zg.set(r.get(e),[Zw(a+1,s+1)])})),os(jw,((t,o,n)=>{const{row:r,col:a}=n.event;e.onAction({numRows:r+1,numColumns:a+1}),Ua(t,Ca())}))]),xg.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const o=Fw(e,t),n=t.colorinput.getColorCols(e.initData.storageKey),r="color",a=Pw(bs("menu-value"),o,(t=>{e.onAction({value:t})}),n,r,Qy.CLOSE_ON_EXECUTE,e.select.getOr(D),t.shared.providers),s={...a,markers:pb(r),movement:Hw(n,r)};return{type:"widget",data:{value:bs("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[I_.widget(ff.sketch(s))]}}},qw=(e,t,o,n,r,a,s,i=!0)=>{const l=M_({presets:n,textContent:T.none(),htmlContent:o?e.text.map((e=>R_(e,t))):T.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:e.value},s.providers,i,e.icon);return __({data:w_(e),enabled:e.enabled,getApi:_({}),onAction:t=>r(e.value,e.meta),onSetup:_(y),triggersSubmenu:!1,itemBehaviours:z_(e.meta,s)},l,a,s.providers)},Yw=e=>({type:"separator",dom:{tag:"div",classes:[eb,"tox-collection__group-heading"]},components:e.text.map(_i).toArray()}),Gw=(e,t,o,n=!0)=>{const r=M_({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,caret:T.none(),checkMark:T.none(),shortcutContent:e.shortcut},o,n);return __({data:w_(e),getApi:e=>({isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,o)},Kw=(e,t,o,n=!0,r=!1)=>{const a=r?(s=o.icons,x_("chevron-down",s,[sb])):(e=>x_("chevron-right",e,[sb]))(o.icons);var s;const i=M_({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,caret:T.some(a),checkMark:T.none(),shortcutContent:e.shortcut},o,n);return __({data:w_(e),getApi:e=>({isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t),setIconFill:(t,o)=>{zi(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{kt(e,"fill",o)}))}}),enabled:e.enabled,onAction:y,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},i,t,o)},Xw=(e,t,o,n=!0)=>{const r=M_({iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,checkMark:T.some(A_(o.icons)),caret:T.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},o,n);return _n(__({data:w_(e),enabled:e.enabled,getApi:e=>({setActive:t=>{$g.set(e,t)},isActive:()=>$g.isOn(e),isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,o),{toggling:{toggleClass:nb,toggleOnExecute:!1,selected:e.active}})},Qw=(e,t)=>ye($w,e.fancytype).map((o=>o(e,t))),Jw=(e,t,o,n)=>{const r={dom:O_(e.label),optComponents:[T.some({dom:{tag:"div",classes:[lb,cb]},components:N_(e.items,n)})]};return __({data:w_({text:T.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>{fp.set(e,!t),F(kd(e.element,"*"),(o=>{e.getSystem().getByDom(o).each((e=>{e.hasConfigured(fp)&&fp.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(n.itemBehaviours).getOr([])},r,t,o.providers)};var ek=Object.freeze({__proto__:null,getCoupled:(e,t,o,n)=>o.getOrCreate(e,t,n),getExistingCoupled:(e,t,o,n)=>o.getExisting(e,t,n)}),tk=[dr("others",Jn(tn.value,jn()))];var ok=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,o)=>{if(0===se(t.others).length)throw new Error("Cannot find any known coupled components");return ye(e,o)},o=_({});return Ls({readState:o,getExisting:(e,o,n)=>t(o,n).orThunk((()=>(ye(o.others,n).getOrDie("No information found for coupled component: "+n),T.none()))),getOrCreate:(o,n,r)=>t(n,r).getOrThunk((()=>{const t=ye(n.others,r).getOrDie("No information found for coupled component: "+r)(o),a=o.getSystem().build(t);return e[r]=a,a}))})}});const nk=ql({fields:tk,name:"coupling",apis:ek,state:ok}),rk=e=>{let t=T.none(),o=[];const n=e=>{r()?s(e):o.push(e)},r=()=>t.isSome(),a=e=>{F(e,s)},s=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{r()||(t=T.some(e),a(o),o=[])})),{get:n,map:e=>rk((t=>{n((o=>{t(e(o))}))})),isReady:r}},ak={nu:rk,pure:e=>rk((t=>{t(e)}))},sk=e=>{setTimeout((()=>{throw e}),0)},ik=e=>{const t=t=>{e().then(t,sk)};return{map:t=>ik((()=>e().then(t))),bind:t=>ik((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>ik((()=>e().then((()=>t.toPromise())))),toLazy:()=>ak.nu(t),toCached:()=>{let t=null;return ik((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},lk=e=>ik((()=>new Promise(e))),ck=e=>ik((()=>Promise.resolve(e))),dk=_("sink"),uk=_(Ch({name:dk(),overrides:_({dom:{tag:"div"},behaviours:Zl([eu.config({useFixed:A})]),events:Ga([ns(sa()),ns(Jr()),ns(da())])})})),hk=(e,t)=>{const o=e.getHotspot(t).getOr(t),n="hotspot",r=e.getAnchorOverrides();return e.layouts.fold((()=>({type:n,hotspot:o,overrides:r})),(e=>({type:n,hotspot:o,overrides:r,layouts:e})))},pk=(e,t,o,n,r,a,s)=>{const i=((e,t,o,n,r,a,s)=>{const i=((e,t,o)=>(0,e.fetch)(o).map(t))(e,t,n),l=yk(n,e);return i.map((e=>e.bind((e=>T.from(Cf.sketch({...a.menu(),uid:Cs(""),data:e,highlightOnOpen:s,onOpenMenu:(e,t)=>{const n=l().getOrDie();eu.position(n,t,{anchor:o}),Du.decloak(r)},onOpenSubmenu:(e,t,o)=>{const n=l().getOrDie();eu.position(n,o,{anchor:{type:"submenu",item:t}}),Du.decloak(r)},onRepositionMenu:(e,t,n)=>{const r=l().getOrDie();eu.position(r,t,{anchor:o}),F(n,(e=>{eu.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(Bg.focus(n),Du.close(r),T.some(!0))}))))))})(e,t,hk(e,o),o,n,r,s);return i.map((e=>(e.fold((()=>{Du.isOpen(n)&&Du.close(n)}),(e=>{Du.cloak(n),Du.open(n,e),a(n)})),n)))},mk=(e,t,o,n,r,a,s)=>(Du.close(n),ck(n)),gk=(e,t,o,n,r,a)=>{const s=nk.getCoupled(o,"sandbox");return(Du.isOpen(s)?mk:pk)(e,t,o,s,n,r,a)},fk=(e,t,o)=>{const n=op.getCurrent(t).getOr(t),r=Kt(e.element);o?Ot(n.element,"min-width",r+"px"):((e,t)=>{Gt.set(e,t)})(n.element,r)},yk=(e,t)=>e.getSystem().getByUid(t.uid+"-"+dk()).map((e=>()=>tn.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>tn.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),bk=e=>{Du.getState(e).each((e=>{Cf.repositionMenus(e)}))},vk=(e,t,o)=>{const n=Ii(),r=yk(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:n.id,role:"listbox"}},behaviours:Qu(e.sandboxBehaviours,[qu.config({store:{mode:"memory",initialValue:t}}),Du.config({onOpen:(r,a)=>{const s=hk(e,t);n.link(t.element),e.matchWidth&&fk(s.hotspot,a,e.useMinWidth),e.onOpen(s,r,a),void 0!==o&&void 0!==o.onOpen&&o.onOpen(r,a)},onClose:(e,r)=>{n.unlink(t.element),void 0!==o&&void 0!==o.onClose&&o.onClose(e,r)},isPartOf:(e,o,n)=>Pi(o,n)||Pi(t,n),getAttachPoint:()=>r().getOrDie()}),op.config({find:e=>Du.getState(e).bind((e=>op.getCurrent(e)))}),Xl.config({channels:{...zu({isExtraPart:D}),...Nu({doReposition:bk})}})])}},_k=e=>{const t=nk.getCoupled(e,"sandbox");bk(t)},wk=()=>[Er("sandboxClasses",[]),Xu("sandboxBehaviours",[op,Xl,Du,qu])],kk=_([cr("dom"),cr("fetch"),Qi("onOpen"),Ji("onExecute"),Er("getHotspot",T.some),Er("getAnchorOverrides",_({})),Yc(),Yu("dropdownBehaviours",[$g,nk,xg,Bg]),cr("toggleClass"),Er("eventOrder",{}),br("lazySink"),Er("matchWidth",!1),Er("useMinWidth",!1),br("role")].concat(wk())),xk=_([Sh({schema:[Gi(),Er("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),uk()]),Sk=Qh({name:"Dropdown",configFields:kk(),partFields:xk(),factory:(e,t,o,n)=>{const r=e=>{Du.getState(e).each((e=>{Cf.highlightPrimary(e)}))},a=(t,o,r)=>gk(e,w,t,n,o,r),s={expand:e=>{$g.isOn(e)||a(e,y,xf.HighlightNone).get(y)},open:e=>{$g.isOn(e)||a(e,y,xf.HighlightMenuAndItem).get(y)},refetch:t=>nk.getExistingCoupled(t,"sandbox").fold((()=>a(t,y,xf.HighlightMenuAndItem).map(y)),(o=>pk(e,w,t,o,n,y,xf.HighlightMenuAndItem).map(y))),isOpen:$g.isOn,close:e=>{$g.isOn(e)&&a(e,y,xf.HighlightMenuAndItem).get(y)},repositionMenus:e=>{$g.isOn(e)&&_k(e)}},i=(e,t)=>(Za(e),T.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:Ku(e.dropdownBehaviours,[$g.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),nk.config({others:{sandbox:t=>vk(e,t,{onOpen:()=>$g.on(t),onClose:()=>$g.off(t)})}}),xg.config({mode:"special",onSpace:i,onEnter:i,onDown:(e,t)=>{if(Sk.isOpen(e)){const t=nk.getCoupled(e,"sandbox");r(t)}else Sk.open(e);return T.some(!0)},onEscape:(e,t)=>Sk.isOpen(e)?(Sk.close(e),T.some(!0)):T.none()}),Bg.config({})]),events:Gg(T.some((e=>{a(e,r,xf.HighlightMenuAndItem).get(y)}))),eventOrder:{...e.eventOrder,[wa()]:["disabling","toggling","alloy.base.behaviour"]},apis:s,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:(l="type",ye(e.dom,"attributes").bind((e=>ye(e,l)))).getOr("button")}:{}}}};var l},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),Ck=e=>{const t=qu.getValue(e),o=Cb(e).map(Db);Sk.refetch(t).get((()=>{const e=nk.getCoupled(t,"sandbox");o.each((t=>Cb(e).each((e=>((e,t)=>{qu.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))},Ek=e=>Du.getState(e).bind(Dp.getHighlighted).bind(Dp.getHighlighted),Dk=(e,t,o)=>{Eb(e).each((e=>{((e,t)=>{Ct(t.element,"id").each((t=>kt(e.element,"aria-activedescendant",t)))})(e,o);var n;(oi((n=t).element,Tb)?T.some(n.element):zi(n.element,"."+Tb)).each((t=>{Ct(t,"id").each((t=>kt(e.element,"aria-controls",t)))}))})),kt(o.element,"aria-selected","true")},Ak=(e,t,o)=>{kt(o.element,"aria-selected","false")},Tk=e=>nk.getExistingCoupled(e,"sandbox").bind(Cb).map(Db).map((e=>e.fetchPattern)).getOr("");var Ok;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(Ok||(Ok={}));const Mk=(e,t,o,n,r)=>{const a=o.shared.providers,s=e=>r?{...e,shortcut:T.none(),icon:e.text.isSome()?T.none():e.icon}:e;switch(e.type){case"menuitem":return(i=e,er("menuitem",Uv,i)).fold(Lb,(e=>T.some(Gw(s(e),t,a,n))));case"nestedmenuitem":return(e=>er("nestedmenuitem",Wv,e))(e).fold(Lb,(e=>T.some(Kw(s(e),t,a,n,r))));case"togglemenuitem":return(e=>er("togglemenuitem",Zv,e))(e).fold(Lb,(e=>T.some(Xw(s(e),t,a,n))));case"separator":return(e=>er("separatormenuitem",pv,e))(e).fold(Lb,(e=>T.some(Yw(e))));case"fancymenuitem":return(e=>er("fancymenuitem",jv,e))(e).fold(Lb,(e=>Qw(e,o)));default:return console.error("Unknown item in general menu",e),T.none()}var i},zk=(e,t,o,n,r,a,s)=>{const i=1===n,l=!i||Ib(e);return we(H(e,(e=>{switch(e.type){case"separator":return(n=e,er("Autocompleter.Separator",pv,n)).fold(Lb,(e=>T.some(Yw(e))));case"cardmenuitem":return(e=>er("cardmenuitem",Pv,e))(e).fold(Lb,(e=>T.some(Jw({...e,onAction:t=>{e.onAction(t),o(e.value,e.meta)}},r,a,{itemBehaviours:z_(e.meta,a),cardText:{matchText:t,highlightOn:s}}))));default:return(e=>er("Autocompleter.Item",mv,e))(e).fold(Lb,(e=>T.some(qw(e,t,i,"normal",o,r,a,l))))}var n})))},Rk=(e,t,o,n,r,a)=>{const s=Ib(t),i=we(H(t,(e=>{const t=e=>Mk(e,o,n,(e=>r?!be(e,"text"):s)(e),r);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(a);return(r?Pb:Bb)(e,s,i,1,l)},Nk=e=>Cf.singleData(e.value,e),Ik=(e,t)=>{const o=Ir(!1),n=Ir(!1),r=Si(Ef.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Zl([Rg("dismissAutocompleter",[Qa(Na(),(()=>c()))])]),lazySink:t.getSink})),a=()=>Ef.isOpen(r),s=n.get,i=()=>{a()&&Ef.hide(r)},l=()=>Ef.getContent(r).bind((e=>te(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),d=n=>{const r=ae(n,(e=>T.from(e.columns))).getOr(1);return Y(n,(n=>{const a=n.items;return zk(a,n.matchText,((t,r)=>{const a=e.selection.getRng();((e,t)=>Gy(Ne.fromDom(t.startContainer)).map((t=>{const o=e.createRng();return o.selectNode(t.dom),o})))(e.dom,a).each((a=>{const s={hide:()=>c(),reload:t=>{i(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};o.set(!0),n.onAction(s,a,t,r),o.set(!1)}))}),r,Qy.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))},u=(t,o)=>{var n;(n=Ne.fromDom(e.getBody()),zi(n,Yy)).each((n=>{const a=ae(t,(e=>T.from(e.columns))).getOr(1);Ef.showMenuAt(r,{anchor:{type:"node",root:Ne.fromDom(e.getBody()),node:T.from(n)}},((e,t,o,n)=>{const r=Hw(t,n),a=pb(n);return{data:Nk({...e,movement:r,menuBehaviours:Yv("auto"!==t?[]:[ss(((e,t)=>{$v(e,4,a.item).each((({numColumns:t,numRows:o})=>{xg.setGridSize(e,o,t)}))}))])}),menu:{markers:pb(n),fakeFocus:o===Ok.ContentFocus}}})(Bb("autocompleter-value",!0,o,a,{menuType:"normal"}),a,Ok.ContentFocus,"normal"))})),l().each(Dp.highlightFirst)},h=e=>{const t=d(e);t.length>0?u(e,t):i()};e.on("AutocompleterStart",(({lookupData:e})=>{n.set(!0),o.set(!1),h(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>h(e))),e.on("AutocompleterEnd",(()=>{i(),n.set(!1),o.set(!1)}));const p={cancelIfNecessary:c,isMenuOpen:a,isActive:s,isProcessingAction:o.get,getMenu:l};Ky(p,e)},Lk=["visible","hidden"],Pk=e=>{if(je(e)){const t=Rt(e,"overflow");return Oe(t).length>0&&!I(Lk,t)}return!1},Bk=(e,t)=>Zy(e)?(e=>{const t=wd(e,Pk);return oe(t).map((e=>({element:e,others:t.slice(1)})))})(t):T.none(),Hk=e=>{const t=[...H(e.others,Yo),Xo()];return((e,t)=>W(t,((e,t)=>Ko(e,t)),e))(Yo(e.element),t)},Fk=(e,t,o)=>Ri(e,t,o).isSome(),Vk=(e,t)=>{let o=null;return{cancel:()=>{null!==o&&(clearTimeout(o),o=null)},schedule:(...n)=>{o=setTimeout((()=>{e.apply(null,n),o=null}),t)}}},jk=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?T.none():T.some(t.touches[0])},Uk=e=>{const t=kc(),o=Ir(!1),n=Vk((t=>{e.triggerEvent(Sa(),t),o.set(!0)}),400),r=Hr([{key:Gr(),value:e=>(jk(e).each((r=>{n.cancel();const a={x:r.clientX,y:r.clientY,target:e.target};n.schedule(e),o.set(!1),t.set(a)})),T.none())},{key:Kr(),value:e=>(n.cancel(),jk(e).each((e=>{t.on((o=>{((e,t)=>{const o=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return o>5||n>5})(e,o)&&t.clear()}))})),T.none())},{key:Xr(),value:r=>{n.cancel();return t.get().filter((e=>Ke(e.target,r.target))).map((t=>o.get()?(r.prevent(),!1):e.triggerEvent(xa(),r)))}}]);return{fireIfReady:(e,t)=>ye(r,t).bind((t=>t(e)))}},Wk=(e,t)=>{const o={stopBackspace:!0,...t},n=Uk(o),r=H(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>Sc(e,t,(e=>{n.fireIfReady(e,t).each((t=>{t&&e.kill()}));o.triggerEvent(t,e)&&e.kill()})))),a=kc(),s=Sc(e,"paste",(e=>{n.fireIfReady(e,"paste").each((t=>{t&&e.kill()}));o.triggerEvent("paste",e)&&e.kill(),a.set(setTimeout((()=>{o.triggerEvent(va(),e)}),0))})),i=Sc(e,"keydown",(e=>{o.triggerEvent("keydown",e)?e.kill():o.stopBackspace&&(e=>e.raw.which===Ap[0]&&!I(["input","textarea"],Fe(e.target))&&!Fk(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=Sc(e,"focusin",(e=>{o.triggerEvent("focusin",e)&&e.kill()})),c=kc(),d=Sc(e,"focusout",(e=>{o.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((()=>{o.triggerEvent(ba(),e)}),0))}));return{unbind:()=>{F(r,(e=>{e.unbind()})),i.unbind(),l.unbind(),d.unbind(),s.unbind(),a.on(clearTimeout),c.on(clearTimeout)}}},Zk=(e,t)=>{const o=ye(e,"target").getOr(t);return Ir(o)},$k=Lr([{stopped:[]},{resume:["element"]},{complete:[]}]),qk=(e,t,o,n,r,a)=>{const s=e(t,n),i=((e,t)=>{const o=Ir(!1),n=Ir(!1);return{stop:()=>{o.set(!0)},cut:()=>{n.set(!0)},isStopped:o.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}})(o,r);return s.fold((()=>(a.logEventNoHandlers(t,n),$k.complete())),(e=>{const o=e.descHandler;return Hs(o)(i),i.isStopped()?(a.logEventStopped(t,e.element,o.purpose),$k.stopped()):i.isCut()?(a.logEventCut(t,e.element,o.purpose),$k.complete()):ot(e.element).fold((()=>(a.logNoParent(t,e.element,o.purpose),$k.complete())),(n=>(a.logEventResponse(t,e.element,o.purpose),$k.resume(n))))}))},Yk=(e,t,o,n,r,a)=>qk(e,t,o,n,r,a).fold(A,(n=>Yk(e,t,o,n,r,a)),D),Gk=(e,t,o)=>{const n=(e=>{const t=Ir(!1);return{stop:()=>{t.set(!0)},cut:y,isStopped:t.get,isCut:D,event:e,setSource:C("Cannot set source of a broadcasted event"),getSource:C("Cannot get source of a broadcasted event")}})(t);return F(e,(e=>{const t=e.descHandler;Hs(t)(n)})),n.isStopped()},Kk=(e,t,o,n,r)=>{const a=Zk(o,n);return Yk(e,t,o,n,a,r)},Xk=()=>{const e={};return{registerId:(t,o,n)=>{le(n,((n,r)=>{const a=void 0!==e[r]?e[r]:{};a[o]=((e,t)=>{return o=x.apply(void 0,[e.handler].concat(t)),n=e.purpose,{cHandler:o,purpose:n};var o,n})(n,t),e[r]=a}))},unregisterId:t=>{le(e,((e,o)=>{be(e,t)&&delete e[t]}))},filterByType:t=>ye(e,t).map((e=>me(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,o,n)=>ye(e,o).bind((e=>Ur(n,(t=>((e,t)=>Ss(t).bind((t=>ye(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}},Qk=()=>{const e=Xk(),t={},o=e=>{const t=e.element;return Ss(t).getOrThunk((()=>((e,t)=>{const o=bs(ws+e);return xs(t,o),o})("uid-",e.element)))},n=o=>{Ss(o.element).each((o=>{delete t[o],e.unregisterId(o)}))};return{find:(t,o,n)=>e.find(t,o,n),filter:t=>e.filterByType(t),register:r=>{const a=o(r);ve(t,a)&&((e,o)=>{const r=t[o];if(r!==e)throw new Error('The tagId "'+o+'" is already used by: '+ms(r.element)+"\nCannot use it for: "+ms(e.element)+"\nThe conflicting element is"+(bt(r.element)?" ":" not ")+"already in the DOM");n(e)})(r,a);const s=[r];e.registerId(s,a,r.events),t[a]=r},unregister:n,getById:e=>ye(t,e)}},Jk=Xh({name:"Container",factory:e=>{const{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...o},components:e.components,behaviours:Gu(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[Er("components",[]),Yu("containerBehaviours",[]),Er("events",{}),Er("domModification",{}),Er("eventOrder",{})]}),ex=e=>{const t=t=>ot(e.element).fold(A,(e=>Ke(t,e))),o=Qk(),n=(e,n)=>o.find(t,e,n),r=Wk(e.element,{triggerEvent:(e,t)=>Ui(e,t.target,(o=>((e,t,o,n)=>Kk(e,t,o,o.target,n))(n,e,t,o)))}),a={debugInfo:_("real"),triggerEvent:(e,t,o)=>{Ui(e,t,(r=>Kk(n,e,o,t,r)))},triggerFocus:(e,t)=>{Ss(e).fold((()=>{Jl(e)}),(o=>{Ui(ya(),e,(o=>(((e,t,o,n,r)=>{const a=Zk(o,n);qk(e,t,o,n,a,r)})(n,ya(),{originator:t,kill:y,prevent:y,target:e},e,o),!1)))}))},triggerEscape:(e,t)=>{a.triggerEvent("keydown",e.element,t.event)},getByUid:e=>m(e),getByDom:e=>g(e),build:Si,buildOrPatch:xi,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{s(e)},removeFromWorld:e=>{i(e)},broadcast:e=>{u(e)},broadcastOn:(e,t)=>{h(e,t)},broadcastEvent:(e,t)=>{p(e,t)},isConnected:A},s=e=>{e.connect(a),We(e.element)||(o.register(e),F(e.components(),s),a.triggerEvent(Da(),e.element,{target:e.element}))},i=e=>{We(e.element)||(F(e.components(),i),o.unregister(e)),e.disconnect()},l=t=>{lu(e,t)},c=e=>{uu(e)},d=e=>{const t=o.filter(_a());F(t,(t=>{const o=t.descHandler;Hs(o)(e)}))},u=e=>{d({universal:!0,data:e})},h=(e,t)=>{d({universal:!1,channels:e,data:t})},p=(e,t)=>{const n=o.filter(e);return Gk(n,t)},m=e=>o.getById(e).fold((()=>tn.error(new Error('Could not find component with uid: "'+e+'" in system.'))),tn.value),g=e=>{const t=Ss(e).getOr("not found");return m(t)};return s(e),{root:e,element:e.element,destroy:()=>{r.unbind(),Bo(e.element)},add:l,remove:c,getByUid:m,getByDom:g,addToWorld:s,removeFromWorld:i,broadcast:u,broadcastOn:h,broadcastEvent:p}},tx=_([Er("prefix","form-field"),Yu("fieldBehaviours",[op,qu])]),ox=_([Ch({schema:[cr("dom")],name:"label"}),Ch({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[cr("text")],name:"aria-descriptor"}),xh({factory:{sketch:e=>{const t=Pr(e,["factory"]);return e.factory.sketch(t)}},schema:[cr("factory")],name:"field"})]),nx=Qh({name:"FormField",configFields:tx(),partFields:ox(),factory:(e,t,o,n)=>{const r=Ku(e.fieldBehaviours,[op.config({find:t=>Ph(t,e,"field")}),qu.config({store:{mode:"manual",getValue:e=>op.getCurrent(e).bind(qu.getValue),setValue:(e,t)=>{op.getCurrent(e).each((e=>{qu.setValue(e,t)}))}}})]),a=Ga([ss(((t,o)=>{const n=Hh(t,e,["label","field","aria-descriptor"]);n.field().each((t=>{const o=bs(e.prefix);n.label().each((e=>{kt(e.element,"for",o),kt(t.element,"id",o)})),n["aria-descriptor"]().each((o=>{const n=bs(e.prefix);kt(o.element,"id",n),kt(t.element,"aria-describedby",n)}))}))}))]),s={getField:t=>Ph(t,e,"field"),getLabel:t=>Ph(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:a,apis:s}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var rx=Object.freeze({__proto__:null,exhibit:(e,t)=>Bs({attributes:Hr([{key:t.tabAttr,value:"true"}])})}),ax=[Er("tabAttr","data-alloy-tabstop")];const sx=ql({fields:ax,name:"tabstopping",active:rx});var ix=tinymce.util.Tools.resolve("tinymce.html.Entities");const lx=(e,t,o,n)=>{const r=cx(e,t,o,n);return nx.sketch(r)},cx=(e,t,o,n)=>({dom:dx(o),components:e.toArray().concat([t]),fieldBehaviours:Zl(n)}),dx=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),ux=(e,t)=>nx.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[_i(t.translate(e))]}),hx=bs("form-component-change"),px=bs("form-close"),mx=bs("form-cancel"),gx=bs("form-action"),fx=bs("form-submit"),yx=bs("form-block"),bx=bs("form-unblock"),vx=bs("form-tabchange"),_x=bs("form-resize"),wx=(e,t,o)=>{const n=e.label.map((e=>ux(e,t))),r=e=>(t,o)=>{Ri(o.event.target,"[data-collection-item-value]").each((n=>{e(t,o,n,St(n,"data-collection-item-value"))}))},a=r(((o,n,r,a)=>{n.stop(),t.isDisabled()||Wa(o,gx,{name:e.name,value:a})})),s=[Qa(na(),r(((e,t,o)=>{Jl(o)}))),Qa(da(),a),Qa(xa(),a),Qa(ra(),r(((e,t,o)=>{zi(e.element,"."+ib).each((e=>{ti(e,ib)})),ei(o,ib)}))),Qa(aa(),r((e=>{zi(e.element,"."+ib).each((e=>{ti(e,ib)}))}))),cs(r(((t,o,n,r)=>{Wa(t,gx,{name:e.name,value:r})})))],i=(e,t)=>H(kd(e.element,".tox-collection__item"),t),l=nx.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:w},behaviours:Zl([fp.config({disabled:t.isDisabled,onDisabled:e=>{i(e,(e=>{ei(e,"tox-collection__item--state-disabled"),kt(e,"aria-disabled",!0)}))},onEnabled:e=>{i(e,(e=>{ti(e,"tox-collection__item--state-disabled"),Dt(e,"aria-disabled")}))}}),c_(),zg.config({}),qu.config({store:{mode:"memory",initialValue:o.getOr([])},onSetValue:(o,n)=>{((o,n)=>{const r=H(n,(o=>{const n=Of.translate(o.text),r=1===e.columns?`<div class="tox-collection__item-label">${n}</div>`:"",a=`<div class="tox-collection__item-icon">${o.icon}</div>`,s={_:" "," - ":" ","-":" "},i=n.replace(/\_| \- |\-/g,(e=>s[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${ix.encodeAllRaw(o.value)}" title="${i}" aria-label="${i}">${a}${r}</div>`})),a="auto"!==e.columns&&e.columns>1?B(r,e.columns):[r],s=H(a,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));us(o.element,s.join(""))})(o,n),"auto"===e.columns&&$v(o,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{xg.setGridSize(o,e,t)})),Ua(o,_x)}}),sx.config({}),xg.config((c=e.columns,d="normal",1===c?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===c?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===d?".tox-swatches__row":".tox-collection__group",cell:"color"===d?`.${tb}`:`.${eb}`}})),Rg("collection-events",s)]),eventOrder:{[wa()]:["disabling","alloy.base.behaviour","collection-events"]}});var c,d;return lx(n,l,["tox-form__group--collection"],[])},kx=["input","textarea"],xx=e=>{const t=Fe(e);return I(kx,t)},Sx=(e,t)=>{const o=t.getRoot(e).getOr(e.element);ti(o,t.invalidClass),t.notify.each((t=>{xx(e.element)&&kt(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{us(e,t.validHtml)})),t.onValid(e)}))},Cx=(e,t,o,n)=>{const r=t.getRoot(e).getOr(e.element);ei(r,t.invalidClass),t.notify.each((t=>{xx(e.element)&&kt(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{us(e,n)})),t.onInvalid(e,n)}))},Ex=(e,t,o)=>t.validator.fold((()=>ck(tn.value(!0))),(t=>t.validate(e))),Dx=(e,t,o)=>(t.notify.each((t=>{t.onValidate(e)})),Ex(e,t).map((o=>e.getSystem().isConnected()?o.fold((o=>(Cx(e,t,0,o),tn.error(o))),(o=>(Sx(e,t),tn.value(o)))):tn.error("No longer in system"))));var Ax=Object.freeze({__proto__:null,markValid:Sx,markInvalid:Cx,query:Ex,run:Dx,isInvalid:(e,t)=>{const o=t.getRoot(e).getOr(e.element);return oi(o,t.invalidClass)}});var Tx=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Ga([Qa(t.onEvent,(t=>{Dx(t,e).get(w)}))].concat(t.validateOnLoad?[ss((t=>{Dx(t,e).get(y)}))]:[])))).getOr({})}),Ox=[cr("invalidClass"),Er("getRoot",T.none),Cr("notify",[Er("aria","alert"),Er("getContainer",T.none),Er("validHtml",""),Qi("onValid"),Qi("onInvalid"),Qi("onValidate")]),Cr("validator",[cr("validate"),Er("onEvent","input"),Er("validateOnLoad",!0)])];const Mx=ql({fields:Ox,name:"invalidating",active:Tx,apis:Ax,extra:{validation:e=>t=>{const o=qu.getValue(t);return ck(e(o))}}});const zx=ql({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Ga([Ka(ma(),A)]),exhibit:()=>Bs({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),Rx=bs("color-input-change"),Nx=bs("color-swatch-change"),Ix=bs("color-picker-cancel"),Lx=(e,t,o,n)=>{const r=nx.parts.field({factory:wb,inputClasses:["tox-textfield"],data:n,onSetValue:e=>Mx.run(e).get(y),inputBehaviours:Zl([fp.config({disabled:t.providers.isDisabled}),c_(),sx.config({}),Mx.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>nt(e.element),notify:{onValid:e=>{const t=qu.getValue(e);Wa(e,Rx,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=qu.getValue(e);if(0===t.length)return ck(tn.value(!0));{const e=Ne.fromTag("span");Ot(e,"background-color",t);const o=It(e,"background-color").fold((()=>tn.error("blah")),(e=>tn.value(t)));return ck(o)}}}})]),selectOnFocus:!1}),a=e.label.map((e=>ux(e,t.providers))),s=(e,t)=>{Wa(e,Nx,{value:t})},i=Tf(((e,t)=>Sk.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Zl([u_(t.providers.isDisabled),c_(),zx.config({}),sx.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:o=>lk((t=>e.fetch(t))).map((n=>T.from(Nk(_n(Pw(bs("menu-value"),n,(t=>{e.onItemAction(o,t)}),e.columns,e.presets,Qy.CLOSE_ON_EXECUTE,D,t.providers),{movement:Hw(e.columns,e.presets)}))))),parts:{menu:fb(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[El,Cl,Ol],onLtr:()=>[Cl,El,Ol]},components:[],fetch:Mw(o.getColors(e.storageKey),e.storageKey,o.hasCustomColors()),columns:o.getColorCols(e.storageKey),presets:"color",onItemAction:(t,n)=>{i.getOpt(t).each((t=>{"custom"===n?o.colorPicker((o=>{o.fold((()=>Ua(t,Ix)),(o=>{s(t,o),cw(e.storageKey,o)}))}),"#ffffff"):s(t,"remove"===n?"":n)}))}},t));return nx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:a.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,i.asSpec()]}]),fieldBehaviours:Zl([Rg("form-field-events",[Qa(Rx,((t,o)=>{i.getOpt(t).each((e=>{Ot(e.element,"background-color",o.event.color)})),Wa(t,hx,{name:e.name})})),Qa(Nx,((e,t)=>{nx.getField(e).each((o=>{qu.setValue(o,t.event.value),op.getCurrent(e).each(Bg.focus)}))})),Qa(Ix,((e,t)=>{nx.getField(e).each((t=>{op.getCurrent(e).each(Bg.focus)}))}))])])})},Px=Ch({schema:[cr("dom")],name:"label"}),Bx=e=>Ch({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Ga([Ja(Gr(),((t,o,n)=>e(t,n)),[t]),Ja(Jr(),((t,o,n)=>e(t,n)),[t]),Ja(ea(),((t,o,n)=>{n.mouseIsDown.get()&&e(t,n)}),[t])])})))}),Hx=Bx("top-left"),Fx=Bx("top"),Vx=Bx("top-right"),jx=Bx("right"),Ux=Bx("bottom-right"),Wx=Bx("bottom"),Zx=Bx("bottom-left"),$x=Bx("left"),qx=xh({name:"thumb",defaults:_({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ga([ts(Gr(),e,"spectrum"),ts(Kr(),e,"spectrum"),ts(Xr(),e,"spectrum"),ts(Jr(),e,"spectrum"),ts(ea(),e,"spectrum"),ts(oa(),e,"spectrum")])})}),Yx=xh({schema:[ir("mouseIsDown",(()=>Ir(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,o=(o,n)=>t.getValueFromEvent(n).map((n=>t.setValueFrom(o,e,n)));return{behaviours:Zl([xg.config({mode:"special",onLeft:o=>t.onLeft(o,e),onRight:o=>t.onRight(o,e),onUp:o=>t.onUp(o,e),onDown:o=>t.onDown(o,e)}),Bg.config({})]),events:Ga([Qa(Gr(),o),Qa(Kr(),o),Qa(Jr(),o),Qa(ea(),((t,n)=>{e.mouseIsDown.get()&&o(t,n)}))])}}});var Gx=[Px,$x,jx,Fx,Wx,Hx,Vx,Zx,Ux,qx,Yx];const Kx=_("slider.change.value"),Xx=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?T.some(e.touches[0]).map((e=>Zt(e.clientX,e.clientY))):T.none()}{const e=t;return void 0!==e.clientX?T.some(e).map((e=>Zt(e.clientX,e.clientY))):T.none()}},Qx=e=>e.model.minX,Jx=e=>e.model.minY,eS=e=>e.model.minX-1,tS=e=>e.model.minY-1,oS=e=>e.model.maxX,nS=e=>e.model.maxY,rS=e=>e.model.maxX+1,aS=e=>e.model.maxY+1,sS=(e,t,o)=>t(e)-o(e),iS=e=>sS(e,oS,Qx),lS=e=>sS(e,nS,Jx),cS=e=>iS(e)/2,dS=e=>lS(e)/2,uS=e=>e.stepSize,hS=e=>e.snapToGrid,pS=e=>e.snapStart,mS=e=>e.rounded,gS=(e,t)=>void 0!==e[t+"-edge"],fS=e=>gS(e,"left"),yS=e=>gS(e,"right"),bS=e=>gS(e,"top"),vS=e=>gS(e,"bottom"),_S=e=>e.model.value.get(),wS=(e,t)=>({x:e,y:t}),kS=(e,t)=>{Wa(e,Kx(),{value:t})},xS=(e,t,o,n)=>e<t?e:e>o?o:e===t?t-1:Math.max(t,e-n),SS=(e,t,o,n)=>e>o?e:e<t?t:e===o?o+1:Math.min(o,e+n),CS=(e,t,o)=>Math.max(t,Math.min(o,e)),ES=e=>{const{min:t,max:o,range:n,value:r,step:a,snap:s,snapStart:i,rounded:l,hasMinEdge:c,hasMaxEdge:d,minBound:u,maxBound:h,screenRange:p}=e,m=c?t-1:t,g=d?o+1:o;if(r<u)return m;if(r>h)return g;{const e=((e,t,o)=>Math.min(o,Math.max(e,t))-t)(r,u,h),c=CS(e/p*n+t,m,g);return s&&c>=t&&c<=o?((e,t,o,n,r)=>r.fold((()=>{const r=e-t,a=Math.round(r/n)*n;return CS(t+a,t-1,o+1)}),(t=>{const r=(e-t)%n,a=Math.round(r/n),s=Math.floor((e-t)/n),i=Math.floor((o-t)/n),l=t+Math.min(i,s+a)*n;return Math.max(t,l)})))(c,t,o,a,i):l?Math.round(c):c}},DS=e=>{const{min:t,max:o,range:n,value:r,hasMinEdge:a,hasMaxEdge:s,maxBound:i,maxOffset:l,centerMinEdge:c,centerMaxEdge:d}=e;return r<t?a?0:c:r>o?s?i:d:(r-t)/n*l},AS="top",TS="right",OS="bottom",MS="left",zS=e=>e.element.dom.getBoundingClientRect(),RS=(e,t)=>e[t],NS=e=>{const t=zS(e);return RS(t,MS)},IS=e=>{const t=zS(e);return RS(t,TS)},LS=e=>{const t=zS(e);return RS(t,AS)},PS=e=>{const t=zS(e);return RS(t,OS)},BS=e=>{const t=zS(e);return RS(t,"width")},HS=e=>{const t=zS(e);return RS(t,"height")},FS=(e,t,o)=>(e+t)/2-o,VS=(e,t)=>{const o=zS(e),n=zS(t),r=RS(o,MS),a=RS(o,TS),s=RS(n,MS);return FS(r,a,s)},jS=(e,t)=>{const o=zS(e),n=zS(t),r=RS(o,AS),a=RS(o,OS),s=RS(n,AS);return FS(r,a,s)},US=(e,t)=>{Wa(e,Kx(),{value:t})},WS=(e,t,o)=>{const n={min:Qx(t),max:oS(t),range:iS(t),value:o,step:uS(t),snap:hS(t),snapStart:pS(t),rounded:mS(t),hasMinEdge:fS(t),hasMaxEdge:yS(t),minBound:NS(e),maxBound:IS(e),screenRange:BS(e)};return ES(n)},ZS=e=>(t,o)=>((e,t,o)=>{const n=(e>0?SS:xS)(_S(o),Qx(o),oS(o),uS(o));return US(t,n),T.some(n)})(e,t,o).map(A),$S=(e,t,o,n,r,a)=>{const s=((e,t,o,n,r)=>{const a=BS(e),s=n.bind((t=>T.some(VS(t,e)))).getOr(0),i=r.bind((t=>T.some(VS(t,e)))).getOr(a),l={min:Qx(t),max:oS(t),range:iS(t),value:o,hasMinEdge:fS(t),hasMaxEdge:yS(t),minBound:NS(e),minOffset:0,maxBound:IS(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:i};return DS(l)})(t,a,o,n,r);return NS(t)-NS(e)+s},qS=ZS(-1),YS=ZS(1),GS=T.none,KS=T.none,XS={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some(((e,t)=>{kS(e,rS(t))})),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some(((e,t)=>{kS(e,eS(t))}))};var QS=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{const n=WS(e,t,o);return US(e,n),n},setToMin:(e,t)=>{const o=Qx(t);US(e,o)},setToMax:(e,t)=>{const o=oS(t);US(e,o)},findValueOfOffset:WS,getValueFromEvent:e=>Xx(e).map((e=>e.left)),findPositionOfValue:$S,setPositionFromValue:(e,t,o,n)=>{const r=_S(o),a=$S(e,n.getSpectrum(e),r,n.getLeftEdge(e),n.getRightEdge(e),o),s=Kt(t.element)/2;Ot(t.element,"left",a-s+"px")},onLeft:qS,onRight:YS,onUp:GS,onDown:KS,edgeActions:XS});const JS=(e,t)=>{Wa(e,Kx(),{value:t})},eC=(e,t,o)=>{const n={min:Jx(t),max:nS(t),range:lS(t),value:o,step:uS(t),snap:hS(t),snapStart:pS(t),rounded:mS(t),hasMinEdge:bS(t),hasMaxEdge:vS(t),minBound:LS(e),maxBound:PS(e),screenRange:HS(e)};return ES(n)},tC=e=>(t,o)=>((e,t,o)=>{const n=(e>0?SS:xS)(_S(o),Jx(o),nS(o),uS(o));return JS(t,n),T.some(n)})(e,t,o).map(A),oC=(e,t,o,n,r,a)=>{const s=((e,t,o,n,r)=>{const a=HS(e),s=n.bind((t=>T.some(jS(t,e)))).getOr(0),i=r.bind((t=>T.some(jS(t,e)))).getOr(a),l={min:Jx(t),max:nS(t),range:lS(t),value:o,hasMinEdge:bS(t),hasMaxEdge:vS(t),minBound:LS(e),minOffset:0,maxBound:PS(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:i};return DS(l)})(t,a,o,n,r);return LS(t)-LS(e)+s},nC=T.none,rC=T.none,aC=tC(-1),sC=tC(1),iC={"top-left":T.none(),top:T.some(((e,t)=>{kS(e,tS(t))})),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some(((e,t)=>{kS(e,aS(t))})),"bottom-left":T.none(),left:T.none()};var lC=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{const n=eC(e,t,o);return JS(e,n),n},setToMin:(e,t)=>{const o=Jx(t);JS(e,o)},setToMax:(e,t)=>{const o=nS(t);JS(e,o)},findValueOfOffset:eC,getValueFromEvent:e=>Xx(e).map((e=>e.top)),findPositionOfValue:oC,setPositionFromValue:(e,t,o,n)=>{const r=_S(o),a=oC(e,n.getSpectrum(e),r,n.getTopEdge(e),n.getBottomEdge(e),o),s=jt(t.element)/2;Ot(t.element,"top",a-s+"px")},onLeft:nC,onRight:rC,onUp:aC,onDown:sC,edgeActions:iC});const cC=(e,t)=>{Wa(e,Kx(),{value:t})},dC=(e,t)=>({x:e,y:t}),uC=(e,t)=>(o,n)=>((e,t,o,n)=>{const r=e>0?SS:xS,a=t?_S(n).x:r(_S(n).x,Qx(n),oS(n),uS(n)),s=t?r(_S(n).y,Jx(n),nS(n),uS(n)):_S(n).y;return cC(o,dC(a,s)),T.some(a)})(e,t,o,n).map(A),hC=uC(-1,!1),pC=uC(1,!1),mC=uC(-1,!0),gC=uC(1,!0),fC={"top-left":T.some(((e,t)=>{kS(e,wS(eS(t),tS(t)))})),top:T.some(((e,t)=>{kS(e,wS(cS(t),tS(t)))})),"top-right":T.some(((e,t)=>{kS(e,wS(rS(t),tS(t)))})),right:T.some(((e,t)=>{kS(e,wS(rS(t),dS(t)))})),"bottom-right":T.some(((e,t)=>{kS(e,wS(rS(t),aS(t)))})),bottom:T.some(((e,t)=>{kS(e,wS(cS(t),aS(t)))})),"bottom-left":T.some(((e,t)=>{kS(e,wS(eS(t),aS(t)))})),left:T.some(((e,t)=>{kS(e,wS(eS(t),dS(t)))}))};var yC=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{const n=WS(e,t,o.left),r=eC(e,t,o.top),a=dC(n,r);return cC(e,a),a},setToMin:(e,t)=>{const o=Qx(t),n=Jx(t);cC(e,dC(o,n))},setToMax:(e,t)=>{const o=oS(t),n=nS(t);cC(e,dC(o,n))},getValueFromEvent:e=>Xx(e),setPositionFromValue:(e,t,o,n)=>{const r=_S(o),a=$S(e,n.getSpectrum(e),r.x,n.getLeftEdge(e),n.getRightEdge(e),o),s=oC(e,n.getSpectrum(e),r.y,n.getTopEdge(e),n.getBottomEdge(e),o),i=Kt(t.element)/2,l=jt(t.element)/2;Ot(t.element,"left",a-i+"px"),Ot(t.element,"top",s-l+"px")},onLeft:hC,onRight:pC,onUp:mC,onDown:gC,edgeActions:fC});const bC=Qh({name:"Slider",configFields:[Er("stepSize",1),Er("onChange",y),Er("onChoose",y),Er("onInit",y),Er("onDragStart",y),Er("onDragEnd",y),Er("snapToGrid",!1),Er("rounded",!0),br("snapStart"),dr("model",rr("mode",{x:[Er("minX",0),Er("maxX",100),ir("value",(e=>Ir(e.mode.minX))),cr("getInitialValue"),ol("manager",QS)],y:[Er("minY",0),Er("maxY",100),ir("value",(e=>Ir(e.mode.minY))),cr("getInitialValue"),ol("manager",lC)],xy:[Er("minX",0),Er("maxX",100),Er("minY",0),Er("maxY",100),ir("value",(e=>Ir({x:e.mode.minX,y:e.mode.minY}))),cr("getInitialValue"),ol("manager",yC)]})),Yu("sliderBehaviours",[xg,qu]),ir("mouseIsDown",(()=>Ir(!1)))],partFields:Gx,factory:(e,t,o,n)=>{const r=t=>Bh(t,e,"thumb"),a=t=>Bh(t,e,"spectrum"),s=t=>Ph(t,e,"left-edge"),i=t=>Ph(t,e,"right-edge"),l=t=>Ph(t,e,"top-edge"),c=t=>Ph(t,e,"bottom-edge"),d=e.model,u=d.manager,h=(t,o)=>{u.setPositionFromValue(t,o,e,{getLeftEdge:s,getRightEdge:i,getTopEdge:l,getBottomEdge:c,getSpectrum:a})},p=(e,t)=>{d.value.set(t);const o=r(e);h(e,o)},m=t=>{const o=e.mouseIsDown.get();e.mouseIsDown.set(!1),o&&Ph(t,e,"thumb").each((o=>{const n=d.value.get();e.onChoose(t,o,n)}))},g=(t,o)=>{o.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,r(t))},f=(t,o)=>{o.stop(),e.onDragEnd(t,r(t)),m(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Ku(e.sliderBehaviours,[xg.config({mode:"special",focusIn:t=>Ph(t,e,"spectrum").map(xg.focusIn).map(A)}),qu.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:p}}),Xl.config({channels:{[Ou()]:{onReceive:m}}})]),events:Ga([Qa(Kx(),((t,o)=>{((t,o)=>{p(t,o);const n=r(t);e.onChange(t,n,o),T.some(!0)})(t,o.event.value)})),ss(((t,o)=>{const n=d.getInitialValue();d.value.set(n);const s=r(t);h(t,s);const i=a(t);e.onInit(t,s,i,d.value.get())})),Qa(Gr(),g),Qa(Xr(),f),Qa(Jr(),g),Qa(oa(),f)]),apis:{resetToMin:t=>{u.setToMin(t,e)},resetToMax:t=>{u.setToMax(t,e)},setValue:p,refresh:h},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),vC=bs("rgb-hex-update"),_C=bs("slider-update"),wC=bs("palette-update"),kC="form",xC=[Yu("formBehaviours",[qu])],SC=e=>"<alloy.field."+e+">",CC=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Ku(e.formBehaviours,[qu.config({store:{mode:"manual",getValue:t=>{const o=Fh(t,e);return ce(o,((e,t)=>e().bind((e=>{const o=op.getCurrent(e);return n=o,r=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+ms(e.element)),n.fold((()=>tn.error(r)),tn.value);var n,r})).map(qu.getValue)))},setValue:(t,o)=>{le(o,((o,n)=>{Ph(t,e,n).each((e=>{op.getCurrent(e).each((e=>{qu.setValue(e,o)}))}))}))}}})]),apis:{getField:(t,o)=>Ph(t,e,o).bind(op.getCurrent)}}),EC={getField:Ns(((e,t,o)=>e.getField(t,o))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,o)=>(e.push(t),zh(kC,SC(t),o)),record:_(e)}})(),o=e(t),n=t.record(),r=H(n,(e=>xh({name:e,pname:SC(e)})));return qh(kC,xC,r,CC,o)}},DC=bs("valid-input"),AC=bs("invalid-input"),TC=bs("validating-input"),OC="colorcustom.rgb.",MC=(e,t,o,n)=>{const r=(o,n)=>Mx.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Wa(e,TC,{type:o})},onValid:e=>{Wa(e,DC,{type:o,value:qu.getValue(e)})},onInvalid:e=>{Wa(e,AC,{type:o,value:qu.getValue(e)})}},validator:{validate:t=>{const o=qu.getValue(t),r=n(o)?tn.value(!0):tn.error(e("aria.input.invalid"));return ck(r)},validateOnLoad:!1}}),a=(o,n,a,s,i)=>{const l=e(OC+"range"),c=nx.parts.label({dom:{tag:"label",attributes:{"aria-label":s}},components:[_i(a)]}),d=nx.parts.field({data:i,factory:wb,inputAttributes:{type:"text",..."hex"===n?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Zl([r(n,o),sx.config({})]),onSetValue:e=>{if(Mx.isInvalid(e)){Mx.run(e).get(y)}}}),u=[c,d],h="hex"!==n?[nx.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:u.concat(h)}},s=(e,t)=>{const o=t.red,n=t.green,r=t.blue;qu.setValue(e,{red:o,green:n,blue:r})},i=Tf({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{i.getOpt(e).each((e=>{Ot(e.element,"background-color","#"+t.value)}))},c=Xh({factory:()=>{const r={red:Ir(T.some(255)),green:Ir(T.some(255)),blue:Ir(T.some(255)),hex:Ir(T.some("ffffff"))},c=e=>r[e].get(),d=(e,t)=>{r[e].set(t)},u=e=>{const t=e.red,o=e.green,n=e.blue;d("red",T.some(t)),d("green",T.some(o)),d("blue",T.some(n))},h=(e,t)=>{const o=t.event;"hex"!==o.type?d(o.type,T.none()):n(e)},p=(e,t,o)=>{const n=parseInt(o,10);d(t,T.some(n)),c("red").bind((e=>c("green").bind((t=>c("blue").map((o=>G_(e,t,o,1))))))).each((t=>{const o=((e,t)=>{const o=U_(t);return EC.getField(e,"hex").each((t=>{Bg.isFocused(t)||qu.setValue(e,{hex:o.value})})),o})(e,t);Wa(e,vC,{hex:o}),l(e,o)}))},m=(e,t)=>{const n=t.event;(e=>"hex"===e.type)(n)?((e,t)=>{o(e);const n=L_(t);d("hex",T.some(n.value));const r=Q_(n);s(e,r),u(r),Wa(e,vC,{hex:n}),l(e,n)})(e,n.value):p(e,n.type,n.value)},g=t=>({label:e(OC+t+".label"),description:e(OC+t+".description")}),f=g("red"),y=g("green"),b=g("blue"),v=g("hex");return _n(EC.sketch((o=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[o.field("red",nx.sketch(a(K_,"red",f.label,f.description,255))),o.field("green",nx.sketch(a(K_,"green",y.label,y.description,255))),o.field("blue",nx.sketch(a(K_,"blue",b.label,b.description,255))),o.field("hex",nx.sketch(a(H_,"hex",v.label,v.description,"ffffff"))),i.asSpec()],formBehaviours:Zl([Mx.config({invalidClass:t("form-invalid")}),Rg("rgb-form-events",[Qa(DC,m),Qa(AC,h),Qa(TC,h)])])}))),{apis:{updateHex:(e,t)=>{qu.setValue(e,{hex:t.value}),((e,t)=>{const o=Q_(t);s(e,o),u(o)})(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,o)=>{e.updateHex(t,o)}},extraApis:{}});return c},zC=(e,t)=>{const o=bC.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),n=bC.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),r=(e,t)=>{const{width:o,height:n}=e,r=e.getContext("2d");if(null===r)return;r.fillStyle=t,r.fillRect(0,0,o,n);const a=r.createLinearGradient(0,0,o,0);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=a,r.fillRect(0,0,o,n);const s=r.createLinearGradient(0,0,0,n);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=s,r.fillRect(0,0,o,n)},a=Xh({factory:e=>{const a=_({x:0,y:0}),s=Zl([op.config({find:T.some}),Bg.config({})]);return bC.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[o,n],onChange:(e,t,o)=>{Wa(e,wC,{value:o})},onInit:(e,t,o,n)=>{r(o.element.dom,tw(ow))},sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,o)=>{((e,t)=>{const o=e.components()[0].element.dom,n=dw(t,100,100),a=X_(n);r(o,tw(a))})(t,o)},setThumb:(e,t,o)=>{((e,t)=>{const o=uw(Q_(t));bC.setValue(e,{x:o.saturation,y:100-o.value})})(t,o)}},extraApis:{}});return a},RC=(e,t)=>{const o=Xh({name:"ColourPicker",configFields:[cr("dom"),Er("onValidHex",y),Er("onInvalidHex",y)],factory:o=>{const n=MC(e,t,o.onValidHex,o.onInvalidHex),r=zC(0,t),a={paletteRgba:Ir(ow),paletteHue:Ir(0)},s=Tf(((e,t)=>{const o=bC.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),n=bC.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return bC.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:_(0)},components:[o,n],sliderBehaviours:Zl([Bg.config({})]),onChange:(e,t,o)=>{Wa(e,_C,{value:o})}})})(0,t)),i=Tf(r.sketch({})),l=Tf(n.sketch({})),c=(e,t,o)=>{i.getOpt(e).each((e=>{r.setHue(e,o)}))},d=(e,t)=>{l.getOpt(e).each((e=>{n.updateHex(e,t)}))},u=(e,t,o)=>{s.getOpt(e).each((e=>{bC.setValue(e,(e=>100-e/360*100)(o))}))},h=(e,t)=>{i.getOpt(e).each((e=>{r.setThumb(e,t)}))},p=(e,t,o,n)=>{((e,t)=>{const o=Q_(e);a.paletteRgba.set(o),a.paletteHue.set(t)})(t,o),F(n,(n=>{n(e,t,o)}))};return{uid:o.uid,dom:o.dom,components:[i.asSpec(),s.asSpec(),l.asSpec()],behaviours:Zl([Rg("colour-picker-events",[Qa(vC,(()=>{const e=[c,u,h];return(t,o)=>{const n=o.event.hex,r=(e=>uw(Q_(e)))(n);p(t,n,r.hue,e)}})()),Qa(wC,(()=>{const e=[d];return(t,o)=>{const n=o.event.value,r=a.paletteHue.get(),s=dw(r,n.x,100-n.y),i=hw(s);p(t,i,r,e)}})()),Qa(_C,(()=>{const e=[c,d];return(t,o)=>{const n=(e=>(100-e)/100*360)(o.event.value),r=a.paletteRgba.get(),s=uw(r),i=dw(n,s.saturation,s.value),l=hw(i);p(t,l,n,e)}})())]),op.config({find:e=>l.getOpt(e)}),xg.config({mode:"acyclic"})])}}});return o},NC=()=>op.config({find:T.some}),IC=e=>op.config({find:e.getOpt}),LC=e=>op.config({find:t=>st(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),PC=Pn([Er("preprocess",w),Er("postprocess",w)]),BC=(e,t,o)=>qu.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:o}}),HC=(e,t,o)=>BC(e,(e=>t(e.element)),((e,t)=>o(e.element,t))),FC=(e,t)=>{const o=or("RepresentingConfigs.memento processors",PC,t);return qu.config({store:{mode:"manual",getValue:t=>{const n=e.get(t),r=qu.getValue(n);return o.postprocess(r)},setValue:(t,n)=>{const r=o.preprocess(n),a=e.get(t);qu.setValue(a,r)}}})},VC=HC,jC=BC,UC=e=>HC(e,ds,us),WC=e=>qu.config({store:{mode:"memory",initialValue:e}}),ZC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},$C=(e,t,o)=>{const n=e=>"tox-"+e,r=RC((e=>t=>e.translate(ZC[t]))(t),n),a=Tf(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{Wa(e,gx,{name:"hex-valid",value:!0})},onInvalidHex:e=>{Wa(e,gx,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Zl([jC(o,(e=>{const t=a.get(e);return op.getCurrent(t).bind((e=>qu.getValue(e).hex)).map((e=>"#"+Ee(e,"#"))).getOr("")}),((e,t)=>{const o=T.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>te(e,1))),n=a.get(e);op.getCurrent(n).fold((()=>{console.log("Can not find form")}),(e=>{qu.setValue(e,{hex:o.getOr("")}),EC.getField(e,"hex").each((e=>{Ua(e,la())}))}))})),NC()])}};var qC=tinymce.util.Tools.resolve("tinymce.Resource");var YC=tinymce.util.Tools.resolve("tinymce.util.Tools");const GC=(e,t,o)=>{const n=(e,t)=>{t.stop()},r=e=>(t,o)=>{F(e,(e=>{e(t,o)}))},a=(e,t)=>{var o;if(!fp.isDisabled(e)){const n=t.event.raw;i(e,null===(o=n.dataTransfer)||void 0===o?void 0:o.files)}},s=(e,t)=>{const o=t.event.raw.target;i(e,o.files)},i=(o,n)=>{n&&(qu.setValue(o,((e,t)=>{const o=YC.explode(t.getOption("images_file_types"));return j(re(e),(e=>L(o,(t=>Te(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(n,t)),Wa(o,hx,{name:e.name}))},l=Tf({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Zl([Rg("input-file-events",[ns(da()),ns(xa())])])}),c=e.label.map((e=>ux(e,t))),d=nx.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Zl([WC(o.getOr([])),NC(),fp.config({}),$g.config({toggleClass:"dragenter",toggleOnExecute:!1}),Rg("dropzone-events",[Qa("dragenter",r([n,$g.toggle])),Qa("dragleave",r([n,$g.toggle])),Qa("dragover",n),Qa("drop",r([n,a])),Qa(ca(),s)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[_i(t.translate("Drop an image here"))]},Af.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[_i(t.translate("Browse for an image")),l.asSpec()],action:e=>{l.get(e).element.dom.click()},buttonBehaviours:Zl([sx.config({}),u_(t.isDisabled),c_()])})]}]})}});return lx(c,d,["tox-form__group--stretched"],[])},KC=bs("alloy-fake-before-tabstop"),XC=bs("alloy-fake-after-tabstop"),QC=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Zl([Bg.config({ignore:!0}),sx.config({})])}),JC=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[QC([KC]),e,QC([XC])],behaviours:Zl([LC(1)])}),eE=(e,t)=>{Wa(e,sa(),{raw:{which:9,shiftKey:t}})},tE=(e,t)=>{const o=t.element;oi(o,KC)?eE(e,!0):oi(o,XC)&&eE(e,!1)},oE=e=>Fk(e,["."+KC,"."+XC].join(","),D),nE=(e,t,o)=>{const n=e.sandboxed,r=e.transparent,a="tox-dialog__iframe",s={...e.label.map((e=>({title:e}))).getOr({}),...o.map((e=>({srcdoc:e}))).getOr({}),...n?{sandbox:"allow-scripts allow-same-origin"}:{}},i=(e=>{const t=Ir(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,o)=>{t.get()!==o&&kt(e.element,"srcdoc",o),t.set(o)}}})(o),l=e.label.map((e=>ux(e,t))),c=nx.parts.field({factory:{sketch:e=>JC({uid:e.uid,dom:{tag:"iframe",attributes:s,classes:r?[a]:[a,`${a}--opaque`]},behaviours:Zl([sx.config({}),Bg.config({}),jC(o,i.getValue,i.setValue)])})}});return lx(l,c,["tox-form__group--stretched"],[])},rE=(e,t)=>{const o=Ir(t.getOr({url:""})),n=Tf({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),r=Tf({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]}),a={};e.height.each((e=>a.height=e));const s=t.map((e=>({url:e.url,zoom:T.from(e.zoom),cachedWidth:T.from(e.cachedWidth),cachedHeight:T.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[r.asSpec()],behaviours:Zl([NC(),jC(s,(()=>o.get()),((e,t)=>{const a={url:t.url};t.zoom.each((e=>a.zoom=e)),t.cachedWidth.each((e=>a.cachedWidth=e)),t.cachedHeight.each((e=>a.cachedHeight=e)),o.set(a);const s=()=>{const{cachedWidth:t,cachedHeight:o,zoom:n}=a;if(!u(t)&&!u(o)){if(u(n)){const n=((e,t,o)=>{const n=Kt(e),r=jt(e);return Math.min(n/t,r/o,1)})(e.element,t,o);a.zoom=n}const s=((e,t,o,n,r)=>{const a=o*r,s=n*r,i=Math.max(0,e/2-a/2),l=Math.max(0,t/2-s/2);return{left:i.toString()+"px",top:l.toString()+"px",width:a.toString()+"px",height:s.toString()+"px"}})(Kt(e.element),jt(e.element),t,o,a.zoom);r.getOpt(e).each((e=>{Mt(e.element,s)}))}};n.getOpt(e).each((o=>{const n=o.element;t.url!==St(n,"src")&&(kt(n,"src",t.url),ti(e.element,"tox-imagepreview__loaded")),s(),(e=>new Promise(((t,o)=>{const n=()=>{a(),t(e)},r=[Sc(e,"load",n),Sc(e,"error",(()=>{a(),o("Unable to load data from image: "+e.dom.src)}))],a=()=>F(r,(e=>e.unbind()));e.dom.complete&&n()})))(n).then((t=>{e.getSystem().isConnected()&&(ei(e.element,"tox-imagepreview__loaded"),a.cachedWidth=t.dom.naturalWidth,a.cachedHeight=t.dom.naturalHeight,s())}))}))}))])}},aE=bs("toolbar.button.execute"),sE=bs("common-button-display-events"),iE={[wa()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[za()]:["toolbar-button-events",sE],[Jr()]:["focusing","alloy.base.behaviour",sE]},lE=e=>Ot(e.element,"width",Rt(e.element,"width")),cE=(e,t,o)=>Hf(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},t),dE=(e,t)=>cE(e,t,[]),uE=(e,t)=>cE(e,t,[zg.config({})]),hE=(e,t,o)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[_i(o.translate(e))],behaviours:Zl([zg.config({})])}),pE=bs("update-menu-text"),mE=bs("update-menu-icon"),gE=(e,t,o)=>{const n=Ir(y),r=e.text.map((e=>Tf(hE(e,t,o.providers)))),a=e.icon.map((e=>Tf(uE(e,o.providers.icons)))),s=(e,t)=>{const o=qu.getValue(e);return Bg.focus(o),Wa(o,"keydown",{raw:t.event.raw}),Sk.close(o),T.some(!0)},i=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=o.providers.translate(e);return{title:t,"aria-label":t}})),c=Hf("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},o.providers.icons),d=bs("common-button-display-events"),u=Tf(Sk.sketch({...e.uid?{uid:e.uid}:{},...i,dom:{tag:"button",classes:[t,`${t}--select`].concat(H(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:v_([a.map((e=>e.asSpec())),r.map((e=>e.asSpec())),T.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,o,n)=>{e.searchable&&(e=>{Eb(e).each((e=>Bg.focus(e)))})(n)},dropdownBehaviours:Zl([...e.dropdownBehaviours,u_((()=>e.disabled||o.providers.isDisabled())),c_(),zx.config({}),zg.config({}),Rg("dropdown-events",[g_(e,n),f_(e,n)]),Rg(d,[ss(((e,t)=>lE(e)))]),Rg("menubutton-update-display-text",[Qa(pE,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{zg.set(e,[_i(o.providers.translate(t.event.text))])}))})),Qa(mE,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{zg.set(e,[uE(t.event.icon,o.providers.icons)])}))}))])]),eventOrder:_n(iE,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[za()]:["toolbar-button-events","dropdown-events",d]}),sandboxBehaviours:Zl([xg.config({mode:"special",onLeft:s,onRight:s}),Rg("dropdown-sandbox-events",[Qa(kb,((e,t)=>{Ck(e),t.stop()})),Qa(xb,((e,t)=>{((e,t)=>{Ek(e).each((o=>{((e,t,o,n)=>{const r={...n,target:t};e.getSystem().triggerEvent(o,t,r)})(e,o.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:o.getSink,toggleClass:`${t}--active`,parts:{menu:{...fb(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:Dk,onCollapseMenu:(e,t,o)=>{Dp.getHighlighted(o).each((t=>{Dk(e,o,t)}))},onDehighlightItem:Ak}},fetch:t=>lk(x(e.fetch,t))}));return u.asSpec()},fE=e=>"separator"===e.type,yE={type:"separator"},bE=(e,t)=>{const o=W(e,((e,o)=>(e=>a(e))(o)?""===o?e:"|"===o?e.length>0&&!fE(e[e.length-1])?e.concat([yE]):e:be(t,o.toLowerCase())?e.concat([t[o.toLowerCase()]]):e:e.concat([o])),[]);return o.length>0&&fE(o[o.length-1])&&o.pop(),o},vE=(e,t)=>{const o=bE(a(e)?e.split(" "):e,t);return U(o,((e,o)=>{if((e=>be(e,"getSubmenuItems"))(o)){const n=(e=>{const t=ye(e,"value").getOrThunk((()=>bs("generated-menu-item")));return _n({value:t},e)})(o),r=((e,t)=>{const o=e.getSubmenuItems(),n=vE(o,t);return{item:e,menus:_n(n.menus,{[e.value]:n.items}),expansions:_n(n.expansions,{[e.value]:e.value})}})(n,t);return{menus:_n(e.menus,r.menus),items:[r.item,...e.items],expansions:_n(e.expansions,r.expansions)}}return{...e,items:[o,...e.items]}}),{menus:{},expansions:{},items:[]})},_E=(e,t,o,n)=>{const r=bs("primary-menu"),a=vE(e,o.shared.providers.menuItems());if(0===a.items.length)return T.none();const s=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(n),i=Rk(r,a.items,t,o,n.isHorizontalMenu,s),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(n),c=ce(a.menus,((e,n)=>Rk(n,e,t,o,!1,l))),d=_n(c,Br(r,i));return T.from(Cf.tieredData(r,d,a.expansions))},wE=e=>!be(e,"items"),kE="data-value",xE=(e,t,o,n)=>H(o,(o=>wE(o)?{type:"togglemenuitem",text:o.text,value:o.value,active:o.value===n,onAction:()=>{qu.setValue(e,o.value),Wa(e,hx,{name:t}),Bg.focus(e)}}:{type:"nestedmenuitem",text:o.text,getSubmenuItems:()=>xE(e,t,o.items,n)})),SE=(e,t)=>ae(e,(e=>wE(e)?Se(e.value===t,e):SE(e.items,t))),CE=Xh({name:"HtmlSelect",configFields:[cr("options"),Yu("selectBehaviours",[Bg,qu]),Er("selectClasses",[]),Er("selectAttributes",{}),br("data")],factory:(e,t)=>{const o=H(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),n=e.data.map((e=>Br("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:o,behaviours:Ku(e.selectBehaviours,[Bg.config({}),qu.config({store:{mode:"manual",getValue:e=>ii(e.element),setValue:(t,o)=>{Z(e.options,(e=>e.value===o)).isSome()&&li(t.element,o)},...n}})])}}}),EE=_([Er("field1Name","field1"),Er("field2Name","field2"),el("onLockedChange"),Ki(["lockClass"]),Er("locked",!1),Xu("coupledFieldBehaviours",[op,qu])]),DE=(e,t)=>xh({factory:nx,name:e,overrides:e=>({fieldBehaviours:Zl([Rg("coupled-input-behaviour",[Qa(la(),(o=>{((e,t,o)=>Ph(e,t,o).bind(op.getCurrent))(o,e,t).each((t=>{Ph(o,e,"lock").each((n=>{$g.isOn(n)&&e.onLockedChange(o,t,n)}))}))}))])])})}),AE=_([DE("field1","field2"),DE("field2","field1"),xh({factory:Af,schema:[cr("dom")],name:"lock",overrides:e=>({buttonBehaviours:Zl([$g.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),TE=Qh({name:"FormCoupledInputs",configFields:EE(),partFields:AE(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Qu(e.coupledFieldBehaviours,[op.config({find:T.some}),qu.config({store:{mode:"manual",getValue:t=>{const o=jh(t,e,["field1","field2"]);return{[e.field1Name]:qu.getValue(o.field1()),[e.field2Name]:qu.getValue(o.field2())}},setValue:(t,o)=>{const n=jh(t,e,["field1","field2"]);ve(o,e.field1Name)&&qu.setValue(n.field1(),o[e.field1Name]),ve(o,e.field2Name)&&qu.setValue(n.field2(),o[e.field2Name])}}})]),apis:{getField1:t=>Ph(t,e,"field1"),getField2:t=>Ph(t,e,"field2"),getLock:t=>Ph(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),OE=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),o=t[2];return tn.value({value:e,unit:o})}return tn.error(e)},ME=(e,t)=>{const o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},n=e=>be(o,e);return e.unit===t?T.some(e.value):n(e.unit)&&n(t)?o[e.unit]===o[t]?T.some(e.value):T.some(e.value/o[e.unit]*o[t]):T.none()},zE=e=>T.none(),RE=(e,t)=>{const o=OE(e).toOptional(),n=OE(t).toOptional();return ke(o,n,((e,t)=>ME(e,t.unit).map((e=>t.value/e)).map((e=>{return o=e,n=t.unit,e=>ME(e,n).map((e=>({value:e*o,unit:n})));var o,n})).getOr(zE))).getOr(zE)},NE=(e,t)=>{const o=e.label.map((e=>ux(e,t))),n=[fp.config({disabled:()=>e.disabled||t.isDisabled()}),c_(),xg.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ua(e,fx),T.some(!0))}),Rg("textfield-change",[Qa(la(),((t,o)=>{Wa(t,hx,{name:e.name})})),Qa(va(),((t,o)=>{Wa(t,hx,{name:e.name})}))]),sx.config({})],r=e.validation.map((e=>Mx.config({getRoot:e=>nt(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const o=qu.getValue(t),n=e.validator(o);return ck(!0===n?tn.value(o):tn.error(n))},validateOnLoad:e.validateOnLoad}}))).toArray(),a={...e.placeholder.fold(_({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(_({}),(e=>({inputmode:e})))},s=nx.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:a,inputClasses:[e.classname],inputBehaviours:Zl(q([n,r])),selectOnFocus:!1,factory:wb}),i=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[fp.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{nx.getField(e).each(fp.disable)},onEnabled:e=>{nx.getField(e).each(fp.enable)}}),c_()];return lx(o,i,l,c)},IE=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),LE=e=>e.dimension.property,PE=(e,t)=>e.dimension.getDimension(t),BE=(e,t)=>{const o=IE(e,t);ri(o,[t.shrinkingClass,t.growingClass])},HE=(e,t)=>{ti(e.element,t.openClass),ei(e.element,t.closedClass),Ot(e.element,LE(t),"0px"),Ht(e.element)},FE=(e,t)=>{ti(e.element,t.closedClass),ei(e.element,t.openClass),Bt(e.element,LE(t))},VE=(e,t,o,n)=>{o.setCollapsed(),Ot(e.element,LE(t),PE(t,e.element)),BE(e,t),HE(e,t),t.onStartShrink(e),t.onShrunk(e)},jE=(e,t,o,n)=>{const r=n.getOrThunk((()=>PE(t,e.element)));o.setCollapsed(),Ot(e.element,LE(t),r),Ht(e.element);const a=IE(e,t);ti(a,t.growingClass),ei(a,t.shrinkingClass),HE(e,t),t.onStartShrink(e)},UE=(e,t,o)=>{const n=PE(t,e.element);("0px"===n?VE:jE)(e,t,o,T.some(n))},WE=(e,t,o)=>{const n=IE(e,t),r=oi(n,t.shrinkingClass),a=PE(t,e.element);FE(e,t);const s=PE(t,e.element);(r?()=>{Ot(e.element,LE(t),a),Ht(e.element)}:()=>{HE(e,t)})(),ti(n,t.shrinkingClass),ei(n,t.growingClass),FE(e,t),Ot(e.element,LE(t),s),o.setExpanded(),t.onStartGrow(e)},ZE=(e,t,o)=>{const n=IE(e,t);return!0===oi(n,t.growingClass)},$E=(e,t,o)=>{const n=IE(e,t);return!0===oi(n,t.shrinkingClass)};var qE=Object.freeze({__proto__:null,refresh:(e,t,o)=>{if(o.isExpanded()){Bt(e.element,LE(t));const o=PE(t,e.element);Ot(e.element,LE(t),o)}},grow:(e,t,o)=>{o.isExpanded()||WE(e,t,o)},shrink:(e,t,o)=>{o.isExpanded()&&UE(e,t,o)},immediateShrink:(e,t,o)=>{o.isExpanded()&&VE(e,t,o)},hasGrown:(e,t,o)=>o.isExpanded(),hasShrunk:(e,t,o)=>o.isCollapsed(),isGrowing:ZE,isShrinking:$E,isTransitioning:(e,t,o)=>ZE(e,t)||$E(e,t),toggleGrow:(e,t,o)=>{(o.isExpanded()?UE:WE)(e,t,o)},disableTransitions:BE,immediateGrow:(e,t,o)=>{o.isExpanded()||(FE(e,t),Ot(e.element,LE(t),PE(t,e.element)),BE(e,t),o.setExpanded(),t.onStartGrow(e),t.onGrown(e))}});var YE=Object.freeze({__proto__:null,exhibit:(e,t,o)=>{const n=t.expanded;return Bs(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Br(t.dimension.property,"0px")})},events:(e,t)=>Ga([as(ha(),((o,n)=>{if(n.event.raw.propertyName===e.dimension.property){BE(o,e),t.isExpanded()&&Bt(o.element,e.dimension.property);(t.isExpanded()?e.onGrown:e.onShrunk)(o)}}))])}),GE=[cr("closedClass"),cr("openClass"),cr("shrinkingClass"),cr("growingClass"),br("getAnimationRoot"),Qi("onShrunk"),Qi("onStartShrink"),Qi("onGrown"),Qi("onStartGrow"),Er("expanded",!1),dr("dimension",rr("property",{width:[ol("property","width"),ol("getDimension",(e=>Kt(e)+"px"))],height:[ol("property","height"),ol("getDimension",(e=>jt(e)+"px"))]}))];const KE=ql({fields:GE,name:"sliding",active:YE,apis:qE,state:Object.freeze({__proto__:null,init:e=>{const t=Ir(e.expanded);return Ls({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:x(t.set,!1),setExpanded:x(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),XE=e=>({isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t),setActive:t=>{const o=e.element;t?(ei(o,"tox-tbtn--enabled"),kt(o,"aria-pressed",!0)):(ti(o,"tox-tbtn--enabled"),Dt(o,"aria-pressed"))},isActive:()=>oi(e.element,"tox-tbtn--enabled"),setText:t=>{Wa(e,pE,{text:t})},setIcon:t=>Wa(e,mE,{icon:t})}),QE=(e,t,o,n,r=!0)=>gE({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(t,n)=>{const r={pattern:e.search.isSome()?Tk(t):""};e.fetch((t=>{n(_E(t,Qy.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:e.search}))}),r,XE(t))},onSetup:e.onSetup,getApi:XE,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...r?[sx.config({})]:[]]},t,o.shared),JE=(e,t,o)=>{const n=e=>n=>{const r=!n.isActive();n.setActive(r),e.storage.set(r),o.shared.getSink().each((o=>{t().getOpt(o).each((t=>{Jl(t.element),Wa(t,gx,{name:e.name,value:e.storage.get()})}))}))},r=e=>t=>{t.setActive(e.storage.get())};return t=>{t(H(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:n(e),onSetup:r(e)}})))}},eD=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[_i(e)]}),tD=bs("leaf-label-event-id"),oD=({leaf:e,onLeafAction:t,visible:o,treeId:n,backstage:r})=>{const a=e.menu.map((e=>QE(e,"tox-mbtn",r,T.none(),o))),s=[eD(e.title)];return a.each((e=>s.push(e))),Af.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(o?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:o=>{t(e.id),o.getSystem().broadcastOn([`update-active-item-${n}`],{value:e.id})},eventOrder:{[sa()]:[tD,"keying"]},buttonBehaviours:Zl([...o?[sx.config({})]:[],$g.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Xl.config({channels:{[`update-active-item-${n}`]:{onReceive:(t,o)=>{(o.value===e.id?$g.on:$g.off)(t)}}}}),Rg(tD,[Qa(sa(),((e,t)=>{const o="ArrowLeft"===t.event.raw.code,n="ArrowRight"===t.event.raw.code;o?(Oi(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{Mi(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(Bg.focus)}))}))})),t.stop()):n&&t.stop()}))])])})},nD=(e,t)=>((e,t,o)=>Hf(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:o},t))(e,t,[]),rD=bs("directory-label-event-id"),aD=({directory:e,visible:t,noChildren:o,backstage:n})=>{const r=e.menu.map((e=>QE(e,"tox-mbtn",n,T.none()))),a=[{dom:{tag:"div",classes:["tox-chevron"]},components:[nD("chevron-right",n.shared.providers.icons)]},eD(e.title)];r.each((e=>{a.push(e)}));const s=e=>{Oi(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>$g.toggle(e)))}))};return Af.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:a,action:s,eventOrder:{[sa()]:[rD,"keying"]},buttonBehaviours:Zl([...t?[sx.config({})]:[],Rg(rD,[Qa(sa(),((e,t)=>{const n="ArrowRight"===t.event.raw.code,r="ArrowLeft"===t.event.raw.code;n&&o&&t.stop(),(n||r)&&Oi(e.element,".tox-tree--directory").each((o=>{e.getSystem().getByDom(o).each((o=>{!$g.isOn(o)&&n||$g.isOn(o)&&r?(s(e),t.stop()):r&&!$g.isOn(o)&&(Oi(o.element,".tox-tree--directory").each((e=>{Mi(e,".tox-tree--directory__label").each((e=>{o.getSystem().getByDom(e).each(Bg.focus)}))})),t.stop())}))}))}))])])})},sD=({children:e,onLeafAction:t,visible:o,treeId:n,backstage:r})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?oD({leaf:e,onLeafAction:t,visible:o,treeId:n,backstage:r}):iD({directory:e,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:r}))),behaviours:Zl([KE.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),zg.config({})])}),iD=({directory:e,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:r})=>{const{children:a}=e;return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[aD({directory:e,visible:o,noChildren:0===e.children.length,backstage:r}),sD({children:a,onLeafAction:t,visible:!1,treeId:n,backstage:r})],behaviours:Zl([$g.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,o)=>{const s=e.components()[1],i=(l=o,a.map((e=>"leaf"===e.type?oD({leaf:e,onLeafAction:t,visible:l,treeId:n,backstage:r}):iD({directory:e,onLeafAction:t,labelTabstopping:l,treeId:n,backstage:r}))));var l;o?KE.grow(s):KE.shrink(s),zg.set(s,i)}})])}};var lD=Object.freeze({__proto__:null,events:(e,t)=>{const o=e.stream.streams.setup(e,t);return Ga([Qa(e.event,o),is((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[Qa(e,(()=>t.cancel()))])).getOr([])))}});const cD=(e,t)=>{let o=null;const n=()=>{c(o)||(clearTimeout(o),o=null)};return{cancel:n,throttle:(...r)=>{n(),o=setTimeout((()=>{o=null,e.apply(null,r)}),t)}}},dD=e=>{const t=Ir(null);return Ls({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var uD=Object.freeze({__proto__:null,throttle:dD,init:e=>e.stream.streams.state(e)});var hD=[dr("stream",rr("mode",{throttle:[cr("delay"),Er("stopEvent",!0),ol("streams",{setup:(e,t)=>{const o=e.stream,n=cD(e.onStream,o.delay);return t.setTimer(n),(e,t)=>{n.throttle(e,t),o.stopEvent&&t.stop()}},state:dD})]})),Er("event","input"),br("cancelEvent"),el("onStream")];const pD=ql({fields:hD,name:"streaming",active:lD,state:uD}),mD=(e,t,o)=>{const n=qu.getValue(o);qu.setValue(t,n),fD(t)},gD=(e,t)=>{const o=e.element,n=ii(o),r=o.dom;"number"!==St(o,"type")&&t(r,n)},fD=e=>{gD(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},yD=(e,t,o)=>{if(e.selectsOver){const n=qu.getValue(t),r=e.getDisplayText(n),a=qu.getValue(o);return 0===e.getDisplayText(a).indexOf(r)?T.some((()=>{mD(0,t,o),((e,t)=>{gD(e,((e,o)=>e.setSelectionRange(t,o.length)))})(t,r.length)})):T.none()}return T.none()},bD=_("alloy.typeahead.itemexecute"),vD=_([br("lazySink"),cr("fetch"),Er("minChars",5),Er("responseTime",1e3),Qi("onOpen"),Er("getHotspot",T.some),Er("getAnchorOverrides",_({})),Er("layouts",T.none()),Er("eventOrder",{}),Nr("model",{},[Er("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),Er("selectsOver",!0),Er("populateFromBrowse",!0)]),Qi("onSetValue"),Ji("onExecute"),Qi("onItemExecute"),Er("inputClasses",[]),Er("inputAttributes",{}),Er("inputStyles",{}),Er("matchWidth",!0),Er("useMinWidth",!1),Er("dismissOnBlur",!0),Ki(["openClass"]),br("initialData"),Yu("typeaheadBehaviours",[Bg,qu,pD,xg,$g,nk]),ir("lazyTypeaheadComp",(()=>Ir(T.none))),ir("previewing",(()=>Ir(!0)))].concat(yb()).concat(wk())),_D=_([Sh({schema:[Gi()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,o,n)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{yD(e.model,t,n).fold((()=>{e.model.selectsOver?(Dp.dehighlight(o,n),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&mD(e.model,t,n)}))},onExecute:(t,o)=>e.lazyTypeaheadComp.get().map((e=>(Wa(e,bD(),{item:o}),!0))),onHover:(t,o)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&mD(e.model,t,o)}))}})})]),wD=Qh({name:"Typeahead",configFields:vD(),partFields:_D(),factory:(e,t,o,n)=>{const r=(t,o,r)=>{e.previewing.set(!1);const a=nk.getCoupled(t,"sandbox");if(Du.isOpen(a))op.getCurrent(a).each((e=>{Dp.getHighlighted(e).fold((()=>{r(e)}),(()=>{Ya(a,e.element,"keydown",o)}))}));else{const o=e=>{op.getCurrent(e).each(r)};pk(e,s(t),t,a,n,o,xf.HighlightMenuAndItem).get(y)}},a=bb(e),s=e=>t=>t.map((t=>{const o=fe(t.menus),n=Y(o,(e=>j(e.items,(e=>"item"===e.type))));return qu.getState(e).update(H(n,(e=>e.data))),t})),i=e=>op.getCurrent(e),l="typeaheadevents",c=[Bg.config({}),qu.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>ii(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,o)=>{li(t.element,e.model.getDisplayText(o))},...e.initialData.map((e=>Br("initialValue",e))).getOr({})}}),pD.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,o)=>{const r=nk.getCoupled(t,"sandbox");if(Bg.isFocused(t)&&ii(t.element).length>=e.minChars){const o=i(r).bind((e=>Dp.getHighlighted(e).map(qu.getValue)));e.previewing.set(!0);const a=t=>{i(r).each((t=>{o.fold((()=>{e.model.selectsOver&&Dp.highlightFirst(t)}),(e=>{Dp.highlightBy(t,(t=>qu.getValue(t).value===e.value)),Dp.getHighlighted(t).orThunk((()=>(Dp.highlightFirst(t),T.none())))}))}))};pk(e,s(t),t,r,n,a,xf.HighlightJustMenu).get(y)}},cancelEvent:Ea()}),xg.config({mode:"special",onDown:(e,t)=>(r(e,t,Dp.highlightFirst),T.some(!0)),onEscape:e=>{const t=nk.getCoupled(e,"sandbox");return Du.isOpen(t)?(Du.close(t),T.some(!0)):T.none()},onUp:(e,t)=>(r(e,t,Dp.highlightLast),T.some(!0)),onEnter:t=>{const o=nk.getCoupled(t,"sandbox"),n=Du.isOpen(o);if(n&&!e.previewing.get())return i(o).bind((e=>Dp.getHighlighted(e))).map((e=>(Wa(t,bD(),{item:e}),!0)));{const r=qu.getValue(t);return Ua(t,Ea()),e.onExecute(o,t,r),n&&Du.close(o),T.some(!0)}}}),$g.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),nk.config({others:{sandbox:t=>vk(e,t,{onOpen:()=>$g.on(t),onClose:()=>$g.off(t)})}}),Rg(l,[ss((t=>{e.lazyTypeaheadComp.set(T.some(t))})),is((t=>{e.lazyTypeaheadComp.set(T.none())})),cs((t=>{const o=y;gk(e,s(t),t,n,o,xf.HighlightMenuAndItem).get(y)})),Qa(bD(),((t,o)=>{const n=nk.getCoupled(t,"sandbox");mD(e.model,t,o.event.item),Ua(t,Ea()),e.onItemExecute(t,n,o.event.item,qu.getValue(t)),Du.close(n),fD(t)}))].concat(e.dismissOnBlur?[Qa(ba(),(e=>{const t=nk.getCoupled(e,"sandbox");nc(t.element).isNone()&&Du.close(t)}))]:[]))],d={[Ra()]:[qu.name(),pD.name(),l],...e.eventOrder};return{uid:e.uid,dom:_b(_n(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...a,...Ku(e.typeaheadBehaviours,c)},eventOrder:d}}}),kD=e=>({...e,toCached:()=>kD(e.toCached()),bindFuture:t=>kD(e.bind((e=>e.fold((e=>ck(tn.error(e))),(e=>t(e)))))),bindResult:t=>kD(e.map((e=>e.bind(t)))),mapResult:t=>kD(e.map((e=>e.map(t)))),mapError:t=>kD(e.map((e=>e.mapError(t)))),foldResult:(t,o)=>e.map((e=>e.fold(t,o))),withTimeout:(t,o)=>kD(lk((n=>{let r=!1;const a=setTimeout((()=>{r=!0,n(tn.error(o()))}),t);e.get((e=>{r||(clearTimeout(a),n(e))}))})))}),xD=e=>kD(lk(e)),SD=xD,CD=(e,t,o=[],n,r,a)=>{const s=t.fold((()=>({})),(e=>({action:e}))),i={buttonBehaviours:Zl([u_((()=>!e.enabled||a.isDisabled())),c_(),sx.config({}),Rg("button press",[Xa("click"),Xa("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...s},l=_n(i,{dom:n});return _n(l,{components:r})},ED=(e,t,o,n=[])=>{const r={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":o.translate(e),title:o.translate(e)}))).getOr({})},a=e.icon.map((e=>dE(e,o.icons))),s=v_([a]);return CD(e,t,n,r,s,o)},DD=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},AD=(e,t,o,n=[],r=[])=>{const a=o.translate(e.text),s=e.icon.map((e=>dE(e,o.icons))),i=[s.getOrThunk((()=>_i(a)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),c=[...DD(l),...s.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...r];return CD(e,t,n,{tag:"button",classes:c,attributes:{title:a}},i,o)},TD=(e,t,o,n=[],r=[])=>{const a=AD(e,T.some(t),o,n,r);return Af.sketch(a)},OD=(e,t)=>o=>{"custom"===t?Wa(o,gx,{name:e,value:{}}):"submit"===t?Ua(o,fx):"cancel"===t?Ua(o,mx):console.error("Unknown button type: ",t)},MD=(e,t,o)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>a,n=e,r={...e,type:"menubutton",search:T.none(),onSetup:t=>(t.setEnabled(e.enabled),y),fetch:JE(n.items,t,o)},a=Tf(QE(r,"tox-tbtn",o,T.none()));return a.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const n=OD(e.name,t),r={...e,borderless:!1};return TD(r,n,o.shared.providers,[])}if(((e,t)=>"togglebutton"===t)(0,t)){return((e,t)=>{var o,n,r;const a=T.from(e.icon).map((e=>uE(e,t.icons))).map(Tf),s={...e,name:null!==(o=e.name)&&void 0!==o?o:"",primary:"primary"===e.buttonType,buttonType:T.from(e.buttonType),tooltip:T.from(e.tooltip),icon:T.from(e.name),enabled:null!==(n=e.enabled)&&void 0!==n&&n,borderless:!1},i=s.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),l=DD(null!==(r=e.buttonType)&&void 0!==r?r:"secondary"),c=!!e.icon&&!!e.text,d={tag:"button",classes:[...l.concat(["tox-button--icon"]),...e.active?["tox-button--enabled"]:[],...c?["tox-button--icon-and-text"]:[]],attributes:i},u=t.translate(e.text),h=_i(u),p=[...v_([a.map((e=>e.asSpec()))]),...c?[h]:[]],m=CD(s,T.some((o=>{Wa(o,gx,{name:e.name,value:{setIcon:e=>{a.map((n=>n.getOpt(o).each((o=>{zg.set(o,[uE(e,t.icons)])}))))}}})})),[],d,p,t);return Af.sketch(m)})({...e,tooltip:e.tooltip,text:e.text.getOrUndefined(),buttonType:e.buttonType.getOrUndefined()},o.shared.providers)}throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},zD=(e,t)=>{const o=OD(e.name,"custom");return n=T.none(),r=nx.parts.field({factory:Af,...AD(e,T.some(o),t,[WC(""),NC()])}),lx(n,r,[],[]);var n,r},RD={type:"separator"},ND=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:y}),ID=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:y}),LD=(e,t)=>(e=>H(e,ND))(((e,t)=>j(t,(t=>t.type===e)))(e,t)),PD=e=>LD("header",e.targets),BD=e=>LD("anchor",e.targets),HD=e=>T.from(e.anchorTop).map((e=>ID("<top>",e))).toArray(),FD=e=>T.from(e.anchorBottom).map((e=>ID("<bottom>",e))).toArray(),VD=(e,t)=>{const o=e.toLowerCase();return j(t,(e=>{var t;const n=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,r=null!==(t=e.value)&&void 0!==t?t:"";return De(n.toLowerCase(),o)||De(r.toLowerCase(),o)}))},jD=(e,t,o)=>{const n=qu.getValue(t),r=void 0!==n.meta.text?n.meta.text:n.value;return o.getLinkInformation().fold((()=>[]),(t=>{const n=VD(r,(e=>H(e,(e=>ID(e,e))))(o.getHistory(e)));return"file"===e?(a=[n,VD(r,PD(t)),VD(r,q([HD(t),BD(t),FD(t)]))],W(a,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(RD,t)),[])):n;var a}))},UD=bs("aria-invalid"),WD=(e,t)=>{e.dom.checked=t},ZD=e=>e.dom.checked,$D=e=>(t,o,n,r)=>ye(o,"name").fold((()=>e(o,r,T.none())),(a=>t.field(a,e(o,r,ye(n,a))))),qD={bar:$D(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:H(e.items,t.interpreter)}))(e,t.shared))),collection:$D(((e,t,o)=>wx(e,t.shared.providers,o))),alertbanner:$D(((e,t)=>((e,t)=>Jk.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Af.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Lf(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{Wa(t,gx,{name:"alert-banner",value:e.url})},buttonBehaviours:Zl([Pf()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}))(e,t.shared.providers))),input:$D(((e,t,o)=>((e,t,o)=>NE({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:T.none(),maximized:e.maximized,data:o},t))(e,t.shared.providers,o))),textarea:$D(((e,t,o)=>((e,t,o)=>NE({name:e.name,multiline:!0,label:e.label,inputMode:T.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:T.none(),maximized:e.maximized,data:o},t))(e,t.shared.providers,o))),label:$D(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[_i(t.providers.translate(e.label))]},...H(e.items,t.interpreter)],behaviours:Zl([NC(),zg.config({}),UC(T.none()),xg.config({mode:"acyclic"})])}))(e,t.shared))),iframe:(e=>(t,o,n,r)=>{const a=_n(o,{source:"dynamic"});return $D(e)(t,a,n,r)})(((e,t,o)=>nE(e,t.shared.providers,o))),button:$D(((e,t)=>zD(e,t.shared.providers))),checkbox:$D(((e,t,o)=>((e,t,o)=>{const n=e=>(e.element.dom.click(),T.some(!0)),r=nx.parts.field({factory:{sketch:w},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Zl([NC(),fp.config({disabled:()=>!e.enabled||t.isDisabled()}),sx.config({}),Bg.config({}),VC(o,ZD,WD),xg.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:!0}),Rg("checkbox-events",[Qa(ca(),((t,o)=>{Wa(t,hx,{name:e.name})}))])])}),a=nx.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[_i(t.translate(e.label))],behaviours:Zl([zx.config({})])}),s=e=>Hf("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),i=Tf({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return nx.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,i.asSpec(),a],fieldBehaviours:Zl([fp.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{nx.getField(e).each(fp.disable)},onEnabled:e=>{nx.getField(e).each(fp.enable)}}),c_()])})})(e,t.shared.providers,o))),colorinput:$D(((e,t,o)=>Lx(e,t.shared,t.colorinput,o))),colorpicker:$D(((e,t,o)=>$C(0,t.shared.providers,o))),dropzone:$D(((e,t,o)=>GC(e,t.shared.providers,o))),grid:$D(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:H(e.items,t.interpreter)}))(e,t.shared))),listbox:$D(((e,t,o)=>((e,t,o)=>{const n=t.shared.providers,r=o.bind((t=>SE(e.items,t))).orThunk((()=>oe(e.items).filter(wE))),a=e.label.map((e=>ux(e,n))),s=nx.parts.field({dom:{},factory:{sketch:o=>gE({uid:o.uid,text:r.map((e=>e.text)),icon:T.none(),tooltip:e.label,role:T.none(),fetch:(o,n)=>{const r=xE(o,e.name,e.items,qu.getValue(o));n(_E(r,Qy.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:T.none()}))},onSetup:_(y),getApi:_({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[sx.config({}),jC(r.map((e=>e.value)),(e=>St(e.element,kE)),((t,o)=>{SE(e.items,o).each((e=>{kt(t.element,kE,e.value),Wa(t,pE,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[s]};return nx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:q([a.toArray(),[i]]),fieldBehaviours:Zl([fp.config({disabled:_(!e.enabled),onDisabled:e=>{nx.getField(e).each(fp.disable)},onEnabled:e=>{nx.getField(e).each(fp.enable)}})])})})(e,t,o))),selectbox:$D(((e,t,o)=>((e,t,o)=>{const n=H(e.items,(e=>({text:t.translate(e.text),value:e.value}))),r=e.label.map((e=>ux(e,t))),a=nx.parts.field({dom:{},...o.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:n,factory:CE,selectBehaviours:Zl([fp.config({disabled:()=>!e.enabled||t.isDisabled()}),sx.config({}),Rg("selectbox-change",[Qa(ca(),((t,o)=>{Wa(t,hx,{name:e.name})}))])])}),s=e.size>1?T.none():T.some(Hf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),i={dom:{tag:"div",classes:["tox-selectfield"]},components:q([[a],s.toArray()])};return nx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:q([r.toArray(),[i]]),fieldBehaviours:Zl([fp.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{nx.getField(e).each(fp.disable)},onEnabled:e=>{nx.getField(e).each(fp.enable)}}),c_()])})})(e,t.shared.providers,o))),sizeinput:$D(((e,t)=>((e,t)=>{let o=zE;const n=bs("ratio-event"),r=e=>Hf(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),a=TE.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:Zl([fp.config({disabled:()=>!e.enabled||t.isDisabled()}),c_(),sx.config({})])}),s=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),i=o=>nx.parts.field({factory:wb,inputClasses:["tox-textfield"],inputBehaviours:Zl([fp.config({disabled:()=>!e.enabled||t.isDisabled()}),c_(),sx.config({}),Rg("size-input-events",[Qa(ra(),((e,t)=>{Wa(e,n,{isField1:o})})),Qa(ca(),((t,o)=>{Wa(t,hx,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[_i(t.translate(e))]}),c=TE.parts.field1(s([nx.parts.label(l("Width")),i(!0)])),d=TE.parts.field2(s([nx.parts.label(l("Height")),i(!1)]));return TE.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,d,s([l(" "),a])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,n)=>{OE(qu.getValue(e)).each((e=>{o(e).each((e=>{qu.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let o=e.value.toFixed((n=e.unit)in t?t[n]:1);var n;return-1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+e.unit})(e))}))}))},coupledFieldBehaviours:Zl([fp.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{TE.getField1(e).bind(nx.getField).each(fp.disable),TE.getField2(e).bind(nx.getField).each(fp.disable),TE.getLock(e).each(fp.disable)},onEnabled:e=>{TE.getField1(e).bind(nx.getField).each(fp.enable),TE.getField2(e).bind(nx.getField).each(fp.enable),TE.getLock(e).each(fp.enable)}}),c_(),Rg("size-input-events2",[Qa(n,((e,t)=>{const n=t.event.isField1,r=n?TE.getField1(e):TE.getField2(e),a=n?TE.getField2(e):TE.getField1(e),s=r.map(qu.getValue).getOr(""),i=a.map(qu.getValue).getOr("");o=RE(s,i)}))])])})})(e,t.shared.providers))),slider:$D(((e,t,o)=>((e,t,o)=>{const n=bC.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[_i(t.translate(e.label))]}),r=bC.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),a=bC.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return bC.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:_(o.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[n,r,a],sliderBehaviours:Zl([NC(),Bg.config({})]),onChoose:(t,o,n)=>{Wa(t,hx,{name:e.name,value:n})}})})(e,t.shared.providers,o))),urlinput:$D(((e,t,o)=>((e,t,o,n)=>{const r=t.shared.providers,a=t=>{const n=qu.getValue(t);o.addToHistory(n.value,e.filetype)},s={...n.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":UD,type:"url"},minChars:0,responseTime:0,fetch:n=>{const r=jD(e.filetype,n,o),a=_E(r,Qy.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:T.none()});return ck(a)},getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(Mx)&&Mx.run(e).get(y)},typeaheadBehaviours:Zl([...o.getValidationHandler().map((t=>Mx.config({getRoot:e=>nt(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{kt(e.element,"title",r.translate(t))}))}},validator:{validate:o=>{const n=qu.getValue(o);return SD((o=>{t({type:e.filetype,url:n.value},(e=>{if("invalid"===e.status){const t=tn.error(e.message);o(t)}else{const t=tn.value(e.message);o(t)}}))}))},validateOnLoad:!1}}))).toArray(),fp.config({disabled:()=>!e.enabled||r.isDisabled()}),sx.config({}),Rg("urlinput-events",[Qa(la(),(t=>{const o=ii(t.element),n=o.trim();n!==o&&li(t.element,n),"file"===e.filetype&&Wa(t,hx,{name:e.name})})),Qa(ca(),(t=>{Wa(t,hx,{name:e.name}),a(t)})),Qa(va(),(t=>{Wa(t,hx,{name:e.name}),a(t)}))])]),eventOrder:{[la()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:fb(0,0,"normal")},onExecute:(e,t,o)=>{Wa(t,fx,{})},onItemExecute:(t,o,n,r)=>{a(t),Wa(t,hx,{name:e.name})}},i=nx.parts.field({...s,factory:wD}),l=e.label.map((e=>ux(e,r))),c=Tf(((e,t,o=e,n=e)=>Hf(o,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:r.translate(n),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},r.icons))("invalid",T.some(UD),"warning")),d=Tf({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),u=o.getUrlPicker(e.filetype),h=bs("browser.url.event"),p=Tf({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,d.asSpec()],behaviours:Zl([fp.config({disabled:()=>!e.enabled||r.isDisabled()})])}),m=Tf(TD({name:e.name,icon:T.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:T.none(),borderless:!0},(e=>Ua(e,h)),r,[],["tox-browse-url"]));return nx.sketch({dom:dx([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:q([[p.asSpec()],u.map((()=>m.asSpec())).toArray()])}]),fieldBehaviours:Zl([fp.config({disabled:()=>!e.enabled||r.isDisabled(),onDisabled:e=>{nx.getField(e).each(fp.disable),m.getOpt(e).each(fp.disable)},onEnabled:e=>{nx.getField(e).each(fp.enable),m.getOpt(e).each(fp.enable)}}),c_(),Rg("url-input-events",[Qa(h,(t=>{op.getCurrent(t).each((o=>{const n=qu.getValue(o),r={fieldname:e.name,...n};u.each((n=>{n(r).get((n=>{qu.setValue(o,n),Wa(t,hx,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,o))),customeditor:$D((e=>{const t=kc(),o=Tf({dom:{tag:e.tag}}),n=kc();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Zl([Rg("custom-editor-events",[ss((r=>{o.getOpt(r).each((o=>{((e=>be(e,"init"))(e)?e.init(o.element.dom):qC.load(e.scriptId,e.scriptUrl).then((t=>t(o.element.dom,e.settings)))).then((e=>{n.on((t=>{e.setValue(t)})),n.clear(),t.set(e)}))}))}))]),jC(T.none(),(()=>t.get().fold((()=>n.get().getOr("")),(e=>e.getValue()))),((e,o)=>{t.get().fold((()=>n.set(o)),(e=>e.setValue(o)))})),NC()]),components:[o.asSpec()]}})),htmlpanel:$D((e=>"presentation"===e.presets?Jk.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Jk.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Zl([sx.config({}),Bg.config({})])}))),imagepreview:$D(((e,t,o)=>rE(e,o))),table:$D(((e,t)=>((e,t)=>{const o=e=>({dom:{tag:"th",innerHtml:t.translate(e)}}),n=e=>({dom:{tag:"td",innerHtml:t.translate(e)}}),r=e=>({dom:{tag:"tr"},components:H(e,n)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(s=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:H(s,o)}]}),(a=e.cells,{dom:{tag:"tbody"},components:H(a,r)})],behaviours:Zl([sx.config({}),Bg.config({})])};var a,s})(e,t.shared.providers))),tree:$D(((e,t)=>((e,t)=>{const o=e.onLeafAction.getOr(y),n=bs("tree-id"),r=e.items.map((e=>"leaf"===e.type?oD({leaf:e,onLeafAction:o,visible:!0,treeId:n,backstage:t}):iD({directory:e,onLeafAction:o,labelTabstopping:!0,treeId:n,backstage:t})));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:r,behaviours:Zl([xg.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}})(e,t))),panel:$D(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:H(e.items,t.shared.interpreter)}))(e,t)))},YD={field:(e,t)=>t,record:_([])},GD=(e,t,o,n)=>{const r=_n(n,{shared:{interpreter:t=>KD(e,t,o,r)}});return KD(e,t,o,r)},KD=(e,t,o,n)=>ye(qD,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(r=>r(e,t,o,n))),XD=(e,t,o)=>KD(YD,e,t,o),QD="layout-inset",JD=e=>e.x,eA=(e,t)=>e.x+e.width/2-t.width/2,tA=(e,t)=>e.x+e.width-t.width,oA=e=>e.y,nA=(e,t)=>e.y+e.height-t.height,rA=(e,t)=>e.y+e.height/2-t.height/2,aA=(e,t,o)=>al(tA(e,t),nA(e,t),o.insetSouthwest(),dl(),"southwest",yl(e,{right:0,bottom:3}),QD),sA=(e,t,o)=>al(JD(e),nA(e,t),o.insetSoutheast(),cl(),"southeast",yl(e,{left:1,bottom:3}),QD),iA=(e,t,o)=>al(tA(e,t),oA(e),o.insetNorthwest(),ll(),"northwest",yl(e,{right:0,top:2}),QD),lA=(e,t,o)=>al(JD(e),oA(e),o.insetNortheast(),il(),"northeast",yl(e,{left:1,top:2}),QD),cA=(e,t,o)=>al(eA(e,t),oA(e),o.insetNorth(),ul(),"north",yl(e,{top:2}),QD),dA=(e,t,o)=>al(eA(e,t),nA(e,t),o.insetSouth(),hl(),"south",yl(e,{bottom:3}),QD),uA=(e,t,o)=>al(tA(e,t),rA(e,t),o.insetEast(),ml(),"east",yl(e,{right:0}),QD),hA=(e,t,o)=>al(JD(e),rA(e,t),o.insetWest(),pl(),"west",yl(e,{left:1}),QD),pA=e=>{switch(e){case"north":return cA;case"northeast":return lA;case"northwest":return iA;case"south":return dA;case"southeast":return sA;case"southwest":return aA;case"east":return uA;case"west":return hA}},mA=(e,t,o,n,r)=>yc(n).map(pA).getOr(cA)(e,t,o,n,r),gA=e=>{switch(e){case"north":return dA;case"northeast":return sA;case"northwest":return aA;case"south":return cA;case"southeast":return lA;case"southwest":return iA;case"east":return hA;case"west":return uA}},fA=(e,t,o,n,r)=>yc(n).map(gA).getOr(cA)(e,t,o,n,r),yA={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},bA=(e,t,o)=>{const n={maxHeightFunction:Lc()};return()=>o()?{type:"node",root:mt(pt(e())),node:T.from(e()),bubble:Fc(12,12,yA),layouts:{onRtl:()=>[lA],onLtr:()=>[iA]},overrides:n}:{type:"hotspot",hotspot:t(),bubble:Fc(-12,12,yA),layouts:{onRtl:()=>[Cl,El,Ol],onLtr:()=>[El,Cl,Ol]},overrides:n}},vA=(e,t,o)=>()=>o()?{type:"node",root:mt(pt(e())),node:T.from(e()),layouts:{onRtl:()=>[cA],onLtr:()=>[cA]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[Ol],onLtr:()=>[Ol]}},_A=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return T.some(pd.range(Ne.fromDom(t.startContainer),t.startOffset,Ne.fromDom(t.endContainer),t.endOffset))}}),wA=e=>t=>({type:"node",root:e(),node:t}),kA=(e,t,o)=>{const n=Vy(e),r=()=>Ne.fromDom(e.getBody()),a=()=>Ne.fromDom(e.getContentAreaContainer()),s=()=>n||!o();return{inlineDialog:bA(a,t,s),banner:vA(a,t,s),cursor:_A(e,r),node:wA(r)}},xA=e=>(t,o)=>{Lw(e)(t,o)},SA=e=>()=>kw(e),CA=e=>t=>xw(e,t),EA=e=>t=>ww(e,t),DA=e=>()=>Sy(e),AA=e=>ve(e,"items"),TA=e=>ve(e,"format"),OA=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],MA=e=>W(e,((e,t)=>{if(be(t,"items")){const o=MA(t.items);return{customFormats:e.customFormats.concat(o.customFormats),formats:e.formats.concat([{title:t.title,items:o.formats}])}}if((e=>be(e,"inline"))(t)||(e=>be(e,"block"))(t)||(e=>be(e,"selector"))(t)){const o=`custom-${a(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),zA=e=>ny(e).map((t=>{const o=((e,t)=>{const o=MA(t),n=t=>{F(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?n(o.customFormats):e.on("init",(()=>{n(o.customFormats)})),o.formats})(e,t);return ry(e)?OA.concat(o):o})).getOr(OA),RA=(e,t,o)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:o(e.format)}),NA=(e,t,o,n)=>{const r=t=>H(t,(t=>AA(t)?(e=>{const t=r(e.items);return{...e,type:"submenu",getStyleItems:_(t)}})(t):TA(t)?(e=>RA(e,o,n))(t):(e=>{const t=se(e);return 1===t.length&&I(t,"title")})(t)?{...t,type:"separator"}:(t=>{const r=a(t.name)?t.name:bs(t.title),s=`custom-${r}`,i={...t,type:"formatter",format:s,isSelected:o(s),getStylePreview:n(s)};return e.formatter.register(r,i),i})(t)));return r(t)},IA=YC.trim,LA=e=>t=>{if((e=>p(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},PA=LA("true"),BA=LA("false"),HA=(e,t,o,n,r)=>({type:e,title:t,url:o,level:n,attach:r}),FA=e=>e.innerText||e.textContent,VA=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&UA(e),jA=e=>e&&/^(H[1-6])$/.test(e.nodeName),UA=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return PA(t)}return!1})(e)&&!BA(e),WA=e=>jA(e)&&UA(e),ZA=e=>{var t;const o=(e=>e.id?e.id:bs("h"))(e);return HA("header",null!==(t=FA(e))&&void 0!==t?t:"","#"+o,(e=>jA(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=o}))},$A=e=>{const t=e.id||e.name,o=FA(e);return HA("anchor",o||"#"+t,"#"+t,0,y)},qA=e=>{const t=(o="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,H(kd(Ne.fromDom(n),o),(e=>e.dom)));var o,n;return t},YA=e=>IA(e.title).length>0,GA=e=>{const t=qA(e);return j((e=>H(j(e,WA),ZA))(t).concat((e=>H(j(e,VA),$A))(t)),YA)},KA="tinymce-url-history",XA=e=>a(e)&&/^https?/.test(e),QA=e=>s(e)&&ge(e,(e=>{return!(l(t=e)&&t.length<=5&&G(t,XA));var t})).isNone(),JA=()=>{const e=sw.getItem(KA);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+KA+" was not valid JSON",e),{};throw e}return QA(t)?t:(console.log("Local storage "+KA+" was not valid format",t),{})},eT=e=>{const t=JA();return ye(t,e).getOr([])},tT=(e,t)=>{if(!XA(e))return;const o=JA(),n=ye(o,t).getOr([]),r=j(n,(t=>t!==e));o[t]=[e].concat(r).slice(0,5),(e=>{if(!QA(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));sw.setItem(KA,JSON.stringify(e))})(o)},oT=e=>!!e,nT=e=>ce(YC.makeMap(e,/[, ]/),oT),rT=e=>T.from(yy(e)),aT=(e,t)=>{const o=(e=>{const t=T.from(_y(e)).filter(oT).map(nT);return rT(e).fold(D,(e=>t.fold(A,(e=>se(e).length>0&&e))))})(e);return d(o)?o?rT(e):T.none():o[t]?rT(e):T.none()},sT=e=>T.from(e).filter(a).getOrUndefined(),iT=e=>({getHistory:eT,addToHistory:tT,getLinkInformation:()=>(e=>wy(e)?T.some({targets:GA(e.getBody()),anchorTop:sT(ky(e)),anchorBottom:sT(xy(e))}):T.none())(e),getValidationHandler:()=>(e=>T.from(by(e)))(e),getUrlPicker:t=>((e,t)=>aT(e,t).map((o=>n=>lk((r=>{const i={filetype:t,fieldname:n.fieldname,...T.from(n.meta).getOr({})};o.call(e,((e,t)=>{if(!a(e))throw new Error("Expected value to be string");if(void 0!==t&&!s(t))throw new Error("Expected meta to be a object");r({value:e,meta:t})}),n.value,i)})))))(e,t)}),lT=(e,t,o)=>{const n=Ir(!1),r=(e=>{const t=Ir(Hy(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),a={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Of.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},s=iT(t),i=(e=>{const t=t=>()=>e.formatter.match(t),o=t=>()=>{const o=e.formatter.get(t);return void 0!==o?T.some({tag:o.length>0&&(o[0].inline||o[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},n=Ir([]),r=Ir([]),a=Ir(!1);return e.on("PreInit",(r=>{const a=zA(e),s=NA(e,a,t,o);n.set(s)})),e.on("addStyleModifications",(n=>{const s=NA(e,n.items,t,o);r.set(s),a.set(n.replace)})),{getData:()=>{const e=a.get()?[]:n.get(),t=r.get();return e.concat(t)}}})(t),l=(e=>({colorPicker:xA(e),hasCustomColors:SA(e),getColors:CA(e),getColorCols:EA(e)}))(t),c=(e=>({isDraggableModal:DA(e)}))(t),d={shared:{providers:a,anchors:kA(t,o,r.isPositionedAtTop),header:r},urlinput:s,styles:i,colorinput:l,dialog:c,isContextMenuOpen:()=>n.get(),setContextMenuState:e=>n.set(e)},u={...d,shared:{...d.shared,interpreter:e=>XD(e,{},u),getSink:e.popup}},h={...d,shared:{...d.shared,interpreter:e=>XD(e,{},h),getSink:e.dialog}};return{popup:u,dialog:h}},cT=Zh,dT=Ah,uT=_([Er("shell",!1),cr("makeItem"),Er("setupItem",y),Xu("listBehaviours",[zg])]),hT=Ch({name:"items",overrides:()=>({behaviours:Zl([zg.config({})])})}),pT=_([hT]),mT=Qh({name:_("CustomList")(),configFields:uT(),partFields:pT(),factory:(e,t,o,n)=>{const r=e.shell?{behaviours:[zg.config({})],components:[]}:{behaviours:[],components:t},a=t=>e.shell?T.some(t):Ph(t,e,"items");return{uid:e.uid,dom:e.dom,components:r.components,behaviours:Ku(e.listBehaviours,r.behaviours),apis:{setItems:(t,o)=>{a(t).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(n=>{const r=zg.contents(n),a=o.length,s=a-r.length,i=s>0?P(s,(()=>e.makeItem())):[],l=r.slice(a);F(l,(e=>zg.remove(n,e))),F(i,(e=>zg.append(n,e)));const c=zg.contents(n);F(c,((n,r)=>{e.setupItem(t,n,o[r],r)}))}))}}}},apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}}),gT=_([cr("dom"),Er("shell",!0),Yu("toolbarBehaviours",[zg])]),fT=_([Ch({name:"groups",overrides:()=>({behaviours:Zl([zg.config({})])})})]),yT=Qh({name:"Toolbar",configFields:gT(),partFields:fT(),factory:(e,t,o,n)=>{const r=t=>e.shell?T.some(t):Ph(t,e,"groups"),a=e.shell?{behaviours:[zg.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Ku(e.toolbarBehaviours,a.behaviours),apis:{setGroups:(e,t)=>{r(e).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{zg.set(e,t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}}),bT=y,vT=D,_T=_([]);var wT=Object.freeze({__proto__:null,setup:bT,isDocked:vT,getBehaviours:_T});const kT=e=>(_e(It(e,"position"),"fixed")?T.none():rt(e)).orThunk((()=>{const t=Ne.fromTag("span");return ot(e).bind((e=>{Io(e,t);const o=rt(t);return Bo(t),o}))})),xT=e=>kT(e).map(qt).getOrThunk((()=>Zt(0,0))),ST=(e,t)=>{const o=e.element;ei(o,t.transitionClass),ti(o,t.fadeOutClass),ei(o,t.fadeInClass),t.onShow(e)},CT=(e,t)=>{const o=e.element;ei(o,t.transitionClass),ti(o,t.fadeInClass),ei(o,t.fadeOutClass),t.onHide(e)},ET=(e,t)=>e.y>=t.y,DT=(e,t)=>e.bottom<=t.bottom,AT=(e,t,o)=>({location:"top",leftX:t,topY:o.bounds.y-e.y}),TT=(e,t,o)=>({location:"bottom",leftX:t,bottomY:e.bottom-o.bounds.bottom}),OT=e=>e.box.x-e.win.x,MT=(e,t,o)=>o.getInitialPos().map((o=>{const n=((e,t)=>{const o=t.optScrollEnv.fold(_(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Zt(e.bounds.x,o)})(o,t);return{box:qo(n.left,n.top,Kt(e),jt(e)),location:o.location}})),zT=(e,t,o,n,r)=>{const a=((e,t)=>{const o=t.optScrollEnv.fold(_(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Zt(e.x,o)})(t,o),s=qo(a.left,a.top,t.width,t.height);n.setInitialPos({style:Lt(e),position:Rt(e,"position")||"static",bounds:s,location:r.location})},RT=(e,t,o)=>o.getInitialPos().bind((n=>{var r;switch(o.clearInitialPos(),n.position){case"static":return T.some({morph:"static"});case"absolute":const o=kT(e).getOr(vt()),a=Yo(o),s=null!==(r=o.dom.scrollTop)&&void 0!==r?r:0;return T.some({morph:"absolute",positionCss:ac("absolute",ye(n.style,"left").map((e=>t.x-a.x)),ye(n.style,"top").map((e=>t.y-a.y+s)),ye(n.style,"right").map((e=>a.right-t.right)),ye(n.style,"bottom").map((e=>a.bottom-t.bottom)))});default:return T.none()}})),NT=(e,t,o)=>MT(e,t,o).filter((({box:e})=>((e,t,o)=>G(e,(e=>{switch(e){case"bottom":return DT(t,o.bounds);case"top":return ET(t,o.bounds)}})))(o.getModes(),e,t))).bind((({box:t})=>RT(e,t,o))),IT=e=>{switch(e.location){case"top":return T.some({morph:"fixed",positionCss:ac("fixed",T.some(e.leftX),T.some(e.topY),T.none(),T.none())});case"bottom":return T.some({morph:"fixed",positionCss:ac("fixed",T.some(e.leftX),T.none(),T.none(),T.some(e.bottomY))});default:return T.none()}},LT=(e,t,o)=>{const n=Yo(e),r=Xo(),a=((e,t,o)=>{const n=t.win,r=t.box,a=OT(t);return ae(e,(e=>{switch(e){case"bottom":return DT(r,o.bounds)?T.none():T.some(TT(n,a,o));case"top":return ET(r,o.bounds)?T.none():T.some(AT(n,a,o));default:return T.none()}})).getOr({location:"no-dock"})})(o.getModes(),{win:r,box:n},t);return"top"===a.location||"bottom"===a.location?(zT(e,n,t,o,a),IT(a)):T.none()},PT=(e,t,o)=>{const n=e.element;return _e(It(n,"position"),"fixed")?((e,t,o)=>NT(e,t,o).orThunk((()=>t.optScrollEnv.bind((n=>MT(e,t,o))).bind((({box:e,location:o})=>{const n=Xo(),r=OT({win:n,box:e}),a="top"===o?AT(n,r,t):TT(n,r,t);return IT(a)})))))(n,t,o):LT(n,t,o)},BT=(e,t,o,n)=>{const r=Yo(e),a=Xo(),s=n(a,OT({win:a,box:r}),t);return"bottom"===s.location||"top"===s.location?(((e,t,o,n,r)=>{n.getInitialPos().fold((()=>zT(e,t,o,n,r)),(()=>y))})(e,r,t,o,s),IT(s)):T.none()},HT=(e,t,o)=>{o.setDocked(!1),F(["left","right","top","bottom","position"],(t=>Bt(e.element,t))),t.onUndocked(e)},FT=(e,t,o,n)=>{const r="fixed"===n.position;o.setDocked(r),sc(e.element,n);(r?t.onDocked:t.onUndocked)(e)},VT=(e,t,o,n,r=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((a=>{const s=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(a,n.bounds);if(s!==o.isVisible())if(o.setVisible(s),r&&!s)ni(e.element,[t.fadeOutClass]),t.onHide(e);else{(s?ST:CT)(e,t)}}))}))},jT=(e,t,o,n,r)=>{VT(e,t,o,n,!0),FT(e,t,o,r.positionCss)},UT=(e,t,o)=>{const n=t.lazyViewport(e);VT(e,t,o,n),PT(e,n,o).each((r=>{((e,t,o,n,r)=>{switch(r.morph){case"static":return HT(e,t,o);case"absolute":return FT(e,t,o,r.positionCss);case"fixed":jT(e,t,o,n,r)}})(e,t,o,n,r)}))},WT=(e,t,o)=>{const n=e.element;o.setDocked(!1);const r=t.lazyViewport(e);((e,t,o)=>{const n=e.element;return MT(n,t,o).bind((({box:e})=>RT(n,e,o)))})(e,r,o).each((n=>{switch(n.morph){case"static":HT(e,t,o);break;case"absolute":FT(e,t,o,n.positionCss)}})),o.setVisible(!0),t.contextual.each((t=>{ri(n,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),ZT(e,t,o)},ZT=(e,t,o)=>{e.getSystem().isConnected()&&UT(e,t,o)},$T=(e,t,o)=>{o.isDocked()&&WT(e,t,o)},qT=e=>(t,o,n)=>{const r=o.lazyViewport(t);BT(t.element,r,n,e).each((e=>{jT(t,o,n,r,e)}))},YT=qT(AT),GT=qT(TT);var KT=Object.freeze({__proto__:null,refresh:ZT,reset:$T,isDocked:(e,t,o)=>o.isDocked(),getModes:(e,t,o)=>o.getModes(),setModes:(e,t,o,n)=>o.setModes(n),forceDockToTop:YT,forceDockToBottom:GT});var XT=Object.freeze({__proto__:null,events:(e,t)=>Ga([as(ha(),((o,n)=>{e.contextual.each((e=>{if(oi(o.element,e.transitionClass)){ri(o.element,[e.transitionClass,e.fadeInClass]);(t.isVisible()?e.onShown:e.onHidden)(o)}n.stop()}))})),Qa(Oa(),((o,n)=>{ZT(o,e,t)})),Qa(Ba(),((o,n)=>{ZT(o,e,t)})),Qa(Ma(),((o,n)=>{$T(o,e,t)}))])}),QT=[Cr("contextual",[hr("fadeInClass"),hr("fadeOutClass"),hr("transitionClass"),mr("lazyContext"),Qi("onShow"),Qi("onShown"),Qi("onHide"),Qi("onHidden")]),zr("lazyViewport",(()=>({bounds:Xo(),optScrollEnv:T.none()}))),Rr("modes",["top","bottom"],Zn),Qi("onDocked"),Qi("onUndocked")];const JT=ql({fields:QT,name:"docking",active:XT,apis:KT,state:Object.freeze({__proto__:null,init:e=>{const t=Ir(!1),o=Ir(!0),n=kc(),r=Ir(e.modes);return Ls({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:r.get,setModes:r.set,readState:()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: ${r.get().join(",")}`})}})}),eO=_(bs("toolbar-height-change")),tO={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},oO="tox-tinymce--toolbar-sticky-on",nO="tox-tinymce--toolbar-sticky-off",rO=(e,t)=>I(JT.getModes(e),t),aO=e=>{const t=e.element;nt(t).each((o=>{const n="padding-"+JT.getModes(e)[0];if(JT.isDocked(e)){const e=Kt(o);Ot(t,"width",e+"px"),Ot(o,n,(e=>Ut(e)+(parseInt(Rt(e,"margin-top"),10)||0)+(parseInt(Rt(e,"margin-bottom"),10)||0))(t)+"px")}else Bt(t,"width"),Bt(o,n)}))},sO=(e,t)=>{t?(ti(e,tO.fadeOutClass),ni(e,[tO.transitionClass,tO.fadeInClass])):(ti(e,tO.fadeInClass),ni(e,[tO.fadeOutClass,tO.transitionClass]))},iO=(e,t)=>{const o=Ne.fromDom(e.getContainer());t?(ei(o,oO),ti(o,nO)):(ei(o,nO),ti(o,oO))},lO=(e,t)=>{const o=kc(),n=t.getSink,r=e=>{n().each((t=>e(t.element)))},a=t=>{e.inline||aO(t),iO(e,JT.isDocked(t)),t.getSystem().broadcastOn([Tu()],{}),n().each((e=>e.getSystem().broadcastOn([Tu()],{})))},s=e.inline?[]:[Xl.config({channels:{[eO()]:{onReceive:aO}}})];return[Bg.config({}),JT.config({contextual:{lazyContext:t=>{const o=Ut(t.element),n=e.inline?e.getContentAreaContainer():e.getContainer();return T.from(n).map((n=>{const r=Yo(Ne.fromDom(n));return Bk(e,t.element).fold((()=>{const e=r.height-o,n=r.y+(rO(t,"top")?0:o);return qo(r.x,n,r.width,e)}),(e=>{const t=Ko(r,Hk(e));return qo(t.x,t.y,t.width,t.height-o)}))}))},onShow:()=>{r((e=>sO(e,!0)))},onShown:e=>{r((e=>ri(e,[tO.transitionClass,tO.fadeInClass]))),o.get().each((t=>{((e,t)=>{const o=Qe(t);oc(o).filter((e=>!Ke(t,e))).filter((t=>Ke(t,Ne.fromDom(o.dom.body))||Xe(e,t))).each((()=>Jl(t)))})(e.element,t),o.clear()}))},onHide:e=>{((e,t)=>nc(e).orThunk((()=>t().toOptional().bind((e=>nc(e.element))))))(e.element,n).fold(o.clear,o.set),r((e=>sO(e,!1)))},onHidden:()=>{r((e=>ri(e,[tO.transitionClass])))},...tO},lazyViewport:t=>Bk(e,t.element).fold((()=>{const o=Xo(),n=my(e),r=o.y+(rO(t,"top")?n:0),a=o.height-(rO(t,"bottom")?n:0);return{bounds:qo(o.x,r,o.width,a),optScrollEnv:T.none()}}),(e=>({bounds:Hk(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:qt(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a}),...s]};var cO=Object.freeze({__proto__:null,setup:(e,t,o)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{o().each(JT.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{o().each(aO)})),e.on("SkinLoaded",(()=>{o().each((e=>{JT.isDocked(e)?JT.reset(e):JT.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{o().each(JT.reset)}))),e.on("AfterScrollIntoView",(e=>{o().each((t=>{JT.refresh(t);const o=t.element;fm(o)&&((e,t)=>{const o=Qe(t),n=tt(t).dom.innerHeight,r=Ho(o),a=Ne.fromDom(e.elm),s=Go(a),i=jt(a),l=s.y,c=l+i,d=qt(t),u=jt(t),h=d.top,p=h+u,m=Math.abs(h-r.top)<2,g=Math.abs(p-(r.top+n))<2;if(m&&l<p)Fo(r.left,l-u,o);else if(g&&c>h){const e=l-n+i+u;Fo(r.left,e,o)}})(e,o)}))})),e.on("PostRender",(()=>{iO(e,!1)}))},isDocked:e=>e().map(JT.isDocked).getOr(!1),getBehaviours:lO});const dO=Pn([Hb,dr("items",Hn([Vn([Fb,yr("items",Zn)]),Zn]))].concat(gv)),uO=[wr("text"),wr("tooltip"),wr("icon"),Dr("search",!1,Hn([$n,Pn([wr("placeholder")])],(e=>d(e)?e?T.some({placeholder:T.none()}):T.none():T.some(e)))),mr("fetch"),zr("onSetup",(()=>y))],hO=Pn([Hb,...uO]),pO=e=>er("menubutton",hO,e),mO=Pn([Hb,ev,Jb,Qb,nv,$b,Kb,Or("presets","normal",["normal","color","listpreview"]),lv(1),Yb,Gb]);var gO=Xh({factory:(e,t)=>{const o={focus:xg.focusIn,setMenus:(e,o)=>{const n=H(o,(e=>{const o={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},n=pO(o).mapError((e=>nr(e))).getOrDie();return QE(n,"tox-mbtn",t.backstage,T.some("menuitem"))}));zg.set(e,n)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Zl([zg.config({}),Rg("menubar-events",[ss((t=>{e.onSetup(t)})),Qa(na(),((e,t)=>{zi(e.element,".tox-mbtn--active").each((o=>{Ri(t.event.target,".tox-mbtn").each((t=>{Ke(o,t)||e.getSystem().getByDom(o).each((o=>{e.getSystem().getByDom(t).each((e=>{Sk.expand(e),Sk.close(o),Bg.focus(e)}))}))}))}))})),Qa(La(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((o=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{Sk.isOpen(o)&&(Sk.expand(e),Sk.close(o))}))}))}))]),xg.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),T.some(!0))}),sx.config({})]),apis:o,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[cr("dom"),cr("uid"),cr("onEscape"),cr("backstage"),Er("onSetup",y)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});const fO="container",yO=[Yu("slotBehaviours",[])],bO=e=>"<alloy.field."+e+">",vO=(e,t)=>{const o=t=>Vh(e),n=(t,o)=>(n,r)=>Ph(n,e,r).map((e=>t(e,r))).getOr(o),r=(e,t)=>"true"!==St(e.element,"aria-hidden"),a=n(r,!1),s=n(((e,t)=>{if(r(e)){const o=e.element;Ot(o,"display","none"),kt(o,"aria-hidden","true"),Wa(e,Pa(),{name:t,visible:!1})}})),i=(e=>(t,o)=>{F(o,(o=>e(t,o)))})(s),l=n(((e,t)=>{if(!r(e)){const o=e.element;Bt(o,"display"),Dt(o,"aria-hidden"),Wa(e,Pa(),{name:t,visible:!0})}})),c={getSlotNames:o,getSlot:(t,o)=>Ph(t,e,o),isShowing:a,hideSlot:s,hideAllSlots:e=>i(e,o()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:Gu(e.slotBehaviours),apis:c}},_O=ce({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},(e=>Ns(e))),wO={..._O,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,o)=>(e.push(t),zh(fO,bO(t),o)),record:_(e)}})(),o=e(t),n=t.record(),r=H(n,(e=>xh({name:e,pname:bO(e)})));return qh(fO,yO,r,vO,o)}},kO=Pn([Jb,ev,zr("onShow",y),zr("onHide",y),Kb]),xO=e=>({element:()=>e.element.dom}),SO=(e,t)=>{const o=H(se(t),(e=>{const o=t[e],n=tr((e=>er("sidebar",kO,e))(o));return{name:e,getApi:xO,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}}));return H(o,(t=>{const n=Ir(y);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Yv([g_(t,n),f_(t,n),Qa(Pa(),((e,t)=>{const n=t.event,r=Z(o,(e=>e.name===n.name));r.each((t=>{(n.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},CO=e=>wO.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:SO(t,e),slotBehaviours:Yv([ss((e=>wO.hideAllSlots(e)))])}))),EO=(e,t)=>{kt(e,"role",t)},DO=e=>op.getCurrent(e).bind((e=>{if(KE.isGrowing(e)||KE.hasGrown(e)){return op.getCurrent(e).bind((e=>Z(wO.getSlotNames(e),(t=>wO.isShowing(e,t)))))}return T.none()})),AO=bs("FixSizeEvent"),TO=bs("AutoSizeEvent");var OO=Object.freeze({__proto__:null,block:(e,t,o,n)=>{kt(e.element,"aria-busy",!0);const r=t.getRoot(e).getOr(e),a=Zl([xg.config({mode:"special",onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),Bg.config({})]),s=n(r,a),i=r.getSystem().build(s);zg.append(r,Ci(i)),i.hasConfigured(xg)&&t.focus&&xg.focusIn(i),o.isBlocked()||t.onBlock(e),o.blockWith((()=>zg.remove(r,i)))},unblock:(e,t,o)=>{Dt(e.element,"aria-busy"),o.isBlocked()&&t.onUnblock(e),o.clear()}}),MO=[zr("getRoot",T.none),Mr("focus",!0),Qi("onBlock"),Qi("onUnblock")];const zO=ql({fields:MO,name:"blocking",apis:OO,state:Object.freeze({__proto__:null,init:()=>{const e=_c((e=>e.destroy()));return Ls({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),RO=e=>{const t=Ne.fromHtml(e),o=at(t),n=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return W(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),r=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),a=0===o.length?{}:{innerHtml:ds(t)};return{tag:Fe(t),classes:r,attributes:n,...a}},NO=e=>op.getCurrent(e).each((e=>Jl(e.element))),IO=(e,t,o,n)=>{const r=t.element;if(((e,t)=>{const o="tabindex",n=`data-mce-${o}`;T.from(e.iframeElement).map(Ne.fromDom).each((e=>{t?(Ct(e,o).each((t=>kt(e,n,t))),kt(e,o,-1)):(Dt(e,o),Ct(e,n).each((t=>{kt(e,o,t),Dt(e,n)})))}))})(e,o),o)zO.block(t,(e=>(t,o)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:RO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(n)),Bt(r,"display"),Dt(r,"aria-hidden"),e.hasFocus()&&NO(t);else{const o=op.getCurrent(t).exists((e=>tc(e.element)));zO.unblock(t),Ot(r,"display","none"),kt(r,"aria-hidden","true"),o&&e.focus()}},LO=(e,t,o)=>{const n=Ir(!1),r=kc(),a=o=>{n.get()&&!(e=>{if((e=>"focusin"===e.type)(e))return(e.composed?oe(e.composedPath()):T.from(e.target)).map(Ne.fromDom).filter(Ue).exists((e=>oi(e,"mce-pastebin")));return!1})(o)&&(o.preventDefault(),NO(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",a),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&a(e)}))}));const s=r=>{r!==n.get()&&(n.set(r),IO(e,t(),r,o.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,r))};e.on("ProgressState",(t=>{if(r.on(clearTimeout),g(t.time)){const o=Df.setEditorTimeout(e,(()=>s(t.state)),t.time);r.set(o)}else s(t.state),r.clear()}))},PO=(e,t,o)=>({within:e,extra:t,withinWidth:o}),BO=(e,t,o)=>{const n=((e,t)=>{const o=W(e,((e,o)=>t(o,e.len).fold(_(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]});return o.list})(e,((e,t)=>{const n=o(e);return T.some({element:e,start:t,finish:t+n,width:n})})),r=j(n,(e=>e.finish<=t)),a=U(r,((e,t)=>e+t.width),0);return{within:r,extra:n.slice(r.length),withinWidth:a}},HO=e=>H(e,(e=>e.element)),FO=(e,t,o,n)=>{const r=((e,t,o)=>{const n=BO(t,e,o);return 0===n.extra.length?T.some(n):T.none()})(e,t,o).getOrThunk((()=>BO(t,e-o(n),o))),a=r.within,s=r.extra,i=r.withinWidth;return 1===s.length&&s[0].width<=o(n)?((e,t,o)=>{const n=HO(e.concat(t));return PO(n,[],o)})(a,s,i):s.length>=1?((e,t,o,n)=>{const r=HO(e).concat([o]);return PO(r,HO(t),n)})(a,s,n,i):((e,t,o)=>PO(HO(e),[],o))(a,0,i)},VO=(e,t)=>{const o=H(t,(e=>Ci(e)));yT.setGroups(e,o)},jO=(e,t,o)=>{const n=t.builtGroups.get();if(0===n.length)return;const r=Bh(e,t,"primary"),a=nk.getCoupled(e,"overflowGroup");Ot(r.element,"visibility","hidden");const s=n.concat([a]),i=ae(s,(e=>nc(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));o([]),VO(r,s);const l=Kt(r.element),c=FO(l,t.builtGroups.get(),(e=>Kt(e.element)),a);0===c.extra.length?(zg.remove(r,a),o([])):(VO(r,c.within),o(c.extra)),Bt(r.element,"visibility"),Ht(r.element),i.each(Bg.focus)},UO=_([Yu("splitToolbarBehaviours",[nk]),ir("builtGroups",(()=>Ir([])))]),WO=_([Ki(["overflowToggledClass"]),xr("getOverflowBounds"),cr("lazySink"),ir("overflowGroups",(()=>Ir([]))),Qi("onOpened"),Qi("onClosed")].concat(UO())),ZO=_([xh({factory:yT,schema:gT(),name:"primary"}),Sh({schema:gT(),name:"overflow"}),Sh({name:"overflow-button"}),Sh({name:"overflow-group"})]),$O=_(((e,t)=>{((e,t)=>{const o=Gt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ot(e,"max-width",o+"px")})(e,Math.floor(t))})),qO=_([Ki(["toggledClass"]),cr("lazySink"),mr("fetch"),xr("getBounds"),Cr("fireDismissalEventInstead",[Er("event",Na())]),Yc(),Qi("onToggled")]),YO=_([Sh({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Zl([$g.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Sh({factory:yT,schema:gT(),name:"toolbar",overrides:e=>({toolbarBehaviours:Zl([xg.config({mode:"cyclic",onEscape:t=>(Ph(t,e,"button").each(Bg.focus),T.none())})])})})]),GO=kc(),KO=(e,t)=>{const o=nk.getCoupled(e,"toolbarSandbox");Du.isOpen(o)?Du.close(o):Du.open(o,t.toolbar())},XO=(e,t,o,n)=>{const r=o.getBounds.map((e=>e())),a=o.lazySink(e).getOrDie();eu.positionWithinBounds(a,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:$O()}}},r)},QO=(e,t,o,n,r)=>{yT.setGroups(t,r),XO(e,t,o,n),$g.on(e)},JO=Qh({name:"FloatingToolbarButton",factory:(e,t,o,n)=>({...Af.sketch({...n.button(),action:e=>{KO(e,n)},buttonBehaviours:Qu({dump:n.button().buttonBehaviours},[nk.config({others:{toolbarSandbox:t=>((e,t,o)=>{const n=Ii();return{dom:{tag:"div",attributes:{id:n.id}},behaviours:Zl([xg.config({mode:"special",onEscape:e=>(Du.close(e),T.some(!0))}),Du.config({onOpen:(r,a)=>{const s=GO.get().getOr(!1);o.fetch().get((r=>{QO(e,a,o,t.layouts,r),n.link(e.element),s||xg.focusIn(a)}))},onClose:()=>{$g.off(e),GO.get().getOr(!1)||Bg.focus(e),n.unlink(e.element)},isPartOf:(t,o,n)=>Pi(o,n)||Pi(e,n),getAttachPoint:()=>o.lazySink(e).getOrDie()}),Xl.config({channels:{...zu({isExtraPart:D,...o.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Nu({doReposition:()=>{Du.getState(nk.getCoupled(e,"toolbarSandbox")).each((n=>{XO(e,n,o,t.layouts)}))}})}})])}})(t,o,e)}})])}),apis:{setGroups:(t,n)=>{Du.getState(nk.getCoupled(t,"toolbarSandbox")).each((r=>{QO(t,r,e,o.layouts,n)}))},reposition:t=>{Du.getState(nk.getCoupled(t,"toolbarSandbox")).each((n=>{XO(t,n,e,o.layouts)}))},toggle:e=>{KO(e,n)},toggleWithoutFocusing:e=>{((e,t)=>{GO.set(!0),KO(e,t),GO.clear()})(e,n)},getToolbar:e=>Du.getState(nk.getCoupled(e,"toolbarSandbox")),isOpen:e=>Du.isOpen(nk.getCoupled(e,"toolbarSandbox"))}}),configFields:qO(),partFields:YO(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),eM=_([cr("items"),Ki(["itemSelector"]),Yu("tgroupBehaviours",[xg])]),tM=_([Eh({name:"items",unit:"item"})]),oM=Qh({name:"ToolbarGroup",configFields:eM(),partFields:tM(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Ku(e.tgroupBehaviours,[xg.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),nM=e=>H(e,(e=>Ci(e))),rM=(e,t,o)=>{jO(e,o,(n=>{o.overflowGroups.set(n),t.getOpt(e).each((e=>{JO.setGroups(e,nM(n))}))}))},aM=Qh({name:"SplitFloatingToolbar",configFields:WO(),partFields:ZO(),factory:(e,t,o,n)=>{const r=Tf(JO.sketch({fetch:()=>lk((t=>{t(nM(e.overflowGroups.get()))})),layouts:{onLtr:()=>[El,Cl],onRtl:()=>[Cl,El],onBottomLtr:()=>[Al,Dl],onBottomRtl:()=>[Dl,Al]},getBounds:o.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(t,o)=>e[o?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Ku(e.splitToolbarBehaviours,[nk.config({others:{overflowGroup:()=>oM.sketch({...n["overflow-group"](),items:[r.asSpec()]})}})]),apis:{setGroups:(t,o)=>{e.builtGroups.set(H(o,t.getSystem().build)),rM(t,r,e)},refresh:t=>rM(t,r,e),toggle:e=>{r.getOpt(e).each((e=>{JO.toggle(e)}))},toggleWithoutFocusing:e=>{r.getOpt(e).each(JO.toggleWithoutFocusing)},isOpen:e=>r.getOpt(e).map(JO.isOpen).getOr(!1),reposition:e=>{r.getOpt(e).each((e=>{JO.reposition(e)}))},getOverflow:e=>r.getOpt(e).bind(JO.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),sM=_([Ki(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Qi("onOpened"),Qi("onClosed")].concat(UO())),iM=_([xh({factory:yT,schema:gT(),name:"primary"}),xh({factory:yT,schema:gT(),name:"overflow",overrides:e=>({toolbarBehaviours:Zl([KE.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{Ph(t,e,"overflow-button").each((e=>{$g.off(e),Bg.focus(e)})),e.onClosed(t)},onGrown:t=>{xg.focusIn(t),e.onOpened(t)},onStartGrow:t=>{Ph(t,e,"overflow-button").each($g.on)}}),xg.config({mode:"acyclic",onEscape:t=>(Ph(t,e,"overflow-button").each(Bg.focus),T.some(!0))})])})}),Sh({name:"overflow-button",overrides:e=>({buttonBehaviours:Zl([$g.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Sh({name:"overflow-group"})]),lM=(e,t)=>{Ph(e,t,"overflow-button").bind((()=>Ph(e,t,"overflow"))).each((o=>{cM(e,t),KE.toggleGrow(o)}))},cM=(e,t)=>{Ph(e,t,"overflow").each((o=>{jO(e,t,(e=>{const t=H(e,(e=>Ci(e)));yT.setGroups(o,t)})),Ph(e,t,"overflow-button").each((e=>{KE.hasGrown(o)&&$g.on(e)})),KE.refresh(o)}))},dM=Qh({name:"SplitSlidingToolbar",configFields:sM(),partFields:iM(),factory:(e,t,o,n)=>{const r="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:Ku(e.splitToolbarBehaviours,[nk.config({others:{overflowGroup:e=>oM.sketch({...n["overflow-group"](),items:[Af.sketch({...n["overflow-button"](),action:t=>{Ua(e,r)}})]})}}),Rg("toolbar-toggle-events",[Qa(r,(t=>{lM(t,e)}))])]),apis:{setGroups:(t,o)=>{((t,o)=>{const n=H(o,t.getSystem().build);e.builtGroups.set(n)})(t,o),cM(t,e)},refresh:t=>cM(t,e),toggle:t=>lM(t,e),isOpen:t=>((e,t)=>Ph(e,t,"overflow").map(KE.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),uM=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[oM.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Zl([sx.config({}),Bg.config({})])}},hM=e=>oM.sketch(uM(e)),pM=(e,t)=>{const o=ss((t=>{const o=H(e.initGroups,hM);yT.setGroups(t,o)}));return Zl([p_(e.providers.isDisabled),c_(),xg.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Rg("toolbar-events",[o])])},mM=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":uM({title:T.none(),items:[]}),"overflow-button":ED({name:"more",icon:T.some("more-drawer"),enabled:!0,tooltip:T.some("More..."),primary:!1,buttonType:T.none(),borderless:!1},T.none(),e.providers)},splitToolbarBehaviours:pM(e,t)}},gM=e=>{const t=mM(e),o=aM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return aM.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,o=Go(t),n=et(t),r=Go(n),a=Math.max(n.dom.scrollHeight,r.height);return qo(o.x+4,r.y,o.width-8,a)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[o],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},fM=e=>{const t=dM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=dM.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),n=mM(e);return dM.sketch({...n,components:[t,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([eO()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([eO()],{type:"closed"}),e.onToggled(t,!1)}})},yM=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return yT.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===jf.scrolling?["tox-toolbar--scrolling"]:[])},components:[yT.parts.groups({})],toolbarBehaviours:pM(e,t)})},bM=[Qb,Jb,wr("tooltip"),Or("buttonType","secondary",["primary","secondary"]),Mr("borderless",!1),mr("onAction")],vM={button:[...bM,jb,pr("type",["button"])],togglebutton:[...bM,Mr("active",!1),pr("type",["togglebutton"])]},_M=[pr("type",["group"]),Rr("buttons",[],rr("type",vM))],wM=rr("type",{...vM,group:_M}),kM=Pn([Rr("buttons",[],wM),mr("onShow"),mr("onHide")]),xM=(e,t)=>((e,t)=>{var o,n;const r="togglebutton"===e.type,a=e.icon.map((e=>uE(e,t.icons))).map(Tf),s=o=>{const n=e=>{a.map((n=>n.getOpt(o).each((o=>{zg.set(o,[uE(e,t.icons)])}))))},s=e=>{const t=o.element;e?(ei(t,"tox-button--enabled"),kt(t,"aria-pressed",!0)):(ti(t,"tox-button--enabled"),Dt(t,"aria-pressed"))},i=()=>oi(o.element,"tox-button--enabled");return r?e.onAction({setIcon:n,setActive:s,isActive:i}):"button"===e.type?e.onAction({setIcon:n}):void 0},i={...e,name:r?e.text.getOr(e.icon.getOr("")):null!==(o=e.text)&&void 0!==o?o:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:T.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},l=DD(null!==(n=e.buttonType)&&void 0!==n?n:"secondary"),c=r?e.text.map(t.translate):T.some(t.translate(e.text)),d=c.map(_i),u=i.tooltip.or(c).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),h=a.map((e=>e.asSpec())),p=v_([h,d]),m=e.icon.isSome()&&d.isSome(),g={tag:"button",classes:l.concat(...e.icon.isSome()&&!m?["tox-button--icon"]:[]).concat(...m?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:u},f=CD(i,T.some(s),[],g,p,t);return Af.sketch(f)})(e,t),SM=Ao().deviceType,CM=SM.isPhone(),EM=SM.isTablet();var DM=Qh({name:"silver.View",configFields:[cr("viewConfig")],partFields:[Ch({factory:{sketch:e=>{let t=!1;const o=H(e.buttons,(o=>"group"===o.type?(t=!0,((e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:H(e.buttons,(e=>xM(e,t)))}))(o,e.providers)):xM(o,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...CM||EM?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Zl([Bg.config({}),xg.config({mode:"flow",selector:"button, .tox-button",focusInside:Kp.OnEnterOrSpaceMode})]),components:t?o:[Jk.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Jk.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:o})]}}},schema:[cr("buttons"),cr("providers")],name:"header"}),Ch({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,o,n)=>{const r={getPane:t=>cT.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:r}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const AM=(e,t,o)=>me(t,((t,n)=>{const r=tr(er("view",kM,t));return e.slot(n,DM.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[DM.parts.header({buttons:r.buttons,providers:o})]:[],DM.parts.pane({})]}))})),TM=(e,t)=>wO.sketch((o=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:AM(o,e,t),slotBehaviours:Yv([ss((e=>wO.hideAllSlots(e)))])}))),OM=e=>Z(wO.getSlotNames(e),(t=>wO.isShowing(e,t))),MM=(e,t,o)=>{wO.getSlot(e,t).each((e=>{DM.getPane(e).each((t=>{var n;o(e)((n=t.element.dom,{getContainer:_(n)}))}))}))};var zM=Xh({factory:(e,t)=>{const o={setViews:(e,o)=>{zg.set(e,[TM(o,t.backstage.shared.providers)])},whichView:e=>op.getCurrent(e).bind(OM),toggleView:(e,t,o,n)=>op.getCurrent(e).exists((r=>{const a=OM(r),s=a.exists((e=>n===e)),i=wO.getSlot(r,n).isSome();return i&&(wO.hideAllSlots(r),s?((e=>{const t=e.element;Ot(t,"display","none"),kt(t,"aria-hidden","true")})(e),t()):(o(),(e=>{const t=e.element;Bt(t,"display"),Dt(t,"aria-hidden")})(e),wO.showSlot(r,n),((e,t)=>{MM(e,t,DM.getOnShow)})(r,n)),a.each((e=>((e,t)=>MM(e,t,DM.getOnHide))(r,e)))),i}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Zl([zg.config({}),op.config({find:e=>{const t=zg.contents(e);return oe(t)}})]),apis:o}},name:"silver.ViewWrapper",configFields:[cr("backstage")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,n,r)=>e.toggleView(t,o,n,r),whichView:(e,t)=>e.whichView(t)}});const RM=dT.optional({factory:gO,name:"menubar",schema:[cr("backstage")]}),NM=dT.optional({factory:{sketch:e=>mT.sketch({uid:e.uid,dom:e.dom,listBehaviours:Zl([xg.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>yM({type:e.type,uid:bs("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),T.some(!0))}),setupItem:(e,t,o,n)=>{yT.setGroups(t,o)},shell:!0})},name:"multiple-toolbar",schema:[cr("dom"),cr("onEscape")]}),IM=dT.optional({factory:{sketch:e=>{const t=(e=>e.type===jf.sliding?fM:e.type===jf.floating?gM:yM)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),T.some(!0)),onToggled:(t,o)=>e.onToolbarToggled(o),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[cr("dom"),cr("onEscape"),cr("getSink")]}),LM=dT.optional({factory:{sketch:e=>{const t=e.editor,o=e.sticky?lO:_T;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Zl(o(t,e.sharedBackstage))}}},name:"header",schema:[cr("dom")]}),PM=dT.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[cr("dom")]}),BM=dT.optional({name:"socket",schema:[cr("dom")]}),HM=dT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Zl([sx.config({}),Bg.config({}),KE.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{op.getCurrent(e).each(wO.hideAllSlots),Ua(e,TO)},onGrown:e=>{Ua(e,TO)},onStartGrow:e=>{Wa(e,AO,{width:It(e.element,"width").getOr("")})},onStartShrink:e=>{Wa(e,AO,{width:Kt(e.element)+"px"})}}),zg.config({}),op.config({find:e=>{const t=zg.contents(e);return oe(t)}})])}],behaviours:Zl([LC(0),Rg("sidebar-sliding-events",[Qa(AO,((e,t)=>{Ot(e.element,"width",t.event.width)})),Qa(TO,((e,t)=>{Bt(e.element,"width")}))])])})},name:"sidebar",schema:[cr("dom")]}),FM=dT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Zl([zg.config({}),zO.config({focus:!1}),op.config({find:e=>oe(e.components())})]),components:[]})},name:"throbber",schema:[cr("dom")]}),VM=dT.optional({factory:zM,name:"viewWrapper",schema:[cr("backstage")]}),jM=dT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var UM=Qh({name:"OuterContainer",factory:(e,t,o)=>{let n=!1;const r={getSocket:t=>cT.getPart(t,e,"socket"),setSidebar:(t,o,n)=>{cT.getPart(t,e,"sidebar").each((e=>((e,t,o)=>{op.getCurrent(e).each((n=>{zg.set(n,[CO(t)]);const r=null==o?void 0:o.toLowerCase();a(r)&&be(t,r)&&op.getCurrent(n).each((t=>{wO.showSlot(t,r),KE.immediateGrow(n),Bt(n.element,"width"),EO(e.element,"region")}))}))})(e,o,n)))},toggleSidebar:(t,o)=>{cT.getPart(t,e,"sidebar").each((e=>((e,t)=>{op.getCurrent(e).each((o=>{op.getCurrent(o).each((n=>{KE.hasGrown(o)?wO.isShowing(n,t)?(KE.shrink(o),EO(e.element,"presentation")):(wO.hideAllSlots(n),wO.showSlot(n,t),EO(e.element,"region")):(wO.hideAllSlots(n),wO.showSlot(n,t),KE.grow(o),EO(e.element,"region"))}))}))})(e,o)))},whichSidebar:t=>cT.getPart(t,e,"sidebar").bind(DO).getOrNull(),getHeader:t=>cT.getPart(t,e,"header"),getToolbar:t=>cT.getPart(t,e,"toolbar"),setToolbar:(t,o)=>{cT.getPart(t,e,"toolbar").each((e=>{const t=H(o,hM);e.getApis().setGroups(e,t)}))},setToolbars:(t,o)=>{cT.getPart(t,e,"multiple-toolbar").each((e=>{const t=H(o,(e=>H(e,hM)));mT.setItems(e,t)}))},refreshToolbar:t=>{cT.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{cT.getPart(t,e,"toolbar").each((e=>{xe(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{cT.getPart(t,e,"toolbar").each((e=>{xe(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>cT.getPart(t,e,"toolbar").bind((e=>T.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>cT.getPart(t,e,"throbber"),focusToolbar:t=>{cT.getPart(t,e,"toolbar").orThunk((()=>cT.getPart(t,e,"multiple-toolbar"))).each((e=>{xg.focusIn(e)}))},setMenubar:(t,o)=>{cT.getPart(t,e,"menubar").each((e=>{gO.setMenus(e,o)}))},focusMenubar:t=>{cT.getPart(t,e,"menubar").each((e=>{gO.focus(e)}))},setViews:(t,o)=>{cT.getPart(t,e,"viewWrapper").each((e=>{zM.setViews(e,o)}))},toggleView:(t,o)=>cT.getPart(t,e,"viewWrapper").exists((e=>zM.toggleView(e,(()=>r.showMainView(t)),(()=>r.hideMainView(t)),o))),whichView:t=>cT.getPart(t,e,"viewWrapper").bind(zM.whichView).getOrNull(),hideMainView:t=>{n=r.isToolbarDrawerToggled(t),n&&r.toggleToolbarDrawer(t),cT.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Ot(t,"display","none"),kt(t,"aria-hidden","true")}))},showMainView:t=>{n&&r.toggleToolbarDrawer(t),cT.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Bt(t,"display"),Dt(t,"aria-hidden")})),r.refreshToolbar(t)}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},configFields:[cr("dom"),cr("behaviours")],partFields:[LM,RM,IM,NM,BM,HM,PM,FM,VM,jM],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,n)=>{e.setSidebar(t,o,n)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});const WM={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},ZM=e=>e.split(" "),$M=(e,t)=>{const o={...WM,...t.menus},n=se(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?ZM("file edit view insert format tools table help"):ZM(!1===t.menubar?"":t.menubar),s=j(r,(e=>{const o=be(WM,e);return n?o||ye(t.menus,e).exists((e=>be(e,"items"))):o})),i=H(s,(n=>{const r=o[n];return((e,t,o)=>{const n=iy(o).split(/[ ,]/);return{text:e.title,getItems:()=>Y(e.items,(e=>{const o=e.toLowerCase();return 0===o.trim().length||L(n,(e=>e===o))?[]:"separator"===o||"|"===o?[{type:"separator"}]:t.menuItems[o]?[t.menuItems[o]]:[]}))}})({title:r.title,items:ZM(r.items)},t,e)}));return j(i,(e=>e.getItems().length>0&&L(e.getItems(),(e=>a(e)||"separator"!==e.type))))},qM=e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}},YM=(e,t,o)=>(e.on("remove",(()=>o.unload(t))),o.load(t)),GM=(e,t)=>YM(e,t+"/skin.min.css",e.ui.styleSheetLoader),KM=(e,t)=>{var o;if(o=Ne.fromDom(e.getElement()),gt(o).isSome()){return YM(e,t+"/skin.shadowdom.min.css",Wf.DOM.styleSheetLoader)}return Promise.resolve()},XM=(e,t)=>{const o=Ny(t);return o&&t.contentCSS.push(o+(e?"/content.inline":"/content")+".min.css"),!zy(t)&&a(o)?Promise.all([GM(t,o),KM(t,o)]).then(qM(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",t)})(e,{message:t}))(t,"Skin could not be loaded")):Promise.resolve(qM(t)())},QM=x(XM,!1),JM=x(XM,!0),ez=(e,t)=>o=>{const n=wc(),r=()=>{o.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,o.setActive);n.set(r)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),n.clear()}},tz=(e,t,o)=>n=>{const r=()=>o(n),a=()=>{o(n),e.on(t,r)};return e.initialized?a():e.once("init",a),()=>{e.off("init",a),e.off(t,r)}},oz=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},nz=(e,t)=>()=>e.execCommand(t),rz=(e,t,o)=>{const n=(e,n,a,s)=>{const i=t.shared.providers.translate(e.title);if("separator"===e.type)return T.some({type:"separator",text:i});if("submenu"===e.type){const t=Y(e.getStyleItems(),(e=>r(e,n,s)));return 0===n&&t.length<=0?T.none():T.some({type:"nestedmenuitem",text:i,enabled:t.length>0,getSubmenuItems:()=>Y(e.getStyleItems(),(e=>r(e,n,s)))})}return T.some({type:"togglemenuitem",text:i,icon:e.icon,active:e.isSelected(s),enabled:!a,onAction:o.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},r=(e,t,r)=>{const a="formatter"===e.type&&o.isInvalid(e);return 0===t?a?[]:n(e,t,!1,r).toArray():n(e,t,a,r).toArray()},a=e=>{const t=o.getCurrentValue(),n=o.shouldHide?0:1;return Y(e,(e=>r(e,n,t)))};return{validateItems:a,getFetch:(e,t)=>(o,n)=>{const r=t(),s=a(r);n(_E(s,Qy.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:T.none()}))}}},az=(e,t,o)=>{const n=o.dataset,r="basic"===n.type?()=>H(n.data,(e=>RA(e,o.isSelectedFor,o.getPreviewFor))):n.getData;return{items:rz(0,t,o),getStyleItems:r}},sz=(e,t,o)=>{const{items:n,getStyleItems:r}=az(0,t,o),a=tz(e,"NodeChange",(e=>{const t=e.getComponent();o.updateText(t)}));return gE({text:o.icon.isSome()?T.none():o.text,icon:o.icon,tooltip:T.from(o.tooltip),role:T.none(),fetch:n.getFetch(t,r),onSetup:a,getApi:e=>({getComponent:_(e)}),columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var iz;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(iz||(iz={}));const lz=(e,t,o)=>{const n=(e=>H(e,(e=>{let t=e,o=e;const n=e.split("=");return n.length>1&&(t=n[0],o=n[1]),{title:t,format:o}})))(((e,t)=>t===iz.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),o));return{type:"basic",data:n}},cz=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],dz=e=>{const t={type:"basic",data:cz};return{tooltip:"Align",text:T.none(),icon:T.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:e=>T.none,onAction:t=>()=>Z(cz,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const o=Z(cz,(t=>e.formatter.match(t.format))),n=o.fold(_("left"),(e=>e.title.toLowerCase()));Wa(t,mE,{icon:`align-${n}`})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},uz=(e,t)=>{const o=t(),n=H(o,(e=>e.format));return T.from(e.formatter.closest(n)).bind((e=>Z(o,(t=>t.format===e)))).orThunk((()=>Se(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},hz=e=>{const t="Paragraph",o=lz(e,"block_formats",iz.SemiColon);return{tooltip:"Blocks",text:T.some(t),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{const o=e.formatter.get(t);return o?T.some({tag:o.length>0&&(o[0].inline||o[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},onAction:oz(e),updateText:n=>{const r=uz(e,(()=>o.data)).fold(_(t),(e=>e.title));Wa(n,pE,{text:r})},dataset:o,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},pz=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],mz=e=>{const t=e.split(/\s*,\s*/);return H(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},gz=e=>{const t="System Font",o=()=>{const o=e=>e?mz(e)[0]:"",r=e.queryCommandValue("FontName"),a=n.data,s=r?r.toLowerCase():"",i=Z(a,(e=>{const t=e.format;return t.toLowerCase()===s||o(t).toLowerCase()===o(s).toLowerCase()})).orThunk((()=>Se((e=>0===e.indexOf("-apple-system")&&(()=>{const t=mz(e.toLowerCase());return G(pz,(e=>t.indexOf(e.toLowerCase())>-1))})())(s),{title:t,format:s})));return{matchOpt:i,font:r}},n=lz(e,"font_family_formats",iz.SemiColon);return{tooltip:"Fonts",text:T.some(t),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=o();return e},getPreviewFor:e=>()=>T.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:e=>{const{matchOpt:t,font:n}=o(),r=t.fold(_(n),(e=>e.title));Wa(e,pE,{text:r})},dataset:n,shouldHide:!1,isInvalid:D}},fz={tab:_(9),escape:_(27),enter:_(13),backspace:_(8),delete:_(46),left:_(37),up:_(38),right:_(39),down:_(40),space:_(32),home:_(36),end:_(35),pageUp:_(33),pageDown:_(34)},yz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},bz=(()=>{const e="[0-9]+",t="[eE]"+("[+-]?"+e),o=e=>`(?:${e})?`,n=["Infinity",e+"\\."+o(e)+o(t),"\\."+e+o(t),e+o(t)].join("|");return new RegExp(`^(${`[+-]?(?:${n})`})(.*)$`)})(),vz=(e,t)=>T.from(bz.exec(e)).bind((e=>{const o=Number(e[1]),n=e[2];return((e,t)=>L(t,(t=>L(yz[t],(t=>e===t)))))(n,t)?T.some({value:o,unit:n}):T.none()})),_z=(e,t,o)=>{let n=T.none();const r=tz(e,"NodeChange",(e=>{const t=e.getComponent();n=T.some(t),o.updateInputValue(t)})),a=e=>({getComponent:_(e)}),s=Ir(y),i=bs("custom-number-input-events"),l=(t,r,a)=>{const s=n.map((e=>qu.getValue(e))).getOr("");const i=vz(s,["unsupportedLength","empty"]),l=i.map((e=>e.value)).getOr(0),c=vy(e),d=i.map((e=>e.unit)).filter((e=>""!==e)).getOr(c),u=t(l,o.getConfigFromUnit(d).step),h=`${(e=>e>=0)(u)?u:l}${d}`,p=`${l}${d}`.length-`${h}`.length,m=n.map((e=>e.element.dom.selectionStart-p)),g=n.map((e=>e.element.dom.selectionEnd-p));o.onAction(h,a),n.each((e=>{qu.setValue(e,h),r&&(m.each((t=>e.element.dom.selectionStart=t)),g.each((t=>e.element.dom.selectionEnd=t)))}))},c=(e,t)=>l(((e,t)=>e-t),e,t),d=(e,t)=>l(((e,t)=>e+t),e,t),u=e=>nt(e.element).fold(T.none,(e=>(Jl(e),T.some(!0)))),h=e=>tc(e.element)?(it(e.element).each((e=>Jl(e))),T.some(!0)):T.none(),p=(e,o,n,r)=>{const a=t.shared.providers.translate(n),s=bs("altExecuting"),i=()=>e(!0);return Af.sketch({dom:{tag:"button",attributes:{title:a,"aria-label":a},classes:r.concat(o)},components:[dE(o,t.shared.providers.icons)],buttonBehaviours:Zl([Rg(s,[Qa(sa(),((t,o)=>{o.event.raw.keyCode!==fz.space()&&o.event.raw.keyCode!==fz.enter()||e(!1)})),Qa(da(),i),Qa(Xr(),i)])]),eventOrder:{[sa()]:[s,"keying"],[da()]:[s,"alloy.base.behaviour"],[Xr()]:[s,"alloy.base.behaviour"]}})},m=Tf(p((e=>c(!1,e)),"minus","Decrease font size",["highlight-on-focus"])),g=Tf(p((e=>d(!1,e)),"plus","Increase font size",["highlight-on-focus"])),f=Tf({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[wb.sketch({inputBehaviours:Zl([Rg(i,[g_({onSetup:r,getApi:a},s),f_({getApi:a},s)]),Rg("input-update-display-text",[Qa(pE,((e,t)=>{qu.setValue(e,t.event.text)})),Qa(aa(),(e=>{o.onAction(qu.getValue(e))})),Qa(ca(),(e=>{o.onAction(qu.getValue(e))}))]),xg.config({mode:"special",onEnter:e=>(l(w,!0,!0),T.some(!0)),onEscape:u,onUp:e=>(d(!0,!1),T.some(!0)),onDown:e=>(c(!0,!1),T.some(!0)),onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())})])})],behaviours:Zl([Bg.config({}),xg.config({mode:"special",onEnter:h,onSpace:h,onEscape:u}),Rg("input-wrapper-events",[Qa(na(),(e=>{F([m,g],(t=>{const o=Ne.fromDom(t.get(e).element.dom);tc(o)&&ec(o)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[m.asSpec(),f.asSpec(),g.asSpec()],behaviours:Zl([Bg.config({}),xg.config({mode:"flow",focusInside:Kp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>tc(e.element)?T.none():(Jl(e.element),T.some(!0))})])}},wz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},kz={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},xz=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const o=Math.pow(10,t);return Math.round(e*o)/o})(72*parseInt(e,10)/96,t||0)+"pt":ye(kz,e).getOr(e),Sz=e=>ye(wz,e).getOr(""),Cz=e=>{const t=()=>{let t=T.none();const o=n.data,r=e.queryCommandValue("FontSize");if(r)for(let e=3;t.isNone()&&e>=0;e--){const n=xz(r,e),a=Sz(n);t=Z(o,(e=>e.format===r||e.format===n||e.format===a))}return{matchOpt:t,size:r}},o=_(T.none),n=lz(e,"font_size_formats",iz.Space);return{tooltip:"Font sizes",text:T.some("12pt"),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:o,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:e=>{const{matchOpt:o,size:n}=t(),r=o.fold(_(n),(e=>e.title));Wa(e,pE,{text:r})},dataset:n,shouldHide:!1,isInvalid:D}},Ez=e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}},Dz=(e,t)=>{const o="Paragraph";return{tooltip:"Formats",text:T.some(o),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{const o=e.formatter.get(t);return void 0!==o?T.some({tag:o.length>0&&(o[0].inline||o[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},onAction:oz(e),updateText:t=>{const n=e=>AA(e)?Y(e.items,n):TA(e)?[{title:e.title,format:e.format}]:[],r=Y(zA(e),n),a=uz(e,_(r)).fold(_(o),(e=>e.title));Wa(t,pE,{text:a})},shouldHide:ay(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},Az=_([cr("toggleClass"),cr("fetch"),el("onExecute"),Er("getHotspot",T.some),Er("getAnchorOverrides",_({})),Yc(),el("onItemExecute"),br("lazySink"),cr("dom"),Qi("onOpen"),Yu("splitDropdownBehaviours",[nk,xg,Bg]),Er("matchWidth",!1),Er("useMinWidth",!1),Er("eventOrder",{}),br("role")].concat(wk())),Tz=xh({factory:Af,schema:[cr("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Zl([Bg.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Za)},buttonBehaviours:Zl([$g.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),Oz=xh({factory:Af,schema:[cr("dom")],name:"button",defaults:()=>({buttonBehaviours:Zl([Bg.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((o=>{e.onExecute(o,t)}))}})}),Mz=_([Tz,Oz,Ch({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[cr("text")],name:"aria-descriptor"}),Sh({schema:[Gi()],name:"menu",defaults:e=>({onExecute:(t,o)=>{t.getSystem().getByUid(e.uid).each((n=>{e.onItemExecute(n,t,o)}))}})}),uk()]),zz=Qh({name:"SplitDropdown",configFields:Az(),partFields:Mz(),factory:(e,t,o,n)=>{const r=e=>{op.getCurrent(e).each((e=>{Dp.highlightFirst(e),xg.focusIn(e)}))},a=t=>{gk(e,w,t,n,r,xf.HighlightMenuAndItem).get(y)},s=t=>{const o=Bh(t,e,"button");return Za(o),T.some(!0)},i={...Ga([ss(((t,o)=>{Ph(t,e,"aria-descriptor").each((e=>{const o=bs("aria");kt(e.element,"id",o),kt(t.element,"aria-describedby",o)}))}))]),...Gg(T.some(a))},l={repositionMenus:e=>{$g.isOn(e)&&_k(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[wa()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:Ku(e.splitDropdownBehaviours,[nk.config({others:{sandbox:t=>{const o=Bh(t,e,"arrow");return vk(e,t,{onOpen:()=>{$g.on(o),$g.on(t)},onClose:()=>{$g.off(o),$g.off(t)}})}}}),xg.config({mode:"special",onSpace:s,onEnter:s,onDown:e=>(a(e),T.some(!0))}),Bg.config({}),$g.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),Rz=e=>({isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t),setText:t=>Wa(e,pE,{text:t}),setIcon:t=>Wa(e,mE,{icon:t})}),Nz=e=>({setActive:t=>{$g.set(e,t)},isActive:()=>$g.isOn(e),isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t),setText:t=>Wa(e,pE,{text:t}),setIcon:t=>Wa(e,mE,{icon:t})}),Iz=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),Lz=bs("focus-button"),Pz=(e,t,o,n,r)=>{const a=t.map((e=>Tf(hE(e,"tox-tbtn",r)))),s=e.map((e=>Tf(uE(e,r.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:Iz(o,r)},components:v_([s.map((e=>e.asSpec())),a.map((e=>e.asSpec()))]),eventOrder:{[Jr()]:["focusing","alloy.base.behaviour",sE],[za()]:[sE,"toolbar-group-button-events"]},buttonBehaviours:Zl([p_(r.isDisabled),c_(),Rg(sE,[ss(((e,t)=>lE(e))),Qa(pE,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{zg.set(e,[_i(r.translate(t.event.text))])}))})),Qa(mE,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{zg.set(e,[uE(t.event.icon,r.icons)])}))})),Qa(Jr(),((e,t)=>{t.event.prevent(),Ua(e,Lz)}))])].concat(n.getOr([])))}},Bz=(e,t,o)=>{var n;const r=Ir(y),a=Pz(e.icon,e.text,e.tooltip,T.none(),o);return Af.sketch({dom:a.dom,components:a.components,eventOrder:iE,buttonBehaviours:{...Zl([Rg("toolbar-button-events",[(s={onAction:e.onAction,getApi:t.getApi},cs(((e,t)=>{m_(s,e)((t=>{Wa(e,aE,{buttonApi:t}),s.onAction(t)}))}))),g_(t,r),f_(t,r)]),p_((()=>!e.enabled||o.isDisabled())),c_()].concat(t.toolbarButtonBehaviours)),[sE]:null===(n=a.buttonBehaviours)||void 0===n?void 0:n[sE]}});var s},Hz=(e,t,o)=>Bz(e,{toolbarButtonBehaviours:o.length>0?[Rg("toolbarButtonWith",o)]:[],getApi:Rz,onSetup:e.onSetup},t),Fz=(e,t,o)=>Bz(e,{toolbarButtonBehaviours:[zg.config({}),$g.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Rg("toolbarToggleButtonWith",o)]:[]),getApi:Nz,onSetup:e.onSetup},t),Vz=(e,t,o)=>n=>lk((e=>t.fetch(e))).map((r=>T.from(Nk(_n(Pw(bs("menu-value"),r,(o=>{t.onItemAction(e(n),o)}),t.columns,t.presets,Qy.CLOSE_ON_EXECUTE,t.select.getOr(D),o),{movement:Hw(t.columns,t.presets),menuBehaviours:Yv("auto"!==t.columns?[]:[ss(((e,o)=>{$v(e,4,db(t.presets)).each((({numRows:t,numColumns:o})=>{xg.setGridSize(e,t,o)}))}))])}))))),jz=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Uz=(e,t)=>(o,n,r)=>{const a=e(o).mapError((e=>nr(e))).getOrDie();return t(a,n,r)},Wz={button:Uz(yv,((e,t)=>{return o=e,n=t.shared.providers,Hz(o,n,[]);var o,n})),togglebutton:Uz(_v,((e,t)=>{return o=e,n=t.shared.providers,Fz(o,n,[]);var o,n})),menubutton:Uz(pO,((e,t)=>QE(e,"tox-tbtn",t,T.none()))),splitbutton:Uz((e=>er("SplitButton",mO,e)),((e,t)=>((e,t)=>{const o=e=>({isEnabled:()=>!fp.isDisabled(e),setEnabled:t=>fp.set(e,!t),setIconFill:(t,o)=>{zi(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{kt(e,"fill",o)}))},setActive:t=>{kt(e.element,"aria-pressed",t),zi(e.element,"span").each((o=>{e.getSystem().getByDom(o).each((e=>$g.set(e,t)))}))},isActive:()=>zi(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists($g.isOn))),setText:t=>zi(e.element,"span").each((o=>e.getSystem().getByDom(o).each((e=>Wa(e,pE,{text:t}))))),setIcon:t=>zi(e.element,"span").each((o=>e.getSystem().getByDom(o).each((e=>Wa(e,mE,{icon:t})))))}),n=Ir(y),r={getApi:o,onSetup:e.onSetup};return zz.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...Iz(e.tooltip,t.providers)}},onExecute:t=>{const n=o(t);n.isEnabled()&&e.onAction(n)},onItemExecute:(e,t,o)=>{},splitDropdownBehaviours:Zl([h_(t.providers.isDisabled),c_(),Rg("split-dropdown-events",[ss(((e,t)=>lE(e))),Qa(Lz,Bg.focus),g_(r,n),f_(r,n)]),zx.config({})]),eventOrder:{[za()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:Vz(o,e,t.providers),parts:{menu:fb(0,e.columns,e.presets)},components:[zz.parts.button(Pz(e.icon,e.text,T.none(),T.some([$g.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),zz.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Lf("chevron-down",t.providers.icons)},buttonBehaviours:Zl([h_(t.providers.isDisabled),c_(),Pf()])}),zz.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared))),grouptoolbarbutton:Uz((e=>er("GroupToolbarButton",dO,e)),((e,t,o)=>{const n=o.ui.registry.getAll().buttons,r=e=>Yz(o,{buttons:n,toolbar:e,allowToolbarGroups:!1},t,T.none()),a={[$c]:t.shared.header.isPositionedAtTop()?Zc.TopToBottom:Zc.BottomToTop};if(ly(o)===jf.floating)return((e,t,o,n)=>{const r=t.shared,a=Ir(y),s={toolbarButtonBehaviours:[],getApi:Rz,onSetup:e.onSetup},i=[Rg("toolbar-group-button-events",[g_(s,a),f_(s,a)])];return JO.sketch({lazySink:r.getSink,fetch:()=>lk((t=>{t(H(o(e.items),hM))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Pz(e.icon,e.text,e.tooltip,T.some(i),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})})(e,t,r,a);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},Zz={styles:(e,t)=>{const o={type:"advanced",...t.styles};return sz(e,t,Dz(e,o))},fontsize:(e,t)=>sz(e,t,Cz(e)),fontsizeinput:(e,t)=>_z(e,t,(e=>({updateInputValue:t=>Wa(t,pE,{text:e.queryCommandValue("FontSize")}),getConfigFromUnit:Ez,onAction:(t,o)=>e.execCommand("FontSize",!1,t,{skip_focus:!o})}))(e)),fontfamily:(e,t)=>sz(e,t,gz(e)),blocks:(e,t)=>sz(e,t,hz(e)),align:(e,t)=>sz(e,t,dz(e))},$z=e=>{const t=e.toolbar,o=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=H(jz,(t=>{const o=j(t.items,(t=>be(e,t)||be(Zz,t)));return{name:t.name,items:o}}));return j(t,(e=>e.items.length>0))})(o):a(t)?(e=>{const t=e.split("|");return H(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>f(e,(e=>be(e,"name")&&be(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},qz=(e,t,o,n,r,a)=>ye(t,o.toLowerCase()).orThunk((()=>a.bind((e=>ae(e,(e=>ye(t,e+o.toLowerCase()))))))).fold((()=>ye(Zz,o.toLowerCase()).map((t=>t(e,r)))),(t=>"grouptoolbarbutton"!==t.type||n?((e,t,o)=>ye(Wz,e.type).fold((()=>(console.error("skipping button defined by",e),T.none())),(n=>T.some(n(e,t,o)))))(t,r,e):(console.warn(`Ignoring the '${o}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none()))),Yz=(e,t,o,n)=>{const r=$z(t),a=H(r,(r=>{const a=Y(r.items,(r=>0===r.trim().length?[]:qz(e,t.buttons,r,t.allowToolbarGroups,o,n).toArray()));return{title:T.from(e.translate(r.name)),items:a}}));return j(a,(e=>e.items.length>0))},Gz=(e,t,o,n)=>{const r=t.mainUi.outerContainer,s=o.toolbar,i=o.buttons;if(f(s,a)){const t=s.map((t=>{const r={toolbar:t,buttons:i,allowToolbarGroups:o.allowToolbarGroups};return Yz(e,r,n,T.none())}));UM.setToolbars(r,t)}else UM.setToolbar(r,Yz(e,o,n,T.none()))},Kz=Ao(),Xz=Kz.os.isiOS()&&Kz.os.version.major<=12;var Qz=Object.freeze({__proto__:null,render:async(e,t,o,n,r)=>{const{mainUi:a,uiMotherships:s}=t,i=Ir(0),l=a.outerContainer;await QM(e);const d=Ne.fromDom(r.targetNode),u=mt(pt(d));mu(d,a.mothership),((e,t,o)=>{Zy(e)&&mu(o.mainUi.mothership.element,o.popupUi.mothership),pu(t,o.dialogUi.mothership)})(e,u,t),e.on("PostRender",(()=>{UM.setSidebar(l,o.sidebar,Oy(e)),Gz(e,t,o,n),i.set(e.getWin().innerWidth),UM.setMenubar(l,$M(e,o)),UM.setViews(l,o.views),((e,t)=>{const{uiMotherships:o}=t,n=e.dom;let r=e.getWin();const a=e.getDoc().documentElement,s=Ir(Zt(r.innerWidth,r.innerHeight)),i=Ir(Zt(a.offsetWidth,a.offsetHeight)),l=()=>{const t=s.get();t.left===r.innerWidth&&t.top===r.innerHeight||(s.set(Zt(r.innerWidth,r.innerHeight)),nw(e))},c=()=>{const t=e.getDoc().documentElement,o=i.get();o.left===t.offsetWidth&&o.top===t.offsetHeight||(i.set(Zt(t.offsetWidth,t.offsetHeight)),nw(e))},d=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};n.bind(r,"resize",l),n.bind(r,"scroll",d);const u=Cc(Ne.fromDom(e.getBody()),"load",c);e.on("hide",(()=>{F(o,(e=>{Ot(e.element,"display","none")}))})),e.on("show",(()=>{F(o,(e=>{Bt(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{u.unbind(),n.unbind(r,"resize",l),n.unbind(r,"scroll",d),r=null}))})(e,t)}));const h=UM.getSocket(l).getOrDie("Could not find expected socket element");if(Xz){Mt(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let o=null;return{cancel:()=>{c(o)||(clearTimeout(o),o=null)},throttle:(...n)=>{c(o)&&(o=setTimeout((()=>{o=null,e.apply(null,n)}),t))}}})((()=>{e.dispatch("ScrollContent")}),20),o=Sc(h.element,"scroll",t.throttle);e.on("remove",o.unbind)}l_(e,t),e.addCommand("ToggleSidebar",((t,o)=>{UM.toggleSidebar(l,o),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=UM.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,o)=>{if(UM.toggleView(l,o)){const t=l.element;a.mothership.broadcastOn([Au()],{target:t}),F(s,(e=>{e.broadcastOn([Au()],{target:t})})),c(UM.whichView(l))&&(e.focus(),e.nodeChanged())}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=UM.whichView(l))&&void 0!==e?e:""}));const p=ly(e);p!==jf.sliding&&p!==jf.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const o=e.getWin().innerWidth;o!==i.get()&&(UM.refreshToolbar(t.mainUi.outerContainer),i.set(o))}));const m={setEnabled:e=>{i_(t,!e)},isEnabled:()=>!fp.isDisabled(l)};return{iframeContainer:h.element.dom,editorContainer:l.element.dom,api:m}}});const Jz=e=>/^[0-9\.]+(|px)$/i.test(""+e)?T.some(parseInt(""+e,10)):T.none(),eR=e=>g(e)?e+"px":e,tR=(e,t,o)=>{const n=t.filter((t=>e<t)),r=o.filter((t=>e>t));return n.or(r).getOr(e)},oR=e=>{const t=(e=>{const t=Xf(e),o=ey(e),n=oy(e);return Jz(t).map((e=>tR(e,o,n)))})(e);return t.getOr(Xf(e))},nR=e=>{const t=Qf(e),o=Jf(e),n=ty(e);return Jz(t).map((e=>tR(e,o,n)))},{ToolbarLocation:rR,ToolbarMode:aR}=qy,sR=(e,t,o,n,r)=>{const{mainUi:a,uiMotherships:s}=o,i=Wf.DOM,l=Vy(e),c=Wy(e),d=ty(e).or(nR(e)),u=n.shared.header,h=u.isPositionedAtTop,p=ly(e),m=p===aR.sliding||p===aR.floating,g=Ir(!1),f=()=>g.get()&&!e.removed,y=e=>m?e.fold(_(0),(e=>e.components().length>1?jt(e.components()[1].element):0)):0,b=(e,t)=>Zy(e)?kT(t):T.none(),v=()=>{F(s,(e=>{e.broadcastOn([Tu()],{})}))},w=o=>{if(!f())return;l||r.on((e=>{const o=d.getOrThunk((()=>{const e=Jz(Rt(vt(),"margin-left")).getOr(0);return Kt(vt())-qt(t).left+e}));Ot(e.element,"max-width",o+"px")}));const n=l?T.none():(()=>{if(l)return T.none();if(qt(a.outerContainer.element).left+Xt(a.outerContainer.element)>=window.innerWidth-40||It(a.outerContainer.element,"width").isSome()){Ot(a.outerContainer.element,"position","absolute"),Ot(a.outerContainer.element,"left","0px"),Bt(a.outerContainer.element,"width");const e=Xt(a.outerContainer.element);return T.some(e)}return T.none()})();m&&UM.refreshToolbar(a.outerContainer),l||(o=>{r.on((n=>{const r=UM.getToolbar(a.outerContainer),s=y(r),i=Yo(t),{top:l,left:c}=b(e,a.outerContainer.element).fold((()=>({top:h()?Math.max(i.y-jt(n.element)+s,0):i.bottom,left:i.x})),(e=>{var t;const o=Yo(e),r=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,a=Ke(e,vt()),l=a?Math.max(i.y-jt(n.element)+s,0):i.y-o.y+r-jt(n.element)+s;return{top:h()?l:i.bottom,left:a?i.x:i.x-o.x}})),d={position:"absolute",left:Math.round(c)+"px",top:Math.round(l)+"px"},u=o.map((e=>{const t=Ho(),o=window.innerWidth-(c-t.left);return{width:Math.max(Math.min(e,o),150)+"px"}})).getOr({});Mt(a.outerContainer.element,{...d,...u})}))})(n),c&&r.on(o),v()},k=()=>!(l||!c||!f())&&r.get().exists((o=>{const n=u.getDockingMode(),s=(o=>{switch(dy(e)){case rR.auto:const e=UM.getToolbar(a.outerContainer),n=y(e),r=jt(o.element)-n,s=Yo(t);if(s.y>r)return"top";{const e=et(t),o=Math.max(e.dom.scrollHeight,jt(e));return s.bottom<o-r||Xo().bottom<s.bottom-r?"bottom":"top"}case rR.bottom:return"bottom";case rR.top:default:return"top"}})(o);return s!==n&&(i=s,r.on((e=>{JT.setModes(e,[i]),u.setDockingMode(i);const t=h()?Zc.TopToBottom:Zc.BottomToTop;kt(e.element,$c,t)})),!0);var i}));return{isVisible:f,isPositionedAtTop:h,show:()=>{g.set(!0),Ot(a.outerContainer.element,"display","flex"),i.addClass(e.getBody(),"mce-edit-focus"),F(s,(e=>{Bt(e.element,"display")})),k(),Zy(e)?w((e=>JT.isDocked(e)?JT.reset(e):JT.refresh(e))):w(JT.refresh)},hide:()=>{g.set(!1),Ot(a.outerContainer.element,"display","none"),i.removeClass(e.getBody(),"mce-edit-focus"),F(s,(e=>{Ot(e.element,"display","none")}))},update:w,updateMode:()=>{k()&&w(JT.reset)},repositionPopups:v}},iR=(e,t)=>{const o=Yo(e);return{pos:t?o.y:o.bottom,bounds:o}};var lR=Object.freeze({__proto__:null,render:async(e,t,o,n,r)=>{const{mainUi:a}=t,s=kc(),i=Ne.fromDom(r.targetNode),l=sR(e,i,t,n,s),c=py(e);await JM(e);const d=()=>{if(s.isSet())return void l.show();s.set(UM.getHeader(a.outerContainer).getOrDie());const r=jy(e);Zy(e)?(mu(i,a.mothership),mu(i,t.popupUi.mothership)):pu(r,a.mothership),pu(r,t.dialogUi.mothership),Gz(e,t,o,n),UM.setMenubar(a.outerContainer,$M(e,o)),l.show(),((e,t,o,n)=>{const r=Ir(iR(t,o.isPositionedAtTop())),a=n=>{const{pos:a,bounds:s}=iR(t,o.isPositionedAtTop()),{pos:i,bounds:l}=r.get(),c=s.height!==l.height||s.width!==l.width;r.set({pos:a,bounds:s}),c&&nw(e,n),o.isVisible()&&(i!==a?o.update(JT.reset):c&&(o.updateMode(),o.repositionPopups()))};n||(e.on("activate",o.show),e.on("deactivate",o.hide)),e.on("SkinLoaded ResizeWindow",(()=>o.update(JT.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>a(e)))}));let s=0;const i=cD((()=>o.update(JT.refresh)),33);e.on("ScrollWindow",(()=>{const e=Ho().left;e!==s&&(s=e,i.throttle()),o.updateMode()})),Zy(e)&&e.on("ElementScroll",(e=>{o.update(JT.refresh)}));const l=wc();l.set(Cc(Ne.fromDom(e.getBody()),"load",(e=>a(e.raw)))),e.on("remove",(()=>{l.clear()}))})(e,i,l,c),e.nodeChanged()};e.on("show",d),e.on("hide",l.hide),c||(e.on("focus",d),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&d()})),l_(e,t);const u={show:d,hide:l.hide,setEnabled:e=>{i_(t,!e)},isEnabled:()=>!fp.isDisabled(a.outerContainer)};return{editorContainer:a.outerContainer.element.dom,api:u}}});const cR="contexttoolbar-hide",dR=(e,t)=>Qa(aE,((o,n)=>{const r=(e=>({hide:()=>Ua(e,Ca()),getValue:()=>qu.getValue(e)}))(e.get(o));t.onAction(r,n.event.buttonApi)})),uR=(e,t,o)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,o)=>{const{primary:n,...r}=t.original,a=tr(_v({...r,type:"togglebutton",onAction:y}));return Fz(a,o,[dR(e,t)])})(e,t,o):((e,t,o)=>{const{primary:n,...r}=t.original,a=tr(yv({...r,type:"button",onAction:y}));return Hz(a,o,[dR(e,t)])})(e,t,o),hR=(e,t)=>{const o=e.label.fold((()=>({})),(e=>({"aria-label":e}))),n=Tf(wb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Zl([xg.config({mode:"special",onEnter:e=>r.findPrimary(e).map((e=>(Za(e),!0))),onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())})])})),r=((e,t,o)=>{const n=H(t,(t=>Tf(uR(e,t,o))));return{asSpecs:()=>H(n,(e=>e.asSpec())),findPrimary:e=>ae(t,((t,o)=>t.primary?T.from(n[o]).bind((t=>t.getOpt(e))).filter(S(fp.isDisabled)):T.none()))}})(n,e.commands,t);return[{title:T.none(),items:[n.asSpec()]},{title:T.none(),items:r.asSpecs()}]},pR=hR,mR=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o,gR=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const o=ct(Ne.fromDom(e.startContainer),e.startOffset).element;return(We(o)?ot(o):T.some(o)).filter(Ue).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Ho();return qo(e.left+t.left,e.top+t.top,t.width,t.height)}{const o=Go(Ne.fromDom(e.getBody()));return qo(o.x+t.left,o.y+t.top,t.width,t.height)}},fR=(e,t,o,n=0)=>{const r=jo(window),a=Yo(Ne.fromDom(e.getContentAreaContainer())),s=Ry(e)||Ly(e)||By(e),{x:i,width:l}=((e,t,o)=>{const n=Math.max(e.x+o,t.x);return{x:n,width:Math.min(e.right-o,t.right)-n}})(a,r,n);if(e.inline&&!s)return qo(i,r.y,l,r.height);{const s=t.header.isPositionedAtTop(),{y:c,bottom:d}=((e,t,o,n,r,a)=>{const s=Ne.fromDom(e.getContainer()),i=zi(s,".tox-editor-header").getOr(s),l=Yo(i),c=l.y>=t.bottom,d=n&&!c;if(e.inline&&d)return{y:Math.max(l.bottom+a,o.y),bottom:o.bottom};if(e.inline&&!d)return{y:o.y,bottom:Math.min(l.y-a,o.bottom)};const u="line"===r?Yo(s):t;return d?{y:Math.max(l.bottom+a,o.y),bottom:Math.min(u.bottom-a,o.bottom)}:{y:Math.max(u.y+a,o.y),bottom:Math.min(l.y-a,o.bottom)}})(e,a,r,s,o,n);return qo(i,c,l,d-c)}},yR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},bR={maxHeightFunction:Lc(),maxWidthFunction:$O()},vR=e=>"node"===e,_R=(e,t,o,n,r)=>{const a=gR(e),s=n.lastElement().exists((e=>Ke(o,e)));if(((e,t)=>{const o=e.selection.getRng(),n=ct(Ne.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Ke(n.element,t)})(e,o))return s?mA:cA;if(s)return((e,t,o)=>{const n=It(e,"position");Ot(e,"position",t);const r=o(e);return n.each((t=>Ot(e,"position",t))),r})(t,n.getMode(),(()=>mR(a,Yo(t),-20)&&!n.isReposition()?fA:mA));return("fixed"===n.getMode()?r.y+Ho().top:r.y)+(jt(t)+12)<=a.y?cA:dA},wR=(e,t,o,n)=>{const r=t=>(n,r,a,s,i)=>({..._R(e,s,t,o,i)({...n,y:i.y,height:i.height},r,a,s,i),alwaysFit:!0}),a=e=>vR(n)?[r(e)]:[];return t?{onLtr:e=>[Ol,Cl,El,Dl,Al,Tl].concat(a(e)),onRtl:e=>[Ol,El,Cl,Al,Dl,Tl].concat(a(e))}:{onLtr:e=>[Tl,Ol,Dl,Cl,Al,El].concat(a(e)),onRtl:e=>[Tl,Ol,Al,El,Dl,Cl].concat(a(e))}},kR=(e,t)=>{const o=j(t,(t=>t.predicate(e.dom))),{pass:n,fail:r}=V(o,(e=>"contexttoolbar"===e.type));return{contextToolbars:n,contextForms:r}},xR=(e,t,o)=>{const n=kR(e,t);if(n.contextForms.length>0)return T.some({elem:e,toolbars:[n.contextForms[0]]});{const t=kR(e,o);if(t.contextForms.length>0)return T.some({elem:e,toolbars:[t.contextForms[0]]});if(n.contextToolbars.length>0||t.contextToolbars.length>0){const o=(e=>{if(e.length<=1)return e;{const t=t=>L(e,(e=>e.position===t)),o=t=>j(e,(e=>e.position===t)),n=t("selection"),r=t("node");if(n||r){if(r&&n){const e=o("node"),t=H(o("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return o(n?"selection":"node")}return o("line")}})(n.contextToolbars.concat(t.contextToolbars));return T.some({elem:e,toolbars:o})}return T.none()}},SR=(e,t,o)=>e(t)?T.none():jr(t,(e=>{if(Ue(e)){const{contextToolbars:t,contextForms:n}=kR(e,o.inNodeScope),r=n.length>0?n:(e=>{if(e.length<=1)return e;{const t=t=>Z(e,(e=>e.position===t)),o=t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position));return o.fold((()=>[]),(t=>j(e,(e=>e.position===t))))}})(t);return r.length>0?T.some({elem:e,toolbars:r}):T.none()}return T.none()}),e),CR=(e,t)=>{const o={},n=[],r=[],a={},s={},i=(e,i)=>{const l=tr(er("ContextForm",Dv,i));o[e]=l,l.launch.map((o=>{a["form:"+e]={...i.launch,type:"contextformtogglebutton"===o.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?r.push(l):n.push(l),s[e]=l},l=(e,t)=>{var o;(o=t,er("ContextToolbar",Av,o)).each((o=>{"editor"===t.scope?r.push(o):n.push(o),s[e]=o}))},c=se(e);return F(c,(t=>{const o=e[t];"contextform"===o.type?i(t,o):"contexttoolbar"===o.type&&l(t,o)})),{forms:o,inNodeScope:n,inEditorScope:r,lookupTable:s,formNavigators:a}},ER=bs("forward-slide"),DR=bs("backward-slide"),AR=bs("change-slide-event"),TR="tox-pop--resizing",OR="tox-pop--transition",MR=(e,t,o,n)=>{const r=n.backstage,a=r.shared,s=Ao().deviceType.isTouch,i=kc(),l=kc(),c=kc(),d=Si((e=>{const t=Ir([]);return Ef.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),Ef.getContent(e).each((e=>{Bt(e.element,"visibility")})),ti(e.element,TR),Bt(e.element,"width")},inlineBehaviours:Zl([Rg("context-toolbar-events",[as(ha(),((e,t)=>{"width"===t.event.raw.propertyName&&(ti(e.element,TR),Bt(e.element,"width"))})),Qa(AR,((e,t)=>{const o=e.element;Bt(o,"width");const n=Kt(o);Ef.setContent(e,t.event.contents),ei(o,TR);const r=Kt(o);Ot(o,"width",n+"px"),Ef.getContent(e).each((e=>{t.event.focus.bind((e=>(Jl(e),nc(o)))).orThunk((()=>(xg.focusIn(e),oc(pt(o)))))})),setTimeout((()=>{Ot(e.element,"width",r+"px")}),0)})),Qa(ER,((e,o)=>{Ef.getContent(e).each((o=>{t.set(t.get().concat([{bar:o,focus:oc(pt(e.element))}]))})),Wa(e,AR,{contents:o.event.forwardContents,focus:T.none()})})),Qa(DR,((e,o)=>{ne(t.get()).each((o=>{t.set(t.get().slice(0,t.get().length-1)),Wa(e,AR,{contents:Ci(o.bar),focus:o.focus})}))}))]),xg.config({mode:"special",onEscape:o=>ne(t.get()).fold((()=>e.onEscape()),(e=>(Ua(o,DR),T.some(!0))))})]),lazySink:()=>tn.value(e.sink)})})({sink:o,onEscape:()=>(e.focus(),T.some(!0))})),u=()=>{const t=c.get().getOr("node"),o=vR(t)?1:0;return fR(e,a,t,o)},h=()=>!(e.removed||s()&&r.isContextMenuOpen()),p=()=>{if(h()){const t=u(),o=_e(c.get(),"node")?((e,t)=>t.filter((e=>bt(e)&&je(e))).map(Go).getOrThunk((()=>gR(e))))(e,i.get()):gR(e);return t.height<=0||!mR(o,t,.01)}return!0},m=()=>{i.clear(),l.clear(),c.clear(),Ef.hide(d)},g=()=>{if(Ef.isOpen(d)){const e=d.element;Bt(e,"display"),p()?Ot(e,"display","none"):(l.set(0),Ef.reposition(d))}},f=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Zl([xg.config({mode:"acyclic"}),Rg("pop-dialog-wrap-events",[ss((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>xg.focusIn(t)))})),is((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),b=Qt((()=>CR(t,(e=>{const t=v([e]);Wa(d,ER,{forwardContents:f(t)})})))),v=t=>{const{buttons:o}=e.ui.registry.getAll(),r={...o,...b().formNavigators},s=ly(e)===jf.scrolling?jf.scrolling:jf.default,i=q(H(t,(t=>"contexttoolbar"===t.type?((t,o)=>Yz(e,{buttons:t,toolbar:o.items,allowToolbarGroups:!1},n.backstage,T.some(["form:"])))(r,t):((e,t)=>pR(e,t))(t,a.providers))));return yM({type:s,uid:bs("context-toolbar"),initGroups:i,onEscape:T.none,cyclicKeying:!0,providers:a.providers})},_=(t,n)=>{const r="node"===t?a.anchors.node(n):a.anchors.cursor(),c=((e,t,o,n)=>"line"===t?{bubble:Fc(12,0,yR),layouts:{onLtr:()=>[Ml],onRtl:()=>[zl]},overrides:bR}:{bubble:Fc(0,12,yR,1/12),layouts:wR(e,o,n,t),overrides:bR})(e,t,s(),{lastElement:i.get,isReposition:()=>_e(l.get(),0),getMode:()=>eu.getMode(o)});return _n(r,c)},w=(e,t)=>{if(x.cancel(),!h())return;const n=v(e),r=e[0].position,a=_(r,t);c.set(r),l.set(1);const s=d.element;Bt(s,"display"),(e=>_e(ke(e,i.get(),Ke),!0))(t)||(ti(s,OR),eu.reset(o,d)),Ef.showWithinBounds(d,f(n),{anchor:a,transition:{classes:[OR],mode:"placement"}},(()=>T.some(u()))),t.fold(i.clear,i.set),p()&&Ot(s,"display","none")};let k=!1;const x=cD((()=>{if(e.hasFocus()&&!e.removed&&!k)if(oi(d.element,OR))x.throttle();else{((e,t)=>{const o=Ne.fromDom(t.getBody()),n=e=>Ke(e,o),r=Ne.fromDom(t.selection.getNode());return(e=>!n(e)&&!Xe(o,e))(r)?T.none():xR(r,e.inNodeScope,e.inEditorScope).orThunk((()=>SR(n,r,e)))})(b(),e).fold(m,(e=>{w(e.toolbars,T.some(e.elem))}))}}),17);e.on("init",(()=>{e.on("remove",m),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",g),e.on("click keyup focus SetContent",x.throttle),e.on(cR,m),e.on("contexttoolbar-show",(t=>{const o=b();ye(o.lookupTable,t.toolbarKey).each((o=>{w([o],Se(t.target!==e,t.target)),Ef.getContent(d).each(xg.focusIn)}))})),e.on("focusout",(t=>{Df.setEditorTimeout(e,(()=>{nc(o.element).isNone()&&nc(d.element).isNone()&&m()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&m()})),e.on("AfterProgressState",(t=>{t.state?m():e.hasFocus()&&x.throttle()})),e.on("dragstart",(()=>{k=!0})),e.on("dragend drop",(()=>{k=!1})),e.on("NodeChange",(e=>{nc(d.element).fold(x.throttle,y)}))}))},zR=(e,t)=>{const o=()=>{const o=t.getOptions(e),n=t.getCurrent(e).map(t.hash),r=kc();return H(o,(o=>({type:"togglemenuitem",text:t.display(o),onSetup:a=>{const s=e=>{e&&(r.on((e=>e.setActive(!1))),r.set(a)),a.setActive(e)};s(_e(n,t.hash(o)));const i=t.watcher(e,o,s);return()=>{r.clear(),i()}},onAction:()=>t.setCurrent(e,o)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(o()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:o,onSetup:t.onMenuSetup})},RR={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Iy,hash:e=>((e,t)=>vz(e,t).map((({value:e,unit:t})=>e+t)))(e,["fixed","relative","empty"]).getOr(e),display:w,watcher:(e,t,o)=>e.formatter.formatChanged("lineheight",o,!1,{value:t}).unbind,getCurrent:e=>T.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t)},NR=e=>{zR(e,RR),(e=>T.from(sy(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:_(t),hash:e=>u(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,o)=>{var n;return e.formatter.formatChanged("lang",o,!1,{value:t.code,customValue:null!==(n=t.customCode)&&void 0!==n?n:null}).unbind},getCurrent:e=>{const t=Ne.fromDom(e.selection.getNode());return Ur(t,(e=>T.some(e).filter(Ue).bind((e=>Ct(e,"lang").map((t=>({code:t,customCode:Ct(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const o=wc();return t.setActive(e.formatter.match("lang",{},void 0,!0)),o.set(e.formatter.formatChanged("lang",t.setActive,!0)),o.clear}}))))(e).each((t=>zR(e,t)))},IR=(e,t)=>{((e,t)=>{const o=az(0,t,dz(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const o=az(0,t,gz(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const o={type:"advanced",...t.styles},n=az(0,t,Dz(e,o));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const o=az(0,t,hz(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const o=az(0,t,Cz(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t)},LR=e=>tz(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))})),PR=e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:LR(e),onAction:nz(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:nz(e,"indent")})})(e)},BR=(e,t)=>o=>{o.setActive(t.get());const n=e=>{t.set(e.state),o.setActive(e.state)};return e.on("PastePlainTextToggle",n),()=>e.off("PastePlainTextToggle",n)},HR=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},FR=e=>{(e=>{YC.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,o)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:ez(e,t.name),onAction:HR(e,t.name)})}));for(let t=1;t<=6;t++){const o="h"+t;e.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+t,onSetup:ez(e,o),onAction:HR(e,o)})}})(e),(e=>{YC.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:nz(e,t.action)})}))})(e),(e=>{YC.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:nz(e,t.action),onSetup:ez(e,t.name)})}))})(e)},VR=e=>{FR(e),(e=>{YC.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:nz(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:HR(e,"code")})})(e)},jR=(e,t)=>tz(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(o=>{o.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),UR=e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:jR(e,"hasUndo"),onAction:nz(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:jR(e,"hasRedo"),onAction:nz(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:jR(e,"hasUndo"),onAction:nz(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:jR(e,"hasRedo"),onAction:nz(e,"redo")})})(e)},WR=e=>tz(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),ZR=e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:nz(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:WR(e),onAction:nz(e,"mceToggleVisualAid")})})(e)},$R=(e,t)=>{(e=>{F([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:nz(e,t.cmd),onSetup:ez(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:nz(e,"JustifyNone")})})(e),VR(e),IR(e,t),UR(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,o)=>{((e,t,o)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:o}),e.nodeChanged()}))})(e,t,o)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=Sw(e),o=Cw(e),n=Ir(t),r=Ir(o);Nw(e,"forecolor","forecolor","Text color",n),Nw(e,"backcolor","hilitecolor","Background color",r),Iw(e,"forecolor","forecolor","Text color",n),Iw(e,"backcolor","hilitecolor","Background color",r)})(e),ZR(e),PR(e),NR(e),(e=>{const t=Ir(Ty(e)),o=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:o,onSetup:BR(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:o,onSetup:BR(e,t)})})(e)},qR=e=>a(e)?e.split(/[ ,]/):e,YR=e=>t=>t.options.get(e),GR=YR("contextmenu_never_use_native"),KR=YR("contextmenu_avoid_overlap"),XR=e=>{const t=e.ui.registry.getAll().contextMenus,o=e.options.get("contextmenu");return e.options.isSet("contextmenu")?o:j(o,(e=>be(t,e)))},QR=(e,t)=>({type:"makeshift",x:e,y:t}),JR=e=>"longpress"===e.type||0===e.type.indexOf("touch"),eN=(e,t)=>{const o=Wf.DOM.getPos(e);return((e,t,o)=>QR(e.x+t,e.y+o))(t,o.x,o.y)},tN=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(JR(e)){const t=e.touches[0];return QR(t.pageX,t.pageY)}return QR(e.pageX,e.pageY)})(t):eN(e.getContentAreaContainer(),(e=>{if(JR(e)){const t=e.touches[0];return QR(t.clientX,t.clientY)}return QR(e.clientX,e.clientY)})(t)):oN(e),oN=e=>({type:"selection",root:Ne.fromDom(e.selection.getNode())}),nN=(e,t,o)=>{switch(o){case"node":return(e=>({type:"node",node:T.some(Ne.fromDom(e.selection.getNode())),root:Ne.fromDom(e.getBody())}))(e);case"point":return tN(e,t);case"selection":return oN(e)}},rN=(e,t,o,n,r,a)=>{const s=o(),i=nN(e,t,a);_E(s,Qy.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:T.none()}).map((e=>{t.preventDefault(),Ef.showMenuAt(r,{anchor:i},{menu:{markers:pb("normal")},data:e})}))},aN={onLtr:()=>[Ol,Cl,El,Dl,Al,Tl,cA,dA,lA,sA,iA,aA],onRtl:()=>[Ol,El,Cl,Al,Dl,Tl,cA,dA,iA,aA,lA,sA]},sN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},iN=(e,t,o,n,r,a,s)=>{const i=((e,t,o)=>{const n=nN(e,t,o);return{bubble:Fc(0,"point"===o?12:0,sN),layouts:aN,overrides:{maxWidthFunction:$O(),maxHeightFunction:Lc()},...n}})(e,t,a);_E(o,Qy.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!0,search:T.none()}).map((o=>{t.preventDefault();const l=s?xf.HighlightMenuAndItem:xf.HighlightNone;Ef.showMenuWithinBounds(r,{anchor:i},{menu:{markers:pb("normal"),highlightOnOpen:l},data:o,type:"horizontal"},(()=>T.some(fR(e,n.shared,"node"===a?"node":"selection")))),e.dispatch(cR)}))},lN=(e,t,o,n,r,a)=>{const s=Ao(),i=s.os.isiOS(),l=s.os.isMacOS(),c=s.os.isAndroid(),d=s.deviceType.isTouch(),u=()=>{const s=o();iN(e,t,s,n,r,a,!(c||i||l&&d))};if((l||i)&&"node"!==a){const o=()=>{(e=>{const t=e.selection.getRng(),o=()=>{Df.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),a()};e.once("touchend",o);const n=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",n,!0);const r=()=>a();e.once("longpresscancel",r);const a=()=>{e.off("touchend",o),e.off("longpresscancel",r),e.off("mousedown",n)}})(e),u()};((e,t)=>{const o=e.selection;if(o.isCollapsed()||t.touches.length<1)return!1;{const n=t.touches[0],r=o.getRng();return Dd(e.getWin(),pd.domRange(r)).exists((e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY))}})(e,t)?o():(e.once("selectionchange",o),e.once("touchend",(()=>e.off("selectionchange",o))))}else u()},cN=e=>a(e)?"|"===e:"separator"===e.type,dN={type:"separator"},uN=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(a(e))return e;switch(e.type){case"separator":return dN;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return a(t)?t:H(t,uN)}};default:const o=e;return{type:"menuitem",...t(o),onAction:b(o.onAction)}}},hN=(e,t)=>{if(0===t.length)return e;const o=ne(e).filter((e=>!cN(e))),n=o.fold((()=>[]),(e=>[dN]));return e.concat(n).concat(t).concat([dN])},pN=(e,t)=>!(e=>"longpress"===e.type||be(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),mN=(e,t)=>pN(e,t)?e.selection.getStart(!0):t.target,gN=(e,t,o)=>{const n=Ao().deviceType.isTouch,r=Si(Ef.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>o.setContextMenuState(!0),onHide:()=>o.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Zl([Rg("dismissContextMenu",[Qa(Na(),((t,o)=>{Du.close(t),e.focus()}))])])})),s=()=>Ef.hide(r),i=t=>{if(GR(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!GR(e))(e,t)||(e=>0===XR(e).length)(e))return;const s=((e,t)=>{const o=KR(e),n=pN(e,t)?"selection":"point";if(Me(o)){const r=mN(e,t);return Fk(Ne.fromDom(r),o)?"node":n}return n})(e,t);(n()?lN:rN)(e,t,(()=>{const o=mN(e,t),n=e.ui.registry.getAll(),r=XR(e);return((e,t,o)=>{const n=W(t,((t,n)=>ye(e,n.toLowerCase()).map((e=>{const n=e.update(o);if(a(n))return hN(t,n.split(" "));if(n.length>0){const e=H(n,uN);return hN(t,e)}return t})).getOrThunk((()=>t.concat([n])))),[]);return n.length>0&&cN(n[n.length-1])&&n.pop(),n})(n.contextMenus,r,o)}),o,r,s)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(n()?"":" ResizeWindow");e.on(t,s),e.on("longpress contextmenu",i)}))},fN=Lr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),yN=e=>t=>t.translate(-e.left,-e.top),bN=e=>t=>t.translate(e.left,e.top),vN=e=>(t,o)=>W(e,((e,t)=>t(e)),Zt(t,o)),_N=(e,t,o)=>e.fold(vN([bN(o),yN(t)]),vN([yN(t)]),vN([])),wN=(e,t,o)=>e.fold(vN([bN(o)]),vN([]),vN([bN(t)])),kN=(e,t,o)=>e.fold(vN([]),vN([yN(o)]),vN([bN(t),yN(o)])),xN=(e,t,o)=>{const n=e.fold(((e,t)=>({position:T.some("absolute"),left:T.some(e+"px"),top:T.some(t+"px")})),((e,t)=>({position:T.some("absolute"),left:T.some(e-o.left+"px"),top:T.some(t-o.top+"px")})),((e,t)=>({position:T.some("fixed"),left:T.some(e+"px"),top:T.some(t+"px")})));return{right:T.none(),bottom:T.none(),...n}},SN=(e,t,o,n)=>{const r=(e,r)=>(a,s)=>{const i=e(t,o,n);return r(a.getOr(i.left),s.getOr(i.top))};return e.fold(r(kN,CN),r(wN,EN),r(_N,DN))},CN=fN.offset,EN=fN.absolute,DN=fN.fixed,AN=(e,t)=>{const o=St(e,t);return u(o)?NaN:parseInt(o,10)},TN=(e,t,o,n)=>((e,t)=>{const o=e.element,n=AN(o,t.leftAttr),r=AN(o,t.topAttr);return isNaN(n)||isNaN(r)?T.none():T.some(Zt(n,r))})(e,t).fold((()=>o),(e=>DN(e.left+n.left,e.top+n.top))),ON=(e,t,o,n,r,a)=>{const s=TN(e,t,o,n),i=t.mustSnap?RN(e,t,s,r,a):NN(e,t,s,r,a),l=_N(s,r,a);return((e,t,o)=>{const n=e.element;kt(n,t.leftAttr,o.left+"px"),kt(n,t.topAttr,o.top+"px")})(e,t,l),i.fold((()=>({coord:DN(l.left,l.top),extra:T.none()})),(e=>({coord:e.output,extra:e.extra})))},MN=(e,t)=>{((e,t)=>{const o=e.element;Dt(o,t.leftAttr),Dt(o,t.topAttr)})(e,t)},zN=(e,t,o,n)=>ae(e,(e=>{const r=e.sensor,a=((e,t,o,n,r,a)=>{const s=wN(e,r,a),i=wN(t,r,a);return Math.abs(s.left-i.left)<=o&&Math.abs(s.top-i.top)<=n})(t,r,e.range.left,e.range.top,o,n);return a?T.some({output:SN(e.output,t,o,n),extra:e.extra}):T.none()})),RN=(e,t,o,n,r)=>{const a=t.getSnapPoints(e);return zN(a,o,n,r).orThunk((()=>{const e=W(a,((e,t)=>{const a=t.sensor,s=((e,t,o,n,r,a)=>{const s=wN(e,r,a),i=wN(t,r,a),l=Math.abs(s.left-i.left),c=Math.abs(s.top-i.top);return Zt(l,c)})(o,a,t.range.left,t.range.top,n,r);return e.deltas.fold((()=>({deltas:T.some(s),snap:T.some(t)})),(o=>(s.left+s.top)/2<=(o.left+o.top)/2?{deltas:T.some(s),snap:T.some(t)}:e))}),{deltas:T.none(),snap:T.none()});return e.snap.map((e=>({output:SN(e.output,o,n,r),extra:e.extra})))}))},NN=(e,t,o,n,r)=>{const a=t.getSnapPoints(e);return zN(a,o,n,r)};var IN=Object.freeze({__proto__:null,snapTo:(e,t,o,n)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const t=Qe(e.element),o=Ho(t),a=xT(r),s=((e,t,o)=>({coord:SN(e.output,e.output,t,o),extra:e.extra}))(n,o,a),i=xN(s.coord,0,a);zt(r,i)}}});const LN="data-initial-z-index",PN=(e,t)=>{e.getSystem().addToGui(t),(e=>{ot(e.element).filter(Ue).each((t=>{It(t,"z-index").each((e=>{kt(t,LN,e)})),Ot(t,"z-index",Rt(e.element,"z-index"))}))})(t)},BN=e=>{(e=>{ot(e.element).filter(Ue).each((e=>{Ct(e,LN).fold((()=>Bt(e,"z-index")),(t=>Ot(e,"z-index",t))),Dt(e,LN)}))})(e),e.getSystem().removeFromGui(e)},HN=(e,t,o)=>e.getSystem().build(Jk.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:o}));var FN=Cr("snaps",[cr("getSnapPoints"),Qi("onSensor"),cr("leftAttr"),cr("topAttr"),Er("lazyViewport",Xo),Er("mustSnap",!1)]);const VN=[Er("useFixed",D),cr("blockerClass"),Er("getTarget",w),Er("onDrag",y),Er("repositionTarget",!0),Er("onDrop",y),zr("getBounds",Xo),FN],jN=e=>((e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?T.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):T.none())(It(e,"left"),It(e,"top"),It(e,"position"),((e,t,o)=>("fixed"===o?DN:CN)(parseInt(e,10),parseInt(t,10)))).getOrThunk((()=>{const t=qt(e);return EN(t.left,t.top)})),UN=(e,t,o,n,r,a,s)=>((e,t,o,n,r)=>{const a=r.bounds,s=wN(t,o,n),i=fl(s.left,a.x,a.x+a.width-r.width),l=fl(s.top,a.y,a.y+a.height-r.height),c=EN(i,l);return t.fold((()=>{const e=kN(c,o,n);return CN(e.left,e.top)}),_(c),(()=>{const e=_N(c,o,n);return DN(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=o,s=a.left,i=a.top,t.fold(((e,t)=>CN(e+s,t+i)),((e,t)=>EN(e+s,t+i)),((e,t)=>DN(e+s,t+i))));var t,s,i;const l=_N(e,n,r);return DN(l.left,l.top)}),(t=>{const s=ON(e,t,o,a,n,r);return s.extra.each((o=>{t.onSensor(e,o)})),s.coord})),n,r,s),WN=(e,t)=>({bounds:e.getBounds(),height:Ut(t.element),width:Xt(t.element)}),ZN=(e,t,o,n,r)=>{const a=o.update(n,r),s=o.getStartData().getOrThunk((()=>WN(t,e)));a.each((o=>{((e,t,o,n)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const a=Qe(e.element),s=Ho(a),i=xT(r),l=jN(r),c=UN(e,t.snaps,l,s,i,n,o),d=xN(c,0,i);zt(r,d)}t.onDrag(e,r,n)})(e,t,s,o)}))},$N=(e,t,o,n)=>{t.each(BN),o.snaps.each((t=>{MN(e,t)}));const r=o.getTarget(e.element);n.reset(),o.onDrop(e,r)},qN=e=>(t,o)=>{const n=e=>{o.setStartData(WN(t,e))};return Ga([Qa(Oa(),(e=>{o.getStartData().each((()=>n(e)))})),...e(t,o,n)])};var YN=Object.freeze({__proto__:null,getData:e=>T.from(Zt(e.x,e.y)),getDelta:(e,t)=>Zt(t.left-e.left,t.top-e.top)});const GN=(e,t,o)=>[Qa(Jr(),((n,r)=>{if(0!==r.event.raw.button)return;r.stop();const a=()=>$N(n,T.some(l),e,t),s=Vk(a,200),i={drop:a,delayDrop:s.schedule,forceDrop:a,move:o=>{s.cancel(),ZN(n,e,t,YN,o)}},l=HN(n,e.blockerClass,(e=>Ga([Qa(Jr(),e.forceDrop),Qa(oa(),e.drop),Qa(ea(),((t,o)=>{e.move(o.event)})),Qa(ta(),e.delayDrop)]))(i));o(n),PN(n,l)}))],KN=[...VN,ol("dragger",{handlers:qN(GN)})];var XN=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return T.some(Zt(t.clientX,t.clientY))})(t):T.none()},getDelta:(e,t)=>Zt(t.left-e.left,t.top-e.top)});const QN=(e,t,o)=>{const n=kc(),r=o=>{$N(o,n.get(),e,t),n.clear()};return[Qa(Gr(),((a,s)=>{s.stop();const i=()=>r(a),l={drop:i,delayDrop:y,forceDrop:i,move:o=>{ZN(a,e,t,XN,o)}},c=HN(a,e.blockerClass,(e=>Ga([Qa(Gr(),e.forceDrop),Qa(Xr(),e.drop),Qa(Qr(),e.drop),Qa(Kr(),((t,o)=>{e.move(o.event)}))]))(l));n.set(c);o(a),PN(a,c)})),Qa(Kr(),((o,n)=>{n.stop(),ZN(o,e,t,XN,n.event)})),Qa(Xr(),((e,t)=>{t.stop(),r(e)})),Qa(Qr(),r)]},JN=KN,eI=[...VN,ol("dragger",{handlers:qN(QN)})],tI=[...VN,ol("dragger",{handlers:qN(((e,t,o)=>[...GN(e,t,o),...QN(e,t,o)]))})];var oI=Object.freeze({__proto__:null,mouse:JN,touch:eI,mouseOrTouch:tI});var nI=Object.freeze({__proto__:null,init:()=>{let e=T.none(),t=T.none();const o=_({});return Ls({readState:o,reset:()=>{e=T.none(),t=T.none()},update:(t,o)=>t.getData(o).bind((o=>((t,o)=>{const n=e.map((e=>t.getDelta(e,o)));return e=T.some(o),n})(t,o))),getStartData:()=>t,setStartData:e=>{t=T.some(e)}})}});const rI=Gl({branchKey:"mode",branches:oI,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:T.from(e.extra)})},state:nI,apis:IN}),aI=(e,t,o,n,r,a)=>e.fold((()=>rI.snap({sensor:EN(o-20,n-20),range:Zt(r,a),output:EN(T.some(o),T.some(n)),extra:{td:t}})),(e=>{const r=o-20,a=n-20,s=e.element.dom.getBoundingClientRect();return rI.snap({sensor:EN(r,a),range:Zt(40,40),output:EN(T.some(o-s.width/2),T.some(n-s.height/2)),extra:{td:t}})})),sI=(e,t,o)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,n)=>{const r=n.td;((e,t)=>e.exists((e=>Ke(e,t))))(t.get(),r)||(t.set(r),o(r))},mustSnap:!0}),iI=e=>Tf(Af.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Zl([rI.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),zx.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),lI=(e,t)=>{const o=Ir([]),n=Ir([]),r=Ir(!1),a=kc(),s=kc(),i=e=>{const o=Go(e);return aI(u.getOpt(t),e,o.x,o.y,o.width,o.height)},l=e=>{const o=Go(e);return aI(h.getOpt(t),e,o.right,o.bottom,o.width,o.height)},c=sI((()=>H(o.get(),(e=>i(e)))),a,(t=>{s.get().each((o=>{e.dispatch("TableSelectorChange",{start:t,finish:o})}))})),d=sI((()=>H(n.get(),(e=>l(e)))),s,(t=>{a.get().each((o=>{e.dispatch("TableSelectorChange",{start:o,finish:t})}))})),u=iI(c),h=iI(d),p=Si(u.asSpec()),m=Si(h.asSpec()),g=(t,o,n,r)=>{const a=n(o);rI.snapTo(t,a);((t,o,n,r)=>{const a=o.dom.getBoundingClientRect();Bt(t.element,"display");const s=tt(Ne.fromDom(e.getBody())).dom.innerHeight,i=n(a),l=r(a,s);(i||l)&&Ot(t.element,"display","none")})(t,o,(e=>e[r]<0),((e,t)=>e[r]>t))},f=e=>g(p,e,i,"top"),y=e=>g(m,e,l,"bottom");Ao().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{r.get()||(lu(t,p),lu(t,m),r.set(!0)),a.set(e.start),s.set(e.finish),e.otherCells.each((t=>{o.set(t.upOrLeftCells),n.set(t.downOrRightCells),f(e.start),y(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{a.get().each(f),s.get().each(y)})),e.on("TableSelectionClear",(()=>{r.get()&&(uu(p),uu(m),r.set(!1)),a.clear(),s.clear()})))};const cI=(e,t,o)=>{var n;const r=null!==(n=t.delimiter)&&void 0!==n?n:"›",a=t=>W(t,((t,n,a)=>{const s=((t,n,r)=>Af.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":r,"aria-level":r+1}},components:[_i(t)],action:t=>{e.focus(),e.selection.select(n),e.nodeChanged()},buttonBehaviours:Zl([u_(o.isDisabled),c_()])}))(n.name,n.element,a);return 0===a?t.concat([s]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[_i(` ${r} `)]},s])}),[]);return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Zl([xg.config({mode:"flow",selector:"div[role=button]"}),fp.config({disabled:o.isDisabled}),c_(),sx.config({}),zg.config({}),Rg("elementPathEvents",[ss(((t,o)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>xg.focusIn(t))),e.on("NodeChange",(o=>{const n=(t=>{const o=[];let n=t.length;for(;n-- >0;){const a=t[n];if(1===a.nodeType&&"BR"!==(r=a).nodeName&&!r.getAttribute("data-mce-bogus")&&"bookmark"!==r.getAttribute("data-mce-type")){const t=aw(e,a);if(t.isDefaultPrevented()||o.push({name:t.name,element:a}),t.isPropagationStopped())break}}var r;return o})(o.parents),r=n.length>0?a(n):[];zg.set(t,r)}))}))])]),components:[]}};var dI;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(dI||(dI={}));const uI=(e,t,o)=>{const n=Ne.fromDom(e.getContainer()),r=((e,t,o,n,r)=>{const a={height:tR(n+t.top,ey(e),oy(e))};return o===dI.Both&&(a.width=tR(r+t.left,Jf(e),ty(e))),a})(e,t,o,jt(n),Kt(n));le(r,((e,t)=>{g(e)&&Ot(n,t,eR(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},hI=(e,t,o,n)=>{const r=Zt(20*o,20*n);return uI(e,r,t),T.some(!0)},pI=(e,t)=>{const o=(e=>{const t=Ay(e);return!1===t?dI.None:"both"===t?dI.Both:dI.Vertical})(e);return o===dI.None?T.none():T.some(Hf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[rI.config({mode:"mouse",repositionTarget:!1,onDrag:(t,n,r)=>uI(e,r,o),blockerClass:"tox-blocker"}),xg.config({mode:"special",onLeft:()=>hI(e,o,-1,0),onRight:()=>hI(e,o,1,0),onUp:()=>hI(e,o,0,-1),onDown:()=>hI(e,o,0,1)}),sx.config({}),Bg.config({})]},t.icons))},mI=(e,t)=>{const o=()=>{const o=[];return Ey(e)&&o.push(cI(e,{},t)),e.hasPlugin("wordcount")&&o.push(((e,t)=>{const o=(e,o,n)=>zg.set(e,[_i(t.translate(["{0} "+n,o[n]]))]);return Af.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Zl([u_(t.isDisabled),c_(),sx.config({}),zg.config({}),qu.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Rg("wordcount-events",[cs((e=>{const t=qu.getValue(e),n="words"===t.mode?"characters":"words";qu.setValue(e,{mode:n,count:t.count}),o(e,t.count,n)})),ss((t=>{e.on("wordCountUpdate",(e=>{const{mode:n}=qu.getValue(t);qu.setValue(t,{mode:n,count:e.wordCount}),o(t,e.wordCount,n)}))}))])]),eventOrder:{[wa()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),Dy(e)&&o.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Of.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:Zl([Bg.config({})])}]}),o.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:o}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const n=o(),r=pI(e,t);return n.concat(r.toArray())})()}},gI=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),fI=(e,t)=>{const o=e.inline,n=o?lR:Qz,r=Wy(e)?cO:wT,a=(()=>{const e=kc(),t=kc(),o=kc();return{dialogUi:e,popupUi:t,mainUi:o,getUiMotherships:()=>{const o=e.get().map((e=>e.mothership)),n=t.get().map((e=>e.mothership));return o.fold((()=>n.toArray()),(e=>n.fold((()=>[e]),(t=>Ke(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>o.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),s=kc(),i=kc(),l=kc(),c=Ao().deviceType.isTouch()?["tox-platform-touch"]:[],d=Hy(e),u=ly(e),h=Tf({dom:{tag:"div",classes:["tox-anchorbar"]}}),p=()=>a.mainUi.get().map((e=>e.outerContainer)).bind(UM.getHeader),m=a.lazyGetInOuterOrDie("anchor bar",h.getOpt),g=a.lazyGetInOuterOrDie("toolbar",UM.getToolbar),f=a.lazyGetInOuterOrDie("throbber",UM.getThrobber),y=lT({popup:()=>tn.fromOption(a.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>tn.fromOption(a.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,m),b=()=>UM.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),v=()=>{const t=(()=>{const t={attributes:{[$c]:d?Zc.BottomToTop:Zc.TopToBottom}},o=UM.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:y.popup,onEscape:()=>{e.focus()}}),n=UM.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:y.popup.shared.getSink,providers:y.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:u,lazyToolbar:g,lazyHeader:()=>p().getOrDie("Could not find header element"),...t}),r=UM.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:y.popup.shared.providers,onEscape:()=>{e.focus()},type:u}),a=By(e),s=Ly(e),i=Ry(e),l=My(e),c=b(),m=a||s||i,f=l?[c,o]:[o];return UM.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(m?[]:["tox-editor-header--empty"]),...t},components:q([i?f:[],a?[r]:s?[n]:[],Vy(e)?[]:[h.asSpec()]]),sticky:Wy(e),editor:e,sharedBackstage:y.popup.shared})})(),n={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[UM.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),UM.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},r=UM.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:y.popup}),a=UM.parts.viewWrapper({backstage:y.popup}),i=Cy(e)&&!o?T.some(mI(e,y.popup.shared.providers)):T.none(),l=q([d?[]:[t],o?[]:[n],d?[t]:[]]),m=UM.parts.editorContainer({components:q([l,o?[]:i.toArray()])}),f=Uy(e),v={role:"application",...Of.isRtl()?{dir:"rtl"}:{},...f?{"aria-hidden":"true"}:{}},_=Si(UM.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(c),styles:{visibility:"hidden",...f?{opacity:"0",border:"0"}:{}},attributes:v},components:[m,...o?[]:[a],r],behaviours:Zl([c_(),fp.config({disableClass:"tox-tinymce--disabled"}),xg.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),w=ex(_);return s.set(w),{mothership:w,outerContainer:_}},_=t=>{const o=eR(oR(e)),n=eR((e=>nR(e).getOr(Qf(e)))(e));return e.inline||(Pt("div","width",n)&&Ot(t.element,"width",n),Pt("div","height",o)?Ot(t.element,"height",o):Ot(t.element,"height","400px")),o},w=t=>{const{mainUi:o,popupUi:a,uiMotherships:s}=t;ce(cy(e),((t,o)=>{e.ui.registry.addGroupToolbarButton(o,t)}));const{buttons:i,menuItems:l,contextToolbars:c,sidebars:d,views:h}=e.ui.registry.getAll(),m=Py(e),g={menuItems:l,menus:$y(e),menubar:gy(e),toolbar:m.getOrThunk((()=>fy(e))),allowToolbarGroups:u===jf.floating,buttons:i,sidebar:d,views:h};var b;b=o.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{UM.focusMenubar(b)})),e.addShortcut("alt+F10","focus toolbar",(()=>{UM.focusToolbar(b)})),e.addCommand("ToggleToolbarDrawer",((e,t)=>{(null==t?void 0:t.skipFocus)?UM.toggleToolbarDrawerWithoutFocusing(b):UM.toggleToolbarDrawer(b)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>UM.isToolbarDrawerToggled(b))),((e,t,o)=>{const n=(e,n)=>{F([t,...o],(t=>{t.broadcastEvent(e,n)}))},r=(e,n)=>{F([t,...o],(t=>{t.broadcastOn([e],n)}))},a=e=>r(Au(),{target:e.target}),s=Uo(),i=Sc(s,"touchstart",a),l=Sc(s,"touchmove",(e=>n(Aa(),e))),c=Sc(s,"touchend",(e=>n(Ta(),e))),d=Sc(s,"mousedown",a),u=Sc(s,"mouseup",(e=>{0===e.raw.button&&r(Ou(),{target:e.target})})),h=e=>r(Au(),{target:Ne.fromDom(e.target)}),p=e=>{0===e.button&&r(Ou(),{target:Ne.fromDom(e.target)})},m=()=>{F(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},g=e=>n(Oa(),Ec(e)),f=e=>{r(Tu(),{}),n(Ma(),Ec(e))},y=pt(Ne.fromDom(e.getElement())),b=Cc(y,"scroll",(o=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const r=Bk(e,t.element).map((e=>[e.element,...e.others])).getOr([]);L(r,(e=>Ke(e,o.target)))&&(e.dispatch("ElementScroll",{target:o.target.dom}),n(Ba(),o))}}))})),v=()=>r(Tu(),{}),_=t=>{t.state&&r(Au(),{target:Ne.fromDom(e.getContainer())})},w=e=>{r(Au(),{target:Ne.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",h),e.on("tap",h),e.on("mouseup",p),e.on("mousedown",m),e.on("ScrollWindow",g),e.on("ResizeWindow",f),e.on("ResizeEditor",v),e.on("AfterProgressState",_),e.on("DismissPopups",w)})),e.on("remove",(()=>{e.off("click",h),e.off("tap",h),e.off("mouseup",p),e.off("mousedown",m),e.off("ScrollWindow",g),e.off("ResizeWindow",f),e.off("ResizeEditor",v),e.off("AfterProgressState",_),e.off("DismissPopups",w),d.unbind(),i.unbind(),l.unbind(),c.unbind(),u.unbind(),b.unbind()})),e.on("detach",(()=>{F([t,...o],fu),F([t,...o],(e=>e.destroy()))}))})(e,o.mothership,s),r.setup(e,y.popup.shared,p),$R(e,y.popup),gN(e,y.popup.shared.getSink,y.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();F(se(t),(o=>{const n=t[o],r=()=>_e(T.from(e.queryCommandValue("ToggleSidebar")),o);e.ui.registry.addToggleButton(o,{icon:n.icon,tooltip:n.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,o),t.setActive(r())},onSetup:t=>{t.setActive(r());const o=()=>t.setActive(r());return e.on("ToggleSidebar",o),()=>{e.off("ToggleSidebar",o)}}})}))})(e),LO(e,f,y.popup.shared),MR(e,c,a.sink,{backstage:y.popup}),lI(e,a.sink);const v={targetNode:e.getElement(),height:_(o.outerContainer)};return n.render(e,t,g,y.popup,v)};return{popups:{backstage:y.popup,getMothership:()=>gI("popups",l)},dialogs:{backstage:y.dialog,getMothership:()=>gI("dialogs",i)},renderUI:()=>{const o=v(),n=(()=>{const t=jy(e),o=Ke(vt(),t)&&"grid"===Rt(t,"display"),n={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c),attributes:{...Of.isRtl()?{dir:"rtl"}:{}}},behaviours:Zl([eu.config({useFixed:()=>r.isDocked(p)})])},a={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ga([Qa(Ma(),(e=>{Ot(e.element,"width",document.body.clientWidth+"px")}))])},s=Si(_n(n,o?a:{})),l=ex(s);return i.set(l),{sink:s,mothership:l}})(),s=Zy(e)?(()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(c),attributes:{...Of.isRtl()?{dir:"rtl"}:{}}},behaviours:Zl([eu.config({useFixed:()=>r.isDocked(p),getBounds:()=>t.getPopupSinkBounds()})])},o=Si(e),n=ex(o);return l.set(n),{sink:o,mothership:n}})():(e=>(l.set(e.mothership),e))(n);a.dialogUi.set(n),a.popupUi.set(s),a.mainUi.set(o);const d={popupUi:s,dialogUi:n,mainUi:o,uiMotherships:a.getUiMotherships()};return w(d)}}},yI=_([cr("lazySink"),br("dragBlockClass"),zr("getBounds",Xo),Er("useTabstopAt",A),Er("firstTabstop",0),Er("eventOrder",{}),Yu("modalBehaviours",[xg]),Ji("onExecute"),tl("onEscape")]),bI={sketch:w},vI=_([Ch({name:"draghandle",overrides:(e,t)=>({behaviours:Zl([rI.config({mode:"mouse",getTarget:e=>Oi(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),xh({schema:[cr("dom")],name:"title"}),xh({factory:bI,schema:[cr("dom")],name:"close"}),xh({factory:bI,schema:[cr("dom")],name:"body"}),Ch({factory:bI,schema:[cr("dom")],name:"footer"}),Sh({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[Er("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Er("components",[])],name:"blocker"})]),_I=Qh({name:"ModalDialog",configFields:yI(),partFields:vI(),factory:(e,t,o,n)=>{const r=kc(),a=bs("modal-events"),s={...e.eventOrder,[za()]:[a].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{r.set(t);const o=e.lazySink(t).getOrDie(),a=n.blocker(),s=o.getSystem().build({...a,components:a.components.concat([Ci(t)]),behaviours:Zl([Bg.config({}),Rg("dialog-blocker-events",[as(ra(),(()=>{xg.focusIn(t)}))])])});lu(o,s),xg.focusIn(t)},hide:e=>{r.clear(),ot(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{uu(e)}))}))},getBody:t=>Bh(t,e,"body"),getFooter:t=>Bh(t,e,"footer"),setIdle:e=>{zO.unblock(e)},setBusy:(e,t)=>{zO.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ku(e.modalBehaviours,[zg.config({}),xg.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),zO.config({getRoot:r.get}),Rg(a,[ss((t=>{((e,t)=>{const o=Ct(e,"id").fold((()=>{const e=bs("dialog-label");return kt(t,"id",e),e}),w);kt(e,"aria-labelledby",o)})(t.element,Bh(t,e,"title").element),((e,t)=>{const o=T.from(St(e,"id")).fold((()=>{const e=bs("dialog-describe");return kt(t,"id",e),e}),w);kt(e,"aria-describedby",o)})(t.element,Bh(t,e,"body").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}}),wI=Pn([Hb,Fb].concat(Iv)),kI=$n,xI=[hv("button"),Jb,Or("align","end",["start","end"]),iv,sv,kr("buttonType",["primary","secondary"])],SI=[...xI,jb],CI=[pr("type",["submit","cancel","custom"]),...SI],EI=[pr("type",["menu"]),Qb,ev,Jb,yr("items",wI),...xI],DI=[...xI,pr("type",["togglebutton"]),hr("tooltip"),Wb,Qb,Mr("active",!1)],AI=rr("type",{submit:CI,cancel:CI,custom:CI,menu:EI,togglebutton:DI}),TI=[Hb,jb,pr("level",["info","warn","error","success"]),Wb,Er("url","")],OI=Pn(TI),MI=[Hb,jb,sv,hv("button"),Jb,av,kr("buttonType",["primary","secondary","toolbar"]),iv],zI=Pn(MI),RI=[Hb,Fb],NI=RI.concat([tv]),II=RI.concat([Vb,sv]),LI=Pn(II),PI=$n,BI=NI.concat([lv("auto")]),HI=Pn(BI),FI=Vn([Zb,jb,Wb]),VI=NI.concat([Tr("storageKey","default")]),jI=Pn(VI),UI=Zn,WI=Pn(NI),ZI=Zn,$I=RI.concat([Tr("tag","textarea"),hr("scriptId"),hr("scriptUrl"),((e,t)=>Dr(e,t,Gn))("settings",void 0)]),qI=RI.concat([Tr("tag","textarea"),mr("init")]),YI=Qn((e=>er("customeditor.old",Ln(qI),e).orThunk((()=>er("customeditor.new",Ln($I),e))))),GI=Zn,KI=Pn(NI),XI=Bn(On),QI=e=>[Hb,ur("columns"),e],JI=[Hb,hr("html"),Or("presets","presentation",["presentation","document"])],eL=Pn(JI),tL=NI.concat([Mr("sandboxed",!0),Mr("transparent",!0)]),oL=Pn(tL),nL=Zn,rL=Pn(RI.concat([wr("height")])),aL=Pn([hr("url"),_r("zoom"),_r("cachedWidth"),_r("cachedHeight")]),sL=NI.concat([wr("inputMode"),wr("placeholder"),Mr("maximized",!1),sv]),iL=Pn(sL),lL=Zn,cL=e=>[Hb,Vb,e],dL=[jb,Zb],uL=[jb,yr("items",ar(0,(()=>hL)))],hL=Hn([Pn(dL),Pn(uL)]),pL=NI.concat([yr("items",hL),sv]),mL=Pn(pL),gL=Zn,fL=NI.concat([fr("items",[jb,Zb]),Ar("size",1),sv]),yL=Pn(fL),bL=Zn,vL=NI.concat([Mr("constrain",!0),sv]),_L=Pn(vL),wL=Pn([hr("width"),hr("height")]),kL=RI.concat([Vb,Ar("min",0),Ar("max",0)]),xL=Pn(kL),SL=Wn,CL=[Hb,yr("header",Zn),yr("cells",Bn(Zn))],EL=Pn(CL),DL=NI.concat([wr("placeholder"),Mr("maximized",!1),sv]),AL=Pn(DL),TL=Zn,OL=[pr("type",["directory","leaf"]),Ub,hr("id"),vr("menu",hO)],ML=Pn(OL),zL=OL.concat([yr("children",ar(0,(()=>Xn("type",{directory:RL,leaf:ML}))))]),RL=Pn(zL),NL=Xn("type",{directory:RL,leaf:ML}),IL=[Hb,yr("items",NL),xr("onLeafAction")],LL=Pn(IL),PL=NI.concat([Or("filetype","file",["image","media","file"]),sv]),BL=Pn(PL),HL=Pn([Zb,cv]),FL=e=>sr("items","items",{tag:"required",process:{}},Bn(Qn((t=>er(`Checking item of ${e}`,VL,t).fold((e=>tn.error(nr(e))),(e=>tn.value(e))))))),VL=Nn((()=>{return Xn("type",{alertbanner:OI,bar:Pn((e=FL("bar"),[Hb,e])),button:zI,checkbox:LI,colorinput:jI,colorpicker:WI,dropzone:KI,grid:Pn(QI(FL("grid"))),iframe:oL,input:iL,listbox:mL,selectbox:yL,sizeinput:_L,slider:xL,textarea:AL,urlinput:BL,customeditor:YI,htmlpanel:eL,imagepreview:rL,collection:HI,label:Pn(cL(FL("label"))),table:EL,tree:LL,panel:UL});var e})),jL=[Hb,Er("classes",[]),yr("items",VL)],UL=Pn(jL),WL=[hv("tab"),Ub,yr("items",VL)],ZL=[Hb,fr("tabs",WL)],$L=Pn(ZL),qL=SI,YL=AI,GL=Pn([hr("title"),dr("body",Xn("type",{panel:UL,tabpanel:$L})),Tr("size","normal"),yr("buttons",YL),Er("initialData",{}),zr("onAction",y),zr("onChange",y),zr("onSubmit",y),zr("onClose",y),zr("onCancel",y),zr("onTabChange",y)]),KL=Pn([pr("type",["cancel","custom"]),...qL]),XL=Pn([hr("title"),hr("url"),_r("height"),_r("width"),Sr("buttons",KL),zr("onAction",y),zr("onCancel",y),zr("onClose",y),zr("onMessage",y)]),QL=e=>s(e)?[e].concat(Y(fe(e),QL)):l(e)?Y(e,QL):[],JL=e=>a(e.type)&&a(e.name),eP={checkbox:PI,colorinput:UI,colorpicker:ZI,dropzone:XI,input:lL,iframe:nL,imagepreview:aL,selectbox:bL,sizeinput:wL,slider:SL,listbox:gL,size:wL,textarea:TL,urlinput:HL,customeditor:GI,collection:FI,togglemenuitem:kI},tP=e=>{const t=(e=>j(QL(e),JL))(e),o=Y(t,(e=>(e=>T.from(eP[e.type]))(e).fold((()=>[]),(t=>[dr(e.name,t)]))));return Pn(o)},oP=e=>{var t;return{internalDialog:tr(er("dialog",GL,e)),dataValidator:tP(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},nP={open:(e,t)=>{const o=oP(t);return e(o.internalDialog,o.initialData,o.dataValidator)},openUrl:(e,t)=>e(tr(er("dialog",XL,t))),redial:e=>oP(e)};var rP=Object.freeze({__proto__:null,events:(e,t)=>{const o=(o,n)=>{e.updateState.each((e=>{const r=e(o,n);t.set(r)})),e.renderComponents.each((r=>{const a=r(n,t.get());(e.reuseDom?Cg:Sg)(o,a)}))};return Ga([Qa(_a(),((t,n)=>{const r=n;if(!r.universal){const n=e.channel;I(r.channels,n)&&o(t,r.data)}})),ss(((t,n)=>{e.initialData.each((e=>{o(t,e)}))}))])}});var aP=Object.freeze({__proto__:null,getState:(e,t,o)=>o}),sP=[cr("channel"),br("renderComponents"),br("updateState"),br("initialData"),Mr("reuseDom",!0)];const iP=ql({fields:sP,name:"reflecting",active:rP,apis:aP,state:Object.freeze({__proto__:null,init:()=>{const e=Ir(T.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(T.none())}}})}),lP=e=>{const t=[],o={};return le(e,((e,n)=>{e.fold((()=>{t.push(n)}),(e=>{o[n]=e}))})),t.length>0?tn.error(t):tn.value(o)},cP=(e,t,o)=>{const n=Tf(EC.sketch((n=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:H(e.items,(e=>GD(n,e,t,o)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Zl([xg.config({mode:"acyclic",useTabstopAt:S(oE)}),IC(n),FC(n,{postprocess:e=>lP(e).fold((e=>(console.error(e),{})),w)})])}},dP=Xh({name:"TabButton",configFields:[Er("uid",void 0),cr("value"),sr("dom","dom",Sn((()=>({attributes:{role:"tab",id:bs("aria"),"aria-selected":"false"}}))),jn()),br("action"),Er("domModification",{}),Yu("tabButtonBehaviours",[Bg,xg,qu]),cr("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:Gg(e.action),behaviours:Ku(e.tabButtonBehaviours,[Bg.config({}),xg.config({mode:"execution",useSpace:!0,useEnter:!0}),qu.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),uP=_([cr("tabs"),cr("dom"),Er("clickToDismiss",!1),Yu("tabbarBehaviours",[Dp,xg]),Ki(["tabClass","selectedClass"])]),hP=Eh({factory:dP,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Dp.dehighlight(e,t),Wa(e,Fa(),{tabbar:e,button:t})},o=(e,t)=>{Dp.highlight(e,t),Wa(e,Ha(),{tabbar:e,button:t})};return{action:n=>{const r=n.getSystem().getByUid(e.uid).getOrDie(),a=Dp.isHighlighted(r,n);(a&&e.clickToDismiss?t:a?y:o)(r,n)},domModification:{classes:[e.markers.tabClass]}}}}),pP=_([hP]),mP=Qh({name:"Tabbar",configFields:uP(),partFields:pP(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ku(e.tabbarBehaviours,[Dp.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{kt(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{kt(t.element,"aria-selected","false")}}),xg.config({mode:"flow",getInitial:e=>Dp.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),gP=Xh({name:"Tabview",configFields:[Yu("tabviewBehaviours",[zg])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:Ku(e.tabviewBehaviours,[zg.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),fP=_([Er("selectFirst",!0),Qi("onChangeTab"),Qi("onDismissTab"),Er("tabs",[]),Yu("tabSectionBehaviours",[])]),yP=xh({factory:mP,schema:[cr("dom"),gr("markers",[cr("tabClass"),cr("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),bP=xh({factory:gP,name:"tabview"}),vP=_([yP,bP]),_P=Qh({name:"TabSection",configFields:fP(),partFields:vP(),factory:(e,t,o,n)=>{const r=(t,o)=>{Ph(t,e,"tabbar").each((e=>{o(e).each(Za)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Gu(e.tabSectionBehaviours),events:Ga(q([e.selectFirst?[ss(((e,t)=>{r(e,Dp.getFirst)}))]:[],[Qa(Ha(),((t,o)=>{(t=>{const o=qu.getValue(t);Ph(t,e,"tabview").each((n=>{const r=Z(e.tabs,(e=>e.value===o));r.each((o=>{const r=o.view();Ct(t.element,"id").each((e=>{kt(n.element,"aria-labelledby",e)})),zg.set(n,r),e.onChangeTab(n,t,r)}))}))})(o.event.button)})),Qa(Fa(),((t,o)=>{const n=o.event.button;e.onDismissTab(t,n)}))]])),apis:{getViewItems:t=>Ph(t,e,"tabview").map((e=>zg.contents(e))).getOr([]),showTab:(e,t)=>{r(e,(e=>{const o=Dp.getCandidates(e);return Z(o,(e=>qu.getValue(e)===t)).filter((t=>!Dp.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}}),wP=(e,t)=>{Ot(e,"height",t+"px"),Ot(e,"flex-basis",t+"px")},kP=(e,t,o)=>{Oi(e,'[role="dialog"]').each((e=>{zi(e,'[role="tablist"]').each((n=>{o.get().map((o=>(Ot(t,"height","0"),Ot(t,"flex-basis","0"),Math.min(o,((e,t,o)=>{const n=et(e).dom,r=Oi(e,".tox-dialog-wrap").getOr(e);let a;a="fixed"===Rt(r,"position")?Math.max(n.clientHeight,window.innerHeight):Math.max(n.offsetHeight,n.scrollHeight);const s=jt(t),i=t.dom.offsetLeft>=o.dom.offsetLeft+Kt(o)?Math.max(jt(o),s):s,l=parseInt(Rt(e,"margin-top"),10)||0,c=parseInt(Rt(e,"margin-bottom"),10)||0;return a-(jt(e)+l+c-i)})(e,t,n))))).each((e=>{wP(t,e)}))}))}))},xP=e=>zi(e,'[role="tabpanel"]'),SP=e=>{const t=kc(),o=[ss((o=>{const n=o.element;xP(n).each((r=>{Ot(r,"visibility","hidden"),o.getSystem().getByDom(r).toOptional().each((o=>{const n=((e,t,o)=>H(e,((n,r)=>{zg.set(o,e[r].view());const a=t.dom.getBoundingClientRect();return zg.set(o,[]),a.height})))(e,r,o),a=(e=>oe(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(n);a.fold(t.clear,t.set)})),kP(n,r,t),Bt(r,"visibility"),((e,t)=>{oe(e).each((e=>_P.showTab(t,e.value)))})(e,o),requestAnimationFrame((()=>{kP(n,r,t)}))}))})),Qa(Ma(),(e=>{const o=e.element;xP(o).each((e=>{kP(o,e,t)}))})),Qa(_x,((e,o)=>{const n=e.element;xP(n).each((e=>{const o=oc(pt(e));Ot(e,"visibility","hidden");const r=It(e,"height").map((e=>parseInt(e,10)));Bt(e,"height"),Bt(e,"flex-basis");const a=e.dom.getBoundingClientRect().height;r.forall((e=>a>e))?(t.set(a),kP(n,e,t)):r.each((t=>{wP(e,t)})),Bt(e,"visibility"),o.each(Jl)}))}))];return{extraEvents:o,selectFirst:!1}},CP="send-data-to-section",EP="send-data-to-view",DP=(e,t,o)=>{const n=Ir({}),r=e=>{const t=qu.getValue(e),o=lP(t).getOr({}),r=n.get(),a=_n(r,o);n.set(a)},a=e=>{const t=n.get();qu.setValue(e,t)},s=Ir(null),i=H(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[_i(o.shared.providers.translate(e.title))],view:()=>[EC.sketch((n=>({dom:{tag:"div",classes:["tox-form"]},components:H(e.items,(e=>GD(n,e,t,o))),formBehaviours:Zl([xg.config({mode:"acyclic",useTabstopAt:S(oE)}),Rg("TabView.form.events",[ss(a),is(r)]),Xl.config({channels:Hr([{key:CP,value:{onReceive:r}},{key:EP,value:{onReceive:a}}])})])})))]}))),l=SP(i);return _P.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,o)=>{const n=qu.getValue(t);Wa(e,vx,{name:n,oldName:s.get()}),s.set(n)},tabs:i,components:[_P.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[mP.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Zl([sx.config({})])}),_P.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Zl([Rg("tabpanel",l.extraEvents),xg.config({mode:"acyclic"}),op.config({find:e=>oe(_P.getViewItems(e))}),jC(T.none(),(e=>(e.getSystem().broadcastOn([CP],{}),n.get())),((e,t)=>{n.set(t),e.getSystem().broadcastOn([EP],{})}))])})},AP=bs("update-dialog"),TP=bs("update-title"),OP=bs("update-body"),MP=bs("update-footer"),zP=bs("body-send-message"),RP=(e,t,o,n,r)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map((e=>({id:e}))).getOr({}),...r?{"aria-live":"polite"}:{}}},components:[],behaviours:Zl([LC(0),iP.config({channel:`${OP}-${t}`,updateState:(e,t)=>T.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[DP(t,e.initialData,n)]:[cP(t,e.initialData,n)]},initialData:e})])});function NP(e){return NP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NP(e)}function IP(e,t){return IP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IP(e,t)}function LP(e,t,o){return LP=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,o){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return o&&IP(r,o.prototype),r},LP.apply(null,arguments)}function PP(e){return function(e){if(Array.isArray(e))return BP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return BP(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return BP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BP(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var HP=Object.hasOwnProperty,FP=Object.setPrototypeOf,VP=Object.isFrozen,jP=Object.getPrototypeOf,UP=Object.getOwnPropertyDescriptor,WP=Object.freeze,ZP=Object.seal,$P=Object.create,qP="undefined"!=typeof Reflect&&Reflect,YP=qP.apply,GP=qP.construct;YP||(YP=function(e,t,o){return e.apply(t,o)}),WP||(WP=function(e){return e}),ZP||(ZP=function(e){return e}),GP||(GP=function(e,t){return LP(e,PP(t))});var KP,XP=iB(Array.prototype.forEach),QP=iB(Array.prototype.pop),JP=iB(Array.prototype.push),eB=iB(String.prototype.toLowerCase),tB=iB(String.prototype.match),oB=iB(String.prototype.replace),nB=iB(String.prototype.indexOf),rB=iB(String.prototype.trim),aB=iB(RegExp.prototype.test),sB=(KP=TypeError,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return GP(KP,t)});function iB(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return YP(e,t,n)}}function lB(e,t){FP&&FP(e,null);for(var o=t.length;o--;){var n=t[o];if("string"==typeof n){var r=eB(n);r!==n&&(VP(t)||(t[o]=r),n=r)}e[n]=!0}return e}function cB(e){var t,o=$P(null);for(t in e)YP(HP,e,[t])&&(o[t]=e[t]);return o}function dB(e,t){for(;null!==e;){var o=UP(e,t);if(o){if(o.get)return iB(o.get);if("function"==typeof o.value)return iB(o.value)}e=jP(e)}return function(e){return console.warn("fallback value for",e),null}}var uB=WP(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hB=WP(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pB=WP(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mB=WP(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gB=WP(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fB=WP(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yB=WP(["#text"]),bB=WP(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),vB=WP(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_B=WP(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wB=WP(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kB=ZP(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xB=ZP(/<%[\w\W]*|[\w\W]*%>/gm),SB=ZP(/^data-[\-\w.\u00B7-\uFFFF]/),CB=ZP(/^aria-[\-\w]+$/),EB=ZP(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),DB=ZP(/^(?:\w+script|data):/i),AB=ZP(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),TB=ZP(/^html$/i),OB=function(){return"undefined"==typeof window?null:window},MB=function(e,t){if("object"!==NP(e)||"function"!=typeof e.createPolicy)return null;var o=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(o=t.currentScript.getAttribute(n));var r="dompurify"+(o?"#"+o:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var zB=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OB(),o=function(t){return e(t)};if(o.version="2.3.8",o.removed=[],!t||!t.document||9!==t.document.nodeType)return o.isSupported=!1,o;var n=t.document,r=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,i=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,h=t.HTMLFormElement,p=t.DOMParser,m=t.trustedTypes,g=l.prototype,f=dB(g,"cloneNode"),y=dB(g,"nextSibling"),b=dB(g,"childNodes"),v=dB(g,"parentNode");if("function"==typeof s){var _=r.createElement("template");_.content&&_.content.ownerDocument&&(r=_.content.ownerDocument)}var w=MB(m,n),k=w?w.createHTML(""):"",x=r,S=x.implementation,C=x.createNodeIterator,E=x.createDocumentFragment,D=x.getElementsByTagName,A=n.importNode,T={};try{T=cB(r).documentMode?r.documentMode:{}}catch(e){}var O={};o.isSupported="function"==typeof v&&S&&void 0!==S.createHTMLDocument&&9!==T;var M,z,R=kB,N=xB,I=SB,L=CB,P=DB,B=AB,H=EB,F=null,V=lB({},[].concat(PP(uB),PP(hB),PP(pB),PP(gB),PP(yB))),j=null,U=lB({},[].concat(PP(bB),PP(vB),PP(_B),PP(wB))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Z=null,$=null,q=!0,Y=!0,G=!1,K=!1,X=!1,Q=!1,J=!1,ee=!1,te=!1,oe=!1,ne=!0,re=!0,ae=!1,se={},ie=null,le=lB({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,de=lB({},["audio","video","img","source","image","track"]),ue=null,he=lB({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml",fe=ge,ye=!1,be=["application/xhtml+xml","text/html"],ve=null,_e=r.createElement("form"),we=function(e){return e instanceof RegExp||e instanceof Function},ke=function(e){ve&&ve===e||(e&&"object"===NP(e)||(e={}),e=cB(e),F="ALLOWED_TAGS"in e?lB({},e.ALLOWED_TAGS):V,j="ALLOWED_ATTR"in e?lB({},e.ALLOWED_ATTR):U,ue="ADD_URI_SAFE_ATTR"in e?lB(cB(he),e.ADD_URI_SAFE_ATTR):he,ce="ADD_DATA_URI_TAGS"in e?lB(cB(de),e.ADD_DATA_URI_TAGS):de,ie="FORBID_CONTENTS"in e?lB({},e.FORBID_CONTENTS):le,Z="FORBID_TAGS"in e?lB({},e.FORBID_TAGS):{},$="FORBID_ATTR"in e?lB({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,Y=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,oe=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,H=e.ALLOWED_URI_REGEXP||H,fe=e.NAMESPACE||ge,e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),M=M=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,z="application/xhtml+xml"===M?function(e){return e}:eB,K&&(Y=!1),te&&(ee=!0),se&&(F=lB({},PP(yB)),j=[],!0===se.html&&(lB(F,uB),lB(j,bB)),!0===se.svg&&(lB(F,hB),lB(j,vB),lB(j,wB)),!0===se.svgFilters&&(lB(F,pB),lB(j,vB),lB(j,wB)),!0===se.mathMl&&(lB(F,gB),lB(j,_B),lB(j,wB))),e.ADD_TAGS&&(F===V&&(F=cB(F)),lB(F,e.ADD_TAGS)),e.ADD_ATTR&&(j===U&&(j=cB(j)),lB(j,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&lB(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ie===le&&(ie=cB(ie)),lB(ie,e.FORBID_CONTENTS)),re&&(F["#text"]=!0),X&&lB(F,["html","head","body"]),F.table&&(lB(F,["tbody"]),delete Z.tbody),WP&&WP(e),ve=e)},xe=lB({},["mi","mo","mn","ms","mtext"]),Se=lB({},["foreignobject","desc","title","annotation-xml"]),Ce=lB({},["title","style","font","a","script"]),Ee=lB({},hB);lB(Ee,pB),lB(Ee,mB);var De=lB({},gB);lB(De,fB);var Ae=function(e){JP(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=k}catch(t){e.remove()}}},Te=function(e,t){try{JP(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){JP(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!j[e])if(ee||te)try{Ae(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Oe=function(e){var t,o;if(J)e="<remove></remove>"+e;else{var n=tB(e,/^[\r\n\t ]+/);o=n&&n[0]}"application/xhtml+xml"===M&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=w?w.createHTML(e):e;if(fe===ge)try{t=(new p).parseFromString(a,M)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(fe,"template",null);try{t.documentElement.innerHTML=ye?"":a}catch(e){}}var s=t.body||t.documentElement;return e&&o&&s.insertBefore(r.createTextNode(o),s.childNodes[0]||null),fe===ge?D.call(t,X?"html":"body")[0]:X?t.documentElement:s},Me=function(e){return C.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ze=function(e){return"object"===NP(i)?e instanceof i:e&&"object"===NP(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Re=function(e,t,n){O[e]&&XP(O[e],(function(e){e.call(o,t,n,ve)}))},Ne=function(e){var t,n;if(Re("beforeSanitizeElements",e,null),(n=e)instanceof h&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof u)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore))return Ae(e),!0;if(aB(/[\u0080-\uFFFF]/,e.nodeName))return Ae(e),!0;var r=z(e.nodeName);if(Re("uponSanitizeElement",e,{tagName:r,allowedTags:F}),e.hasChildNodes()&&!ze(e.firstElementChild)&&(!ze(e.content)||!ze(e.content.firstElementChild))&&aB(/<[/\w]/g,e.innerHTML)&&aB(/<[/\w]/g,e.textContent))return Ae(e),!0;if("select"===r&&aB(/<template/i,e.innerHTML))return Ae(e),!0;if(!F[r]||Z[r]){if(!Z[r]&&Le(r)){if(W.tagNameCheck instanceof RegExp&&aB(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(re&&!ie[r]){var a=v(e)||e.parentNode,s=b(e)||e.childNodes;if(s&&a)for(var i=s.length-1;i>=0;--i)a.insertBefore(f(s[i],!0),y(e))}return Ae(e),!0}return e instanceof l&&!function(e){var t=v(e);t&&t.tagName||(t={namespaceURI:ge,tagName:"template"});var o=eB(e.tagName),n=eB(t.tagName);return e.namespaceURI===me?t.namespaceURI===ge?"svg"===o:t.namespaceURI===pe?"svg"===o&&("annotation-xml"===n||xe[n]):Boolean(Ee[o]):e.namespaceURI===pe?t.namespaceURI===ge?"math"===o:t.namespaceURI===me?"math"===o&&Se[n]:Boolean(De[o]):e.namespaceURI===ge&&!(t.namespaceURI===me&&!Se[n])&&!(t.namespaceURI===pe&&!xe[n])&&!De[o]&&(Ce[o]||!Ee[o])}(e)?(Ae(e),!0):"noscript"!==r&&"noembed"!==r||!aB(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,t=oB(t,R," "),t=oB(t,N," "),e.textContent!==t&&(JP(o.removed,{element:e.cloneNode()}),e.textContent=t)),Re("afterSanitizeElements",e,null),!1):(Ae(e),!0)},Ie=function(e,t,o){if(ne&&("id"===t||"name"===t)&&(o in r||o in _e))return!1;if(Y&&!$[t]&&aB(I,t));else if(q&&aB(L,t));else if(!j[t]||$[t]){if(!(Le(e)&&(W.tagNameCheck instanceof RegExp&&aB(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&aB(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&aB(W.tagNameCheck,o)||W.tagNameCheck instanceof Function&&W.tagNameCheck(o))))return!1}else if(ue[t]);else if(aB(H,oB(o,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==nB(o,"data:")||!ce[e]){if(G&&!aB(P,oB(o,B,"")));else if(o)return!1}else;return!0},Le=function(e){return e.indexOf("-")>0},Pe=function(e){var t,o,n,r;Re("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(r=a.length;r--;){var i=t=a[r],l=i.name,c=i.namespaceURI;o="value"===l?t.value:rB(t.value),n=z(l);var d=o;if(s.attrName=n,s.attrValue=o,s.keepAttr=!0,s.forceKeepAttr=void 0,Re("uponSanitizeAttribute",e,s),o=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(aB(/\/>/i,o))Te(l,e);else{K&&(o=oB(o,R," "),o=oB(o,N," "));var u=z(e.nodeName);if(Ie(u,n,o)){if(o!==d)try{c?e.setAttributeNS(c,l,o):e.setAttribute(l,o)}catch(t){Te(l,e)}}else Te(l,e)}else Te(l,e)}Re("afterSanitizeAttributes",e,null)}},Be=function e(t){var o,n=Me(t);for(Re("beforeSanitizeShadowDOM",t,null);o=n.nextNode();)Re("uponSanitizeShadowNode",o,null),Ne(o)||(o.content instanceof a&&e(o.content),Pe(o));Re("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e,r){var s,l,c,d,u;if((ye=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ze(e)){if("function"!=typeof e.toString)throw sB("toString is not a function");if("string"!=typeof(e=e.toString()))throw sB("dirty is not a string, aborting")}if(!o.isSupported){if("object"===NP(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(ze(e))return t.toStaticHTML(e.outerHTML)}return e}if(Q||ke(r),o.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){var h=z(e.nodeName);if(!F[h]||Z[h])throw sB("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof i)1===(l=(s=Oe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return w&&oe?w.createHTML(e):e;if(!(s=Oe(e)))return ee?null:oe?k:""}s&&J&&Ae(s.firstChild);for(var p=Me(ae?e:s);c=p.nextNode();)3===c.nodeType&&c===d||Ne(c)||(c.content instanceof a&&Be(c.content),Pe(c),d=c);if(d=null,ae)return e;if(ee){if(te)for(u=E.call(s.ownerDocument);s.firstChild;)u.appendChild(s.firstChild);else u=s;return j.shadowroot&&(u=A.call(n,u,!0)),u}var m=X?s.outerHTML:s.innerHTML;return X&&F["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&aB(TB,s.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+m),K&&(m=oB(m,R," "),m=oB(m,N," ")),w&&oe?w.createHTML(m):m},o.setConfig=function(e){ke(e),Q=!0},o.clearConfig=function(){ve=null,Q=!1},o.isValidAttribute=function(e,t,o){ve||ke({});var n=z(e),r=z(t);return Ie(n,r,o)},o.addHook=function(e,t){"function"==typeof t&&(O[e]=O[e]||[],JP(O[e],t))},o.removeHook=function(e){if(O[e])return QP(O[e])},o.removeHooks=function(e){O[e]&&(O[e]=[])},o.removeAllHooks=function(){O={}},o}();const RB=e=>zB().sanitize(e),NB=$f.deviceType.isTouch(),IB=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),LB=(e,t)=>_I.parts.close(Af.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Zl([sx.config({})])})),PB=()=>_I.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),BB=(e,t)=>_I.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:RO(`<p>${RB(t.translate(e))}</p>`)}]}]}),HB=e=>_I.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),FB=(e,t)=>[Jk.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Jk.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],VB=e=>{const t="tox-dialog",o=t+"-wrap",n=o+"__backdrop",r=t+"__disable-scroll";return _I.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),T.some(!0)),useTabstopAt:e=>!oE(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:RO(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:NB?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:o,modalBehaviours:Zl([Bg.config({}),Rg("dialog-events",e.dialogEvents.concat([as(ra(),((e,t)=>{xg.focusIn(e)}))])),Rg("scroll-lock",[ss((()=>{ei(vt(),r)})),is((()=>{ti(vt(),r)}))]),...e.extraBehaviours]),eventOrder:{[wa()]:["dialog-events"],[za()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Ra()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},jB=e=>Af.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Zl([sx.config({})]),components:[Hf("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{Ua(e,mx)}}),UB=(e,t,o,n)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...o.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Zl([iP.config({channel:`${TP}-${t}`,initialData:e,renderComponents:e=>[_i(n.translate(e.title))]})])}),WB=()=>({dom:RO('<div class="tox-dialog__draghandle"></div>')}),ZB=(e,t,o)=>((e,t,o)=>{const n=_I.parts.title(UB(e,t,T.none(),o)),r=_I.parts.draghandle(WB()),a=_I.parts.close(jB(o)),s=[n].concat(e.draggable?[r]:[]).concat([a]);return Jk.sketch({dom:RO('<div class="tox-dialog__header"></div>'),components:s})})({title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t,o.shared.providers),$B=(e,t,o)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:RO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),qB=(e,t,o)=>({onClose:()=>o.closeWindow(),onBlock:o=>{_I.setBusy(e(),((e,n)=>$B(o.message,n,t)))},onUnblock:()=>{_I.setIdle(e())}}),YB=(e,t,o,n)=>Si(VB({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[iP.config({channel:`${AP}-${e.id}`,updateState:(e,t)=>T.some(t),initialData:t}),WC({}),...e.extraBehaviours],onEscape:e=>{Ua(e,mx)},dialogEvents:o,eventOrder:{[_a()]:[iP.name(),Xl.name()],[za()]:["scroll-lock",iP.name(),"messages","dialog-events","alloy.base.behaviour"],[Ra()]:["alloy.base.behaviour","dialog-events","messages",iP.name(),"scroll-lock"]}})),GB=(e,t={})=>H(e,(e=>"menu"===e.type?(e=>{const o=H(e.items,(e=>{const o=ye(t,e.name).getOr(Ir(!1));return{...e,storage:o}}));return{...e,items:o}})(e):e)),KB=e=>W(e,((e,t)=>{if("menu"===t.type){return W(t.items,((e,t)=>(e[t.name]=t.storage,e)),e)}return e}),{}),XB=(e,t)=>[os(ra(),tE),e(px,((e,o,n,r)=>{oc(pt(r.element)).fold(y,ec),t.onClose(),o.onClose()})),e(mx,((e,t,o,n)=>{t.onCancel(e),Ua(n,px)})),Qa(bx,((e,o)=>t.onUnblock())),Qa(yx,((e,o)=>t.onBlock(o.event)))],QB=(e,t)=>{const o=(t,o)=>Qa(t,((t,r)=>{n(t,((n,a)=>{o(e(),n,r.event,t)}))})),n=(e,t)=>{iP.getState(e).get().each((o=>{t(o,e)}))};return[...XB(o,t),o(gx,((e,t,o)=>{t.onAction(e,{name:o.name})}))]},JB=(e,t,o)=>{const n=(t,o)=>Qa(t,((t,n)=>{r(t,((r,a)=>{o(e(),r,n.event,t)}))})),r=(e,t)=>{iP.getState(e).get().each((o=>{t(o.internalDialog,e)}))};return[...XB(n,t),n(fx,((e,t)=>t.onSubmit(e))),n(hx,((e,t,o)=>{t.onChange(e,{name:o.name})})),n(gx,((e,t,n,r)=>{const a=()=>xg.focusIn(r),s=e=>Et(e,"disabled")||Ct(e,"aria-disabled").exists((e=>"true"===e)),i=pt(r.element),l=oc(i);t.onAction(e,{name:n.name,value:n.value}),oc(i).fold(a,(e=>{s(e)||l.exists((t=>Xe(e,t)&&s(t)))?a():o().toOptional().filter((t=>!Xe(t.element,e))).each(a)}))})),n(vx,((e,t,o)=>{t.onTabChange(e,{newTabName:o.name,oldTabName:o.oldName})})),is((t=>{const o=e();qu.setValue(t,o.getData())}))]},eH=(e,t)=>{const o=t.map((e=>e.footerButtons)).getOr([]),n=V(o,(e=>"start"===e.align)),r=(e,t)=>Jk.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:H(t,(e=>e.memento.asSpec()))});return[r("start",n.pass),r("end",n.fail)]},tH=(e,t,o)=>({dom:RO('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Zl([iP.config({channel:`${MP}-${t}`,initialData:e,updateState:(e,t)=>{const n=H(t.buttons,(e=>{const t=Tf(((e,t)=>MD(e,e.type,t))(e,o));return{name:e.name,align:e.align,memento:t}}));return T.some({lookupByName:t=>((e,t,o)=>Z(t,(e=>e.name===o)).bind((t=>t.memento.getOpt(e))))(e,n,t),footerButtons:n})},renderComponents:eH})])}),oH=(e,t,o)=>_I.parts.footer(tH(e,t,o)),nH=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const o=op.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return EC.getField(o,t).orThunk((()=>{const o=e.getFooter();return iP.getState(o).get().bind((e=>e.lookupByName(t)))}))}return T.none()},rH=(e,t,o)=>{const n=t=>{const o=e.getRoot();o.getSystem().isConnected()&&t(o)},r={getData:()=>{const t=e.getRoot(),n=t.getSystem().isConnected()?e.getFormWrapper():t;return{...qu.getValue(n),...ce(o,(e=>e.get()))}},setData:t=>{n((n=>{const a=r.getData(),s=_n(a,t),i=((e,t)=>{const o=e.getRoot();return iP.getState(o).get().map((e=>tr(er("data",e.dataValidator,t)))).getOr(t)})(e,s),l=e.getFormWrapper();qu.setValue(l,i),le(o,((e,t)=>{be(s,t)&&e.set(s[t])}))}))},setEnabled:(t,o)=>{nH(e,t).each(o?fp.enable:fp.disable)},focus:t=>{nH(e,t).each(Bg.focus)},block:e=>{if(!a(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n((t=>{Wa(t,yx,{message:e})}))},unblock:()=>{n((e=>{Ua(e,bx)}))},showTab:t=>{n((o=>{const n=e.getBody();iP.getState(n).get().exists((e=>e.isTabPanel()))&&op.getCurrent(n).each((e=>{_P.showTab(e,t)}))}))},redial:a=>{n((n=>{const s=e.getId(),i=t(a),l=GB(i.internalDialog.buttons,o);n.getSystem().broadcastOn([`${AP}-${s}`],i),n.getSystem().broadcastOn([`${TP}-${s}`],i.internalDialog),n.getSystem().broadcastOn([`${OP}-${s}`],i.internalDialog),n.getSystem().broadcastOn([`${MP}-${s}`],{...i.internalDialog,buttons:l}),r.setData(i.initialData)}))},close:()=>{n((e=>{Ua(e,px)}))},toggleFullscreen:e.toggleFullscreen};return r},aH=(e,t,o)=>{const n=bs("dialog"),r=e.internalDialog,a=ZB(r.title,n,o),s=((e,t,o)=>{const n=RP(e,t,T.none(),o,!1);return _I.parts.body(n)})({body:r.body,initialData:r.initialData},n,o),i=GB(r.buttons),l=KB(i),c=oH({buttons:i},n,o),d=JB((()=>g),qB((()=>p),o.shared.providers,t),o.shared.getSink),u=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(r.size),h={id:n,header:a,body:s,footer:T.some(c),extraClasses:u,extraBehaviours:[],extraStyles:{}},p=YB(h,e,d,o),m={getId:_(n),getRoot:_(p),getBody:()=>_I.getBody(p),getFooter:()=>_I.getFooter(p),getFormWrapper:()=>{const e=_I.getBody(p);return op.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Ne.fromDom(p.element.dom);oi(t,e)?(ti(t,e),ni(t,u)):(ri(t,u),ei(t,e))}},g=rH(m,t.redial,l);return{dialog:p,instanceApi:g}},sH=(e,t,o,n)=>{const r=bs("dialog"),a=bs("dialog-label"),s=bs("dialog-content"),i=e.internalDialog,l=Tf(((e,t,o,n)=>Jk.sketch({dom:RO('<div class="tox-dialog__header"></div>'),components:[UB(e,t,T.some(o),n),WB(),jB(n)],containerBehaviours:Zl([rI.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>Ri(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:i.title,draggable:!0},r,a,o.shared.providers)),c=Tf(((e,t,o,n,r)=>RP(e,t,T.some(o),n,r))({body:i.body,initialData:i.initialData},r,s,o,n)),d=GB(i.buttons),u=KB(d),h=Tf(((e,t,o)=>tH(e,t,o))({buttons:d},r,o)),p=JB((()=>f),{onBlock:e=>{zO.block(g,((t,n)=>$B(e.message,n,o.shared.providers)))},onUnblock:()=>{zO.unblock(g)},onClose:()=>t.closeWindow()},o.shared.getSink),m="tox-dialog-inline",g=Si({dom:{tag:"div",classes:["tox-dialog",m],attributes:{role:"dialog","aria-labelledby":a,"aria-describedby":s}},eventOrder:{[_a()]:[iP.name(),Xl.name()],[wa()]:["execute-on-form"],[za()]:["reflecting","execute-on-form"]},behaviours:Zl([xg.config({mode:"cyclic",onEscape:e=>(Ua(e,px),T.some(!0)),useTabstopAt:e=>!oE(e)&&("button"!==Fe(e)||"disabled"!==St(e,"disabled")),firstTabstop:1}),iP.config({channel:`${AP}-${r}`,updateState:(e,t)=>T.some(t),initialData:e}),Bg.config({}),Rg("execute-on-form",p.concat([as(ra(),((e,t)=>{xg.focusIn(e)}))])),zO.config({getRoot:()=>T.some(g)}),zg.config({}),WC({})]),components:[l.asSpec(),c.asSpec(),h.asSpec()]}),f=rH({getId:_(r),getRoot:_(g),getFooter:()=>h.get(g),getBody:()=>c.get(g),getFormWrapper:()=>{const e=c.get(g);return op.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Ne.fromDom(g.element.dom);ai(t,[e])?(ri(t,[e]),ni(t,[m])):(ri(t,[m]),ni(t,[e]))}},t.redial,u);return{dialog:g,instanceApi:f}};var iH=tinymce.util.Tools.resolve("tinymce.util.URI");const lH=["insertContent","setContent","execCommand","close","block","unblock"],cH=e=>s(e)&&-1!==lH.indexOf(e.mceAction),dH=(e,t,o,n)=>{const r=bs("dialog"),i=ZB(e.title,r,n),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[JC({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Zl([sx.config({}),Bg.config({})])})]}],behaviours:Zl([xg.config({mode:"acyclic",useTabstopAt:S(oE)})])};return _I.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?T.none():T.some(oH({buttons:e},r,n)))),u=QB((()=>_),qB((()=>v),n.shared.providers,t)),h={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},m=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],g=new iH(e.url,{base_uri:new iH(window.location.href)}),f=`${g.protocol}://${g.host}${g.port?":"+g.port:""}`,y=wc(),b=[Rg("messages",[ss((()=>{const t=Sc(Ne.fromDom(window),"message",(t=>{if(g.isSameOrigin(new iH(t.raw.origin))){const n=t.raw.data;cH(n)?((e,t,o)=>{switch(o.mceAction){case"insertContent":e.insertContent(o.content);break;case"setContent":e.setContent(o.content);break;case"execCommand":const n=!!d(o.ui)&&o.ui;e.execCommand(o.cmd,n,o.value);break;case"close":t.close();break;case"block":t.block(o.message);break;case"unblock":t.unblock()}})(o,_,n):(e=>!cH(e)&&s(e)&&be(e,"mceAction"))(n)&&e.onMessage(_,n)}}));y.set(t)})),is(y.clear)]),Xl.config({channels:{[zP]:{onReceive:(e,t)=>{zi(e.element,"iframe").each((e=>{const o=e.dom.contentWindow;p(o)&&o.postMessage(t,f)}))}}}})],v=YB({id:r,header:i,body:l,footer:c,extraClasses:m,extraBehaviours:b,extraStyles:h},e,u,n),_=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!a(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{Wa(t,yx,{message:e})}))},unblock:()=>{t((e=>{Ua(e,bx)}))},close:()=>{t((e=>{Ua(e,px)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([zP],e)}))}}})(v);return{dialog:v,instanceApi:_}},uH=(e,t,o)=>t&&o?[]:[JT.config({contextual:{lazyContext:()=>T.some(Yo(Ne.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>Bk(e,t.element).map((e=>({bounds:Hk(e),optScrollEnv:T.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:qt(e.element).top})}))).getOrThunk((()=>({bounds:Xo(),optScrollEnv:T.none()})))})],hH=e=>{const t=e.editor,o=Wy(t),n=(e=>{const t=e.shared;return{open:(o,n)=>{const r=()=>{_I.hide(l),n()},a=Tf(MD({name:"close-alert",text:"OK",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"cancel",e)),s=PB(),i=LB(r,t.providers),l=Si(VB({lazySink:()=>t.getSink(),header:IB(s,i),body:BB(o,t.providers),footer:T.some(HB(FB([],[a.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Qa(mx,r)],eventOrder:{}}));_I.show(l);const c=a.get(l);Bg.focus(c)}}})(e.backstages.dialog),r=(e=>{const t=e.shared;return{open:(o,n)=>{const r=e=>{_I.hide(c),n(e)},a=Tf(MD({name:"yes",text:"Yes",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"submit",e)),s=MD({name:"no",text:"No",primary:!1,buttonType:T.some("secondary"),align:"end",enabled:!0,icon:T.none()},"cancel",e),i=PB(),l=LB((()=>r(!1)),t.providers),c=Si(VB({lazySink:()=>t.getSink(),header:IB(i,l),body:BB(o,t.providers),footer:T.some(HB(FB([],[s,a.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Qa(mx,(()=>r(!1))),Qa(fx,(()=>r(!0)))],eventOrder:{}}));_I.show(c);const d=a.get(c);Bg.focus(d)}}})(e.backstages.dialog),a=(o,n)=>nP.openUrl((o=>{const r=dH(o,{closeWindow:()=>{_I.hide(r.dialog),n(r.instanceApi)}},t,e.backstages.dialog);return _I.show(r.dialog),r.instanceApi}),o),s=(t,o)=>nP.open(((t,n,r)=>{const a=n,s=aH({dataValidator:r,initialData:a,internalDialog:t},{redial:nP.redial,closeWindow:()=>{_I.hide(s.dialog),o(s.instanceApi)}},e.backstages.dialog);return _I.show(s.dialog),s.instanceApi.setData(a),s.instanceApi}),t),i=(n,r,a,s=!1)=>nP.open(((n,i,l)=>{const c=tr(er("data",l,i));const d=kc(),u=e.backstages.popup.shared.header.isPositionedAtTop(),h=()=>d.on((e=>{Ef.reposition(e),JT.refresh(e)})),p=sH({dataValidator:l,initialData:c,internalDialog:n},{redial:nP.redial,closeWindow:()=>{d.on(Ef.hide),t.off("ResizeEditor",h),d.clear(),a(p.instanceApi)}},e.backstages.popup,s),m=Si(Ef.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zl([Rg("window-manager-inline-events",[Qa(Na(),((e,t)=>{Ua(p.dialog,mx)}))]),...uH(t,o,u)]),isExtraPart:(e,t)=>(e=>Fk(e,".tox-alert-dialog")||Fk(e,".tox-confirm-dialog"))(t)}));d.set(m);return Ef.showWithinBounds(m,Ci(p.dialog),{anchor:r},(()=>{const e=t.inline?vt():Ne.fromDom(t.getContainer()),o=Yo(e);return T.some(o)})),o&&u||(JT.refresh(m),t.on("ResizeEditor",h)),p.instanceApi.setData(c),xg.focusIn(p.dialog),p.instanceApi}),n);return{open:(t,o,n)=>void 0!==o&&"toolbar"===o.inline?i(t,e.backstages.popup.shared.anchors.inlineDialog(),n,o.ariaAttrs):void 0!==o&&"cursor"===o.inline?i(t,e.backstages.popup.shared.anchors.cursor(),n,o.ariaAttrs):s(t,n),openUrl:(e,t)=>a(e,t),alert:(e,t)=>{n.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{r.open(e,t)}}},pH=e=>{Gf(e),(e=>{const t=e.options.register,o=e=>f(e,a)?{value:bw(e),valid:!0}:{valid:!1,message:"Must be an array of strings."};t("color_map",{processor:o,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:o}),t("color_map_foreground",{processor:o}),t("color_cols",{processor:"number",default:fw(xw(e,"default").length)}),t("color_cols_foreground",{processor:"number",default:yw(e,xw(e,mw).length)}),t("color_cols_background",{processor:"number",default:yw(e,xw(e,gw).length)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:_w}),t("color_default_background",{processor:"string",default:_w})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:a(e)||f(e,a)?{value:qR(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)};Qo.add("silver",(e=>{pH(e);let t=()=>Xo();const{dialogs:o,popups:n,renderUI:r}=fI(e,{getPopupSinkBounds:()=>t()});Ik(e,n.backstage.shared);const a=hH({editor:e,backstages:{popup:n.backstage,dialog:o.backstage}});return{renderUI:async()=>{const o=await r();return Bk(e,n.getMothership().element).each((e=>{t=()=>Hk(e)})),o},getWindowManagerImpl:_(a),getNotificationManagerImpl:()=>((e,t,o)=>{const n=t.backstage.shared,r=()=>{const t=Yo(Ne.fromDom(e.getContentAreaContainer())),o=Xo(),n=fl(o.x,t.x,t.right),r=fl(o.y,t.y,t.bottom),a=Math.max(t.right,o.right),s=Math.max(t.bottom,o.bottom);return T.some(qo(n,r,a-n,s-r))};return{open:(t,a)=>{const s=()=>{a(),Ef.hide(l)},i=Si(Vf.sketch({text:t.text,level:I(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:s,iconProvider:n.providers.icons,translationProvider:n.providers.translate})),l=Si(Ef.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:n.getSink,fireDismissalEventInstead:{},...n.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));o.add(l),g(t.timeout)&&t.timeout>0&&Df.setEditorTimeout(e,(()=>{s()}),t.timeout);const c={close:s,reposition:()=>{const t=Ci(i),o={maxHeightFunction:Lc()},a=e.notificationManager.getNotifications();if(a[0]===c){const e={...n.anchors.banner(),overrides:o};Ef.showWithinBounds(l,t,{anchor:e},r)}else N(a,c).each((e=>{const n=a[e-1].getEl(),s={type:"node",root:vt(),node:T.some(Ne.fromDom(n)),overrides:o,layouts:{onRtl:()=>[Ol],onLtr:()=>[Ol]}};Ef.showWithinBounds(l,t,{anchor:s},r)}))},text:e=>{Vf.updateText(i,e)},settings:t,getEl:()=>i.element.dom,progressBar:{value:e=>{Vf.updateProgress(i,e)}}};return c},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:n.backstage},n.getMothership())}}))}()},7575:e=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},o=function(e){return{eq:e}},n=o((function(e,t){return e===t})),r=function(e){return o((function(t,o){if(t.length!==o.length)return!1;for(var n=t.length,r=0;r<n;r++)if(!e.eq(t[r],o[r]))return!1;return!0}))},a=function(e,t){return function(e,t){return o((function(o,n){return e.eq(t(o),t(n))}))}(r(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)}))},s=function(e){return o((function(t,o){var r=Object.keys(t),s=Object.keys(o);if(!a(n).eq(r,s))return!1;for(var i=r.length,l=0;l<i;l++){var c=r[l];if(!e.eq(t[c],o[c]))return!1}return!0}))},i=o((function(e,o){if(e===o)return!0;var n=t(e);return n===t(o)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(n)?e===o:"array"===n?r(i).eq(e,o):"object"===n&&s(i).eq(e,o))}));const l=Object.getPrototypeOf,c=(e,t,o)=>{var n;return!!o(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},d=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&c(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,u=e=>t=>typeof t===e,h=e=>t=>e===t,p=(e,t)=>g(e)&&c(e,t,((e,t)=>l(e)===t)),m=d("string"),g=d("object"),f=e=>p(e,Object),y=d("array"),b=h(null),v=u("boolean"),_=h(void 0),w=e=>null==e,k=e=>!w(e),x=u("function"),S=u("number"),C=(e,t)=>{if(y(e)){for(let o=0,n=e.length;o<n;++o)if(!t(e[o]))return!1;return!0}return!1},E=()=>{},D=(e,t)=>(...o)=>e(t.apply(null,o)),A=(e,t)=>o=>e(t(o)),T=e=>()=>e,O=e=>e,M=(e,t)=>e===t;function z(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const R=e=>t=>!e(t),N=e=>()=>{throw new Error(e)},I=e=>e(),L=e=>{e()},P=T(!1),B=T(!0);class H{constructor(e,t){this.tag=e,this.value=t}static some(e){return new H(!0,e)}static none(){return H.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?H.some(e(this.value)):H.none()}bind(e){return this.tag?e(this.value):H.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:H.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return k(e)?H.some(e):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const F=Array.prototype.slice,V=Array.prototype.indexOf,j=Array.prototype.push,U=(e,t)=>V.call(e,t),W=(e,t)=>U(e,t)>-1,Z=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return!0}return!1},$=(e,t)=>{const o=e.length,n=new Array(o);for(let r=0;r<o;r++){const o=e[r];n[r]=t(o,r)}return n},q=(e,t)=>{for(let o=0,n=e.length;o<n;o++){t(e[o],o)}},Y=(e,t)=>{for(let o=e.length-1;o>=0;o--){t(e[o],o)}},G=(e,t)=>{const o=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?o:n).push(a)}return{pass:o,fail:n}},K=(e,t)=>{const o=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t(r,n)&&o.push(r)}return o},X=(e,t,o)=>(Y(e,((e,n)=>{o=t(o,e,n)})),o),Q=(e,t,o)=>(q(e,((e,n)=>{o=t(o,e,n)})),o),J=(e,t,o)=>{for(let n=0,r=e.length;n<r;n++){const r=e[n];if(t(r,n))return H.some(r);if(o(r,n))break}return H.none()},ee=(e,t)=>J(e,t,P),te=(e,t)=>{for(let o=0,n=e.length;o<n;o++){if(t(e[o],o))return H.some(o)}return H.none()},oe=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!y(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);j.apply(t,e[o])}return t},ne=(e,t)=>oe($(e,t)),re=(e,t)=>{for(let o=0,n=e.length;o<n;++o){if(!0!==t(e[o],o))return!1}return!0},ae=e=>{const t=F.call(e,0);return t.reverse(),t},se=(e,t)=>K(e,(e=>!W(t,e))),ie=(e,t)=>{const o={};for(let n=0,r=e.length;n<r;n++){const r=e[n];o[String(r)]=t(r,n)}return o},le=(e,t)=>{const o=F.call(e,0);return o.sort(t),o},ce=(e,t)=>t>=0&&t<e.length?H.some(e[t]):H.none(),de=e=>ce(e,0),ue=e=>ce(e,e.length-1),he=x(Array.from)?Array.from:e=>F.call(e),pe=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return H.none()},me=Object.keys,ge=Object.hasOwnProperty,fe=(e,t)=>{const o=me(e);for(let n=0,r=o.length;n<r;n++){const r=o[n];t(e[r],r)}},ye=(e,t)=>be(e,((e,o)=>({k:o,v:t(e,o)}))),be=(e,t)=>{const o={};return fe(e,((e,n)=>{const r=t(e,n);o[r.k]=r.v})),o},ve=e=>(t,o)=>{e[o]=t},_e=(e,t,o,n)=>{fe(e,((e,r)=>{(t(e,r)?o:n)(e,r)}))},we=(e,t)=>{const o={};return _e(e,t,ve(o),E),o},ke=(e,t)=>{const o=[];return fe(e,((e,n)=>{o.push(t(e,n))})),o},xe=e=>ke(e,O),Se=(e,t)=>Ce(e,t)?H.from(e[t]):H.none(),Ce=(e,t)=>ge.call(e,t),Ee=(e,t)=>Ce(e,t)&&void 0!==e[t]&&null!==e[t],De=e=>{const t={};return q(e,(e=>{t[e]={}})),me(t)},Ae=e=>void 0!==e.length,Te=Array.isArray,Oe=(e,t,o)=>{if(!e)return!1;if(o=o||e,Ae(e)){for(let n=0,r=e.length;n<r;n++)if(!1===t.call(o,e[n],n,e))return!1}else for(const n in e)if(Ce(e,n)&&!1===t.call(o,e[n],n,e))return!1;return!0},Me=(e,t)=>{const o=[];return Oe(e,((n,r)=>{o.push(t(n,r,e))})),o},ze=(e,t)=>{const o=[];return Oe(e,((n,r)=>{t&&!t(n,r,e)||o.push(n)})),o},Re=(e,t,o,n)=>{let r=_(o)?e[0]:o;for(let o=0;o<e.length;o++)r=t.call(n,r,e[o],o);return r},Ne=(e,t,o)=>{for(let n=0,r=e.length;n<r;n++)if(t.call(o,e[n],n,e))return n;return-1},Ie=e=>e[e.length-1],Le=e=>{let t,o=!1;return(...n)=>(o||(o=!0,t=e.apply(null,n)),t)},Pe=()=>Be(0,0),Be=(e,t)=>({major:e,minor:t}),He={nu:Be,detect:(e,t)=>{const o=String(t).toLowerCase();return 0===e.length?Pe():((e,t)=>{const o=((e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t))return n}})(e,t);if(!o)return{major:0,minor:0};const n=e=>Number(t.replace(o,"$"+e));return Be(n(1),n(2))})(e,o)},unknown:Pe},Fe=(e,t)=>{const o=String(t).toLowerCase();return ee(e,(e=>e.search(o)))},Ve=(e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t,je=(e,t)=>We(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Ue=(e,t,o=0,n)=>{const r=e.indexOf(t,o);return-1!==r&&(!!_(n)||r+t.length<=n)},We=(e,t)=>Ve(e,t,0),Ze=(e,t)=>Ve(e,t,e.length-t.length),$e=e=>t=>t.replace(e,""),qe=$e(/^\s+|\s+$/g),Ye=$e(/^\s+/g),Ge=$e(/\s+$/g),Ke=e=>e.length>0,Xe=e=>!Ke(e),Qe=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?H.none():H.some(o)},Je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,et=e=>t=>Ue(t,e),tt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ue(e,"edge/")&&Ue(e,"chrome")&&Ue(e,"safari")&&Ue(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Je],search:e=>Ue(e,"chrome")&&!Ue(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ue(e,"msie")||Ue(e,"trident")},{name:"Opera",versionRegexes:[Je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:et("firefox")},{name:"Safari",versionRegexes:[Je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ue(e,"safari")||Ue(e,"mobile/"))&&Ue(e,"applewebkit")}],ot=[{name:"Windows",search:et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ue(e,"iphone")||Ue(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:et("linux"),versionRegexes:[]},{name:"Solaris",search:et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],nt={browsers:T(tt),oses:T(ot)},rt="Edge",at="Chromium",st="Opera",it="Firefox",lt="Safari",ct=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isEdge:n(rt),isChromium:n(at),isIE:n("IE"),isOpera:n(st),isFirefox:n(it),isSafari:n(lt)}},dt={unknown:()=>ct({current:void 0,version:He.unknown()}),nu:ct,edge:T(rt),chromium:T(at),ie:T("IE"),opera:T(st),firefox:T(it),safari:T(lt)},ut="Windows",ht="Android",pt="Linux",mt="macOS",gt="Solaris",ft="FreeBSD",yt="ChromeOS",bt=e=>{const t=e.current,o=e.version,n=e=>()=>t===e;return{current:t,version:o,isWindows:n(ut),isiOS:n("iOS"),isAndroid:n(ht),isMacOS:n(mt),isLinux:n(pt),isSolaris:n(gt),isFreeBSD:n(ft),isChromeOS:n(yt)}},vt={unknown:()=>bt({current:void 0,version:He.unknown()}),nu:bt,windows:T(ut),ios:T("iOS"),android:T(ht),linux:T(pt),macos:T(mt),solaris:T(gt),freebsd:T(ft),chromeos:T(yt)},_t=(e,t,o)=>{const n=nt.browsers(),r=nt.oses(),a=t.bind((e=>((e,t)=>pe(t.brands,(t=>{const o=t.brand.toLowerCase();return ee(e,(e=>{var t;return o===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:He.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>Fe(e,t).map((e=>{const o=He.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(n,e))).fold(dt.unknown,dt.nu),s=((e,t)=>Fe(e,t).map((e=>{const o=He.detect(e.versionRegexes,t);return{current:e.name,version:o}})))(r,e).fold(vt.unknown,vt.nu),i=((e,t,o,n)=>{const r=e.isiOS()&&!0===/ipad/i.test(o),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||n("(pointer:coarse)"),l=r||!a&&s&&n("(min-device-width:768px)"),c=a||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),u=!c&&!l&&!d;return{isiPad:T(r),isiPhone:T(a),isTablet:T(l),isPhone:T(c),isTouch:T(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:T(d),isDesktop:T(u)}})(s,a,e,o);return{browser:a,os:s,deviceType:i}},wt=e=>window.matchMedia(e).matches;let kt=Le((()=>_t(navigator.userAgent,H.from(navigator.userAgentData),wt)));const xt=()=>kt(),St=navigator.userAgent,Ct=xt(),Et=Ct.browser,Dt=Ct.os,At=Ct.deviceType,Tt=-1!==St.indexOf("Windows Phone"),Ot={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Et.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Et.isIE(),windowsPhone:Tt,browser:{current:Et.current,version:Et.version,isChromium:Et.isChromium,isEdge:Et.isEdge,isFirefox:Et.isFirefox,isIE:Et.isIE,isOpera:Et.isOpera,isSafari:Et.isSafari},os:{current:Dt.current,version:Dt.version,isAndroid:Dt.isAndroid,isChromeOS:Dt.isChromeOS,isFreeBSD:Dt.isFreeBSD,isiOS:Dt.isiOS,isLinux:Dt.isLinux,isMacOS:Dt.isMacOS,isSolaris:Dt.isSolaris,isWindows:Dt.isWindows},deviceType:{isDesktop:At.isDesktop,isiPad:At.isiPad,isiPhone:At.isiPhone,isPhone:At.isPhone,isTablet:At.isTablet,isTouch:At.isTouch,isWebView:At.isWebView}},Mt=/^\s*|\s*$/g,zt=e=>w(e)?"":(""+e).replace(Mt,""),Rt=function(e,t,o,n){n=n||this,e&&(o&&(e=e[o]),Oe(e,((e,r)=>!1!==t.call(n,e,r,o)&&(Rt(e,t,o,n),!0))))},Nt={trim:zt,isArray:Te,is:(e,t)=>t?!("array"!==t||!Te(e))||typeof e===t:void 0!==e,toArray:e=>{if(Te(e))return e;{const t=[];for(let o=0,n=e.length;o<n;o++)t[o]=e[o];return t}},makeMap:(e,t,o={})=>{const n=m(e)?e.split(t||","):e||[];let r=n.length;for(;r--;)o[n[r]]={};return o},each:Oe,map:Me,grep:ze,inArray:(e,t)=>{if(e)for(let o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},hasOwn:Ce,extend:(e,...t)=>{for(let o=0;o<t.length;o++){const n=t[o];for(const t in n)if(Ce(n,t)){const o=n[t];void 0!==o&&(e[t]=o)}}return e},walk:Rt,resolve:(e,t=window)=>{const o=e.split(".");for(let e=0,n=o.length;e<n&&(t=t[o[e]]);e++);return t},explode:(e,t)=>y(e)?e:""===e?[]:Me(e.split(t||","),zt),_addCacheSuffix:e=>{const t=Ot.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},It=(e,t,o=M)=>e.exists((e=>o(e,t))),Lt=(e,t,o)=>e.isSome()&&t.isSome()?H.some(o(e.getOrDie(),t.getOrDie())):H.none(),Pt=(e,t)=>e?H.some(t):H.none(),Bt="undefined"!=typeof window?window:Function("return this;")(),Ht=(e,t)=>((e,t)=>{let o=null!=t?t:Bt;for(let t=0;t<e.length&&null!=o;++t)o=o[e[t]];return o})(e.split("."),t),Ft=(e,t)=>{const o=((e,t)=>Ht(e,t))(e,t);if(null==o)throw new Error(e+" not available on this browser");return o},Vt=Object.getPrototypeOf,jt=e=>{const t=Ht("ownerDocument.defaultView",e);return g(e)&&((e=>Ft("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Vt(e).constructor.name))},Ut=e=>e.dom.nodeName.toLowerCase(),Wt=e=>e.dom.nodeType,Zt=e=>t=>Wt(t)===e,$t=Zt(1),qt=Zt(3),Yt=Zt(9),Gt=Zt(11),Kt=e=>t=>$t(t)&&Ut(t)===e,Xt=(e,t,o)=>{if(!(m(o)||v(o)||S(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},Qt=(e,t,o)=>{Xt(e.dom,t,o)},Jt=(e,t)=>{const o=e.dom;fe(t,((e,t)=>{Xt(o,t,e)}))},eo=(e,t)=>{const o=e.dom.getAttribute(t);return null===o?void 0:o},to=(e,t)=>H.from(eo(e,t)),oo=(e,t)=>{const o=e.dom;return!(!o||!o.hasAttribute)&&o.hasAttribute(t)},no=(e,t)=>{e.dom.removeAttribute(t)},ro=e=>Q(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ao=(e,t)=>{const o=eo(e,t);return void 0===o||""===o?[]:o.split(" ")},so=e=>void 0!==e.dom.classList,io=e=>ao(e,"class"),lo=(e,t)=>((e,t,o)=>{const n=ao(e,t).concat([o]);return Qt(e,t,n.join(" ")),!0})(e,"class",t),co=(e,t)=>((e,t,o)=>{const n=K(ao(e,t),(e=>e!==o));return n.length>0?Qt(e,t,n.join(" ")):no(e,t),!1})(e,"class",t),uo=(e,t)=>{so(e)?e.dom.classList.add(t):lo(e,t)},ho=e=>{0===(so(e)?e.dom.classList:io(e)).length&&no(e,"class")},po=(e,t)=>{if(so(e)){e.dom.classList.remove(t)}else co(e,t);ho(e)},mo=(e,t)=>{const o=so(e)?e.dom.classList.toggle(t):((e,t)=>W(io(e),t)?co(e,t):lo(e,t))(e,t);return ho(e),o},go=(e,t)=>so(e)&&e.dom.classList.contains(t),fo=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},yo={fromHtml:(e,t)=>{const o=(t||document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return fo(o.childNodes[0])},fromTag:(e,t)=>{const o=(t||document).createElement(e);return fo(o)},fromText:(e,t)=>{const o=(t||document).createTextNode(e);return fo(o)},fromDom:fo,fromPoint:(e,t,o)=>H.from(e.dom.elementFromPoint(t,o)).map(fo)},bo=(e,t)=>{const o=[],n=e=>(o.push(e),t(e));let r=t(e);do{r=r.bind(n)}while(r.isSome());return o},vo=(e,t)=>{const o=e.dom;if(1!==o.nodeType)return!1;{const e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},_o=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,wo=(e,t)=>e.dom===t.dom,ko=(e,t)=>{const o=e.dom,n=t.dom;return o!==n&&o.contains(n)},xo=e=>yo.fromDom(e.dom.ownerDocument),So=e=>Yt(e)?e:xo(e),Co=e=>yo.fromDom(So(e).dom.defaultView),Eo=e=>H.from(e.dom.parentNode).map(yo.fromDom),Do=e=>H.from(e.dom.parentElement).map(yo.fromDom),Ao=(e,t)=>{const o=x(t)?t:P;let n=e.dom;const r=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=yo.fromDom(e);if(r.push(t),!0===o(t))break;n=e}return r},To=e=>H.from(e.dom.previousSibling).map(yo.fromDom),Oo=e=>H.from(e.dom.nextSibling).map(yo.fromDom),Mo=e=>ae(bo(e,To)),zo=e=>bo(e,Oo),Ro=e=>$(e.dom.childNodes,yo.fromDom),No=(e,t)=>{const o=e.dom.childNodes;return H.from(o[t]).map(yo.fromDom)},Io=e=>No(e,0),Lo=e=>No(e,e.dom.childNodes.length-1),Po=e=>e.dom.childNodes.length,Bo=e=>Gt(e)&&k(e.dom.host),Ho=x(Element.prototype.attachShadow)&&x(Node.prototype.getRootNode),Fo=T(Ho),Vo=Ho?e=>yo.fromDom(e.dom.getRootNode()):So,jo=e=>Bo(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return yo.fromDom(t)})(So(e)),Uo=e=>yo.fromDom(e.dom.host),Wo=e=>{if(Fo()&&k(e.target)){const t=yo.fromDom(e.target);if($t(t)&&Zo(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return de(t)}}return H.from(e.target)},Zo=e=>k(e.dom.shadowRoot),$o=e=>{const t=qt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const o=t.ownerDocument;return(e=>{const t=Vo(e);return Bo(t)?H.some(t):H.none()})(yo.fromDom(t)).fold((()=>o.body.contains(t)),A($o,Uo))};var qo=(e,t,o,n,r)=>e(o,n)?H.some(o):x(r)&&r(o)?H.none():t(o,n,r);const Yo=(e,t,o)=>{let n=e.dom;const r=x(o)?o:P;for(;n.parentNode;){n=n.parentNode;const e=yo.fromDom(n);if(t(e))return H.some(e);if(r(e))break}return H.none()},Go=(e,t,o)=>qo(((e,t)=>t(e)),Yo,e,t,o),Ko=(e,t)=>ee(e.dom.childNodes,(e=>t(yo.fromDom(e)))).map(yo.fromDom),Xo=(e,t,o)=>Yo(e,(e=>vo(e,t)),o),Qo=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return _o(o)?H.none():H.from(o.querySelector(e)).map(yo.fromDom)})(t,e),Jo=(e,t,o)=>qo(((e,t)=>vo(e,t)),Xo,e,t,o),en=(e,t=!1)=>{return $o(e)?e.dom.isContentEditable:(o=e,Jo(o,"[contenteditable]")).fold(T(t),(e=>"true"===tn(e)));var o},tn=e=>e.dom.contentEditable,on=e=>void 0!==e.style&&x(e.style.getPropertyValue),nn=(e,t,o)=>{if(!m(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);on(e)&&e.style.setProperty(t,o)},rn=(e,t,o)=>{const n=e.dom;nn(n,t,o)},an=(e,t)=>{const o=e.dom;fe(t,((e,t)=>{nn(o,t,e)}))},sn=(e,t)=>{const o=e.dom,n=window.getComputedStyle(o).getPropertyValue(t);return""!==n||$o(e)?n:ln(o,t)},ln=(e,t)=>on(e)?e.style.getPropertyValue(t):"",cn=(e,t)=>{const o=e.dom,n=ln(o,t);return H.from(n).filter((e=>e.length>0))},dn=e=>{const t={},o=e.dom;if(on(o))for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}return t},un=(e,t)=>{((e,t)=>{on(e)&&e.style.removeProperty(t)})(e.dom,t),It(to(e,"style").map(qe),"")&&no(e,"style")},hn=(e,t)=>{Eo(e).each((o=>{o.dom.insertBefore(t.dom,e.dom)}))},pn=(e,t)=>{Oo(e).fold((()=>{Eo(e).each((e=>{gn(e,t)}))}),(e=>{hn(e,t)}))},mn=(e,t)=>{Io(e).fold((()=>{gn(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))},gn=(e,t)=>{e.dom.appendChild(t.dom)},fn=(e,t)=>{hn(e,t),gn(t,e)},yn=(e,t)=>{q(t,(t=>{gn(e,t)}))},bn=e=>{e.dom.textContent="",q(Ro(e),(e=>{vn(e)}))},vn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},_n=e=>{const t=Ro(e);var o,n;t.length>0&&(o=e,q(n=t,((e,t)=>{const r=0===t?o:n[t-1];pn(r,e)}))),vn(e)},wn=e=>$(e,yo.fromDom),kn=e=>e.dom.innerHTML,xn=(e,t)=>{const o=xo(e).dom,n=yo.fromDom(o.createDocumentFragment()),r=((e,t)=>{const o=(t||document).createElement("div");return o.innerHTML=e,Ro(yo.fromDom(o))})(t,o);yn(n,r),bn(e),gn(e,n)},Sn=(e,t)=>o=>{e(o)&&t((e=>{const t=yo.fromDom(Wo(e).getOr(e.target)),o=()=>e.stopPropagation(),n=()=>e.preventDefault(),r=D(n,o);return((e,t,o,n,r,a,s)=>({target:e,x:t,y:o,stop:n,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,o,n,r,e)})(o))},Cn=(e,t,o,n)=>((e,t,o,n,r)=>{const a=Sn(o,n);return e.dom.addEventListener(t,a,r),{unbind:z(En,e,t,a,r)}})(e,t,o,n,!1),En=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)},Dn=(e,t)=>({left:e,top:t,translate:(o,n)=>Dn(e+o,t+n)}),An=Dn,Tn=(e,t)=>void 0!==e?e:void 0!==t?t:0,On=e=>{const t=e.dom,o=t.ownerDocument.body;return o===t?An(o.offsetLeft,o.offsetTop):$o(e)?(e=>{const t=e.getBoundingClientRect();return An(t.left,t.top)})(t):An(0,0)},Mn=e=>{const t=void 0!==e?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return An(o,n)},zn=(e,t,o)=>{const n=(void 0!==o?o.dom:document).defaultView;n&&n.scrollTo(e,t)},Rn=(e,t)=>{xt().browser.isSafari()&&x(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Nn=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),In=e=>{const t=void 0===e?window:e,o=t.document,n=Mn(yo.fromDom(o));return(e=>{const t=void 0===e?window:e;return xt().browser.isFirefox()?H.none():H.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,o=e.clientWidth,r=e.clientHeight;return Nn(n.left,n.top,o,r)}),(e=>Nn(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))},Ln=(e,t)=>{let o=[];return q(Ro(e),(e=>{t(e)&&(o=o.concat([e])),o=o.concat(Ln(e,t))})),o},Pn=(e,t)=>((e,t)=>{const o=void 0===t?document:t.dom;return _o(o)?[]:$(o.querySelectorAll(e),yo.fromDom)})(t,e),Bn=(e,t,o)=>Xo(e,t,o).isSome();class Hn{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,o,n){if(e){if(!n&&e[t])return e[t];if(e!==this.rootNode){let t=e[o];if(t)return t;for(let n=e.parentNode;n&&n!==this.rootNode;n=n.parentNode)if(t=n[o],t)return t}}}findPreviousNode(e,t){if(e){const o=e.previousSibling;if(this.rootNode&&o===this.rootNode)return;if(o){if(!t)for(let e=o.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return o}const n=e.parentNode;if(n&&n!==this.rootNode)return n}}}const Fn=e=>t=>!!t&&t.nodeType===e,Vn=e=>!!e&&!Object.getPrototypeOf(e),jn=Fn(1),Un=e=>{const t=e.toLowerCase();return e=>k(e)&&e.nodeName.toLowerCase()===t},Wn=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const o=e.nodeName.toLowerCase();return W(t,o)}return!1}},Zn=(e,t)=>{const o=t.toLowerCase().split(" ");return t=>{if(jn(t)){const n=t.ownerDocument.defaultView;if(n)for(let r=0;r<o.length;r++){const a=n.getComputedStyle(t,null);if((a?a.getPropertyValue(e):null)===o[r])return!0}}return!1}},$n=e=>t=>jn(t)&&t.hasAttribute(e),qn=e=>jn(e)&&e.hasAttribute("data-mce-bogus"),Yn=e=>jn(e)&&"TABLE"===e.tagName,Gn=e=>t=>{if(jn(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Kn=Wn(["textarea","input"]),Xn=Fn(3),Qn=Fn(4),Jn=Fn(7),er=Fn(8),tr=Fn(9),or=Fn(11),nr=Un("br"),rr=Un("img"),ar=Gn("true"),sr=Gn("false"),ir=Wn(["td","th"]),lr=Wn(["td","th","caption"]),cr=Wn(["video","audio","object","embed"]),dr=Un("li"),ur="\ufeff",hr=" ",pr=e=>e===ur,mr=((e,t)=>{const o=t=>e(t)?H.from(t.dom.nodeValue):H.none();return{get:n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},getOption:o,set:(o,n)=>{if(!e(o))throw new Error("Can only set raw "+t+" value of a "+t+" node");o.dom.nodeValue=n}}})(qt,"text"),gr=e=>mr.get(e),fr=e=>mr.getOption(e),yr=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),br=e=>{let t;return o=>(t=t||ie(e,B),Ce(t,Ut(o)))},vr=br(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),_r=e=>$t(e)&&!vr(e),wr=e=>$t(e)&&"br"===Ut(e),kr=br(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),xr=br(["ul","ol","dl"]),Sr=br(["li","dd","dt"]),Cr=br(["thead","tbody","tfoot"]),Er=br(["td","th"]),Dr=br(["pre","script","textarea","style"]),Ar=br(yr),Tr=e=>Ar(e)||_r(e),Or=e=>{const t=Pn(e,"br"),o=K((e=>{const t=[];let o=e.dom;for(;o;)t.push(yo.fromDom(o)),o=o.lastChild;return t})(e).slice(-1),wr);t.length===o.length&&q(o,vn)},Mr=()=>{const e=yo.fromTag("br");return Qt(e,"data-mce-bogus","1"),e},zr=e=>{bn(e),gn(e,Mr())},Rr=e=>{Lo(e).each((t=>{To(t).each((o=>{vr(e)&&wr(t)&&vr(o)&&vn(t)}))}))},Nr=ur,Ir=pr,Lr=e=>e.replace(/\uFEFF/g,""),Pr=jn,Br=Xn,Hr=e=>(Br(e)&&(e=e.parentNode),Pr(e)&&e.hasAttribute("data-mce-caret")),Fr=e=>Br(e)&&Ir(e.data),Vr=e=>Hr(e)||Fr(e),jr=e=>e.firstChild!==e.lastChild||!nr(e.firstChild),Ur=e=>{const t=e.container();return!!Xn(t)&&(t.data.charAt(e.offset())===Nr||e.isAtStart()&&Fr(t.previousSibling))},Wr=e=>{const t=e.container();return!!Xn(t)&&(t.data.charAt(e.offset()-1)===Nr||e.isAtEnd()&&Fr(t.nextSibling))},Zr=e=>Br(e)&&e.data[0]===Nr,$r=e=>Br(e)&&e.data[e.data.length-1]===Nr,qr=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const o=e.getElementsByTagName("br"),n=o[o.length-1];qn(n)&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Yr=e=>Hr(e.startContainer),Gr=ar,Kr=sr,Xr=nr,Qr=Xn,Jr=Wn(["script","style","textarea"]),ea=Wn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ta=Wn(["table"]),oa=Vr,na=e=>!oa(e)&&(Qr(e)?!Jr(e.parentNode):ea(e)||Xr(e)||ta(e)||ra(e)),ra=e=>!(e=>jn(e)&&"true"===e.getAttribute("unselectable"))(e)&&Kr(e),aa=(e,t)=>na(e)&&((e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(ra(o))return!1;if(Gr(o))return!0}return!0})(e,t),sa=/^[ \t\r\n]*$/,ia=e=>sa.test(e),la=e=>"\n"===e||"\r"===e,ca=(e,t=4,o=!0,n=!0)=>{const r=((e,t)=>t<=0?"":new Array(t+1).join(e))(" ",t),a=e.replace(/\t/g,r),s=Q(a,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===hr?e.pcIsSpace||""===e.str&&o||e.str.length===a.length-1&&n||((e,t)=>t<e.length&&t>=0&&la(e[t]))(a,e.str.length+1)?{pcIsSpace:!1,str:e.str+hr}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:la(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},da=(e,t)=>Xn(e)&&ia(e.data)&&!((e,t)=>{const o=yo.fromDom(t),n=yo.fromDom(e);return Bn(n,"pre,code",z(wo,o))})(e,t),ua=(e,t)=>na(e)&&!da(e,t)||(e=>jn(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||ha(e),ha=$n("data-mce-bookmark"),pa=$n("data-mce-bogus"),ma=(ga="data-mce-bogus",fa="all",e=>jn(e)&&e.getAttribute(ga)===fa);var ga,fa;const ya=(e,t=!0)=>((e,t)=>{let o=0;if(ua(e,e))return!1;{let n=e.firstChild;if(!n)return!0;const r=new Hn(n,e);do{if(t){if(ma(n)){n=r.next(!0);continue}if(pa(n)){n=r.next();continue}}if(nr(n))o++,n=r.next();else{if(ua(n,e))return!1;n=r.next()}}while(n);return o<=1}})(e.dom,t),ba="data-mce-block",va=e=>(e=>K(me(e),(e=>!/[A-Z]/.test(e))))(e).join(","),_a=(e,t)=>k(t.querySelector(e))?(t.setAttribute(ba,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ba),!1),wa=(e,t)=>{const o=va(e.getTransparentElements()),n=va(e.getBlockElements());return K(t.querySelectorAll(o),(e=>_a(n,e)))},ka=(e,t)=>{var o;const n=t?"lastChild":"firstChild";for(let t=e[n];t;t=t[n])if(ya(yo.fromDom(t)))return void(null===(o=t.parentNode)||void 0===o||o.removeChild(t))},xa=(e,t,o)=>{const n=e.getBlockElements(),r=yo.fromDom(t),a=e=>Ut(e)in n,s=e=>wo(e,r);q(wn(o),(t=>{Yo(t,a,s).each((o=>{const n=((e,t)=>K(Ro(e),t))(t,(t=>a(t)&&!e.isValidChild(Ut(o),Ut(t))));if(n.length>0){const t=Do(o);q(n,(e=>{Yo(e,a,s).each((t=>{((e,t)=>{const o=document.createRange(),n=e.parentNode;if(n){o.setStartBefore(e),o.setEndBefore(t);const r=o.extractContents();ka(r,!0),o.setStartAfter(t),o.setEndAfter(e);const a=o.extractContents();ka(a,!1),ya(yo.fromDom(r))||n.insertBefore(r,e),ya(yo.fromDom(t))||n.insertBefore(t,e),ya(yo.fromDom(a))||n.insertBefore(a,e),n.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>wa(e,t.dom)))}}))}))},Sa=(e,t)=>{const o=wa(e,t);xa(e,t,o),((e,t,o)=>{q([...o,...Ta(e,t)?[t]:[]],(t=>q(Pn(yo.fromDom(t),t.nodeName.toLowerCase()),(t=>{Oa(e,t.dom)&&_n(t)}))))})(e,t,o)},Ca=(e,t)=>{if(Aa(e,t)){const o=va(e.getBlockElements());_a(o,t)}},Ea=e=>e.hasAttribute(ba),Da=(e,t)=>Ce(e.getTransparentElements(),t),Aa=(e,t)=>jn(t)&&Da(e,t.nodeName),Ta=(e,t)=>Aa(e,t)&&Ea(t),Oa=(e,t)=>Aa(e,t)&&!Ea(t),Ma=(e,t)=>1===t.type&&Da(e,t.name)&&_(t.attr(ba)),za=xt().browser,Ra=e=>ee(e,$t),Na=(e,t)=>e.children&&W(e.children,t),Ia=(e,t,o)=>{let n=0,r=0;const a=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&"static"===sn(yo.fromDom(e),"position")){const o=t.getBoundingClientRect();return n=o.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,r=o.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop,{x:n,y:r}}let s=t;for(;s&&s!==o&&s.nodeType&&!Na(s,o);){const e=s;n+=e.offsetLeft||0,r+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==o&&s.nodeType&&!Na(s,o);)n-=s.scrollLeft||0,r-=s.scrollTop||0,s=s.parentNode;r+=(e=>za.isFirefox()&&"table"===Ut(e)?Ra(Ro(e)).filter((e=>"caption"===Ut(e))).bind((e=>Ra(zo(e)).map((t=>{const o=t.dom.offsetTop,n=e.dom.offsetTop,r=e.dom.offsetHeight;return o<=n?-r:0})))).getOr(0):0)(yo.fromDom(t))}return{x:n,y:r}},La=(e,t={})=>{let o=0;const n={},r=yo.fromDom(e),a=So(r),s=e=>new Promise(((s,i)=>{let l;const c=Nt._addCacheSuffix(e),d=(e=>Se(n,e).getOrThunk((()=>({id:"mce-u"+o++,passed:[],failed:[],count:0}))))(c);n[c]=d,d.count++;const u=(e,t)=>{q(e,L),d.status=t,d.passed=[],d.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=()=>u(d.passed,2),p=()=>u(d.failed,3);if(s&&d.passed.push(s),i&&d.failed.push(i),1===d.status)return;if(2===d.status)return void h();if(3===d.status)return void p();d.status=1;const m=yo.fromTag("link",a.dom);var g;Jt(m,{rel:"stylesheet",type:"text/css",id:d.id}),t.contentCssCors&&Qt(m,"crossOrigin","anonymous"),t.referrerPolicy&&Qt(m,"referrerpolicy",t.referrerPolicy),l=m.dom,l.onload=h,l.onerror=p,g=m,gn(jo(r),g),Qt(m,"href",c)})),i=e=>{const t=Nt._addCacheSuffix(e);Se(n,t).each((e=>{0===--e.count&&(delete n[t],(e=>{const t=jo(r);Qo(t,"#"+e).each(vn)})(e.id))}))};return{load:s,loadAll:e=>Promise.allSettled($(e,(e=>s(e).then(T(e))))).then((e=>{const t=G(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject($(t.fail,(e=>e.reason))):$(t.pass,(e=>e.value))})),unload:i,unloadAll:e=>{q(e,(e=>{i(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Pa=(()=>{const e=new WeakMap;return{forElement:(t,o)=>{const n=Vo(t).dom;return H.from(e.get(n)).getOrThunk((()=>{const t=La(n,o);return e.set(n,t),t}))}}})(),Ba=(e,t)=>k(e)&&(ua(e,t)||_r(yo.fromDom(e))),Ha=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Fa=(e,t)=>Xn(e)&&e.data.length>0&&((e,t)=>{const o=new Hn(e,t).prev(!1),n=new Hn(e,t).next(!1),r=_(o)||Ba(o,t),a=_(n)||Ba(n,t);return r&&a})(e,t),Va=(e,t,o)=>{var n;const r=o||t;if(jn(t)&&Ha(t))return t;const a=t.childNodes;for(let t=a.length-1;t>=0;t--)Va(e,a[t],r);if(jn(t)){const e=t.childNodes;1===e.length&&Ha(e[0])&&(null===(n=t.parentNode)||void 0===n||n.insertBefore(e[0],t))}return(e=>or(e)||tr(e))(t)||ua(t,r)||(e=>!!jn(e)&&e.childNodes.length>0)(t)||Fa(t,r)||e.remove(t),t},ja=Nt.makeMap,Ua=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wa=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Za=/[<>&\"\']/g,$a=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,qa={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ya={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ga={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ka=(e,t)=>{const o={};if(e){const n=e.split(",");t=t||10;for(let e=0;e<n.length;e+=2){const r=String.fromCharCode(parseInt(n[e],t));if(!Ya[r]){const t="&"+n[e+1]+";";o[r]=t,o[t]=r}}return o}},Xa=Ka("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Qa=(e,t)=>e.replace(t?Ua:Wa,(e=>Ya[e]||e)),Ja=(e,t)=>e.replace(t?Ua:Wa,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ya[e]||"&#"+e.charCodeAt(0)+";")),es=(e,t,o)=>{const n=o||Xa;return e.replace(t?Ua:Wa,(e=>Ya[e]||n[e]||e))},ts={encodeRaw:Qa,encodeAllRaw:e=>(""+e).replace(Za,(e=>Ya[e]||e)),encodeNumeric:Ja,encodeNamed:es,getEncodeFunc:(e,t)=>{const o=Ka(t)||Xa,n=(e,t)=>e.replace(t?Ua:Wa,(e=>void 0!==Ya[e]?Ya[e]:void 0!==o[e]?o[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")),r=(e,t)=>es(e,t,o),a=ja(e.replace(/\+/g,","));return a.named&&a.numeric?n:a.named?t?r:es:a.numeric?Ja:Qa},decode:e=>e.replace($a,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):qa[t]||String.fromCharCode(t):Ga[e]||Xa[e]||(e=>{const t=yo.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},os={},ns={},rs={},as=Nt.makeMap,ss=Nt.each,is=Nt.extend,ls=Nt.explode,cs=Nt.inArray,ds=(e,t)=>(e=Nt.trim(e))?e.split(t||" "):[],us=(e,t={})=>{const o=as(e," ",as(e.toUpperCase()," "));return is(o,t)},hs=e=>us("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),ps=(e,t)=>{if(e){const o={};return m(e)&&(e={"*":e}),ss(e,((e,n)=>{o[n]=o[n.toUpperCase()]="map"===t?as(e,/[, ]/):ls(e,/[, ]/)})),o}},ms=(e={})=>{var t;const o={},n={};let r=[];const a={},s={},i=(t,o,n)=>{const r=e[t];if(r)return as(r,/[, ]/,as(r.toUpperCase(),/[, ]/));{let e=ns[t];return e||(e=us(o,n),ns[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t={};let o,n,r,a;const s=(e,n="",r="")=>{const a=ds(r),s=ds(e);let i=s.length;for(;i--;){const e=ds([o,n].join(" "));t[s[i]]={attributes:ie(e,(()=>({}))),attributesOrder:e,children:ie(a,T(rs))}}},i=(e,o)=>{const n=ds(e),r=ds(o);let a=n.length;for(;a--;){const e=t[n[a]];for(let t=0,o=r.length;t<o;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};if(os[e])return os[e];o="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen");if("html5-strict"!==e){o+=" xml:lang";const e="acronym applet basefont big font strike tt";r=[r,e].join(" "),ss(ds(e),(e=>{s(e,"",r)}));const t="center dir isindex noframes";n=[n,t].join(" "),a=[n,r].join(" "),ss(ds(t),(e=>{s(e,"",a)}))}return a=a||[n,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),s("address dt dd div caption","",a),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",a),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",a),s("dl","","dt dd"),s("a","href target rel media hreflang type",a),s("q","cite",r),s("ins del","cite datetime",a),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",a),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),s("param","name value"),s("map","name",[a,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",a),s("th","colspan rowspan headers scope abbr",a),s("form","accept-charset action autocomplete enctype method name novalidate target",a),s("fieldset","disabled form name",[a,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?a:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[a,"li"].join(" ")),s("noscript","",a),"html4"!==e&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",a),s("mark rt rp summary bdi","",r),s("canvas","width height",a),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",a),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[a,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",a),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[a,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!==e&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("img","loading"),i("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&q([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),ss(ds("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,os[e]=t,t})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const d=ps(e.valid_styles),u=ps(e.invalid_styles,"map"),h=ps(e.valid_classes,"map"),p=i("whitespace_elements","pre script noscript style textarea video audio iframe object code"),m=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=i("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),f=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),y="td th iframe video audio object script code",b=i("non_empty_elements",y+" pre",g),v=i("move_caret_before_on_enter_elements",y+" table",g),_=i("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),w=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",_),k=i("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),x=i("transparent_elements","a ins del canvas map");ss("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const S=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),C=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,a=/[*?+]/;if(e){const s=ds(e,",");let i,l;o["@"]&&(i=o["@"].attributes,l=o["@"].attributesOrder);for(let e=0,c=s.length;e<c;e++){let c=t.exec(s[e]);if(c){const e=c[1],t=c[2],s=c[3],d=c[5],u={},h=[],p={attributes:u,attributesOrder:h};if("#"===e&&(p.paddEmpty=!0),"-"===e&&(p.removeEmpty=!0),"!"===c[4]&&(p.removeEmptyAttrs=!0),i&&(fe(i,((e,t)=>{u[t]=e})),l&&h.push(...l)),d){const e=ds(d,"|");for(let t=0,o=e.length;t<o;t++)if(c=n.exec(e[t]),c){const e={},t=c[1],o=c[2].replace(/[\\:]:/g,":"),n=c[3],r=c[4];if("!"===t&&(p.attributesRequired=p.attributesRequired||[],p.attributesRequired.push(o),e.required=!0),"-"===t){delete u[o],h.splice(cs(h,o),1);continue}if(n&&("="===n&&(p.attributesDefault=p.attributesDefault||[],p.attributesDefault.push({name:o,value:r}),e.defaultValue=r),"~"===n&&(p.attributesForced=p.attributesForced||[],p.attributesForced.push({name:o,value:r}),e.forcedValue=r),"<"===n&&(e.validValues=as(r,"?"))),a.test(o)){const t=e;p.attributePatterns=p.attributePatterns||[],t.pattern=S(o),p.attributePatterns.push(t)}else u[o]||h.push(o),u[o]=e}}if(i||"@"!==t||(i=u,l=h),s&&(p.outputName=t,o[s]=p),a.test(t)){const e=p;e.pattern=S(t),r.push(e)}else o[t]=p}}}},E=e=>{r=[],q(me(o),(e=>{delete o[e]})),C(e),ss(c,((e,t)=>{n[t]=e.children}))},D=e=>{const t=/^(~)?(.+)$/;e&&(delete ns.text_block_elements,delete ns.block_elements,ss(ds(e,","),(e=>{const r=t.exec(e);if(r){const e="~"===r[1],t=e?"span":"div",s=r[2];if(n[s]=n[t],a[s]=t,b[s.toUpperCase()]={},b[s]={},e||(w[s.toUpperCase()]={},w[s]={}),!o[s]){let e=o[t];e=is({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,o[s]=e}ss(n,((e,o)=>{e[t]&&(n[o]=e=is({},n[o]),e[s]=e[t])}))}})))},A=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete os[l],e&&ss(ds(e,","),(e=>{const o=t.exec(e);if(o){const e=o[1];let t;t=e?n[o[2]]:n[o[2]]={"#comment":{}},t=n[o[2]],ss(ds(o[3],"|"),(o=>{"-"===e?delete t[o]:t[o]={}}))}}))},O=e=>{const t=o[e];if(t)return t;let n=r.length;for(;n--;){const t=r[n];if(t.pattern.test(e))return t}};e.valid_elements?E(e.valid_elements):(ss(c,((e,t)=>{o[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[t]=e.children})),ss(ds("strong/b em/i"),(e=>{const t=ds(e,"/");o[t[1]].outputName=t[0]})),ss(k,((t,n)=>{o[n]&&(e.padd_empty_block_inline_children&&(o[n].paddInEmptyBlock=!0),o[n].removeEmpty=!0)})),ss(ds("ol ul blockquote a table tbody"),(e=>{o[e]&&(o[e].removeEmpty=!0)})),ss(ds("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{o[e].paddEmpty=!0})),ss(ds("span"),(e=>{o[e].removeEmptyAttrs=!0}))),D(e.custom_elements),A(e.valid_children),C(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),ss({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{o[t]&&(o[t].parentsRequired=ds(e))})),e.invalid_elements&&ss(ls(e.invalid_elements),(e=>{o[e]&&delete o[e]})),O("span")||C("span[!data-mce-type|*]");const M=T(d),z=T(u),R=T(h),N=T(f),I=T(w),L=T(_),P=T(k),B=T(Object.seal(g)),H=T(m),F=T(b),V=T(v),j=T(p),U=T(x),W=T(Object.seal(s)),Z=T(a);return{type:l,children:n,elements:o,getValidStyles:M,getValidClasses:R,getBlockElements:I,getInvalidStyles:z,getVoidElements:B,getTextBlockElements:L,getTextInlineElements:P,getBoolAttrs:N,getElementRule:O,getSelfClosingElements:H,getNonEmptyElements:F,getMoveCaretBeforeOnEnterElements:V,getWhitespaceElements:j,getTransparentElements:U,getSpecialElements:W,isValidChild:(e,t)=>{const o=n[e.toLowerCase()];return!(!o||!o[t.toLowerCase()])},isValid:(e,t)=>{const o=O(e);if(o){if(!t)return!0;{if(o.attributes[t])return!0;const e=o.attributePatterns;if(e){let o=e.length;for(;o--;)if(e[o].pattern.test(t))return!0}}}return!1},getCustomElements:Z,addValidElements:C,setValidElements:E,addCustomElements:D,addValidChildren:A}},gs=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,n=/\s*([^:]+):\s*([^;]+);?/g,r=/\s+$/,a={};let s,i;const l=ur;t&&(s=t.getValidStyles(),i=t.getInvalidStyles());const c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<c.length;e++)a[c[e]]=l+e,a[l+e]=c[e];const d={parse:t=>{const s={};let i=!1;const c=e.url_converter,u=e.url_converter_scope||d,h=(e,t,o)=>{const n=s[e+"-top"+t];if(!n)return;const r=s[e+"-right"+t];if(!r)return;const a=s[e+"-bottom"+t];if(!a)return;const i=s[e+"-left"+t];if(!i)return;const l=[n,r,a,i];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&o||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},p=e=>{const t=s[e];if(!t)return;const o=t.split(" ");let n=o.length;for(;n--;)if(o[n]!==o[0])return!1;return s[e]=o[0],!0},m=e=>(i=!0,a[e]),g=(e,t)=>(i&&(e=e.replace(/\uFEFF[0-9]/g,(e=>a[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),f=e=>String.fromCharCode(parseInt(e.slice(1),16)),y=e=>e.replace(/\\[0-9a-f]+/gi,f),b=(t,o,n,r,a,s)=>{if(a=a||s)return"'"+(a=g(a)).replace(/\'/g,"\\'")+"'";if(o=g(o||n||r||""),!e.allow_script_urls){const t=o.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return c&&(o=c.call(u,o,"style")),"url('"+o.replace(/\'/g,"\\'")+"')"};if(t){let a;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,m)));a=n.exec(t);){n.lastIndex=a.index+a[0].length;let t=a[1].replace(r,"").toLowerCase(),c=a[2].replace(r,"");if(t&&c){if(t=y(t),c=y(c),-1!==t.indexOf(l)||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===t&&"700"===c?c="bold":"color"!==t&&"background-color"!==t||(c=c.toLowerCase()),c=c.replace(o,b),s[t]=i?g(c,!0):c}}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),v="border",w="border-style",k="border-color",p(_="border-width")&&p(w)&&p(k)&&(s[v]=s[_]+" "+s[w]+" "+s[k],delete s[_],delete s[w],delete s[k]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var v,_,w,k;return s},serialize:(e,t)=>{let o="";const n=(t,n)=>{const r=n[t];if(r)for(let t=0,n=r.length;t<n;t++){const n=r[t],a=e[n];a&&(o+=(o.length>0?" ":"")+n+": "+a+";")}};return t&&s?(n("*",s),n(t,s)):fe(e,((e,n)=>{e&&((e,t)=>{if(!i||!t)return!0;let o=i["*"];return!(o&&o[e]||(o=i[t],o&&o[e]))})(n,t)&&(o+=(o.length>0?" ":"")+n+": "+e+";")})),o}};return d},fs={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ys=e=>w(e.preventDefault)||(e=>e instanceof Event||x(e.initEvent))(e),bs=(e,t)=>{const o=null!=t?t:{};for(const t in e)Ce(fs,t)||(o[t]=e[t]);return k(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},vs=(e,t,o,n)=>{var r;const a=bs(t,n);return a.type=e,w(a.target)&&(a.target=null!==(r=a.srcElement)&&void 0!==r?r:o),ys(t)&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=B,x(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=B,x(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=B,a.stopPropagation()},(e=>e.isDefaultPrevented===B||e.isDefaultPrevented===P)(a)||(a.isDefaultPrevented=!0===a.defaultPrevented?B:P,a.isPropagationStopped=!0===a.cancelBubble?B:P,a.isImmediatePropagationStopped=P)),a},_s=/^(?:mouse|contextmenu)|click/,ws=(e,t,o,n)=>{e.addEventListener(t,o,n||!1)},ks=(e,t,o,n)=>{e.removeEventListener(t,o,n||!1)},xs=(e,t)=>{const o=vs(e.type,e,document,t);if((e=>k(e)&&_s.test(e.type))(e)&&_(e.pageX)&&!_(e.clientX)){const t=o.target.ownerDocument||document,n=t.documentElement,r=t.body,a=o;a.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),a.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)}return o},Ss=(e,t,o)=>{const n=e.document,r={type:"ready"};if(o.domLoaded)return void t(r);const a=()=>{ks(e,"DOMContentLoaded",a),ks(e,"load",a),o.domLoaded||(o.domLoaded=!0,t(r)),e=null};"complete"===n.readyState||"interactive"===n.readyState&&n.body?a():ws(e,"DOMContentLoaded",a),o.domLoaded||ws(e,"load",a)};class Cs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,o,n){const r=this;let a;const s=window,i=e=>{r.executeHandlers(xs(e||s.event),l)};if(!e||Xn(e)||er(e))return o;let l;e[r.expando]?l=e[r.expando]:(l=r.count++,e[r.expando]=l,r.events[l]={}),n=n||e;const c=t.split(" ");let d=c.length;for(;d--;){let t=c[d],u=i,h=!1,p=!1;"DOMContentLoaded"===t&&(t="ready"),r.domLoaded&&"ready"===t&&"complete"===e.readyState?o.call(n,xs({type:t})):(r.hasFocusIn||"focusin"!==t&&"focusout"!==t||(h=!0,p="focusin"===t?"focus":"blur",u=e=>{const t=xs(e||s.event);t.type="focus"===t.type?"focusin":"focusout",r.executeHandlers(t,l)}),a=r.events[l][t],a?"ready"===t&&r.domLoaded?o(xs({type:t})):a.push({func:o,scope:n}):(r.events[l][t]=a=[{func:o,scope:n}],a.fakeName=p,a.capture=h,a.nativeHandler=u,"ready"===t?Ss(e,u,r):ws(e,p||t,u,h)))}return e=a=null,o}unbind(e,t,o){if(!e||Xn(e)||er(e))return this;const n=e[this.expando];if(n){let r=this.events[n];if(t){const n=t.split(" ");let a=n.length;for(;a--;){const t=n[a],s=r[t];if(s){if(o){let e=s.length;for(;e--;)if(s[e].func===o){const o=s.nativeHandler,n=s.fakeName,a=s.capture,i=s.slice(0,e).concat(s.slice(e+1));i.nativeHandler=o,i.fakeName=n,i.capture=a,r[t]=i}}o&&0!==s.length||(delete r[t],ks(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else fe(r,((t,o)=>{ks(e,t.fakeName||o,t.nativeHandler,t.capture)})),r={};for(const e in r)if(Ce(r,e))return this;delete this.events[n];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,o){return this.dispatch(e,t,o)}dispatch(e,t,o){if(!e||Xn(e)||er(e))return this;const n=xs({type:t,target:e},o);do{const t=e[this.expando];t&&this.executeHandlers(n,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return this}clean(e){if(!e||Xn(e)||er(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let o=t.length;for(;o--;)(e=t[o])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const o=this.events[t],n=o&&o[e.type];if(n)for(let t=0,o=n.length;t<o;t++){const o=n[t];if(o&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Cs.Event=new Cs;const Es=Nt.each,Ds=Nt.grep,As="data-mce-style",Ts=Nt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Os=(e,t,o)=>{w(o)||""===o?no(e,t):Qt(e,t,o)},Ms=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),zs=(e,t)=>{let o=0;if(e)for(let n=e.nodeType,r=e.previousSibling;r;r=r.previousSibling){const e=r.nodeType;(!t||!Xn(r)||e!==n&&r.data.length)&&(o++,n=e)}return o},Rs=(e,t)=>{const o=eo(t,"style"),n=e.serialize(e.parse(o),Ut(t));Os(t,As,n)},Ns=(e,t,o)=>{const n=Ms(t);w(o)||""===o?un(e,n):rn(e,n,((e,t)=>S(e)?Ce(Ts,t)?e+"":e+"px":e)(o,n))},Is=(e,t={})=>{const o={},n=window,r={};let a=0;const s=Pa.forElement(yo.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),i=[],l=t.schema?t.schema:ms({}),c=gs({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new Cs:Cs.Event,u=l.getBlockElements(),h=t=>t&&e&&m(t)?e.getElementById(t):t,p=e=>{const t=h(e);return k(t)?yo.fromDom(t):null},g=(e,t,o="")=>{let n;const r=p(e);if(k(r)&&$t(r)){const e=Y[t];n=e&&e.get?e.get(r.dom,t):eo(r,t)}return k(n)?n:o},f=e=>{const t=h(e);return w(t)?[]:t.attributes},b=(e,o,n)=>{M(e,(e=>{if(jn(e)){const r=yo.fromDom(e),a=""===n?null:n,s=eo(r,o),i=Y[o];i&&i.set?i.set(r.dom,a,o):Os(r,o,a),s!==a&&t.onSetAttrib&&t.onSetAttrib({attrElm:r.dom,attrName:o,attrValue:a})}}))},v=()=>t.root_element||e.body,_=(t,o)=>Ia(e.body,h(t),o),S=(e,t,o)=>{const n=h(e);if(!w(n)&&jn(n))return o?sn(yo.fromDom(n),Ms(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),n.style?n.style[t]:void 0)},C=e=>{const t=h(e);if(!t)return{w:0,h:0};let o=S(t,"width"),n=S(t,"height");return o&&-1!==o.indexOf("px")||(o="0"),n&&-1!==n.indexOf("px")||(n="0"),{w:parseInt(o,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},D=(e,t)=>{if(!e)return!1;const o=y(e)?e:[e];return Z(o,(e=>vo(yo.fromDom(e),t)))},A=(e,t,o,n)=>{const r=[];let a=h(e);n=void 0===n;const s=o||("BODY"!==v().nodeName?v().parentNode:null);if(m(t))if("*"===t)t=jn;else{const e=t;t=t=>D(t,e)}for(;a&&!(a===s||w(a.nodeType)||tr(a)||or(a));){if(!t||t(a)){if(!n)return[a];r.push(a)}a=a.parentNode}return n?r:null},O=(e,t,o)=>{let n=t;if(e){m(t)&&(n=e=>D(e,t));for(let t=e[o];t;t=t[o])if(x(n)&&n(t))return t}return null},M=function(e,t,o){const n=null!=o?o:this;if(y(e)){const o=[];return Es(e,((e,r)=>{const a=h(e);a&&o.push(t.call(n,a,r))})),o}{const o=h(e);return!!o&&t.call(n,o)}},z=(e,t)=>{M(e,(e=>{fe(t,((t,o)=>{b(e,o,t)}))}))},R=(e,t)=>{M(e,(e=>{const o=yo.fromDom(e);xn(o,t)}))},N=(t,o,n,r,a)=>M(t,(t=>{const s=m(o)?e.createElement(o):o;return k(n)&&z(s,n),r&&(!m(r)&&r.nodeType?s.appendChild(r):m(r)&&R(s,r)),a?s:t.appendChild(s)})),I=(t,o,n)=>N(e.createElement(t),t,o,n,!0),L=ts.encodeAllRaw,P=(e,t)=>M(e,(e=>{const o=yo.fromDom(e);return t&&q(Ro(o),(e=>{qt(e)&&0===e.dom.length?vn(e):hn(o,e)})),vn(o),o.dom})),B=(e,t,o)=>{M(e,(e=>{if(jn(e)){const n=yo.fromDom(e),r=t.split(" ");q(r,(e=>{if(k(o)){(o?uo:po)(n,e)}else mo(n,e)}))}}))},H=(e,t,o)=>M(t,(n=>{var r;const a=y(t)?e.cloneNode(!0):e;return o&&Es(Ds(n.childNodes),(e=>{a.appendChild(e)})),null===(r=n.parentNode)||void 0===r||r.replaceChild(a,n),n})),F=e=>{if(jn(e)){const t="a"===e.nodeName.toLowerCase()&&!g(e,"href")&&g(e,"id");if(g(e,"name")||g(e,"data-mce-bookmark")||t)return!0}return!1},V=()=>e.createRange(),j=(o,r,a,s)=>{if(y(o)){let e=o.length;const t=[];for(;e--;)t[e]=j(o[e],r,a,s);return t}return!t.collect||o!==e&&o!==n||i.push([o,r,a,s]),d.bind(o,r,a,s||$)},U=(t,o,r)=>{if(y(t)){let e=t.length;const n=[];for(;e--;)n[e]=U(t[e],o,r);return n}if(i.length>0&&(t===e||t===n)){let e=i.length;for(;e--;){const[n,a,s]=i[e];t!==n||o&&o!==a||r&&r!==s||d.unbind(n,a,s)}}return d.unbind(t,o,r)},W=e=>{if(e&&jn(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},$={doc:e,settings:t,win:n,files:r,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:i,styles:c,schema:l,events:d,isBlock:e=>m(e)?Ce(u,e):jn(e)&&(Ce(u,e.nodeName)||Ta(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:v,getViewPort:e=>{const t=In(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=h(e),o=_(t),n=C(t);return{x:o.x,y:o.y,w:n.w,h:n.h}},getSize:C,getParent:(e,t,o)=>{const n=A(e,t,o,!1);return n&&n.length>0?n[0]:null},getParents:A,get:h,getNext:(e,t)=>O(e,t,"nextSibling"),getPrev:(e,t)=>O(e,t,"previousSibling"),select:(o,n)=>{var r,a;const s=null!==(a=null!==(r=h(n))&&void 0!==r?r:t.root_element)&&void 0!==a?a:e;return x(s.querySelectorAll)?he(s.querySelectorAll(o)):[]},is:D,add:N,create:I,createHTML:(e,t,o="")=>{let n="<"+e;for(const e in t)Ee(t,e)&&(n+=" "+e+'="'+L(t[e])+'"');return Xe(o)&&Ce(l.getVoidElements(),e)?n+" />":n+">"+o+"</"+e+">"},createFragment:t=>{const o=e.createElement("div"),n=e.createDocumentFragment();let r;for(n.appendChild(o),t&&(o.innerHTML=t);r=o.firstChild;)n.appendChild(r);return n.removeChild(o),n},remove:P,setStyle:(e,o,n)=>{M(e,(e=>{const r=yo.fromDom(e);Ns(r,o,n),t.update_styles&&Rs(c,r)}))},getStyle:S,setStyles:(e,o)=>{M(e,(e=>{const n=yo.fromDom(e);fe(o,((e,t)=>{Ns(n,t,e)})),t.update_styles&&Rs(c,n)}))},removeAllAttribs:e=>M(e,(e=>{const t=e.attributes;for(let o=t.length-1;o>=0;o--)e.removeAttributeNode(t.item(o))})),setAttrib:b,setAttribs:z,getAttrib:g,getPos:_,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if($!==Is.DOM&&e===document){if(o[t])return;o[t]=!0}let n=e.getElementById("mceDefaultStyles");if(!n){n=e.createElement("style"),n.id="mceDefaultStyles",n.type="text/css";const t=e.head;t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),q(e.split(","),(e=>{r[e]=!0,s.load(e).catch(E)}))},addClass:(e,t)=>{B(e,t,!0)},removeClass:(e,t)=>{B(e,t,!1)},hasClass:(e,t)=>{const o=p(e),n=t.split(" ");return k(o)&&re(n,(e=>go(o,e)))},toggleClass:B,show:e=>{M(e,(e=>un(yo.fromDom(e),"display")))},hide:e=>{M(e,(e=>rn(yo.fromDom(e),"display","none")))},isHidden:e=>{const t=p(e);return k(t)&&It(cn(t,"display"),"none")},uniqueId:e=>(e||"mce_")+a++,setHTML:R,getOuterHTML:e=>{const t=p(e);return k(t)?jn(t.dom)?t.dom.outerHTML:(e=>{const t=yo.fromTag("div"),o=yo.fromDom(e.dom.cloneNode(!0));return gn(t,o),kn(t)})(t):""},setOuterHTML:(e,t)=>{M(e,(e=>{jn(e)&&(e.outerHTML=t)}))},decode:ts.decode,encode:L,insertAfter:(e,t)=>{const o=h(t);return M(e,(e=>{const t=null==o?void 0:o.parentNode,n=null==o?void 0:o.nextSibling;return t&&(n?t.insertBefore(e,n):t.appendChild(e)),e}))},replace:H,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const o=I(t);return Es(f(e),(t=>{b(o,t.nodeName,g(e,t.nodeName))})),H(o,e,!0),o}return e},findCommonAncestor:(e,t)=>{let o=e;for(;o;){let e=t;for(;e&&o!==e;)e=e.parentNode;if(o===e)break;o=o.parentNode}return!o&&e.ownerDocument?e.ownerDocument.documentElement:o},run:M,getAttribs:f,isEmpty:(e,t)=>{let o=0;if(F(e))return!1;const n=e.firstChild;if(n){const r=new Hn(n,e),a=l?l.getWhitespaceElements():{},s=t||(l?l.getNonEmptyElements():null);let i=n;do{if(jn(i)){const e=i.getAttribute("data-mce-bogus");if(e){i=r.next("all"===e);continue}const t=i.nodeName.toLowerCase();if(s&&s[t]){if("br"===t){o++,i=r.next();continue}return!1}if(F(i))return!1}if(er(i))return!1;if(Xn(i)&&!ia(i.data))return!1;if(Xn(i)&&i.parentNode&&a[i.parentNode.nodeName]&&ia(i.data))return!1;i=r.next()}while(i)}return o<=1},createRng:V,nodeIndex:zs,split:(e,t,o)=>{let n,r,a=V();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return a.setStart(s,zs(e)),a.setEnd(t.parentNode,zs(t)),n=a.extractContents(),a=V(),a.setStart(t.parentNode,zs(t)+1),a.setEnd(s,zs(e)+1),r=a.extractContents(),s.insertBefore(Va($,n),e),o?s.insertBefore(o,e):s.insertBefore(t,e),s.insertBefore(Va($,r),e),P(e),o||t}},bind:j,unbind:U,fire:(e,t,o)=>d.dispatch(e,t,o),dispatch:(e,t,o)=>d.dispatch(e,t,o),getContentEditable:W,getContentEditableParent:e=>{const t=v();let o=null;for(let n=e;n&&n!==t&&(o=W(n),null===o);n=n.parentNode);return o},isEditable:e=>{if(k(e)){const t=jn(e)?e:e.parentElement,o="true"===W(v());return k(t)&&en(yo.fromDom(t),o)}return!1},destroy:()=>{if(i.length>0){let e=i.length;for(;e--;){const[t,o,n]=i[e];d.unbind(t,o,n)}}fe(r,((e,t)=>{s.unload(t),delete r[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Y=((e,t,o)=>{const n=t.keep_values,r={set:(e,n,r)=>{const a=yo.fromDom(e);x(t.url_converter)&&k(n)&&(n=t.url_converter.call(t.url_converter_scope||o(),String(n),r,e)),Os(a,"data-mce-"+r,n),Os(a,r,n)},get:(e,t)=>{const o=yo.fromDom(e);return eo(o,"data-mce-"+t)||eo(o,t)}},a={style:{set:(t,o)=>{const r=yo.fromDom(t);n&&Os(r,As,o),no(r,"style"),m(o)&&an(r,e.parse(o))},get:t=>{const o=yo.fromDom(t),n=eo(o,As)||eo(o,"style");return e.serialize(e.parse(n),Ut(o))}}};return n&&(a.href=a.src=r),a})(c,t,T($));return $};Is.DOM=Is(document),Is.nodeIndex=zs;const Ls=Is.DOM;class Ps{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,o)=>{const n=Ls;let r;const a=()=>{n.remove(s),r&&(r.onerror=r.onload=r=null)},s=n.uniqueId();r=document.createElement("script"),r.id=s,r.type="text/javascript",r.src=Nt._addCacheSuffix(e),this.settings.referrerPolicy&&n.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=()=>{a(),t()},r.onerror=()=>{a(),o("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;t.queue.push(e);return void 0===t.states[e]&&(t.states[e]=0),new Promise(((o,n)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:o,reject:n})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,o=(e,o)=>{Se(t.scriptLoadedCallbacks,o).each((t=>{q(t,(t=>t[e](o)))})),delete t.scriptLoadedCallbacks[o]},n=e=>{const t=K(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(ne(t,(({reason:e})=>y(e)?e:[e]))):Promise.resolve()},r=e=>Promise.allSettled($(e,(e=>2===t.states[e]?(o("resolve",e),Promise.resolve()):3===t.states[e]?(o("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,o("resolve",e);const a=t.queue;return a.length>0?(t.queue=[],r(a).then(n)):Promise.resolve()}),(()=>(t.states[e]=3,o("reject",e),Promise.reject(e)))))))),a=e=>(t.loading=!0,r(e).then((e=>{t.loading=!1;const o=t.queueLoadedCallbacks.shift();return H.from(o).each(L),n(e)}))),s=De(e);return t.loading?new Promise(((e,o)=>{t.queueLoadedCallbacks.push((()=>a(s).then(e,o)))})):a(s)}}Ps.ScriptLoader=new Ps;const Bs=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Hs={},Fs=Bs("en"),Vs=()=>Se(Hs,Fs.get()),js={getData:()=>ye(Hs,(e=>({...e}))),setCode:e=>{e&&Fs.set(e)},getCode:()=>Fs.get(),add:(e,t)=>{let o=Hs[e];o||(Hs[e]=o={}),fe(t,((e,t)=>{o[t.toLowerCase()]=e}))},translate:e=>{const t=Vs().getOr({}),o=e=>x(e)?Object.prototype.toString.call(e):n(e)?"":""+e,n=e=>""===e||null==e,r=e=>{const n=o(e);return Se(t,n.toLowerCase()).map(o).getOr(n)},a=e=>e.replace(/{context:\w+}$/,"");if(n(e))return"";if(g(s=e)&&Ce(s,"raw"))return o(e.raw);var s;if((e=>y(e)&&e.length>1)(e)){const t=e.slice(1);return a(r(e[0]).replace(/\{([0-9]+)\}/g,((e,n)=>Ce(t,n)?o(t[n]):e)))}return a(r(e))},isRtl:()=>Vs().bind((e=>Se(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>Ce(Hs,e)},Us=()=>{const e=[],t={},o={},n=[],r=(e,t)=>{const o=K(n,(o=>o.name===e&&o.state===t));q(o,(e=>e.resolve()))},a=e=>Ce(t,e),s=(e,o)=>{const n=js.getCode();!n||o&&-1===(","+(o||"")+",").indexOf(","+n+",")||Ps.ScriptLoader.add(t[e]+"/langs/"+n+".js")},i=(e,t="added")=>"added"===t&&(e=>Ce(o,e))(e)||"loaded"===t&&a(e)?Promise.resolve():new Promise((o=>{n.push({name:e,state:t,resolve:o})}));return{items:e,urls:t,lookup:o,get:e=>{if(o[e])return o[e].instance},requireLangPack:(e,t)=>{!1!==Us.languageLoad&&(a(e)?s(e,t):i(e,"loaded").then((()=>s(e,t))))},add:(t,n)=>(e.push(n),o[t]={instance:n},r(t,"added"),n),remove:e=>{delete t[e],delete o[e]},createUrl:(e,t)=>m(t)?m(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,n)=>{if(t[e])return Promise.resolve();let a=m(n)?n:n.prefix+n.resource+n.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=Us.baseURL+"/"+a),t[e]=a.substring(0,a.lastIndexOf("/"));const s=()=>(r(e,"loaded"),Promise.resolve());return o[e]?s():Ps.ScriptLoader.add(a).then(s)},waitFor:i}};Us.languageLoad=!0,Us.baseURL="",Us.PluginManager=Us(),Us.ThemeManager=Us(),Us.ModelManager=Us();const Ws=e=>{const t=Bs(H.none()),o=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:n=>{o(),t.set(H.some(setInterval(n,e)))}}},Zs=()=>{const e=(e=>{const t=Bs(H.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(H.some(e))}}})(E);return{...e,on:t=>e.get().each(t)}},$s=(e,t)=>{let o=null;return{cancel:()=>{b(o)||(clearTimeout(o),o=null)},throttle:(...n)=>{b(o)&&(o=setTimeout((()=>{o=null,e.apply(null,n)}),t))}}},qs=(e,t)=>{let o=null;const n=()=>{b(o)||(clearTimeout(o),o=null)};return{cancel:n,throttle:(...r)=>{n(),o=setTimeout((()=>{o=null,e.apply(null,r)}),t)}}},Ys=T("mce-annotation"),Gs=T("data-mce-annotation"),Ks=T("data-mce-annotation-uid"),Xs=T("data-mce-annotation-active"),Qs=T("data-mce-annotation-classes"),Js=T("data-mce-annotation-attrs"),ei=e=>t=>wo(t,e),ti=(e,t)=>{const o=e.selection.getRng(),n=yo.fromDom(o.startContainer),r=yo.fromDom(e.getBody()),a=t.fold((()=>"."+Ys()),(e=>`[${Gs()}="${e}"]`)),s=No(n,o.startOffset).getOr(n);return Jo(s,a,ei(r)).bind((t=>to(t,`${Ks()}`).bind((o=>to(t,`${Gs()}`).map((t=>{const n=ni(e,o);return{uid:o,name:t,elements:n}}))))))},oi=(e,t)=>oo(e,"data-mce-bogus")||Bn(e,'[data-mce-bogus="all"]',ei(t)),ni=(e,t)=>{const o=yo.fromDom(e.getBody()),n=Pn(o,`[${Ks()}="${t}"]`);return K(n,(e=>!oi(e,o)))},ri=(e,t)=>{const o=yo.fromDom(e.getBody()),n=Pn(o,`[${Gs()}="${t}"]`),r={};return q(n,(e=>{if(!oi(e,o)){const t=eo(e,Ks()),o=Se(r,t).getOr([]);r[t]=o.concat([e])}})),r},ai=(e,t)=>{const o=Bs({}),n=()=>({listeners:[],previous:Zs()}),r=(e,t)=>{a(e,(e=>(t(e),e)))},a=(e,t)=>{const r=o.get(),a=t(Se(r,e).getOrThunk(n));r[e]=a,o.set(r)},s=(t,o)=>{q(ni(e,t),(e=>{o?Qt(e,Xs(),"true"):no(e,Xs())}))},i=qs((()=>{const o=le(t.getNames());q(o,(t=>{a(t,(o=>{const n=o.previous.get();return ti(e,H.some(t)).fold((()=>{n.each((e=>{(e=>{r(e,(t=>{q(t.listeners,(t=>t(!1,e)))}))})(t),o.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:a})=>{It(n,e)||(n.each((e=>s(e,!1))),((e,t,o)=>{r(e,(n=>{q(n.listeners,(n=>n(!0,e,{uid:t,nodes:$(o,(e=>e.dom))})))}))})(t,e,a),o.previous.set(e),s(e,!0))})),{previous:o.previous,listeners:o.listeners}}))}))}),30);e.on("remove",(()=>{i.cancel()})),e.on("NodeChange",(()=>{i.throttle()}));return{addListener:(e,t)=>{a(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}};let si=0;const ii=e=>{const t=(new Date).getTime(),o=Math.floor(1e9*Math.random());return si++,e+"_"+o+si+String(t)},li=(e,t)=>yo.fromDom(e.dom.cloneNode(t)),ci=e=>li(e,!1),di=e=>li(e,!0),ui=(e,t)=>{const o=((e,t)=>{const o=yo.fromTag(t),n=ro(e);return Jt(o,n),o})(e,t);pn(e,o);const n=Ro(e);return yn(o,n),vn(e),o},hi=(e,t,o=P)=>{const n=new Hn(e,t),r=e=>{let t;do{t=n[e]()}while(t&&!Xn(t)&&!o(t));return H.from(t).filter(Xn)};return{current:()=>H.from(n.current()).filter(Xn),next:()=>r("next"),prev:()=>r("prev"),prev2:()=>r("prev2")}},pi=(e,t)=>{const o=t||(t=>e.isBlock(t)||nr(t)||sr(t)),n=(e,t,o,r)=>{if(Xn(e)){const o=r(e,t,e.data);if(-1!==o)return H.some({container:e,offset:o})}return o().bind((e=>n(e.container,e.offset,o,r)))};return{backwards:(t,r,a,s)=>{const i=hi(t,null!=s?s:e.getRoot(),o);return n(t,r,(()=>i.prev().map((e=>({container:e,offset:e.length})))),a).getOrNull()},forwards:(t,r,a,s)=>{const i=hi(t,null!=s?s:e.getRoot(),o);return n(t,r,(()=>i.next().map((e=>({container:e,offset:0})))),a).getOrNull()}}},mi=Math.round,gi=e=>e?{left:mi(e.left),top:mi(e.top),bottom:mi(e.bottom),right:mi(e.right),width:mi(e.width),height:mi(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},fi=(e,t)=>(e=gi(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),yi=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,bi=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top||!(e.top>t.bottom)&&yi(t.top-e.bottom,e,t)},vi=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&yi(t.bottom-e.top,e,t),_i=(e,t,o)=>{const n=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-n)*(t-n)+(o-r)*(o-r))},wi=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},ki=(e,t)=>{if(jn(e)&&e.hasChildNodes()){const o=e.childNodes,n=((e,t,o)=>Math.min(Math.max(e,t),o))(t,0,o.length-1);return o[n]}return e},xi=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Si=e=>m(e)&&e.charCodeAt(0)>=768&&xi.test(e),Ci=jn,Ei=na,Di=Zn("display","block table"),Ai=Zn("float","left right"),Ti=((...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0})(Ci,Ei,R(Ai)),Oi=R(Zn("white-space","pre pre-line pre-wrap")),Mi=Xn,zi=nr,Ri=Is.nodeIndex,Ni=(e,t)=>t<0&&jn(e)&&e.hasChildNodes()?void 0:ki(e,t),Ii=e=>e?e.createRange():Is.DOM.createRng(),Li=e=>m(e)&&/[\r\n\t ]/.test(e),Pi=e=>!!e.setStart&&!!e.setEnd,Bi=e=>{const t=e.startContainer,o=e.startOffset;if(Li(e.toString())&&Oi(t.parentNode)&&Xn(t)){const e=t.data;if(Li(e[o-1])||Li(e[o+1]))return!0}return!1},Hi=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Fi=e=>{var t;let o;const n=e.getClientRects();return o=n.length>0?gi(n[0]):gi(e.getBoundingClientRect()),!Pi(e)&&zi(e)&&Hi(o)?(e=>{const t=e.ownerDocument,o=Ii(t),n=t.createTextNode(hr),r=e.parentNode;r.insertBefore(n,e),o.setStart(n,0),o.setEnd(n,1);const a=gi(o.getBoundingClientRect());return r.removeChild(n),a})(e):Hi(o)&&Pi(e)&&null!==(t=(e=>{const t=e.startContainer,o=e.endContainer,n=e.startOffset,r=e.endOffset;if(t===o&&Xn(o)&&0===n&&1===r){const t=e.cloneRange();return t.setEndAfter(o),Fi(t)}return null})(e))&&void 0!==t?t:o},Vi=(e,t)=>{const o=fi(e,t);return o.width=1,o.right=o.left+1,o},ji=e=>{const t=[],o=e=>{var o,n;0!==e.height&&(t.length>0&&(o=e,n=t[t.length-1],o.left===n.left&&o.top===n.top&&o.bottom===n.bottom&&o.right===n.right)||t.push(e))},n=(e,t)=>{const n=Ii(e.ownerDocument);if(t<e.data.length){if(Si(e.data[t]))return;if(Si(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Bi(n)))return void o(Vi(Fi(n),!1))}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),Bi(n)||o(Vi(Fi(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Bi(n)||o(Vi(Fi(n),!0)))},r=e.container(),a=e.offset();if(Mi(r))return n(r,a),t;if(Ci(r))if(e.isAtEnd()){const e=Ni(r,a);Mi(e)&&n(e,e.data.length),Ti(e)&&!zi(e)&&o(Vi(Fi(e),!1))}else{const s=Ni(r,a);if(Mi(s)&&n(s,0),Ti(s)&&e.isAtEnd())return o(Vi(Fi(s),!1)),t;const i=Ni(e.container(),e.offset()-1);Ti(i)&&!zi(i)&&(Di(i)||Di(s)||!Ti(s))&&o(Vi(Fi(i),!1)),Ti(s)&&o(Vi(Fi(s),!0))}return t},Ui=(e,t,o)=>{const n=()=>(o||(o=ji(Ui(e,t))),o);return{container:T(e),offset:T(t),toRange:()=>{const o=Ii(e.ownerDocument);return o.setStart(e,t),o.setEnd(e,t),o},getClientRects:n,isVisible:()=>n().length>0,isAtStart:()=>(Mi(e),0===t),isAtEnd:()=>Mi(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:o=>o&&e===o.container()&&t===o.offset(),getNode:o=>Ni(e,o?t-1:t)}};Ui.fromRangeStart=e=>Ui(e.startContainer,e.startOffset),Ui.fromRangeEnd=e=>Ui(e.endContainer,e.endOffset),Ui.after=e=>Ui(e.parentNode,Ri(e)+1),Ui.before=e=>Ui(e.parentNode,Ri(e)),Ui.isAbove=(e,t)=>Lt(de(t.getClientRects()),ue(e.getClientRects()),bi).getOr(!1),Ui.isBelow=(e,t)=>Lt(ue(t.getClientRects()),de(e.getClientRects()),vi).getOr(!1),Ui.isAtStart=e=>!!e&&e.isAtStart(),Ui.isAtEnd=e=>!!e&&e.isAtEnd(),Ui.isTextPosition=e=>!!e&&Xn(e.container()),Ui.isElementPosition=e=>!Ui.isTextPosition(e);const Wi=(e,t)=>{Xn(t)&&0===t.data.length&&e.remove(t)},Zi=(e,t,o)=>{or(o)?((e,t,o)=>{const n=H.from(o.firstChild),r=H.from(o.lastChild);t.insertNode(o),n.each((t=>Wi(e,t.previousSibling))),r.each((t=>Wi(e,t.nextSibling)))})(e,t,o):((e,t,o)=>{t.insertNode(o),Wi(e,o.previousSibling),Wi(e,o.nextSibling)})(e,t,o)},$i=Xn,qi=qn,Yi=Is.nodeIndex,Gi=e=>{const t=e.parentNode;return qi(t)?Gi(t):t},Ki=e=>e?Re(e.childNodes,((e,t)=>(qi(t)&&"BR"!==t.nodeName?e=e.concat(Ki(t)):e.push(t),e)),[]):[],Xi=e=>t=>e===t,Qi=e=>($i(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,o;t=Ki(Gi(e)),o=Ne(t,Xi(e),e),t=t.slice(0,o+1);const n=Re(t,((e,o,n)=>($i(o)&&$i(t[n-1])&&e++,e)),0);return t=ze(t,Wn([e.nodeName])),o=Ne(t,Xi(e),e),o-n})(e)+"]",Ji=(e,t)=>{let o,n=[],r=t.container(),a=t.offset();if($i(r))o=((e,t)=>{let o=e;for(;(o=o.previousSibling)&&$i(o);)t+=o.data.length;return t})(r,a);else{const e=r.childNodes;a>=e.length?(o="after",a=e.length-1):o="before",r=e[a]}n.push(Qi(r));let s=((e,t,o)=>{const n=[];for(let r=t.parentNode;r&&r!==e&&(!o||!o(r));r=r.parentNode)n.push(r);return n})(e,r);return s=ze(s,R(qn)),n=n.concat(Me(s,(e=>Qi(e)))),n.reverse().join("/")+","+o},el=(e,t)=>{if(!t)return null;const o=t.split(","),n=o[0].split("/"),r=o.length>1?o[1]:"before",a=Re(n,((e,t)=>{const o=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return o?("text()"===o[1]&&(o[1]="#text"),((e,t,o)=>{let n=Ki(e);return n=ze(n,((e,t)=>!$i(e)||!$i(n[t-1]))),n=ze(n,Wn([t])),n[o]})(e,o[1],parseInt(o[2],10))):null}),e);if(!a)return null;if(!$i(a)&&a.parentNode){let e;return e="after"===r?Yi(a)+1:Yi(a),Ui(a.parentNode,e)}return((e,t)=>{let o=e,n=0;for(;$i(o);){const r=o.data.length;if(t>=n&&t<=n+r){e=o,t-=n;break}if(!$i(o.nextSibling)){e=o,t=r;break}n+=r,o=o.nextSibling}return $i(e)&&t>e.data.length&&(t=e.data.length),Ui(e,t)})(a,parseInt(r,10))},tl=sr,ol=(e,t,o,n,r)=>{const a=r?n.startContainer:n.endContainer;let s=r?n.startOffset:n.endOffset;const i=[],l=e.getRoot();if(Xn(a))i.push(o?((e,t,o)=>{let n=e(t.data.slice(0,o)).length;for(let o=t.previousSibling;o&&Xn(o);o=o.previousSibling)n+=e(o.data).length;return n})(t,a,s):s);else{let t=0;const n=a.childNodes;s>=n.length&&n.length&&(t=1,s=Math.max(0,n.length-1)),i.push(e.nodeIndex(n[s],o)+t)}for(let t=a;t&&t!==l;t=t.parentNode)i.push(e.nodeIndex(t,o));return i},nl=(e,t,o)=>{let n=0;return Nt.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==o&&void n++)),n},rl=(e,t)=>{let o=t?e.startContainer:e.endContainer,n=t?e.startOffset:e.endOffset;if(jn(o)&&"TR"===o.nodeName){const r=o.childNodes;o=r[Math.min(t?n:n-1,r.length-1)],o&&(n=t?0:o.childNodes.length,t?e.setStart(o,n):e.setEnd(o,n))}},al=e=>(rl(e,!0),rl(e,!1),e),sl=(e,t)=>{if(jn(e)&&(e=ki(e,t),tl(e)))return e;if(Vr(e)){Xn(e)&&Hr(e)&&(e=e.parentNode);let t=e.previousSibling;if(tl(t))return t;if(t=e.nextSibling,tl(t))return t}},il=(e,t,o)=>{const n=o.getNode(),r=o.getRng();if("IMG"===n.nodeName||tl(n)){const e=n.nodeName;return{name:e,index:nl(o.dom,e,n)}}const a=(e=>sl(e.startContainer,e.startOffset)||sl(e.endContainer,e.endOffset))(r);if(a){const e=a.tagName;return{name:e,index:nl(o.dom,e,a)}}return((e,t,o,n)=>{const r=t.dom,a=ol(r,e,o,n,!0),s=t.isForward(),i=Yr(n)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:a,forward:s,...i}:{start:a,end:ol(r,e,o,n,!1),forward:s,...i}})(e,o,t,r)},ll=(e,t,o)=>{const n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",n,"&#xFEFF;"):e.create("span",n)},cl=(e,t)=>{const o=e.dom;let n=e.getRng();const r=o.uniqueId(),a=e.isCollapsed(),s=e.getNode(),i=s.nodeName,l=e.isForward();if("IMG"===i)return{name:i,index:nl(o,i,s)};const c=al(n.cloneRange());if(!a){c.collapse(!1);const e=ll(o,r+"_end",t);Zi(o,c,e)}n=al(n),n.collapse(!0);const d=ll(o,r+"_start",t);return Zi(o,n,d),e.moveToBookmark({id:r,keep:!0,forward:l}),{id:r,forward:l}},dl=(e,t,o=!1)=>2===t?il(Lr,o,e):3===t?(e=>{const t=e.getRng();return{start:Ji(e.dom.getRoot(),Ui.fromRangeStart(t)),end:Ji(e.dom.getRoot(),Ui.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):cl(e,!1),ul=z(il,O,!0),hl=e=>{const t=t=>t(e),o=T(e),n=()=>r,r={tag:!0,inner:e,fold:(t,o)=>o(e),isValue:B,isError:P,map:t=>ml.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>H.some(e)};return r},pl=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(t,o)=>t(e),isValue:P,isError:B,map:t,mapError:t=>ml.error(t(e)),bind:t,exists:P,forall:B,getOr:O,or:O,getOrThunk:I,orThunk:I,getOrDie:N(String(e)),each:E,toOptional:H.none};return o},ml={value:hl,error:pl,fromOption:(e,t)=>e.fold((()=>pl(t)),hl)},gl=e=>{if(!y(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],o={};return q(e,((n,r)=>{const a=me(n);if(1!==a.length)throw new Error("one and only one name per case");const s=a[0],i=n[s];if(void 0!==o[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!y(i))throw new Error("case arguments must be an array");t.push(s),o[s]=(...o)=>{const n=o.length;if(n!==i.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+i.length+" ("+i+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,o)},match:e=>{const n=me(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!re(t,(e=>W(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,o)},log:e=>{console.log(e,{constructors:t,constructor:s,params:o})}}}})),o};gl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const fl=e=>"inline-command"===e.type||"inline-format"===e.type,yl=e=>"block-command"===e.type||"block-format"===e.type,bl=e=>{const t=t=>ml.error({message:t,pattern:e}),o=(o,n,r)=>{if(void 0!==e.format){let r;if(y(e.format)){if(!re(e.format,m))return t(o+" pattern has non-string items in the `format` array");r=e.format}else{if(!m(e.format))return t(o+" pattern has non-string `format` parameter");r=[e.format]}return ml.value(n(r))}return void 0!==e.cmd?m(e.cmd)?ml.value(r(e.cmd,e.value)):t(o+" pattern has non-string `cmd` parameter"):t(o+" pattern is missing both `format` and `cmd` parameters")};if(!g(e))return t("Raw pattern is not an object");if(!m(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!m(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let n=e.start,r=e.end;return 0===r.length&&(r=n,n=""),o("Inline",(e=>({type:"inline-format",start:n,end:r,format:e})),((e,t)=>({type:"inline-command",start:n,end:r,cmd:e,value:t})))}return void 0!==e.replacement?m(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):ml.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):o("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,o)=>({type:"block-command",start:e.start,cmd:t,value:o})))},vl=e=>K(e,yl),_l=e=>K(e,fl),wl=e=>{const t=(e=>{const t=[],o=[];return q(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{o.push(e)}))})),{errors:t,values:o}})($(e,bl));return q(t.errors,(e=>console.error(e.message,e.pattern))),t.values},kl=xt().deviceType,xl=kl.isTouch(),Sl=Is.DOM,Cl=e=>p(e,RegExp),El=e=>t=>t.options.get(e),Dl=e=>m(e)||g(e),Al=(e,t="")=>o=>{const n=m(o);if(n){if(-1!==o.indexOf("=")){const r=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Q(t,((e,t)=>{const o=t.split("="),n=o[0],r=o.length>1?o[1]:n;return e[qe(n)]=qe(r),e}),{})})(o);return{value:Se(r,e.id).getOr(t),valid:n}}return{value:o,valid:n}}return{valid:!1,message:"Must be a string."}},Tl=El("iframe_attrs"),Ol=El("doctype"),Ml=El("document_base_url"),zl=El("body_id"),Rl=El("body_class"),Nl=El("content_security_policy"),Il=El("br_in_pre"),Ll=El("forced_root_block"),Pl=El("forced_root_block_attrs"),Bl=El("newline_behavior"),Hl=El("br_newline_selector"),Fl=El("no_newline_selector"),Vl=El("keep_styles"),jl=El("end_container_on_empty_block"),Ul=El("automatic_uploads"),Wl=El("images_reuse_filename"),Zl=El("images_replace_blob_uris"),$l=El("icons"),ql=El("icons_url"),Yl=El("images_upload_url"),Gl=El("images_upload_base_path"),Kl=El("images_upload_credentials"),Xl=El("images_upload_handler"),Ql=El("content_css_cors"),Jl=El("referrer_policy"),ec=El("language"),tc=El("language_url"),oc=El("indent_use_margin"),nc=El("indentation"),rc=El("content_css"),ac=El("content_style"),sc=El("font_css"),ic=El("directionality"),lc=El("inline_boundaries_selector"),cc=El("object_resizing"),dc=El("resize_img_proportional"),uc=El("placeholder"),hc=El("event_root"),pc=El("service_message"),mc=El("theme"),gc=El("theme_url"),fc=El("model"),yc=El("model_url"),bc=El("inline_boundaries"),vc=El("formats"),_c=El("preview_styles"),wc=El("format_empty_lines"),kc=El("format_noneditable_selector"),xc=El("custom_ui_selector"),Sc=El("inline"),Cc=El("hidden_input"),Ec=El("submit_patch"),Dc=El("add_form_submit_trigger"),Ac=El("add_unload_trigger"),Tc=El("custom_undo_redo_levels"),Oc=El("disable_nodechange"),Mc=El("readonly"),zc=El("content_css_cors"),Rc=El("plugins"),Nc=El("external_plugins"),Ic=El("block_unsupported_drop"),Lc=El("visual"),Pc=El("visual_table_class"),Bc=El("visual_anchor_class"),Hc=El("iframe_aria_text"),Fc=El("setup"),Vc=El("init_instance_callback"),jc=El("urlconverter_callback"),Uc=El("auto_focus"),Wc=El("browser_spellcheck"),Zc=El("protect"),$c=El("paste_block_drop"),qc=El("paste_data_images"),Yc=El("paste_preprocess"),Gc=El("paste_postprocess"),Kc=El("paste_webkit_styles"),Xc=El("paste_remove_styles_if_webkit"),Qc=El("paste_merge_formats"),Jc=El("smart_paste"),ed=El("paste_as_text"),td=El("paste_tab_spaces"),od=El("allow_html_data_urls"),nd=El("text_patterns"),rd=El("text_patterns_lookup"),ad=El("noneditable_class"),sd=El("editable_class"),id=El("noneditable_regexp"),ld=El("preserve_cdata"),cd=El("highlight_on_focus"),dd=El("xss_sanitization"),ud=e=>Nt.explode(e.options.get("images_file_types")),hd=El("table_tab_navigation"),pd=jn,md=Xn,gd=e=>{const t=e.parentNode;t&&t.removeChild(e)},fd=e=>{const t=Lr(e);return{count:e.length-t.length,text:t}},yd=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Nr));)e.deleteData(t,1)},bd=(e,t)=>(kd(e),t),vd=(e,t)=>{const o=t.container(),n=((e,t)=>{const o=U(e,t);return-1===o?H.none():H.some(o)})(he(o.childNodes),e).map((e=>e<t.offset()?Ui(o,t.offset()-1):t)).getOr(t);return kd(e),n},_d=(e,t)=>md(e)&&t.container()===e?((e,t)=>{const o=fd(e.data.substr(0,t.offset())),n=fd(e.data.substr(t.offset()));return(o.text+n.text).length>0?(yd(e),Ui(e,t.offset()-o.count)):t})(e,t):bd(e,t),wd=(e,t)=>Ui.isTextPosition(t)?_d(e,t):((e,t)=>t.container()===e.parentNode?vd(e,t):bd(e,t))(e,t),kd=e=>{pd(e)&&Vr(e)&&(jr(e)?e.removeAttribute("data-mce-caret"):gd(e)),md(e)&&(yd(e),0===e.data.length&&gd(e))},xd=sr,Sd=cr,Cd=ir,Ed=(e,t,o)=>{const n=fi(t.getBoundingClientRect(),o);let r,a;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;r=e.scrollLeft||t.scrollLeft,a=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();r=e.scrollLeft-t.left,a=e.scrollTop-t.top}n.left+=r,n.right+=r,n.top+=a,n.bottom+=a,n.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(o&&(s*=-1),n.left+=s,n.right+=s),n},Dd=(e,t,o,n)=>{const r=Zs();let a,s;const i=Ll(e),l=e.dom,c=()=>{(e=>{var t,o;const n=Pn(yo.fromDom(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<n.length;e++){const r=n[e].dom;let a=r.previousSibling;if($r(a)){const e=a.data;1===e.length?null===(t=a.parentNode)||void 0===t||t.removeChild(a):a.deleteData(e.length-1,1)}a=r.nextSibling,Zr(a)&&(1===a.data.length?null===(o=a.parentNode)||void 0===o||o.removeChild(a):a.deleteData(0,1))}})(t),s&&(kd(s),s=null),r.on((e=>{l.remove(e.caret),r.clear()})),a&&(clearInterval(a),a=void 0)},d=()=>{a=setInterval((()=>{r.on((e=>{n()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)};return{show:(e,n)=>{let a;if(c(),Cd(n))return null;if(!o(n))return s=((e,t)=>{var o;const n=(null!==(o=e.ownerDocument)&&void 0!==o?o:document).createTextNode(Nr),r=e.parentNode;if(t){const t=e.previousSibling;if(Br(t)){if(Vr(t))return t;if($r(t))return t.splitText(t.data.length-1)}null==r||r.insertBefore(n,e)}else{const t=e.nextSibling;if(Br(t)){if(Vr(t))return t;if(Zr(t))return t.splitText(1),t}e.nextSibling?null==r||r.insertBefore(n,e.nextSibling):null==r||r.appendChild(n)}return n})(n,e),a=n.ownerDocument.createRange(),Td(s.nextSibling)?(a.setStart(s,0),a.setEnd(s,0)):(a.setStart(s,1),a.setEnd(s,1)),a;{const o=((e,t,o)=>{var n;const r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createElement(e);r.setAttribute("data-mce-caret",o?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(Mr().dom);const a=t.parentNode;return o?null==a||a.insertBefore(r,t):t.nextSibling?null==a||a.insertBefore(r,t.nextSibling):null==a||a.appendChild(r),r})(i,n,e),c=Ed(t,n,e);l.setStyle(o,"top",c.top),s=o;const u=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(u,{...c}),l.add(t,u),r.set({caret:u,element:n,before:e}),e&&l.addClass(u,"mce-visual-caret-before"),d(),a=n.ownerDocument.createRange(),a.setStart(o,0),a.setEnd(o,0)}return a},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{r.on((e=>{const o=Ed(t,e.element,e.before);l.setStyles(e.caret,{...o})}))},destroy:()=>clearInterval(a)}},Ad=()=>Ot.browser.isFirefox(),Td=e=>xd(e)||Sd(e),Od=e=>(Td(e)||Yn(e)&&Ad())&&Do(yo.fromDom(e)).exists(en),Md=ar,zd=sr,Rd=cr,Nd=Zn("display","block table table-cell table-caption list-item"),Id=Vr,Ld=Hr,Pd=jn,Bd=Xn,Hd=na,Fd=e=>e>0,Vd=e=>e<0,jd=(e,t)=>{let o;for(;o=e(t);)if(!Ld(o))return o;return null},Ud=(e,t,o,n,r)=>{const a=new Hn(e,n),s=zd(e)||Ld(e);let i;if(Vd(t)){if(s&&(i=jd(a.prev.bind(a),!0),o(i)))return i;for(;i=jd(a.prev.bind(a),r);)if(o(i))return i}if(Fd(t)){if(s&&(i=jd(a.next.bind(a),!0),o(i)))return i;for(;i=jd(a.next.bind(a),r);)if(o(i))return i}return null},Wd=(e,t)=>{for(;e&&e!==t;){if(Nd(e))return e;e=e.parentNode}return null},Zd=(e,t,o)=>Wd(e.container(),o)===Wd(t.container(),o),$d=(e,t)=>{if(!t)return H.none();const o=t.container(),n=t.offset();return Pd(o)?H.from(o.childNodes[n+e]):H.none()},qd=(e,t)=>{var o;const n=(null!==(o=t.ownerDocument)&&void 0!==o?o:document).createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Yd=(e,t,o)=>Wd(t,e)===Wd(o,e),Gd=(e,t,o)=>{const n=e?"previousSibling":"nextSibling";let r=o;for(;r&&r!==t;){let e=r[n];if(e&&Id(e)&&(e=e[n]),zd(e)||Rd(e)){if(Yd(t,e,r))return e;break}if(Hd(e))break;r=r.parentNode}return null},Kd=z(qd,!0),Xd=z(qd,!1),Qd=(e,t,o)=>{let n;const r=z(Gd,!0,t),a=z(Gd,!1,t),s=o.startContainer,i=o.startOffset;if(Hr(s)){const e=Bd(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(n=e.nextSibling,Od(n)))return Kd(n);if("after"===t&&(n=e.previousSibling,Od(n)))return Xd(n)}if(!o.collapsed)return o;if(Xn(s)){if(Id(s)){if(1===e){if(n=a(s),n)return Kd(n);if(n=r(s),n)return Xd(n)}if(-1===e){if(n=r(s),n)return Xd(n);if(n=a(s),n)return Kd(n)}return o}if($r(s)&&i>=s.data.length-1)return 1===e&&(n=a(s),n)?Kd(n):o;if(Zr(s)&&i<=1)return-1===e&&(n=r(s),n)?Xd(n):o;if(i===s.data.length)return n=a(s),n?Kd(n):o;if(0===i)return n=r(s),n?Xd(n):o}return o},Jd=(e,t)=>$d(e?0:-1,t).filter(zd),eu=(e,t,o)=>{const n=Qd(e,t,o);return-1===e?Ui.fromRangeStart(n):Ui.fromRangeEnd(n)},tu=e=>H.from(e.getNode()).map(yo.fromDom),ou=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},nu=(e,t)=>{const o=Zd(e,t);return!(o||!nr(e.getNode()))||o};var ru;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(ru||(ru={}));const au=sr,su=Xn,iu=jn,lu=nr,cu=na,du=e=>ea(e)||(e=>!!ra(e)&&!Q(he(e.getElementsByTagName("*")),((e,t)=>e||Gr(t)),!1))(e),uu=aa,hu=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,pu=(e,t)=>{if(Fd(e)){if(cu(t.previousSibling)&&!su(t.previousSibling))return Ui.before(t);if(su(t))return Ui(t,0)}if(Vd(e)){if(cu(t.nextSibling)&&!su(t.nextSibling))return Ui.after(t);if(su(t))return Ui(t,t.data.length)}return Vd(e)?lu(t)?Ui.before(t):Ui.after(t):Ui.before(t)},mu=(e,t,o)=>{let n,r,a,s;if(!iu(o)||!t)return null;if(t.isEqual(Ui.after(o))&&o.lastChild){if(s=Ui.after(o.lastChild),Vd(e)&&cu(o.lastChild)&&iu(o.lastChild))return lu(o.lastChild)?Ui.before(o.lastChild):s}else s=t;const i=s.container();let l=s.offset();if(su(i)){if(Vd(e)&&l>0)return Ui(i,--l);if(Fd(e)&&l<i.length)return Ui(i,++l);n=i}else{if(Vd(e)&&l>0&&(r=hu(i,l-1),cu(r)))return!du(r)&&(a=Ud(r,e,uu,r),a)?su(a)?Ui(a,a.data.length):Ui.after(a):su(r)?Ui(r,r.data.length):Ui.before(r);if(Fd(e)&&l<i.childNodes.length&&(r=hu(i,l),cu(r)))return lu(r)?((e,t)=>{const o=t.nextSibling;return o&&cu(o)?su(o)?Ui(o,0):Ui.before(o):mu(ru.Forwards,Ui.after(t),e)})(o,r):!du(r)&&(a=Ud(r,e,uu,r),a)?su(a)?Ui(a,0):Ui.before(a):su(r)?Ui(r,0):Ui.after(r);n=r||s.getNode()}if(n&&(Fd(e)&&s.isAtEnd()||Vd(e)&&s.isAtStart())&&(n=Ud(n,e,B,o,!0),uu(n,o)))return pu(e,n);r=n?Ud(n,e,uu,o):n;const c=Ie(K(((e,t)=>{const o=[];let n=e;for(;n&&n!==t;)o.push(n),n=n.parentNode;return o})(i,o),au));return!c||r&&c.contains(r)?r?pu(e,r):null:(s=Fd(e)?Ui.after(c):Ui.before(c),s)},gu=e=>({next:t=>mu(ru.Forwards,t,e),prev:t=>mu(ru.Backwards,t,e)}),fu=e=>Ui.isTextPosition(e)?0===e.offset():na(e.getNode()),yu=e=>{if(Ui.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return na(e.getNode(!0))},bu=(e,t)=>!Ui.isTextPosition(e)&&!Ui.isTextPosition(t)&&e.getNode()===t.getNode(!0),vu=(e,t,o)=>{return e?!bu(t,o)&&(n=t,!(!Ui.isTextPosition(n)&&nr(n.getNode())))&&yu(t)&&fu(o):!bu(o,t)&&fu(t)&&yu(o);var n},_u=(e,t,o)=>{const n=gu(t);return H.from(e?n.next(o):n.prev(o))},wu=(e,t,o)=>_u(e,t,o).bind((n=>Zd(o,n,t)&&vu(e,o,n)?_u(e,t,n):H.some(n))),ku=(e,t,o,n)=>wu(e,t,o).bind((o=>n(o)?ku(e,t,o,n):H.some(o))),xu=(e,t)=>{const o=e?t.firstChild:t.lastChild;return Xn(o)?H.some(Ui(o,e?0:o.data.length)):o?na(o)?H.some(e?Ui.before(o):nr(n=o)?Ui.before(n):Ui.after(n)):((e,t,o)=>{const n=e?Ui.before(o):Ui.after(o);return _u(e,t,n)})(e,t,o):H.none();var n},Su=z(_u,!0),Cu=z(_u,!1),Eu=z(xu,!0),Du=z(xu,!1),Au="_mce_caret",Tu=e=>jn(e)&&e.id===Au,Ou=(e,t)=>{let o=t;for(;o&&o!==e;){if(Tu(o))return o;o=o.parentNode}return null},Mu=e=>Ce(e,"name"),zu=e=>Nt.isArray(e.start),Ru=e=>!(!Mu(e)&&v(e.forward))||e.forward,Nu=(e,t)=>(jn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Iu=(e,t)=>Du(e).fold(P,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),Lu=(e,t,o)=>!(!(e=>!e.hasChildNodes())(t)||!Ou(e,t))&&(((e,t)=>{var o;const n=(null!==(o=e.ownerDocument)&&void 0!==o?o:document).createTextNode(Nr);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)})(t,o),!0),Pu=(e,t,o,n)=>{const r=o[t?"start":"end"],a=e.getRoot();if(r){let e=a,o=r[0];for(let t=r.length-1;e&&t>=1;t--){const o=e.childNodes;if(Lu(a,e,n))return!0;if(r[t]>o.length-1)return!!Lu(a,e,n)||Iu(e,n);e=o[r[t]]}Xn(e)&&(o=Math.min(r[0],e.data.length)),jn(e)&&(o=Math.min(r[0],e.childNodes.length)),t?n.setStart(e,o):n.setEnd(e,o)}return!0},Bu=e=>Xn(e)&&e.data.length>0,Hu=(e,t,o)=>{const n=e.get(o.id+"_"+t),r=null==n?void 0:n.parentNode,a=o.keep;if(n&&r){let s,i;if("start"===t?a?n.hasChildNodes()?(s=n.firstChild,i=1):Bu(n.nextSibling)?(s=n.nextSibling,i=0):Bu(n.previousSibling)?(s=n.previousSibling,i=n.previousSibling.data.length):(s=r,i=e.nodeIndex(n)+1):(s=r,i=e.nodeIndex(n)):a?n.hasChildNodes()?(s=n.firstChild,i=1):Bu(n.previousSibling)?(s=n.previousSibling,i=n.previousSibling.data.length):(s=r,i=e.nodeIndex(n)):(s=r,i=e.nodeIndex(n)),!a){const r=n.previousSibling,a=n.nextSibling;let l;for(Nt.each(Nt.grep(n.childNodes),(e=>{Xn(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(o.id+"_"+t);)e.remove(l,!0);if(Xn(a)&&Xn(r)&&!Ot.browser.isOpera()){const t=r.data.length;r.appendData(a.data),e.remove(a),s=r,i=t}}return H.some(Ui(s,i))}return H.none()},Fu=(e,t)=>{const o=e.dom;if(t){if(zu(t))return((e,t)=>{const o=e.createRng();return Pu(e,!0,t,o)&&Pu(e,!1,t,o)?H.some({range:o,forward:Ru(t)}):H.none()})(o,t);if((e=>m(e.start))(t))return((e,t)=>{const o=H.from(el(e.getRoot(),t.start)),n=H.from(el(e.getRoot(),t.end));return Lt(o,n,((o,n)=>{const r=e.createRng();return r.setStart(o.container(),o.offset()),r.setEnd(n.container(),n.offset()),{range:r,forward:Ru(t)}}))})(o,t);if((e=>Ce(e,"id"))(t))return((e,t)=>{const o=Hu(e,"start",t),n=Hu(e,"end",t);return Lt(o,n.or(o),((o,n)=>{const r=e.createRng();return r.setStart(Nu(e,o.container()),o.offset()),r.setEnd(Nu(e,n.container()),n.offset()),{range:r,forward:Ru(t)}}))})(o,t);if(Mu(t))return((e,t)=>H.from(e.select(t.name)[t.index]).map((t=>{const o=e.createRng();return o.selectNode(t),{range:o,forward:!0}})))(o,t);if((e=>Ce(e,"rng"))(t))return H.some({range:t.rng,forward:Ru(t)})}return H.none()},Vu=(e,t,o)=>dl(e,t,o),ju=(e,t)=>{Fu(e,t).each((({range:t,forward:o})=>{e.setRng(t,o)}))},Uu=e=>jn(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Wu=(Zu=hr,e=>Zu===e);var Zu;const $u=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),qu=e=>!$u(e)&&!Wu(e)&&!pr(e),Yu=e=>je(e,"#").toUpperCase(),Gu=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Ku=e=>(e=>({value:Yu(e)}))(Gu(e.red)+Gu(e.green)+Gu(e.blue)),Xu=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Qu=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ju=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n}),eh=(e,t,o,n)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(o,10),i=parseFloat(n);return Ju(r,a,s,i)},th=e=>(e=>{if("transparent"===e)return H.some(Ju(0,0,0,0));const t=Xu.exec(e);if(null!==t)return H.some(eh(t[1],t[2],t[3],"1"));const o=Qu.exec(e);return null!==o?H.some(eh(o[1],o[2],o[3],o[4])):H.none()})(e).map(Ku).map((e=>"#"+e.value)).getOr(e),oh=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},nh=e=>K((e=>ne(e,(e=>{const t=wi(e);return t?[yo.fromDom(t)]:[]})))(e),Er),rh=(e,t)=>{const o=Pn(t,"td[data-mce-selected],th[data-mce-selected]");return o.length>0?o:nh(e)},ah=e=>rh(oh(e.selection.getSel()),yo.fromDom(e.getBody())),sh=(e,t)=>Xo(e,"table",t),ih=e=>Io(e).fold(T([e]),(t=>[e].concat(ih(t)))),lh=e=>Lo(e).fold(T([e]),(t=>"br"===Ut(t)?To(t).map((t=>[e].concat(lh(t)))).getOr([]):[e].concat(lh(t)))),ch=(e,t)=>Lt((e=>{const t=e.startContainer,o=e.startOffset;return Xn(t)?0===o?H.some(yo.fromDom(t)):H.none():H.from(t.childNodes[o]).map(yo.fromDom)})(t),(e=>{const t=e.endContainer,o=e.endOffset;return Xn(t)?o===t.data.length?H.some(yo.fromDom(t)):H.none():H.from(t.childNodes[o-1]).map(yo.fromDom)})(t),((t,o)=>{const n=ee(ih(e),z(wo,t)),r=ee(lh(e),z(wo,o));return n.isSome()&&r.isSome()})).getOr(!1),dh=(e,t,o,n)=>{const r=o,a=new Hn(o,r),s=we(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!W(["td","th","table"],t.toLowerCase())));let i=o;do{if(Xn(i)&&0!==Nt.trim(i.data).length)return void(n?t.setStart(i,0):t.setEnd(i,i.data.length));if(s[i.nodeName])return void(n?t.setStartBefore(i):"BR"===i.nodeName?t.setEndBefore(i):t.setEndAfter(i))}while(i=n?a.next():a.prev());"BODY"===r.nodeName&&(n?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},uh=e=>{const t=e.selection.getSel();return k(t)&&t.rangeCount>0},hh=(e,t)=>{const o=ah(e);o.length>0?q(o,(o=>{const n=o.dom,r=e.dom.createRng();r.setStartBefore(n),r.setEndAfter(n),t(r,!0)})):t(e.selection.getRng(),!1)},ph=(e,t,o)=>{const n=cl(e,t);o(n),e.moveToBookmark(n)},mh=e=>S(null==e?void 0:e.nodeType),gh=e=>jn(e)&&!Uu(e)&&!Tu(e)&&!qn(e),fh=e=>!0===e.isContentEditable,yh=(e,t,o)=>{const{selection:n,dom:r}=e,a=n.getNode(),s=sr(a);ph(n,!0,(()=>{t()}));s&&sr(a)&&r.isChildOf(a,e.getBody())?e.selection.select(a):o(n.getStart())&&bh(r,n)},bh=(e,t)=>{var o,n;const r=t.getRng(),{startContainer:a,startOffset:s}=r;if(!((e,t)=>{if(gh(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),n=parseInt(o,10);return!isNaN(n)&&n>0}return!1})(e,t.getNode())&&jn(a)){const i=a.childNodes,l=e.getRoot();let c;if(s<i.length){const t=i[s];c=new Hn(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:l)}else{const t=i[i.length-1];c=new Hn(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l),c.next(!0)}for(let o=c.current();o;o=c.next()){if("false"===e.getContentEditable(o))return;if(Xn(o)&&!kh(o))return r.setStart(o,0),void t.setRng(r)}}},vh=(e,t,o)=>{if(e){const n=t?"nextSibling":"previousSibling";for(e=o?e:e[n];e;e=e[n])if(jn(e)||!kh(e))return e}},_h=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ta(e,t),wh=(e,t,o)=>e.schema.isValidChild(t,o),kh=(e,t=!1)=>{if(k(e)&&Xn(e)){const o=t?e.data.replace(/ /g," "):e.data;return ia(o)}return!1},xh=(e,t)=>{const o=e.dom;return gh(t)&&"false"===o.getContentEditable(t)&&((e,t)=>{const o="[data-mce-cef-wrappable]",n=kc(e),r=Xe(n)?o:`${o},${n}`;return vo(yo.fromDom(t),r)})(e,t)&&0===o.select('[contenteditable="true"]',t).length},Sh=(e,t)=>x(e)?e(t):(k(t)&&(e=e.replace(/%(\w+)/g,((e,o)=>t[o]||e))),e),Ch=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Eh=(e,t)=>{if(w(e))return null;{let o=String(e);return"color"!==t&&"backgroundColor"!==t||(o=th(o)),"fontWeight"===t&&700===e&&(o="bold"),"fontFamily"===t&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Dh=(e,t,o)=>{const n=e.getStyle(t,o);return Eh(n,o)},Ah=(e,t)=>{let o;return e.getParent(t,(t=>!!jn(t)&&(o=e.getStyle(t,"text-decoration"),!!o&&"none"!==o))),o},Th=(e,t,o)=>e.getParents(t,o,e.getRoot()),Oh=(e,t,o)=>{const n=e.formatter.get(t);return k(n)&&Z(n,o)},Mh=(e,t,o)=>{const n=["inline","block","selector","attributes","styles","classes"],r=e=>we(e,((e,t)=>Z(n,(e=>e===t))));return Oh(e,t,(t=>{const n=r(t);return Oh(e,o,(e=>{const t=r(e);return((e,t,o=i)=>s(o).eq(e,t))(n,t)}))}))},zh=e=>Ee(e,"block"),Rh=e=>Ee(e,"selector"),Nh=e=>Ee(e,"inline"),Ih=e=>Rh(e)&&!1!==e.expand&&!Nh(e),Lh=Uu,Ph=Th,Bh=kh,Hh=_h,Fh=(e,t)=>{let o=t;for(;o;){if(jn(o)&&e.getContentEditable(o))return"false"===e.getContentEditable(o)?o:t;o=o.parentNode}return t},Vh=(e,t,o,n)=>{const r=t.data;if(e){for(let e=o;e>0;e--)if(n(r.charAt(e-1)))return e}else for(let e=o;e<r.length;e++)if(n(r.charAt(e)))return e;return-1},jh=(e,t,o)=>Vh(e,t,o,(e=>Wu(e)||$u(e))),Uh=(e,t,o)=>Vh(e,t,o,qu),Wh=(e,t,o,n,r,a)=>{let s;const i=e.getParent(o,e.isBlock)||t,l=(t,o,n)=>{const a=pi(e),l=r?a.backwards:a.forwards;return H.from(l(t,o,((e,t)=>Lh(e.parentNode)?-1:(s=e,n(r,e,t))),i))};return l(o,n,jh).bind((e=>a?l(e.container,e.offset+(r?-1:0),Uh):H.some(e))).orThunk((()=>s?H.some({container:s,offset:r?0:s.length}):H.none()))},Zh=(e,t,o,n,r)=>{const a=n[r];Xn(n)&&Xe(n.data)&&a&&(n=a);const s=Ph(e,n);for(let n=0;n<s.length;n++)for(let r=0;r<t.length;r++){const a=t[r];if((!k(a.collapsed)||a.collapsed===o.collapsed)&&(Rh(a)&&e.is(s[n],a.selector)))return s[n]}return n},$h=(e,t,o,n)=>{var r;let a=o;const s=e.getRoot(),i=t[0];if(zh(i)&&(a=i.wrapper?null:e.getParent(o,i.block,s)),!a){const t=null!==(r=e.getParent(o,"LI,TD,TH"))&&void 0!==r?r:s;a=e.getParent(Xn(o)?o.parentNode:o,(t=>t!==s&&Hh(e.schema,t)),t)}if(a&&zh(i)&&i.wrapper&&(a=Ph(e,a,"ul,ol").reverse()[0]||a),!a)for(a=o;a&&a[n]&&!e.isBlock(a[n])&&(a=a[n],!Ch(a,"br")););return a||o},qh=(e,t,o,n)=>{const r=o.parentNode;return!k(o[n])&&(!(r!==t&&!w(r)&&!e.isBlock(r))||qh(e,t,r,n))},Yh=(e,t,o,n,r)=>{let a=o;const s=r?"previousSibling":"nextSibling",i=e.getRoot();if(Xn(o)&&!Bh(o)&&(r?n>0:n<o.data.length))return o;for(;a;){if(!t[0].block_expand&&e.isBlock(a))return a;for(let t=a[s];t;t=t[s]){const o=Xn(t)&&!qh(e,i,t,s);if(!Lh(t)&&(!nr(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!Bh(t,o))return a}if(a===i||a.parentNode===i){o=a;break}a=a.parentNode}var l;return o},Gh=e=>Lh(e.parentNode)||Lh(e),Kh=(e,t,o,n=!1)=>{let{startContainer:r,startOffset:a,endContainer:s,endOffset:i}=t;const l=o[0];if(jn(r)&&r.hasChildNodes()&&(r=ki(r,a),Xn(r)&&(a=0)),jn(s)&&s.hasChildNodes()&&(s=ki(s,t.collapsed?i:i-1),Xn(s)&&(i=s.data.length)),r=Fh(e,r),s=Fh(e,s),Gh(r)&&(r=Lh(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,Xn(r)&&(a=t.collapsed?r.length:0)),Gh(s)&&(s=Lh(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,Xn(s)&&(i=t.collapsed?0:s.length)),t.collapsed){Wh(e,e.getRoot(),r,a,!0,n).each((({container:e,offset:t})=>{r=e,a=t}));Wh(e,e.getRoot(),s,i,!1,n).each((({container:e,offset:t})=>{s=e,i=t}))}return(Nh(l)||l.block_expand)&&(Nh(l)&&Xn(r)&&0!==a||(r=Yh(e,o,r,a,!0)),Nh(l)&&Xn(s)&&i!==s.data.length||(s=Yh(e,o,s,i,!1))),Ih(l)&&(r=Zh(e,o,t,r,"previousSibling"),s=Zh(e,o,t,s,"nextSibling")),(zh(l)||Rh(l))&&(r=$h(e,o,r,"previousSibling"),s=$h(e,o,s,"nextSibling"),zh(l)&&(e.isBlock(r)||(r=Yh(e,o,r,a,!0)),e.isBlock(s)||(s=Yh(e,o,s,i,!1)))),jn(r)&&r.parentNode&&(a=e.nodeIndex(r),r=r.parentNode),jn(s)&&s.parentNode&&(i=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:r,startOffset:a,endContainer:s,endOffset:i}},Xh=(e,t,o)=>{var n;const r=t.startOffset,a=ki(t.startContainer,r),s=t.endOffset,i=ki(t.endContainer,s-1),l=e=>{const t=e[0];Xn(t)&&t===a&&r>=t.data.length&&e.splice(0,1);const o=e[e.length-1];return 0===s&&e.length>0&&o===i&&Xn(o)&&e.splice(e.length-1,1),e},c=(e,t,o)=>{const n=[];for(;e&&e!==o;e=e[t])n.push(e);return n},d=(t,o)=>e.getParent(t,(e=>e.parentNode===o),o),u=(e,t,n)=>{const r=n?"nextSibling":"previousSibling";for(let a=e,s=a.parentNode;a&&a!==t;a=s){s=a.parentNode;const t=c(a===e?a:a[r],r);t.length&&(n||t.reverse(),o(l(t)))}};if(a===i)return o(l([a]));const h=null!==(n=e.findCommonAncestor(a,i))&&void 0!==n?n:e.getRoot();if(e.isChildOf(a,i))return u(a,h,!0);if(e.isChildOf(i,a))return u(i,h);const p=d(a,h)||a,m=d(i,h)||i;u(a,p,!0);const g=c(p===a?p:p.nextSibling,"nextSibling",m===i?m.nextSibling:m);g.length&&o(l(g)),u(i,m)},Qh=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Jh=(e,t,o,n)=>Eo(t).fold((()=>"skipping"),(r=>"br"===n||(e=>qt(e)&&gr(e)===Nr)(t)?"valid":(e=>$t(e)&&go(e,Ys()))(t)?"existing":Tu(t.dom)?"caret":Z(Qh,(e=>vo(t,e)))?"valid-block":wh(e,o,n)&&wh(e,Ut(r),o)?"valid":"invalid-child")),ep=(e,t,o,n,r,a)=>{const{uid:s=t,...i}=o;uo(e,Ys()),Qt(e,`${Ks()}`,s),Qt(e,`${Gs()}`,n);const{attributes:l={},classes:c=[]}=r(s,i);if(Jt(e,l),((e,t)=>{q(t,(t=>{uo(e,t)}))})(e,c),a){c.length>0&&Qt(e,`${Qs()}`,c.join(","));const t=me(l);t.length>0&&Qt(e,`${Js()}`,t.join(","))}},tp=e=>{po(e,Ys()),no(e,`${Ks()}`),no(e,`${Gs()}`),no(e,`${Xs()}`);const t=to(e,`${Js()}`).map((e=>e.split(","))).getOr([]),o=to(e,`${Qs()}`).map((e=>e.split(","))).getOr([]);var n;q(t,(t=>no(e,t))),n=e,q(o,(e=>{po(n,e)})),no(e,`${Qs()}`),no(e,`${Js()}`)},op=(e,t,o,n,r)=>{const a=yo.fromTag("span",e);return ep(a,t,o,n,r,!1),a},np=(e,t,o,n,r,a)=>{const s=[],i=op(e.getDoc(),o,a,n,r),l=Zs(),c=()=>{l.clear()},d=e=>{q(e,u)},u=t=>{switch(Jh(e,t,"span",Ut(t))){case"invalid-child":{c();const e=Ro(t);d(e),c();break}case"valid-block":c(),ep(t,o,a,n,r,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=ci(i);return s.push(e),l.set(e),e}));fn(t,e);break}}};return Xh(e.dom,t,(e=>{c(),(e=>{const t=$(e,yo.fromDom);d(t)})(e)})),s},rp=(e,t,o,n)=>{e.undoManager.transact((()=>{const r=e.selection,a=r.getRng(),s=ah(e).length>0,i=ii("mce-annotation");if(a.collapsed&&!s&&((e,t)=>{const o=Kh(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)})(e,a),r.getRng().collapsed&&!s){const a=op(e.getDoc(),i,n,t,o.decorate);xn(a,hr),r.getRng().insertNode(a.dom),r.select(a.dom)}else ph(r,!1,(()=>{hh(e,(r=>{np(e,r,i,t,o.decorate,n)}))}))}))},ap=e=>{const t=(()=>{const e={};return{register:(t,o)=>{e[t]={name:t,settings:o}},lookup:t=>Se(e,t).map((e=>e.settings)),getNames:()=>me(e)}})();((e,t)=>{const o=Gs(),n=e=>H.from(e.attr(o)).bind(t.lookup),r=e=>{var t,o;e.attr(Ks(),null),e.attr(Gs(),null),e.attr(Xs(),null);const n=H.from(e.attr(Js())).map((e=>e.split(","))).getOr([]),r=H.from(e.attr(Qs())).map((e=>e.split(","))).getOr([]);q(n,(t=>e.attr(t,null)));const a=null!==(o=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==o?o:[],s=se(a,[Ys()].concat(r));e.attr("class",s.length>0?s.join(" "):null),e.attr(Qs(),null),e.attr(Js(),null)};e.serializer.addTempAttr(Xs()),e.serializer.addAttributeFilter(o,(e=>{for(const t of e)n(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():r(t))}))}))})(e,t);const o=ai(e,t),n=Kt("span"),r=e=>{q(e,(e=>{n(e)?_n(e):tp(e)}))};return{register:(e,o)=>{t.register(e,o)},annotate:(o,n)=>{t.lookup(o).each((t=>{rp(e,o,t,n)}))},annotationChanged:(e,t)=>{o.addListener(e,t)},remove:t=>{ti(e,H.some(t)).each((({elements:t})=>{const o=e.selection.getBookmark();r(t),e.selection.moveToBookmark(o)}))},removeAll:t=>{const o=e.selection.getBookmark();fe(ri(e,t),((e,t)=>{r(e)})),e.selection.moveToBookmark(o)},getAll:t=>{const o=ri(e,t);return ye(o,(e=>$(e,(e=>e.dom))))}}},sp=e=>({getBookmark:z(Vu,e),moveToBookmark:z(ju,e)});sp.isBookmarkNode=Uu;const ip=(e,t,o)=>!o.collapsed&&Z(o.getClientRects(),(o=>((e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom)(o,e,t))),lp=(e,t,o)=>{e.dispatch(t,o)},cp=(e,t,o,n)=>{e.dispatch("FormatApply",{format:t,node:o,vars:n})},dp=(e,t,o,n)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:n})},up=(e,t)=>e.dispatch("SetContent",t),hp=(e,t)=>e.dispatch("GetContent",t),pp=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),mp={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||mp.metaKeyPressed(e),metaKeyPressed:e=>Ot.os.isMacOS()||Ot.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},gp="data-mce-selected",fp=Math.abs,yp=Math.round,bp={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},vp=(e,t)=>{const o=t.dom,n=t.getDoc(),r=document,a=t.getBody();let s,i,l,c,d,u,h,p,m,g,f,y,b,v,_;const w=e=>k(e)&&(rr(e)||o.is(e,"figure.image")),x=e=>cr(e)||o.hasClass(e,"mce-preview-object"),S=e=>{const o=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const o=e.touches[0];return w(e.target)&&!ip(o.clientX,o.clientY,t)}return w(e.target)&&!ip(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(o)},C=e=>o.hasClass(e,"mce-preview-object")&&k(e.firstElementChild)?[e,e.firstElementChild]:o.is(e,"figure.image")?[e.querySelector("img")]:[e],E=e=>{const n=cc(t);return!!n&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(o.hasClass(e,"mce-preview-object")&&k(e.firstElementChild)?vo(yo.fromDom(e.firstElementChild),n):vo(yo.fromDom(e),n))))},D=(e,n,r)=>{if(k(r)){const a=C(e);q(a,(e=>{e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?o.setStyle(e,n,r):o.setAttrib(e,n,""+r)}))}},A=(e,t,o)=>{D(e,"width",t),D(e,"height",o)},T=e=>{let n,r,d,k,S;n=e.screenX-u,r=e.screenY-h,y=n*c[2]+p,b=r*c[3]+m,y=y<5?5:y,b=b<5?5:b,d=(w(s)||x(s))&&!1!==dc(t)?!mp.modifierPressed(e):mp.modifierPressed(e),d&&(fp(n)>fp(r)?(b=yp(y*g),y=yp(b/g)):(y=yp(b/g),b=yp(y*g))),A(i,y,b),k=c.startPos.x+n,S=c.startPos.y+r,k=k>0?k:0,S=S>0?S:0,o.setStyles(l,{left:k,top:S,display:"block"}),l.innerHTML=y+" &times; "+b,c[2]<0&&i.clientWidth<=y&&o.setStyle(i,"left",undefined+(p-y)),c[3]<0&&i.clientHeight<=b&&o.setStyle(i,"top",undefined+(m-b)),n=a.scrollWidth-v,r=a.scrollHeight-_,n+r!==0&&o.setStyles(l,{left:k-n,top:S-r}),f||(((e,t,o,n,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:r})})(t,s,p,m,"corner-"+c.name),f=!0)},O=()=>{const e=f;f=!1,e&&(D(s,"width",y),D(s,"height",b)),o.unbind(n,"mousemove",T),o.unbind(n,"mouseup",O),r!==n&&(o.unbind(r,"mousemove",T),o.unbind(r,"mouseup",O)),o.remove(i),o.remove(l),o.remove(d),M(s),e&&(((e,t,o,n,r)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:r})})(t,s,y,b,"corner-"+c.name),o.setAttrib(s,"style",o.getAttrib(s,"style"))),t.nodeChanged()},M=e=>{L();const f=o.getPos(e,a),w=f.x,k=f.y,S=e.getBoundingClientRect(),D=S.width||S.right-S.left,M=S.height||S.bottom-S.top;s!==e&&(R(),s=e,y=b=0);const z=t.dispatch("ObjectSelected",{target:e});E(e)&&!z.isDefaultPrevented()?fe(bp,((e,t)=>{const f=f=>{const y=C(s)[0];var b;u=f.screenX,h=f.screenY,p=y.clientWidth,m=y.clientHeight,g=m/p,c=e,c.name=t,c.startPos={x:D*e[0]+w,y:M*e[1]+k},v=a.scrollWidth,_=a.scrollHeight,d=o.add(a,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),i=x(b=s)?o.create("img",{src:Ot.transparentSrc}):b.cloneNode(!0),o.addClass(i,"mce-clonedresizable"),o.setAttrib(i,"data-mce-bogus","all"),i.contentEditable="false",o.setStyles(i,{left:w,top:k,margin:0}),A(i,D,M),i.removeAttribute(gp),a.appendChild(i),o.bind(n,"mousemove",T),o.bind(n,"mouseup",O),r!==n&&(o.bind(r,"mousemove",T),o.bind(r,"mouseup",O)),l=o.add(a,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+m)};let y=o.get("mceResizeHandle"+t);y&&o.remove(y),y=o.add(a,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),o.bind(y,"mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),f(e)})),e.elm=y,o.setStyles(y,{left:D*e[0]+w-y.offsetWidth/2,top:M*e[1]+k-y.offsetHeight/2})})):R(!1)},z=$s(M,0),R=(e=!0)=>{z.cancel(),L(),s&&e&&s.removeAttribute(gp),fe(bp,((e,t)=>{const n=o.get("mceResizeHandle"+t);n&&(o.unbind(n),o.remove(n))}))},N=(e,t)=>o.isChildOf(e,t),I=n=>{if(f||t.removed||t.composing)return;const r="mousedown"===n.type?n.target:e.getNode(),s=Jo(yo.fromDom(r),"table,img,figure.image,hr,video,span.mce-preview-object").map((e=>e.dom)).filter((e=>o.isEditable(e.parentElement))).getOrUndefined(),i=k(s)?o.getAttrib(s,gp,"1"):"1";if(q(o.select(`img[${gp}],hr[${gp}]`),(e=>{e.removeAttribute(gp)})),k(s)&&N(s,a)){P();const t=e.getStart(!0);if(N(t,s)&&N(e.getEnd(!0),s))return o.setAttrib(s,gp,i),void z.throttle(s)}R()},L=()=>{fe(bp,(e=>{e.elm&&(o.unbind(e.elm),delete e.elm)}))},P=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(()=>{P(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&I(e)})),t.on("hide blur",R),t.on("contextmenu longpress",S,!0)})),t.on("remove",L);return{isResizable:E,showResizeRect:M,hideResizeRect:R,updateResizeRect:I,destroy:()=>{z.cancel(),s=i=d=null}}},_p=(e,t,o)=>{const n=e.document.createRange();var r;return r=n,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))})(n,o),n},wp=(e,t,o,n,r)=>{const a=e.document.createRange();return a.setStart(t.dom,o),a.setEnd(n.dom,r),a},kp=gl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),xp=(e,t,o)=>t(yo.fromDom(o.startContainer),o.startOffset,yo.fromDom(o.endContainer),o.endOffset),Sp=(e,t)=>{const o=((e,t)=>t.match({domRange:e=>({ltr:T(e),rtl:H.none}),relative:(t,o)=>({ltr:Le((()=>_p(e,t,o))),rtl:Le((()=>H.some(_p(e,o,t))))}),exact:(t,o,n,r)=>({ltr:Le((()=>wp(e,t,o,n,r))),rtl:Le((()=>H.some(wp(e,n,r,t,o))))})}))(e,t);return((e,t)=>{const o=t.ltr();if(o.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>kp.rtl(yo.fromDom(e.endContainer),e.endOffset,yo.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>xp(0,kp.ltr,o)));return xp(0,kp.ltr,o)})(0,o)};kp.ltr,kp.rtl;const Cp=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n}),Ep=(e,t,o)=>{var n,r;return H.from(null===(r=(n=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(n,t,o)).bind((t=>{if(null===t.offsetNode)return H.none();const o=e.dom.createRange();return o.setStart(t.offsetNode,t.offset),o.collapse(),H.some(o)}))},Dp=(e,t,o)=>{var n,r;return H.from(null===(r=(n=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(n,t,o))},Ap=document.caretPositionFromPoint?Ep:document.caretRangeFromPoint?Dp:H.none,Tp=gl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Op={before:Tp.before,on:Tp.on,after:Tp.after,cata:(e,t,o,n)=>e.fold(t,o,n),getStart:e=>e.fold(O,O,O)},Mp=gl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),zp={domRange:Mp.domRange,relative:Mp.relative,exact:Mp.exact,exactFromRange:e=>Mp.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>yo.fromDom(e.startContainer),relative:(e,t)=>Op.getStart(e),exact:(e,t,o,n)=>e}))(e);return Co(t)},range:Cp},Rp=(e,t)=>{const o=Ut(e);return"input"===o?Op.after(e):W(["br","img"],o)?0===t?Op.before(e):Op.after(e):Op.on(e,t)},Np=(e,t)=>{const o=e.fold(Op.before,Rp,Op.after),n=t.fold(Op.before,Rp,Op.after);return zp.relative(o,n)},Ip=(e,t,o,n)=>{const r=Rp(e,t),a=Rp(o,n);return zp.relative(r,a)},Lp=(e,t)=>{const o=(t||document).createDocumentFragment();return q(e,(e=>{o.appendChild(e.dom)})),yo.fromDom(o)},Pp=e=>{const t=zp.getWin(e).dom,o=(e,o,n,r)=>wp(t,e,o,n,r),n=(e=>e.match({domRange:e=>{const t=yo.fromDom(e.startContainer),o=yo.fromDom(e.endContainer);return Ip(t,e.startOffset,o,e.endOffset)},relative:Np,exact:Ip}))(e);return Sp(t,n).match({ltr:o,rtl:o})},Bp=(e,t,o)=>((e,t,o)=>{const n=yo.fromDom(e.document);return Ap(n,t,o).map((e=>Cp(yo.fromDom(e.startContainer),e.startOffset,yo.fromDom(e.endContainer),e.endOffset)))})(e,t,o),Hp=(e,t,o)=>{const n=Co(yo.fromDom(o));return Bp(n.dom,e,t).map((e=>{const t=o.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined()},Fp=(e,t)=>k(e)&&k(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Vp=(e,t,o)=>null!==((e,t,o)=>{let n=e;for(;n&&n!==t;){if(o(n))return n;n=n.parentNode}return null})(e,t,o),jp=(e,t,o)=>Vp(e,t,(e=>e.nodeName===o)),Up=(e,t)=>Vr(e)&&!Vp(e,t,Tu),Wp=(e,t,o)=>{const n=t.parentNode;if(n){const r=new Hn(t,e.getParent(n,e.isBlock)||e.getRoot());let a;for(;a=r[o?"prev":"next"]();)if(nr(a))return!0}return!1},Zp=(e,t,o,n,r)=>{const a=e.getRoot(),s=e.schema.getNonEmptyElements(),i=r.parentNode;let l,c;if(!i)return H.none();const d=e.getParent(i,e.isBlock)||a;if(n&&nr(r)&&t&&e.isEmpty(d))return H.some(Ui(i,e.nodeIndex(r)));const u=new Hn(r,d);for(;c=u[n?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||Up(c,a))return H.none();if(Xn(c)&&c.data.length>0)return jp(c,a,"A")?H.none():H.some(Ui(c,n?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return H.none();l=c}return er(l)?H.none():o&&l?H.some(Ui(l,0)):H.none()},$p=(e,t,o,n)=>{const r=e.getRoot();let a,s=!1,i=o?n.startContainer:n.endContainer,l=o?n.startOffset:n.endOffset;const c=jn(i)&&l===i.childNodes.length,d=e.schema.getNonEmptyElements();let u=o;if(Vr(i))return H.none();if(jn(i)&&l>i.childNodes.length-1&&(u=!1),tr(i)&&(i=r,l=0),i===r){if(u&&(a=i.childNodes[l>0?l-1:0],a)){if(Vr(a))return H.none();if(d[a.nodeName]||Yn(a))return H.none()}if(i.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,i.childNodes.length-1),i=i.childNodes[l],l=Xn(i)&&c?i.data.length:0,!t&&i===r.lastChild&&Yn(i))return H.none();if(((e,t)=>{let o=t;for(;o&&o!==e;){if(sr(o))return!0;o=o.parentNode}return!1})(r,i)||Vr(i))return H.none();if(i.hasChildNodes()&&!Yn(i)){a=i;const t=new Hn(i,r);do{if(sr(a)||Vr(a)){s=!1;break}if(Xn(a)&&a.data.length>0){l=u?0:a.data.length,i=a,s=!0;break}if(d[a.nodeName.toLowerCase()]&&!lr(a)){l=e.nodeIndex(a),i=a.parentNode,u||l++,s=!0;break}}while(a=u?t.next():t.prev())}}}return t&&(Xn(i)&&0===l&&Zp(e,c,t,!0,i).each((e=>{i=e.container(),l=e.offset(),s=!0})),jn(i)&&(a=i.childNodes[l],a||(a=i.childNodes[l-1]),!a||!nr(a)||((e,t)=>{var o;return(null===(o=e.previousSibling)||void 0===o?void 0:o.nodeName)===t})(a,"A")||Wp(e,a,!1)||Wp(e,a,!0)||Zp(e,c,t,!0,a).each((e=>{i=e.container(),l=e.offset(),s=!0})))),u&&!t&&Xn(i)&&l===i.data.length&&Zp(e,c,t,!1,i).each((e=>{i=e.container(),l=e.offset(),s=!0})),s&&i?H.some(Ui(i,l)):H.none()},qp=(e,t)=>{const o=t.collapsed,n=t.cloneRange(),r=Ui.fromRangeStart(t);return $p(e,o,!0,n).each((e=>{o&&Ui.isAbove(r,e)||n.setStart(e.container(),e.offset())})),o||$p(e,o,!1,n).each((e=>{n.setEnd(e.container(),e.offset())})),o&&n.collapse(!0),Fp(t,n)?H.none():H.some(n)},Yp=(e,t)=>e.splitText(t),Gp=e=>{let t=e.startContainer,o=e.startOffset,n=e.endContainer,r=e.endOffset;if(t===n&&Xn(t)){if(o>0&&o<t.data.length)if(n=Yp(t,o),t=n.previousSibling,r>o){r-=o;const e=Yp(n,r).previousSibling;t=n=e,r=e.data.length,o=0}else r=0}else if(Xn(t)&&o>0&&o<t.data.length&&(t=Yp(t,o),o=0),Xn(n)&&r>0&&r<n.data.length){const e=Yp(n,r).previousSibling;n=e,r=e.data.length}return{startContainer:t,startOffset:o,endContainer:n,endOffset:r}},Kp=e=>({walk:(t,o)=>Xh(e,t,o),split:Gp,expand:(t,o={type:"word"})=>{if("word"===o.type){const o=Kh(e,t,[{inline:"span"}]),n=e.createRng();return n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),n}return t},normalize:t=>qp(e,t).fold(P,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});Kp.compareRanges=Fp,Kp.getCaretRangeFromPoint=Hp,Kp.getSelectedNode=wi,Kp.getNode=ki;const Xp=((e,t)=>{const o=o=>{const n=t(o);if(n<=0||null===n){const t=sn(o,e);return parseFloat(t)||0}return n},n=(e,t)=>Q(t,((t,o)=>{const n=sn(e,o),r=void 0===n?0:parseInt(n,10);return isNaN(r)?t:t+r}),0);return{set:(t,o)=>{if(!S(o)&&!o.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+o);const n=t.dom;on(n)&&(n.style[e]=o+"px")},get:o,getOuter:o,aggregate:n,max:(e,t,o)=>{const r=n(e,o);return t>r?t-r:0}}})("height",(e=>{const t=e.dom;return $o(e)?t.getBoundingClientRect().height:t.offsetHeight})),Qp=()=>yo.fromDom(document),Jp=(e,t)=>e.view(t).fold(T([]),(t=>{const o=e.owner(t),n=Jp(e,o);return[t].concat(n)}));var em=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?H.none():H.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(yo.fromDom)},owner:e=>So(e)});const tm=e=>{const t=Qp(),o=Mn(t),n=((e,t)=>{const o=t.owner(e);return Jp(t,o)})(e,em),r=On(e),a=X(n,((e,t)=>{const o=On(t);return{left:e.left+o.left,top:e.top+o.top}}),{left:0,top:0});return An(a.left+r.left+o.left,a.top+r.top+o.top)},om=e=>"textarea"===Ut(e),nm=(e,t)=>{const o=(e=>{const t=e.dom.ownerDocument,o=t.body,n=t.defaultView,r=t.documentElement;if(o===e.dom)return An(o.offsetLeft,o.offsetTop);const a=Tn(null==n?void 0:n.pageYOffset,r.scrollTop),s=Tn(null==n?void 0:n.pageXOffset,r.scrollLeft),i=Tn(r.clientTop,o.clientTop),l=Tn(r.clientLeft,o.clientLeft);return On(e).translate(s-l,a-i)})(e),n=(e=>Xp.get(e))(e);return{element:e,bottom:o.top+n,height:n,pos:o,cleanup:t}},rm=(e,t)=>{const o=((e,t)=>{const o=Ro(e);if(0===o.length||om(e))return{element:e,offset:t};if(t<o.length&&!om(o[t]))return{element:o[t],offset:0};{const n=o[o.length-1];return om(n)?{element:e,offset:t}:"img"===Ut(n)?{element:n,offset:1}:qt(n)?{element:n,offset:gr(n).length}:{element:n,offset:Ro(n).length}}})(e,t),n=yo.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return hn(o.element,n),nm(n,(()=>vn(n)))},am=(e,t,o,n)=>{cm(e,((r,a)=>im(e,t,o,n)),o)},sm=(e,t,o,n,r)=>{const a={elm:n.element.dom,alignToTop:r};if(((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,a))return;o(t,Mn(t).top,n,r),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,a)},im=(e,t,o,n)=>{const r=yo.fromDom(e.getBody()),a=yo.fromDom(e.getDoc());r.dom.offsetWidth;const s=rm(yo.fromDom(o.startContainer),o.startOffset);sm(e,a,t,s,n),s.cleanup()},lm=(e,t,o,n)=>{const r=yo.fromDom(e.getDoc());sm(e,r,o,(e=>nm(yo.fromDom(e),E))(t),n)},cm=(e,t,o)=>{const n=o.startContainer,r=o.startOffset,a=o.endContainer,s=o.endOffset;t(yo.fromDom(n),yo.fromDom(a));const i=e.dom.createRng();i.setStart(n,r),i.setEnd(a,s),e.selection.setRng(o)},dm=(e,t,o,n)=>{const r=e.pos;if(o)zn(r.left,r.top,n);else{const o=r.top-t+e.height;zn(r.left,o,n)}},um=(e,t,o,n,r)=>{const a=o+t,s=n.pos.top,i=n.bottom,l=i-s>=o;if(s<t)dm(n,o,!1!==r,e);else if(s>a){dm(n,o,l?!1!==r:!0===r,e)}else i>a&&!l&&dm(n,o,!0===r,e)},hm=(e,t,o,n)=>{const r=Co(e).dom.innerHeight;um(e,t,r,o,n)},pm=(e,t,o,n)=>{const r=Co(e).dom.innerHeight;um(e,t,r,o,n);const a=tm(o.element),s=In(window);a.top<s.y?Rn(o.element,!1!==n):a.top>s.bottom&&Rn(o.element,!0===n)},mm=(e,t,o)=>am(e,hm,t,o),gm=(e,t,o)=>lm(e,t,hm,o),fm=(e,t,o)=>am(e,pm,t,o),ym=(e,t,o)=>lm(e,t,pm,o),bm=(e,t,o)=>{(e.inline?mm:fm)(e,t,o)},vm=e=>e.dom.focus(),_m=e=>{const t=Vo(e).dom;return e.dom===t.activeElement},wm=(e=Qp())=>H.from(e.dom.activeElement).map(yo.fromDom),km=(e,t)=>{const o=qt(t)?gr(t).length:Ro(t).length+1;return e>o?o:e<0?0:e},xm=e=>zp.range(e.start,km(e.soffset,e.start),e.finish,km(e.foffset,e.finish)),Sm=(e,t)=>!Vn(t.dom)&&(ko(e,t)||wo(e,t)),Cm=e=>t=>Sm(e,t.start)&&Sm(e,t.finish),Em=e=>zp.range(yo.fromDom(e.startContainer),e.startOffset,yo.fromDom(e.endContainer),e.endOffset),Dm=e=>(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?H.from(t.getRangeAt(0)):H.none()).map(Em)})(Co(e).dom).filter(Cm(e)),Am=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),H.some(t)}catch(e){return H.none()}},Tm=e=>{const t=(e=>e.inline||Ot.browser.isFirefox())(e)?Dm(yo.fromDom(e.getBody())):H.none();e.bookmark=t.isSome()?t:e.bookmark},Om=e=>(e.bookmark?e.bookmark:H.none()).bind((t=>((e,t)=>H.from(t).filter(Cm(e)).map(xm))(yo.fromDom(e.getBody()),t))).bind(Am),Mm={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},zm={setEditorTimeout:(e,t,o)=>((e,t)=>(S(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),o),setEditorInterval:(e,t,o)=>{const n=((e,t)=>(S(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(n):t()}),o);return n}},Rm=e=>{const t=$s((()=>{Tm(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const o=()=>{t.throttle()};Is.DOM.bind(document,"mouseup",o),e.on("remove",(()=>{Is.DOM.unbind(document,"mouseup",o)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||Tm(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))};let Nm;const Im=Is.DOM,Lm=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Pm=(e,t)=>{const o=xc(e),n=Im.getParent(t,(t=>(e=>jn(e)&&Mm.isEditorUIElement(e))(t)||!!o&&e.dom.is(t,o)));return null!==n},Bm=e=>{try{const t=Vo(yo.fromDom(e.getElement()));return wm(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},Hm=(e,t)=>{const o=t.editor;Rm(o);const n=(e,t)=>{if(cd(e)&&!0!==e.inline){t(yo.fromDom(e.getContainer()),"tox-edit-focus")}};o.on("focusin",(()=>{const t=e.focusedEditor;Lm(Bm(o))&&n(o,uo),t!==o&&(t&&t.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:t}),o.focus(!0))})),o.on("focusout",(()=>{zm.setEditorTimeout(o,(()=>{const t=e.focusedEditor;Lm(Bm(o))&&t===o||n(o,po),Pm(o,Bm(o))||t!==o||(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Nm||(Nm=t=>{const o=e.activeEditor;o&&Wo(t).each((t=>{const n=t;n.ownerDocument===document&&(n===document.body||Pm(o,n)||e.focusedEditor!==o||(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Im.bind(document,"focusin",Nm))},Fm=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Nm&&(Im.unbind(document,"focusin",Nm),Nm=null)},Vm=(e,t)=>(e=>e.collapsed?H.from(ki(e.startContainer,e.startOffset)).map(yo.fromDom):H.none())(t).bind((t=>Cr(t)?H.some(t):ko(e,t)?H.none():H.some(e))),jm=(e,t)=>{Vm(yo.fromDom(e.getBody()),t).bind((e=>Eu(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},Um=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Wm=e=>{return _m(e)||(t=e,wm(Vo(t)).filter((e=>t.dom.contains(e.dom)))).isSome();var t},Zm=e=>e.inline?(e=>{const t=e.getBody();return t&&Wm(yo.fromDom(t))})(e):(e=>k(e.iframeElement)&&_m(yo.fromDom(e.iframeElement)))(e),$m=e=>Zm(e)||(e=>{const t=Vo(yo.fromDom(e.getElement()));return wm(t).filter((t=>!Lm(t.dom)&&Pm(e,t.dom))).isSome()})(e),qm=e=>e.editorManager.setActive(e),Ym=(e,t)=>{e.removed||(t?qm(e):(e=>{const t=e.selection,o=e.getBody();let n=t.getRng();e.quirks.refreshContentEditable(),k(e.bookmark)&&!Zm(e)&&Om(e).each((t=>{e.selection.setRng(t),n=t}));const r=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(r&&e.dom.isChildOf(r,o))return Um(r),jm(e,n),void qm(e);e.inline||(Ot.browser.isOpera()||Um(o),e.getWin().focus()),(Ot.browser.isFirefox()||e.inline)&&(Um(o),jm(e,n)),qm(e)})(e))},Gm=(e,t,o,n,r)=>{const a=o?t.startContainer:t.endContainer,s=o?t.startOffset:t.endOffset;return H.from(a).map(yo.fromDom).map((e=>n&&t.collapsed?e:No(e,r(e,s)).getOr(e))).bind((e=>$t(e)?H.some(e):Eo(e).filter($t))).map((e=>e.dom)).getOr(e)},Km=(e,t,o=!1)=>Gm(e,t,!0,o,((e,t)=>Math.min(Po(e),t))),Xm=(e,t,o=!1)=>Gm(e,t,!1,o,((e,t)=>t>0?t-1:t)),Qm=(e,t)=>{const o=e;for(;e&&Xn(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||o},Jm=(e,t)=>$(t,(t=>{const o=e.dispatch("GetSelectionRange",{range:t});return o.range!==t?o.range:t})),eg=e=>{return $t(t=e)&&jt(t.dom)&&"false"===eo(e,"contenteditable");var t},tg=["img","br"],og=e=>{const t=fr(e).filter((e=>0!==e.trim().length||e.indexOf(hr)>-1)).isSome();return t||W(tg,Ut(e))||eg(e)},ng=e=>((e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const r=yo.fromDom(e.childNodes[n]);if(t(r))return H.some(r);const a=o(e.childNodes[n]);if(a.isSome())return a}return H.none()};return o(e.dom)})(e,og),rg=(e,t)=>{const o=e=>{const n=Ro(e);for(let e=n.length-1;e>=0;e--){const r=n[e];if(t(r))return H.some(r);const a=o(r);if(a.isSome())return a}return H.none()};return o(e)},ag="[data-mce-autocompleter]",sg=(e,t)=>{if(ig(yo.fromDom(e.getBody())).isNone()){const n=yo.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());gn(n,yo.fromDom(t.extractContents())),t.insertNode(n.dom),Eo(n).each((e=>e.dom.normalize())),(o=n,rg(o,og)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===Ut(e)?1:fr(e).fold((()=>Ro(e).length),(e=>e.length)))(t))}))}var o},ig=e=>Qo(e,ag),lg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},cg=(e,t,o)=>{const n=o?"lastChild":"firstChild",r=o?"prev":"next";if(e[n])return e[n];if(e!==t){let o=e[r];if(o)return o;for(let n=e.parent;n&&n!==t;n=n.parent)if(o=n[r],o)return o}},dg=e=>{var t;const o=null!==(t=e.value)&&void 0!==t?t:"";if(!ia(o))return!1;const n=e.parent;return!n||"span"===n.name&&!n.attr("style")||!/^[ ]+$/.test(o)},ug=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class hg{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const o=new hg(e,lg[e]||1);return t&&fe(t,((e,t)=>{o.attr(t,e)})),o}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const o=this;if(!m(e))return k(e)&&fe(e,((e,t)=>{o.attr(t,e)})),o;const n=o.attributes;if(n){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];let t=n.length;for(;t--;)if(n[t].name===e)return n.splice(t,1),o}return o}if(e in n.map){let o=n.length;for(;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}}clone(){const e=this,t=new hg(e.name,e.type),o=e.attributes;if(o){const e=[];e.map={};for(let t=0,n=o.length;t<n;t++){const n=o[t];"id"!==n.name&&(e[e.length]={name:n.name,value:n.value},e.map[n.name]=n.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const o=t.next;e.insert(t,e,!0),t=o}e.remove()}remove(){const e=this,t=e.parent,o=e.next,n=e.prev;return t&&(t.firstChild===e?(t.firstChild=o,o&&(o.prev=null)):n&&(n.next=o),t.lastChild===e?(t.lastChild=n,n&&(n.next=null)):o&&(o.prev=n),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const o=t.lastChild;return o?(o.next=e,e.prev=o,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,o){e.parent&&e.remove();const n=t.parent||this;return o?(t===n.firstChild?n.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===n.lastChild?n.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=n,e}getAll(e){const t=this,o=[];for(let n=t.firstChild;n;n=cg(n,t))n.name===e&&o.push(n);return o}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let o=e.firstChild;o;o=cg(o,e))t.push(o);let o=t.length;for(;o--;){const e=t[o];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},o){var n;const r=this;let a=r.firstChild;if(ug(r))return!1;if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue;if(e[a.name])return!1;if(ug(a))return!1}if(8===a.type)return!1;if(3===a.type&&!dg(a))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&ia(null!==(n=a.value)&&void 0!==n?n:""))return!1;if(o&&o(a))return!1}while(a=cg(a,r));return!0}walk(e){return cg(this,null,e)}}const pg=(e,t,o=0)=>{const n=e.toLowerCase();if(-1!==n.indexOf("[if ",o)&&((e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)))(n,o)){const e=n.indexOf("[endif]",o);return n.indexOf(">",e)}if(t){const e=n.indexOf(">",o);return-1!==e?e:n.length}{const t=/--!?>/g;t.lastIndex=o;const r=t.exec(e);return r?r.index+r[0].length:n.length}},mg=(e,t,o)=>{const n=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,r=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,a=e.getVoidElements();let s=1,i=o;for(;0!==s;)for(n.lastIndex=i;;){const e=n.exec(t);if(null===e)return i;if("!"===e[1]){i=We(e[2],"--")?pg(t,!1,e.index+"!--".length):pg(t,!0,e.index+1);break}{r.lastIndex=n.lastIndex;const o=r.exec(t);if(b(o)||o.index!==n.lastIndex)continue;"/"===e[1]?s-=1:Ce(a,e[2])||(s+=1),i=n.lastIndex+o[0].length;break}}return i},gg=(e,t)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,n=e.schema;let r=((e,t)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(o,"")})(e.getTempAttrs(),t);const a=n.getVoidElements();let s;for(;s=o.exec(r);){const e=o.lastIndex,t=s[0].length;let i;i=a[s[1]]?e:mg(n,r,e),r=r.substring(0,e-t)+r.substring(i),o.lastIndex=e-t}return Lr(r)},fg=gg,yg=e=>{const t=Pn(e,"[data-mce-bogus]");q(t,(e=>{"all"===eo(e,"data-mce-bogus")?vn(e):wr(e)?(hn(e,yo.fromText(ur)),vn(e)):_n(e)}))},bg=e=>{const t=Pn(e,"input");q(t,(e=>{no(e,"name")}))},vg=(e,t)=>{const o=e.getDoc(),n=Vo(yo.fromDom(e.getBody())),r=yo.fromTag("div",o);Qt(r,"data-mce-bogus","all"),an(r,{position:"fixed",left:"-9999999px",top:"0"}),xn(r,t.innerHTML),yg(r),bg(r);const a=(e=>Bo(e)?e:yo.fromDom(So(e).dom.body))(n);gn(a,r);const s=Lr(r.dom.innerText);return vn(r),s},_g=(e,t,o)=>{let n;n="raw"===t.format?Nt.trim(fg(e.serializer,o.innerHTML)):"text"===t.format?vg(e,o):"tree"===t.format?e.serializer.serialize(o,t):((e,t)=>{const o=Ll(e),n=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(n,"")})(e,e.serializer.serialize(o,t));return"text"!==t.format&&!Dr(yo.fromDom(o))&&m(n)?Nt.trim(n):n},wg=Nt.makeMap,kg=e=>{const t=[],o=(e=e||{}).indent,n=wg(e.indent_before||""),r=wg(e.indent_after||""),a=ts.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,i,l)=>{if(o&&n[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),i)for(let e=0,o=i.length;e<o;e++){const o=i[e];t.push(" ",o.name,'="',a(o.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&o&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let n;t.push("</",e,">"),o&&r[e]&&t.length>0&&(n=t[t.length-1],n.length>0&&"\n"!==n&&t.push("\n"))},text:(e,o)=>{e.length>0&&(t[t.length]=o?e:a(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,n)=>{n?t.push("<?",e," ",a(n),"?>"):t.push("<?",e,"?>"),o&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",o?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},xg=(e={},t=ms())=>{const o=kg(e);e.validate=!("validate"in e)||e.validate;return{serialize:n=>{const r=e.validate,a={3:e=>{var t;o.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;o.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{o.pi(e.name,e.value)},10:e=>{var t;o.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;o.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};o.reset();const s=e=>{var n;const i=a[e.type];if(i)i(e);else{const a=e.name,i=a in t.getVoidElements();let l=e.attributes;if(r&&l&&l.length>1){const o=[];o.map={};const n=t.getElementRule(e.name);if(n){for(let e=0,t=n.attributesOrder.length;e<t;e++){const t=n.attributesOrder[e];if(t in l.map){const e=l.map[t];o.map[t]=e,o.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in o.map)){const e=l.map[t];o.map[t]=e,o.push({name:t,value:e})}}l=o}}if(o.start(a,l,i),!i){let t=e.firstChild;if(t){"pre"!==a&&"textarea"!==a||3!==t.type||"\n"!==(null===(n=t.value)||void 0===n?void 0:n[0])||o.text("\n",!0);do{s(t)}while(t=t.next)}o.end(a)}}};return 1!==n.type||e.inner?3===n.type?a[3](n):a[11](n):s(n),o.getContent()}}},Sg=new Set;q(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{Sg.add(e)}));const Cg=["font","text-decoration","text-emphasis"],Eg=(e,t)=>me(e.parseStyle(e.getAttrib(t,"style"))),Dg=(e,t)=>re(Eg(e,t),(e=>!(e=>Sg.has(e))(e))),Ag=(e,t,o)=>{const n=Eg(e,t),r=Eg(e,o),a=n=>{var r,a;const s=null!==(r=e.getStyle(t,n))&&void 0!==r?r:"",i=null!==(a=e.getStyle(o,n))&&void 0!==a?a:"";return Ke(s)&&Ke(i)&&s!==i};return Z(n,(e=>{const t=t=>Z(t,(t=>t===e));if(!t(r)&&t(Cg)){const e=K(r,(e=>Z(Cg,(t=>We(e,t)))));return Z(e,a)}return a(e)}))},Tg=(e,t,o)=>H.from(o.container()).filter(Xn).exists((n=>{const r=e?0:-1;return t(n.data.charAt(o.offset()+r))})),Og=z(Tg,!0,$u),Mg=z(Tg,!1,$u),zg=e=>{const t=e.container();return Xn(t)&&(0===t.data.length||Ir(t.data)&&sp.isBookmarkNode(t.parentNode))},Rg=(e,t)=>o=>$d(e?0:-1,o).filter(t).isSome(),Ng=e=>rr(e)&&"block"===sn(yo.fromDom(e),"display"),Ig=e=>sr(e)&&!(e=>jn(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),Lg=Rg(!0,Ng),Pg=Rg(!1,Ng),Bg=Rg(!0,cr),Hg=Rg(!1,cr),Fg=Rg(!0,Yn),Vg=Rg(!1,Yn),jg=Rg(!0,Ig),Ug=Rg(!1,Ig),Wg=(e,t)=>((e,t,o)=>ko(t,e)?Ao(e,(e=>o(e)||wo(e,t))).slice(0,-1):[])(e,t,P),Zg=(e,t)=>[e].concat(Wg(e,t)),$g=(e,t,o)=>ku(e,t,o,zg),qg=(e,t)=>ee(Zg(yo.fromDom(t.container()),e),vr),Yg=(e,t,o)=>$g(e,t.dom,o).forall((e=>qg(t,o).fold((()=>!Zd(e,o,t.dom)),(n=>!Zd(e,o,t.dom)&&ko(n,yo.fromDom(e.container())))))),Gg=(e,t,o)=>qg(t,o).fold((()=>$g(e,t.dom,o).forall((e=>!Zd(e,o,t.dom)))),(t=>$g(e,t.dom,o).isNone())),Kg=z(Gg,!1),Xg=z(Gg,!0),Qg=z(Yg,!1),Jg=z(Yg,!0),ef=e=>tu(e).exists(wr),tf=(e,t,o)=>{const n=K(Zg(yo.fromDom(o.container()),t),vr),r=de(n).getOr(t);return _u(e,r.dom,o).filter(ef)},of=(e,t)=>tu(t).exists(wr)||tf(!0,e,t).isSome(),nf=(e,t)=>(e=>H.from(e.getNode(!0)).map(yo.fromDom))(t).exists(wr)||tf(!1,e,t).isSome(),rf=z(tf,!1),af=z(tf,!0),sf=e=>Ui.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),lf=(e,t)=>{const o=K(Zg(yo.fromDom(t.container()),e),vr);return de(o).getOr(e)},cf=(e,t)=>sf(t)?Mg(t):Mg(t)||Cu(lf(e,t).dom,t).exists(Mg),df=(e,t)=>sf(t)?Og(t):Og(t)||Su(lf(e,t).dom,t).exists(Og),uf=e=>tu(e).bind((e=>Go(e,$t))).exists((e=>(e=>W(["pre","pre-wrap"],e))(sn(e,"white-space")))),hf=(e,t)=>((e,t)=>Cu(e.dom,t).isNone())(e,t)||((e,t)=>Su(e.dom,t).isNone())(e,t)||Kg(e,t)||Xg(e,t)||nf(e,t)||of(e,t),pf=(e,t)=>o=>{return n=new Hn(o,e)[t](),k(n)&&sr(n)&&Nd(n);var n},mf=(e,t)=>!uf(t)&&(Kg(e,t)||Qg(e,t)||nf(e,t)||cf(e,t)||((e,t)=>{const o=Cu(e.dom,t).getOr(t),n=pf(e.dom,"prev");return t.isAtStart()&&(n(t.container())||n(o.container()))})(e,t)),gf=(e,t)=>!uf(t)&&(Xg(e,t)||Jg(e,t)||of(e,t)||df(e,t)||((e,t)=>{const o=Su(e.dom,t).getOr(t),n=pf(e.dom,"next");return t.isAtEnd()&&(n(t.container())||n(o.container()))})(e,t)),ff=(e,t)=>mf(e,t)||gf(e,(e=>{const t=e.container(),o=e.offset();return Xn(t)&&o<t.data.length?Ui(t,o+1):e})(t)),yf=(e,t)=>Wu(e.charAt(t)),bf=(e,t)=>$u(e.charAt(t)),vf=(e,t,o)=>{const n=t.data,r=Ui(t,0);return o||!yf(n,0)||ff(e,r)?!!(o&&bf(n,0)&&mf(e,r))&&(t.data=hr+n.slice(1),!0):(t.data=" "+n.slice(1),!0)},_f=e=>{const t=e.data,o=(e=>{const t=e.split("");return $(t,((e,o)=>Wu(e)&&o>0&&o<t.length-1&&qu(t[o-1])&&qu(t[o+1])?" ":e)).join("")})(t);return o!==t&&(e.data=o,!0)},wf=(e,t,o)=>{const n=t.data,r=Ui(t,n.length-1);return o||!yf(n,n.length-1)||ff(e,r)?!!(o&&bf(n,n.length-1)&&gf(e,r))&&(t.data=n.slice(0,-1)+hr,!0):(t.data=n.slice(0,-1)+" ",!0)},kf=(e,t)=>{const o=t.container();if(!Xn(o))return H.none();if((e=>{const t=e.container();return Xn(t)&&Ue(t.data,hr)})(t)){const n=vf(e,o,!1)||_f(o)||wf(e,o,!1);return Pt(n,t)}if(ff(e,t)){const n=vf(e,o,!0)||wf(e,o,!0);return Pt(n,t)}return H.none()},xf=(e,t,o)=>{if(0===o)return;const n=yo.fromDom(e),r=Yo(n,vr).getOr(n),a=e.data.slice(t,t+o),s=t+o>=e.data.length&&gf(r,Ui(e,e.data.length)),i=0===t&&mf(r,Ui(e,0));e.replaceData(t,o,ca(a,4,i,s))},Sf=(e,t)=>{const o=e.data.slice(t),n=o.length-Ye(o).length;xf(e,t,n)},Cf=(e,t)=>{const o=e.data.slice(0,t),n=o.length-Ge(o).length;xf(e,t-n,n)},Ef=(e,t,o,n=!0)=>{const r=Ge(e.data).length,a=n?e:t,s=n?t:e;return n?a.appendData(s.data):a.insertData(0,s.data),vn(yo.fromDom(s)),o&&Sf(a,r),a},Df=(e,t)=>((e,t)=>{const o=e.container(),n=e.offset();return!Ui.isTextPosition(e)&&o===t.parentNode&&n>Ui.before(t).offset()})(t,e)?Ui(t.container(),t.offset()-1):t,Af=e=>{return na(e.previousSibling)?H.some((t=e.previousSibling,Xn(t)?Ui(t,t.data.length):Ui.after(t))):e.previousSibling?Du(e.previousSibling):H.none();var t},Tf=e=>{return na(e.nextSibling)?H.some((t=e.nextSibling,Xn(t)?Ui(t,0):Ui.before(t))):e.nextSibling?Eu(e.nextSibling):H.none();var t},Of=(e,t)=>Af(t).orThunk((()=>Tf(t))).orThunk((()=>((e,t)=>H.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>Cu(e,Ui.before(t)))).orThunk((()=>Su(e,Ui.after(t)))))(e,t))),Mf=(e,t)=>Tf(t).orThunk((()=>Af(t))).orThunk((()=>((e,t)=>Su(e,Ui.after(t)).orThunk((()=>Cu(e,Ui.before(t)))))(e,t))),zf=(e,t,o)=>((e,t,o)=>e?Mf(t,o):Of(t,o))(e,t,o).map(z(Df,o)),Rf=(e,t,o)=>{o.fold((()=>{e.focus()}),(o=>{e.selection.setRng(o.toRange(),t)}))},Nf=(e,t)=>t&&Ce(e.schema.getBlockElements(),Ut(t)),If=e=>{if(ya(e)){const t=yo.fromHtml('<br data-mce-bogus="1">');return bn(e),gn(e,t),H.some(Ui.before(t.dom))}return H.none()},Lf=(e,t,o)=>{const n=To(e).filter(qt),r=Oo(e).filter(qt);return vn(e),(a=n,s=r,i=t,l=(e,t,n)=>{const r=e.dom,a=t.dom,s=r.data.length;return Ef(r,a,o),n.container()===a?Ui(r,s):n},a.isSome()&&s.isSome()&&i.isSome()?H.some(l(a.getOrDie(),s.getOrDie(),i.getOrDie())):H.none()).orThunk((()=>(o&&(n.each((e=>Cf(e.dom,e.dom.length))),r.each((e=>Sf(e.dom,0)))),t)));var a,s,i,l},Pf=(e,t,o,n=!0)=>{const r=zf(t,e.getBody(),o.dom),a=Yo(o,z(Nf,e),(s=e.getBody(),e=>e.dom===s));var s;const i=Lf(o,r,((e,t)=>Ce(e.schema.getTextInlineElements(),Ut(t)))(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(If).fold((()=>{n&&Rf(e,t,i)}),(o=>{n&&Rf(e,t,H.some(o))}))},Bf=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Hf=(e,t)=>vo(yo.fromDom(t),lc(e))&&!Ta(e.schema,t)&&e.dom.isEditable(t),Ff=e=>{var t;return"rtl"===Is.DOM.getStyle(e,"direction",!0)||(e=>Bf.test(e))(null!==(t=e.textContent)&&void 0!==t?t:"")},Vf=(e,t,o)=>{const n=((e,t,o)=>K(Is.DOM.getParents(o.container(),"*",t),e))(e,t,o);return H.from(n[n.length-1])},jf=(e,t)=>{const o=t.container(),n=t.offset();return e?Fr(o)?Xn(o.nextSibling)?Ui(o.nextSibling,0):Ui.after(o):Ur(t)?Ui(o,n+1):t:Fr(o)?Xn(o.previousSibling)?Ui(o.previousSibling,o.previousSibling.data.length):Ui.before(o):Wr(t)?Ui(o,n-1):t},Uf=z(jf,!0),Wf=z(jf,!1),Zf=(e,t)=>{const o=e=>e.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},$f=e=>Zf(e,"Delete"),qf=e=>kr(e)||Sr(e),Yf=(e,t)=>ko(e,t)?Go(t,qf,(e=>t=>It(Eo(t),e,wo))(e)):H.none(),Gf=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Kf=e=>{var t;return(8===Wt(t=e)||"#comment"===Ut(t)?To(e):Lo(e)).bind(Kf).orThunk((()=>H.some(e)))},Xf=(e,t,o,n=!0)=>{var r;t.deleteContents();const a=Kf(o).getOr(o),s=yo.fromDom(null!==(r=e.dom.getParent(a.dom,e.dom.isBlock))&&void 0!==r?r:o.dom);if(s.dom===e.getBody()?Gf(e,n):ya(s)&&(zr(s),n&&e.selection.setCursorLocation(s.dom,0)),!wo(o,s)){const e=It(Eo(s),o)?[]:Eo(i=s).map(Ro).map((e=>K(e,(e=>!wo(i,e))))).getOr([]);q(e.concat(Ro(o)),(e=>{wo(e,s)||ko(e,s)||!ya(e)||vn(e)}))}var i},Qf=e=>Pn(e,"td,th"),Jf=(e,t)=>({start:e,end:t}),ey=gl([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ty=(e,t)=>Jo(yo.fromDom(e),"td,th",t),oy=e=>!wo(e.start,e.end),ny=(e,t)=>sh(e.start,t).bind((o=>sh(e.end,t).bind((e=>Pt(wo(o,e),o))))),ry=e=>t=>ny(t,e).map((e=>((e,t,o)=>({rng:e,table:t,cells:o}))(t,e,Qf(e)))),ay=(e,t,o,n)=>{if(o.collapsed||!e.forall(oy))return H.none();if(t.isSameTable){const t=e.bind(ry(n));return H.some({start:t,end:t})}{const e=ty(o.startContainer,n),t=ty(o.endContainer,n),r=e.bind((e=>t=>sh(t,e).bind((e=>ue(Qf(e)).map((e=>Jf(t,e))))))(n)).bind(ry(n)),a=t.bind((e=>t=>sh(t,e).bind((e=>de(Qf(e)).map((e=>Jf(e,t))))))(n)).bind(ry(n));return H.some({start:r,end:a})}},sy=(e,t)=>te(e,(e=>wo(e,t))),iy=e=>Lt(sy(e.cells,e.rng.start),sy(e.cells,e.rng.end),((t,o)=>e.cells.slice(t,o+1))),ly=(e,t,o)=>e.exists((e=>((e,t)=>!oy(e)&&ny(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,o)&&ch(e.start,t))),cy=(e,t)=>{const{startTable:o,endTable:n}=t,r=e.cloneRange();return o.each((e=>r.setStartAfter(e.dom))),n.each((e=>r.setEndBefore(e.dom))),r},dy=(e,t)=>{const o=(e=>t=>wo(e,t))(e),n=((e,t)=>{const o=ty(e.startContainer,t),n=ty(e.endContainer,t);return Lt(o,n,Jf)})(t,o),r=((e,t)=>{const o=e=>sh(yo.fromDom(e),t),n=o(e.startContainer),r=o(e.endContainer),a=n.isSome(),s=r.isSome(),i=Lt(n,r,wo).getOr(!1);return{startTable:n,endTable:r,isStartInTable:a,isEndInTable:s,isSameTable:i,isMultiTable:!i&&a&&s}})(t,o);return ly(n,t,o)?n.map((e=>ey.singleCellTable(t,e.start))):r.isMultiTable?((e,t,o,n)=>ay(e,t,o,n).bind((({start:e,end:n})=>{const r=e.bind(iy).getOr([]),a=n.bind(iy).getOr([]);if(r.length>0&&a.length>0){const e=cy(o,t);return H.some(ey.multiTable(r,a,e))}return H.none()})))(n,r,t,o):((e,t,o,n)=>ay(e,t,o,n).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:n}=t,r=iy(e).getOr([]);if(n&&e.cells.length===r.length)return H.some(ey.fullTable(e.table));if(r.length>0){if(n)return H.some(ey.partialTable(r,H.none()));{const e=cy(o,t);return H.some(ey.partialTable(r,H.some({...t,rng:e})))}}return H.none()})))(n,r,t,o)},uy=e=>q(e,(e=>{no(e,"contenteditable"),zr(e)})),hy=(e,t,o,n)=>{const r=o.cloneRange();n?(r.setStart(o.startContainer,o.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(o.endContainer,o.endOffset)),fy(e,r,t,!1).each((e=>e()))},py=e=>{const t=ah(e),o=yo.fromDom(e.selection.getNode());ir(o.dom)&&ya(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Z(t,(e=>wo(e,o)))&&Qt(o,"data-mce-selected","1")},my=(e,t,o)=>H.some((()=>{const n=e.selection.getRng(),r=o.bind((({rng:o,isStartInTable:r})=>{const a=((e,t)=>H.from(e.dom.getParent(t,e.dom.isBlock)).map(yo.fromDom))(e,r?o.endContainer:o.startContainer);o.deleteContents(),((e,t,o)=>{o.each((o=>{t?vn(o):(zr(o),e.selection.setCursorLocation(o.dom,0))}))})(e,r,a.filter(ya));const s=r?t[0]:t[t.length-1];return hy(e,s,n,r),ya(s)?H.none():H.some(r?t.slice(1):t.slice(0,-1))})).getOr(t);uy(r),py(e)})),gy=(e,t,o,n)=>H.some((()=>{const r=e.selection.getRng(),a=t[0],s=o[o.length-1];hy(e,a,r,!0),hy(e,s,r,!1);const i=ya(a)?t:t.slice(1),l=ya(s)?o:o.slice(0,-1);uy(i.concat(l)),n.deleteContents(),py(e)})),fy=(e,t,o,n=!0)=>H.some((()=>{Xf(e,t,o,n)})),yy=(e,t)=>H.some((()=>Pf(e,!1,t))),by=(e,t,o,n)=>_y(t,n).fold((()=>((e,t,o)=>dy(t,o).bind((t=>t.fold(z(fy,e),z(yy,e),z(my,e),z(gy,e)))))(e,t,o)),(t=>((e,t)=>wy(e,t))(e,t))),vy=(e,t)=>ee(Zg(t,e),Er),_y=(e,t)=>ee(Zg(t,e),Kt("caption")),wy=(e,t)=>H.some((()=>{zr(t),e.selection.setCursorLocation(t.dom,0)})),ky=(e,t,o,n,r)=>wu(o,e.getBody(),r).fold((()=>H.some(E)),(a=>((e,t,o,n)=>Eu(e.dom).bind((r=>Du(e.dom).map((e=>t?o.isEqual(r)&&n.isEqual(e):o.isEqual(e)&&n.isEqual(r))))).getOr(!0))(n,o,r,a)?((e,t)=>wy(e,t))(e,n):((e,t,o)=>_y(e,yo.fromDom(o.getNode())).fold((()=>H.some(E)),(e=>Pt(!wo(e,t),E))))(t,n,a))),xy=(e,t,o,n)=>{const r=Ui.fromRangeStart(e.selection.getRng());return vy(o,n).bind((n=>ya(n)?wy(e,n):((e,t,o,n,r)=>wu(o,e.getBody(),r).bind((e=>vy(t,yo.fromDom(e.getNode())).bind((e=>wo(e,n)?H.none():H.some(E))))))(e,o,t,n,r)))},Sy=(e,t)=>e?Fg(t):Vg(t),Cy=(e,t,o)=>{const n=yo.fromDom(e.getBody());return _y(n,o).fold((()=>xy(e,t,n,o).orThunk((()=>Pt(((e,t)=>{const o=Ui.fromRangeStart(e.selection.getRng());return Sy(t,o)||_u(t,e.getBody(),o).exists((e=>Sy(t,e)))})(e,t),E)))),(o=>((e,t,o,n)=>{const r=Ui.fromRangeStart(e.selection.getRng());return ya(n)?wy(e,n):ky(e,o,t,n,r)})(e,t,n,o)))},Ey=(e,t)=>{const o=yo.fromDom(e.selection.getStart(!0)),n=ah(e);return e.selection.isCollapsed()&&0===n.length?Cy(e,t,o):((e,t,o)=>{const n=yo.fromDom(e.getBody()),r=e.selection.getRng();return 0!==o.length?my(e,o,H.none()):by(e,n,r,t)})(e,o,n)},Dy=(e,t)=>{let o=t;for(;o&&o!==e;){if(ar(o)||sr(o))return o;o=o.parentNode}return null},Ay=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Ty=Nt.each,Oy=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),n=e=>Z(Ay,(t=>We(e,t)))||o.has(e);return{compare:(e,o)=>{if(e.nodeName!==o.nodeName||e.nodeType!==o.nodeType)return!1;const r=e=>{const o={};return Ty(t.getAttribs(e),(r=>{const a=r.nodeName.toLowerCase();"style"===a||n(a)||(o[a]=t.getAttrib(e,a))})),o},a=(e,t)=>{for(const o in e)if(Ce(e,o)){const n=t[o];if(_(n))return!1;if(e[o]!==n)return!1;delete t[o]}for(const e in t)if(Ce(t,e))return!1;return!0};if(jn(e)&&jn(o)){if(!a(r(e),r(o)))return!1;if(!a(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(o,"style"))))return!1}return!Uu(e)&&!Uu(o)},isAttributeInternal:n}},My=(e,t,o,n)=>{const r=o.name;for(let t=0,a=e.length;t<a;t++){const a=e[t];if(a.name===r){const e=n.nodes[r];e?e.nodes.push(o):n.nodes[r]={filter:a,nodes:[o]}}}if(o.attributes)for(let e=0,r=t.length;e<r;e++){const r=t[e],a=r.name;if(a in o.attributes.map){const e=n.attributes[a];e?e.nodes.push(o):n.attributes[a]={filter:r,nodes:[o]}}}},zy=(e,t)=>{const o=(e,o)=>{fe(e,(e=>{const n=he(e.nodes);q(e.filter.callbacks,(r=>{for(let t=n.length-1;t>=0;t--){const r=n[t];(o?void 0!==r.attr(e.filter.name):r.name===e.filter.name)&&!w(r.parent)||n.splice(t,1)}n.length>0&&r(n,e.filter.name,t)}))}))};o(e.nodes,!1),o(e.attributes,!0)},Ry=(e,t,o,n={})=>{const r=((e,t,o)=>{const n={nodes:{},attributes:{}};return o.firstChild&&((e,t)=>{let o=e;for(;o=o.walk();)t(o)})(o,(o=>{My(e,t,o,n)})),n})(e,t,o);zy(r,n)},Ny=(e,t,o)=>{if(e.insert&&t(o)){const e=new hg("br",1);e.attr("data-mce-bogus","1"),o.empty().append(e)}else o.empty().append(new hg("#text",3)).value=hr},Iy=(e,t)=>{const o=null==e?void 0:e.firstChild;return k(o)&&o===e.lastChild&&o.name===t},Ly=(e,t,o,n)=>n.isEmpty(t,o,(t=>((e,t)=>{const o=e.getElementRule(t.name);return!0===(null==o?void 0:o.paddEmpty)})(e,t))),Py=e=>{let t;for(let o=e;o;o=o.parent){const e=o.attr("contenteditable");if("false"===e)break;"true"===e&&(t=o)}return H.from(t)},By=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const n=e.children();for(const e of n)o&&!t.isValidChild(o.name,e.name)&&By(e,t,o);e.unwrap()}},Hy=(e,t,o,n=E)=>{const r=t.getTextBlockElements(),a=t.getNonEmptyElements(),s=t.getWhitespaceElements(),i=Nt.makeMap("tr,td,th,tbody,thead,tfoot,table"),l=new Set,c=e=>e!==o&&!i[e.name];for(let o=0;o<e.length;o++){const i=e[o];let d,u,h;if(!i.parent||l.has(i))continue;if(r[i.name]&&"li"===i.parent.name){let e=i.next;for(;e&&r[e.name];)e.name="li",l.add(e),i.parent.insert(e,i.parent),e=e.next;i.unwrap();continue}const p=[i];for(d=i.parent;d&&!t.isValidChild(d.name,i.name)&&c(d);d=d.parent)p.push(d);if(d&&p.length>1)if(t.isValidChild(d.name,i.name)){p.reverse(),u=p[0].clone(),n(u);let e=u;for(let o=0;o<p.length-1;o++){t.isValidChild(e.name,p[o].name)&&o>0?(h=p[o].clone(),n(h),e.append(h)):h=e;for(let e=p[o].firstChild;e&&e!==p[o+1];){const t=e.next;h.append(e),e=t}e=h}Ly(t,a,s,u)?d.insert(i,p[0],!0):(d.insert(u,p[0],!0),d.insert(i,u)),d=p[0],(Ly(t,a,s,d)||Iy(d,"br"))&&d.empty().remove()}else By(i,t);else if(i.parent){if("li"===i.name){let e=i.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(i);continue}if(e=i.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(i,e.firstChild,!0);continue}const t=new hg("ul",1);n(t),i.wrap(t);continue}if(t.isValidChild(i.parent.name,"div")&&t.isValidChild("div",i.name)){const e=new hg("div",1);n(e),i.wrap(e)}else By(i,t)}}},Fy=(e,t,o=t.parent)=>!(!o||!e.children[t.name]||e.isValidChild(o.name,t.name))||!(!o||"a"!==t.name||!((e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1})(o,"a")),Vy=e=>{const t=Ui.fromRangeStart(e),o=Ui.fromRangeEnd(e),n=e.commonAncestorContainer;return _u(!1,n,o).map((r=>!Zd(t,o,n)&&Zd(t,r,n)?((e,t,o,n)=>{const r=document.createRange();return r.setStart(e,t),r.setEnd(o,n),r})(t.container(),t.offset(),r.container(),r.offset()):e)).getOr(e)},jy=e=>e.collapsed?e:Vy(e),Uy=(e,t)=>e.getBlockElements()[t.name]&&(e=>k(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===hr)(t.firstChild),Wy=(e,t)=>{let o=t.firstChild,n=t.lastChild;return o&&"meta"===o.name&&(o=o.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),((e,t)=>{const o=e.getNonEmptyElements();return k(t)&&(t.isEmpty(o)||Uy(e,t))})(e,n)&&(n=null==n?void 0:n.prev),!(!o||o!==n)&&("ul"===o.name||"ol"===o.name)},Zy=e=>k(null==e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&(e=>e.data===hr||nr(e))(e.firstChild),$y=e=>{return e.length>0&&(!(t=e[e.length-1]).firstChild||Zy(t))?e.slice(0,-1):e;var t},qy=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&"LI"===o.nodeName?o:null},Yy=(e,t)=>{const o=Ui.after(e),n=gu(t).prev(o);return n?n.toRange():null},Gy=(e,t,o)=>{const n=e.parentNode;return n&&Nt.each(t,(t=>{n.insertBefore(t,e)})),((e,t)=>{const o=Ui.before(e),n=gu(t).next(o);return n?n.toRange():null})(e,o)},Ky=(e,t,o,n)=>{const r=((e,t,o)=>{const n=t.serialize(o);return(e=>{var t,o;const n=e.firstChild,r=e.lastChild;return n&&"META"===n.nodeName&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n)),r&&"mce_marker"===r.id&&(null===(o=r.parentNode)||void 0===o||o.removeChild(r)),e})(e.createFragment(n))})(t,e,n),a=qy(t,o.startContainer),s=$y((i=r.firstChild,K(null!==(l=null==i?void 0:i.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var i,l;const c=t.getRoot(),d=e=>{const n=Ui.fromRangeStart(o),r=gu(t.getRoot()),s=1===e?r.prev(n):r.next(n),i=null==s?void 0:s.getNode();return!i||qy(t,i)!==a};return a?d(1)?Gy(a,s,c):d(2)?((e,t,o,n)=>(n.insertAfter(t.reverse(),e),Yy(t[0],o)))(a,s,c,t):((e,t,o,n)=>{const r=((e,t)=>{const o=t.cloneRange(),n=t.cloneRange();return o.setStartBefore(e),n.setEndAfter(e),[o.cloneContents(),n.cloneContents()]})(e,n),a=e.parentNode;return a&&(a.insertBefore(r[0],e),Nt.each(t,(t=>{a.insertBefore(t,e)})),a.insertBefore(r[1],e),a.removeChild(e)),Yy(t[t.length-1],o)})(a,s,c,o):null},Xy=["pre"],Qy=ir,Jy=(e,t)=>{var o,n,r;let a;const s=e.dom,i=e.selection;if(!t)return;i.scrollIntoView(t);const l=Dy(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void i.select(l);let c=s.createRng();const d=t.previousSibling;if(Xn(d)){c.setStart(d,null!==(n=null===(o=d.nodeValue)||void 0===o?void 0:o.length)&&void 0!==n?n:0);const e=t.nextSibling;Xn(e)&&(d.appendData(e.data),null===(r=e.parentNode)||void 0===r||r.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const u=s.getParent(t,s.isBlock);s.remove(t),u&&s.isEmpty(u)&&(bn(yo.fromDom(u)),c.setStart(u,0),c.setEnd(u,0),Qy(u)||(e=>!!e.getAttribute("data-mce-fragment"))(u)||!(a=(t=>{let o=Ui.fromRangeStart(t);return o=gu(e.getBody()).next(o),null==o?void 0:o.toRange()})(c))?s.add(u,s.create("br",{"data-mce-bogus":"1"})):(c=a,s.remove(u))),i.setRng(c)},eb=e=>{const t=e.dom,o=jy(e.selection.getRng());e.selection.setRng(o);const n=t.getParent(o.startContainer,Qy);((e,t,o)=>{if(k(o))return o===e.getParent(t.endContainer,Qy)&&ch(yo.fromDom(o),t);return!1})(t,o,n)?fy(e,o,yo.fromDom(n)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset==1&&Xn(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},tb=(e,t,o)=>{var n,r;const a=e.selection,s=e.dom,i=e.parser,l=o.merge,c=xg({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);let u=a.getRng();const h=u.startContainer,p=e.getBody();h===p&&a.isCollapsed()&&s.isBlock(p.firstChild)&&((e,t)=>k(t)&&!e.schema.getVoidElements()[t.nodeName])(e,p.firstChild)&&s.isEmpty(p.firstChild)&&(u=s.createRng(),u.setStart(p.firstChild,0),u.setEnd(p.firstChild,0),a.setRng(u)),a.isCollapsed()||eb(e);const m=a.getNode(),g={context:m.nodeName.toLowerCase(),data:o.data,insert:!0},f=i.parse(t,g);if(!0===o.paste&&Wy(e.schema,f)&&((e,t)=>!!qy(e,t))(s,m))return u=Ky(c,s,a.getRng(),f),u&&a.setRng(u),t;!0===o.paste&&((e,t,o,n)=>{var r;const a=t.firstChild,s=t.lastChild,i=a===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=W(Xy,a.name);if(i&&l){const t="false"!==a.attr("contenteditable"),s=(null===(r=e.getParent(o,e.isBlock))||void 0===r?void 0:r.nodeName.toLowerCase())===a.name,i=H.from(Dy(n,o)).forall(ar);return t&&s&&i}return!1})(s,f,m,e.getBody())&&(null===(n=f.firstChild)||void 0===n||n.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(f);let y=f.lastChild;if(y&&"mce_marker"===y.attr("id")){const t=y;for(y=y.prev;y;y=y.walk(!0))if(3===y.type||!s.isBlock(y.name)){y.parent&&e.schema.isValidChild(y.parent.name,"span")&&y.parent.insert(t,y,"br"===y.name);break}}if(e._selectionOverrides.showBlockCaretContainer(m),g.invalid){e.selection.setContent(d);let o,n=a.getNode();const l=e.getBody();for(tr(n)?n=o=l:o=n;o&&o!==l;)n=o,o=o.parentNode;t=n===l?l.innerHTML:s.getOuterHTML(n);const u=i.parse(t),h=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return H.some(t);return H.none()})(u),p=h.bind(Py).getOr(u);h.each((e=>e.replace(f)));const m=f.children(),g=null!==(r=f.parent)&&void 0!==r?r:u;f.unwrap();const y=K(m,(t=>Fy(e.schema,t,g)));Hy(y,e.schema,p),Ry(i.getNodeFilters(),i.getAttributeFilters(),u),t=c.serialize(u),n===l?s.setHTML(l,t):s.setOuterHTML(n,t)}else t=c.serialize(f),((e,t,o)=>{var n;if("all"===o.getAttribute("data-mce-bogus"))null===(n=o.parentNode)||void 0===n||n.insertBefore(e.dom.createFragment(t),o);else{const n=o.firstChild,r=o.lastChild;!n||n===r&&"BR"===n.nodeName?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}})(e,t,m);var b;return((e,t)=>{const o=e.schema.getTextInlineElements(),n=e.dom;if(t){const t=e.getBody(),r=Oy(e);Nt.each(n.select("*[data-mce-fragment]"),(e=>{if(k(o[e.nodeName.toLowerCase()])&&Dg(n,e))for(let o=e.parentElement;k(o)&&o!==t&&!Ag(n,e,o);o=o.parentElement)if(r.compare(o,e)){n.remove(e,!0);break}}))}})(e,l),Jy(e,s.get("mce_marker")),b=e.getBody(),Nt.each(b.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),((e,t)=>{H.from(e.getParent(t,"td,th")).map(yo.fromDom).each(Rr)})(s,a.getStart()),((e,t,o)=>{const n=Ao(yo.fromDom(o),(e=>wo(e,yo.fromDom(t))));ce(n,n.length-2).filter($t).fold((()=>Sa(e,t)),(t=>Sa(e,t.dom)))})(e.schema,e.getBody(),a.getStart()),t},ob=e=>e instanceof hg,nb=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),!0!==o&&(e=>{Zm(e)&&Eu(e.getBody()).each((t=>{const o=t.getNode(),n=Yn(o)?Eu(o).getOr(t):t;e.selection.setRng(n.toRange())}))})(e)},rb=(e,t,o)=>H.from(e.getBody()).map((n=>ob(t)?((e,t,o,n)=>{Ry(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const r=xg({validate:!1},e.schema).serialize(o),a=Dr(yo.fromDom(t))?r:Nt.trim(r);return nb(e,a,n.no_selection),{content:o,html:a}})(e,n,t,o):((e,t,o,n)=>{if(0===o.length||/^\s+$/.test(o)){const r='<br data-mce-bogus="1">';"TABLE"===t.nodeName?o="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+r+"</li>");const a=Ll(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(o=r,o=e.dom.createHTML(a,Pl(e),o)):o||(o=r),nb(e,o,n.no_selection),{content:o,html:o}}{"raw"!==n.format&&(o=xg({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const r=Dr(yo.fromDom(t))?o:Nt.trim(o);return nb(e,r,n.no_selection),{content:r,html:r}}})(e,n,t,o))).getOr({content:t,html:ob(o.content)?"":o.content}),ab=(e,t)=>((e,t)=>{const o=e.dom;return o.parentNode?Ko(yo.fromDom(o.parentNode),(o=>!wo(e,o)&&t(o))):H.none()})(e,t).isSome(),sb=e=>x(e)?e:P,ib=(e,t,o)=>{const n=t(e),r=sb(o);return n.orThunk((()=>r(e)?H.none():((e,t,o)=>{let n=e.dom;const r=sb(o);for(;n.parentNode;){n=n.parentNode;const e=yo.fromDom(n),o=t(e);if(o.isSome())return o;if(r(e))break}return H.none()})(e,t,r)))},lb=Ch,cb=(e,t,o)=>{const n=e.formatter.get(o);if(n)for(let o=0;o<n.length;o++){const r=n[o];if(Rh(r)&&!1===r.inherit&&e.dom.is(t,r.selector))return!0}return!1},db=(e,t,o,n,r)=>{const a=e.dom.getRoot();if(t===a)return!1;const s=e.dom.getParent(t,(t=>!!cb(e,t,o)||(t.parentNode===a||!!pb(e,t,o,n,!0))));return!!pb(e,s,o,n,r)},ub=(e,t,o)=>!(!Nh(o)||!lb(t,o.inline))||(!(!zh(o)||!lb(t,o.block))||!!Rh(o)&&(jn(t)&&e.is(t,o.selector))),hb=(e,t,o,n,r,a)=>{const s=o[n],i="attributes"===n;if(x(o.onmatch))return o.onmatch(t,o,n);if(s)if(Ae(s)){for(let o=0;o<s.length;o++)if(i?e.getAttrib(t,s[o]):Dh(e,t,s[o]))return!0}else for(const n in s)if(Ce(s,n)){const l=i?e.getAttrib(t,n):Dh(e,t,n),c=Sh(s[n],a),d=w(l)||Xe(l);if(d&&w(c))continue;if(r&&d&&!o.exact)return!1;if((!r||o.exact)&&!lb(l,Eh(c,n)))return!1}return!0},pb=(e,t,o,n,r)=>{const a=e.formatter.get(o),s=e.dom;if(a&&jn(t))for(let o=0;o<a.length;o++){const i=a[o];if(ub(e.dom,t,i)&&hb(s,t,i,"attributes",r,n)&&hb(s,t,i,"styles",r,n)){const o=i.classes;if(o)for(let r=0;r<o.length;r++)if(!e.dom.hasClass(t,Sh(o[r],n)))return;return i}}},mb=(e,t,o,n,r)=>{if(n)return db(e,n,t,o,r);if(n=e.selection.getNode(),db(e,n,t,o,r))return!0;const a=e.selection.getStart();return!(a===n||!db(e,a,t,o,r))},gb=(e,t)=>{const o=t=>wo(t,yo.fromDom(e.getBody()));return H.from(e.selection.getStart(!0)).bind((n=>ib(yo.fromDom(n),(o=>pe(t,(t=>((t,o)=>pb(e,t.dom,o)?H.some(o):H.none())(o,t)))),o))).getOrNull()},fb=(e,t,o)=>Q(o,((o,n)=>{const r=((e,t)=>Oh(e,t,(e=>{const t=e=>x(e)||e.length>1&&"%"===e.charAt(0);return Z(["styles","attributes"],(o=>Se(e,o).exists((e=>{const o=y(e)?e:xe(e);return Z(o,t)}))))})))(e,n);return e.formatter.matchNode(t,n,{},r)?o.concat([n]):o}),[]),yb=Nr,bb=e=>(e=>{const t=[];let o=e;for(;o;){if(Xn(o)&&o.data!==yb||o.childNodes.length>1)return[];jn(o)&&t.push(o),o=o.firstChild}return t})(e).length>0,vb=e=>{if(e){const t=new Hn(e,e);for(let e=t.current();e;e=t.next())if(Xn(e))return e}return null},_b=e=>{const t=yo.fromTag("span");return Jt(t,{id:Au,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&gn(t,yo.fromText(yb)),t},wb=(e,t,o=!0)=>{const n=e.dom,r=e.selection;if(bb(t))Pf(e,!1,yo.fromDom(t),o);else{const e=r.getRng(),o=n.getParent(t,n.isBlock),a=e.startContainer,s=e.startOffset,i=e.endContainer,l=e.endOffset,c=(e=>{const t=vb(e);return t&&t.data.charAt(0)===yb&&t.deleteData(0,1),t})(t);n.remove(t,!0),a===c&&s>0&&e.setStart(c,s-1),i===c&&l>0&&e.setEnd(c,l-1),o&&n.isEmpty(o)&&zr(yo.fromDom(o)),r.setRng(e)}},kb=(e,t,o=!0)=>{const n=e.dom,r=e.selection;if(t)wb(e,t,o);else if(!(t=Ou(e.getBody(),r.getStart())))for(;t=n.get(Au);)wb(e,t,!1)},xb=(e,t)=>(e.appendChild(t),t),Sb=(e,t)=>{var o;const n=X(e,((e,t)=>xb(e,t.cloneNode(!1))),t),r=null!==(o=n.ownerDocument)&&void 0!==o?o:document;return xb(n,r.createTextNode(yb))},Cb=(e,t,o,n)=>{const r=e.dom,a=e.selection;let s=!1;const i=e.formatter.get(t);if(!i)return;const l=a.getRng(),c=l.startContainer,d=l.startOffset;let u=c;Xn(c)&&(d!==c.data.length&&(s=!0),u=u.parentNode);const h=[];let p;for(;u;){if(pb(e,u,t,o,n)){p=u;break}u.nextSibling&&(s=!0),h.push(u),u=u.parentNode}if(p)if(s){const s=a.getBookmark();l.collapse(!0);let c=Kh(r,l,i,!0);c=Gp(c),e.formatter.remove(t,o,c,n),a.moveToBookmark(s)}else{const s=Ou(e.getBody(),p),i=_b(!1).dom;((e,t,o)=>{var n,r;const a=e.dom,s=a.getParent(o,z(_h,e.schema));s&&a.isEmpty(s)?null===(n=o.parentNode)||void 0===n||n.replaceChild(t,o):(Or(yo.fromDom(o)),a.isEmpty(o)?null===(r=o.parentNode)||void 0===r||r.replaceChild(t,o):a.insertAfter(t,o))})(e,i,null!=s?s:p);const l=((e,t,o,n,r,a)=>{const s=e.formatter,i=e.dom,l=K(me(s.get()),(e=>e!==n&&!Ue(e,"removeformat"))),c=fb(e,o,l);if(K(c,(t=>!Mh(e,t,n))).length>0){const e=o.cloneNode(!1);return i.add(t,e),s.remove(n,r,e,a),i.remove(e),H.some(e)}return H.none()})(e,i,p,t,o,n),c=Sb(h.concat(l.toArray()),i);s&&wb(e,s,!1),a.setCursorLocation(c,1),r.isEmpty(p)&&r.remove(p)}},Eb=e=>{e.on("mouseup keydown",(t=>{((e,t)=>{const o=e.selection,n=e.getBody();kb(e,null,!1),8!==t&&46!==t||!o.isCollapsed()||o.getStart().innerHTML!==yb||kb(e,Ou(n,o.getStart())),37!==t&&39!==t||kb(e,Ou(n,o.getStart()))})(e,t.keyCode)}))},Db=e=>{const t=_b(!1),o=Sb(e,t.dom);return{caretContainer:t,caretPosition:Ui(o,0)}},Ab=(e,t)=>{const{caretContainer:o,caretPosition:n}=Db(t);return hn(yo.fromDom(e),o),vn(yo.fromDom(e)),n},Tb=(e,t)=>{const o=e.schema.getTextInlineElements();return Ce(o,Ut(t))&&!Tu(t.dom)&&!qn(t.dom)},Ob=e=>Tu(e.dom)&&bb(e.dom),Mb={},zb=Wn(["pre"]);((e,t)=>{Mb[e]||(Mb[e]=[]),Mb[e].push(t)})("pre",(e=>{const t=e.selection.getRng();if(!t.collapsed){const t=e.selection.getSelectedBlocks(),o=K(K(t,zb),(e=>t=>{const o=t.previousSibling;return zb(o)&&W(e,o)})(t));q(o,(e=>{((e,t)=>{const o=yo.fromDom(t),n=So(o).dom;vn(o),yn(yo.fromDom(e),[yo.fromTag("br",n),yo.fromTag("br",n),...Ro(o)])})(e.previousSibling,e)}))}}));const Rb=["fontWeight","fontStyle","color","fontSize","fontFamily"],Nb=e=>ee(e,(e=>Nh(e)&&"span"===e.inline&&(e=>g(e.styles)&&Z(me(e.styles),(e=>W(Rb,e))))(e))),Ib=(e,t)=>{const o=e.get(t);return y(o)?Nb(o):H.none()},Lb=(e,t)=>Cu(t,Ui.fromRangeStart(e)).isNone(),Pb=(e,t)=>!1===Su(t,Ui.fromRangeEnd(e)).exists((e=>!nr(e.getNode())||Su(t,e).isSome())),Bb=e=>t=>dr(t)&&e.isEditable(t),Hb=e=>K((e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return Lb(o,t[0])&&Pb(o,t[0])?t:[];{const e=de(t).filter((e=>Lb(o,e))).toArray(),n=ue(t).filter((e=>Pb(o,e))).toArray(),r=t.slice(1,-1);return e.concat(r).concat(n)}})(e),Bb(e.dom)),Fb=e=>K(e.getSelectedBlocks(),Bb(e.dom)),Vb=Nt.each,jb=e=>jn(e)&&!Uu(e)&&!Tu(e)&&!qn(e),Ub=(e,t)=>{for(let o=e;o;o=o[t]){if(Xn(o)&&Ke(o.data))return e;if(jn(o)&&!Uu(o))return o}return e},Wb=(e,t,o)=>{const n=Oy(e),r=jn(t)&&fh(t),a=jn(o)&&fh(o);if(r&&a){const r=Ub(t,"previousSibling"),a=Ub(o,"nextSibling");if(n.compare(r,a)){for(let e=r.nextSibling;e&&e!==a;){const t=e;e=e.nextSibling,r.appendChild(t)}return e.dom.remove(a),Nt.each(Nt.grep(a.childNodes),(e=>{r.appendChild(e)})),r}}return o},Zb=(e,t,o,n)=>{var r;if(n&&!1!==t.merge_siblings){const t=null!==(r=Wb(e,vh(n),n))&&void 0!==r?r:n;Wb(e,t,vh(t,!0))}},$b=(e,t,o)=>{Vb(e.childNodes,(e=>{jb(e)&&(t(e)&&o(e),e.hasChildNodes()&&$b(e,t,o))}))},qb=(e,t)=>o=>!(!o||!Dh(e,o,t)),Yb=(e,t,o)=>n=>{e.setStyle(n,t,o),""===n.getAttribute("style")&&n.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,n)},Gb=gl([{keep:[]},{rename:["name"]},{removed:[]}]),Kb=/^(src|href|style)$/,Xb=Nt.each,Qb=Ch,Jb=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),ev=(e,t,o)=>{let n=t[o?"startContainer":"endContainer"],r=t[o?"startOffset":"endOffset"];if(jn(n)){const e=n.childNodes.length-1;!o&&r&&r--,n=n.childNodes[r>e?e:r]}return Xn(n)&&o&&r>=n.data.length&&(n=new Hn(n,e.getBody()).next()||n),Xn(n)&&!o&&0===r&&(n=new Hn(n,e.getBody()).prev()||n),n},tv=(e,t)=>{const o=t?"firstChild":"lastChild",n=e[o];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&n?"TR"===e.nodeName&&n[o]||n:e},ov=(e,t,o,n)=>{var r;const a=e.create(o,n);return null===(r=t.parentNode)||void 0===r||r.insertBefore(a,t),a.appendChild(t),a},nv=(e,t,o,n,r)=>{const a=yo.fromDom(t),s=yo.fromDom(e.create(n,r)),i=o?zo(a):Mo(a);return yn(s,i),o?(hn(a,s),mn(s,a)):(pn(a,s),gn(s,a)),s.dom},rv=(e,t,o)=>{const n=t.parentNode;let r;const a=e.dom,s=Ll(e);zh(o)&&n===a.getRoot()&&(o.list_block&&Qb(t,o.list_block)||q(he(t.childNodes),(t=>{wh(e,s,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=ov(a,t,s),a.setAttribs(r,Pl(e))):r=null}))),(e=>Rh(e)&&Nh(e)&&It(Se(e,"mixed"),!0))(o)&&!Qb(o.inline,t)||a.remove(t,!0)},av=(e,t,o)=>S(e)?{name:t,value:null}:{name:e,value:Sh(t,o)},sv=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},iv=(e,t,o,n,r)=>{let a=!1;Xb(o.styles,((s,i)=>{const{name:l,value:c}=av(i,s,n),d=Eh(c,l);(o.remove_similar||b(c)||!jn(r)||Qb(Dh(e,r,l),d))&&e.setStyle(t,l,""),a=!0})),a&&sv(e,t)},lv=(e,t,o,n,r)=>{const a=e.dom,s=Oy(e),i=e.schema;if(Nh(t)&&Da(i,t.inline)&&Ta(i,n)&&n.parentElement===e.getBody())return rv(e,n,t),Gb.removed();if(!t.ceFalseOverride&&n&&"false"===a.getContentEditableParent(n))return Gb.keep();if(n&&!ub(a,n,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(n,t))return Gb.keep();const l=n,c=t.preserve_attributes;if(Nh(t)&&"all"===t.remove&&y(c)){const e=K(a.getAttribs(l),(e=>W(c,e.name.toLowerCase())));if(a.removeAllAttribs(l),q(e,(e=>a.setAttrib(l,e.name,e.value))),e.length>0)return Gb.rename("span")}if("all"!==t.remove){iv(a,l,t,o,r),Xb(t.attributes,((e,n)=>{const{name:s,value:i}=av(n,e,o);if(t.remove_similar||b(i)||!jn(r)||Qb(a.getAttrib(r,s),i)){if("class"===s){const e=a.getAttrib(l,s);if(e){let t="";if(q(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void a.setAttrib(l,s,t)}}if(Kb.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&Wn(["li"])(l)&&"none"===a.getStyle(l,"list-style-type"))return l.removeAttribute(s),void a.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),Xb(t.classes,(e=>{e=Sh(e,o),jn(r)&&!a.hasClass(r,e)||a.removeClass(l,e)}));const e=a.getAttribs(l);for(let t=0;t<e.length;t++){const o=e[t].nodeName;if(!s.isAttributeInternal(o))return Gb.keep()}}return"none"!==t.remove?(rv(e,l,t),Gb.removed()):Gb.keep()},cv=(e,t,o,n,r)=>lv(e,t,o,n,r).fold(P,(t=>(e.dom.rename(n,t),!0)),B),dv=(e,t,o,n)=>lv(e,t,o,n,n).fold(T(n),(t=>(e.dom.createFragment().appendChild(n),e.dom.rename(n,t))),T(null)),uv=(e,t,o,n,r)=>{const a=e.formatter.get(t),s=a[0],i=e.dom,l=e.selection,c=n=>{const i=((e,t,o,n,r)=>{let a;return t.parentNode&&q(Th(e.dom,t.parentNode).reverse(),(t=>{if(!a&&jn(t)&&"_start"!==t.id&&"_end"!==t.id){const s=pb(e,t,o,n,r);s&&!1!==s.split&&(a=t)}})),a})(e,n,t,o,r);return((e,t,o,n,r,a,s,i)=>{var l,c;let d,u;const h=e.dom;if(o){const p=o.parentNode;for(let o=n.parentNode;o&&o!==p;o=o.parentNode){let n=h.clone(o,!1);for(let o=0;o<t.length&&(n=dv(e,t[o],i,n),null!==n);o++);n&&(d&&n.appendChild(d),u||(u=n),d=n)}!a||s.mixed&&h.isBlock(o)||(n=null!==(l=h.split(o,n))&&void 0!==l?l:n),d&&u&&(null===(c=r.parentNode)||void 0===c||c.insertBefore(d,r),u.appendChild(r),Nh(s)&&Zb(e,s,0,d))}return n})(e,a,i,n,n,!0,s,o)},d=t=>Z(a,(n=>cv(e,n,o,t,t))),u=t=>{const o=he(t.childNodes),n=d(t)||Z(a,(e=>ub(i,t,e))),r=t.parentNode;if(!n&&k(r)&&Ih(s)&&d(r),s.deep&&o.length)for(let e=0;e<o.length;e++)u(o[e]);q(["underline","line-through","overline"],(o=>{jn(t)&&e.dom.getStyle(t,"text-decoration")===o&&t.parentNode&&Ah(i,t.parentNode)===o&&cv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:o}},void 0,t)}))},h=e=>{const t=i.get(e?"_start":"_end");if(t){let o=t[e?"firstChild":"lastChild"];return(e=>Uu(e)&&jn(e)&&("_start"===e.id||"_end"===e.id))(o)&&(o=o[e?"firstChild":"lastChild"]),Xn(o)&&0===o.data.length&&(o=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),i.remove(t,!0),o}return null},p=t=>{let o,n,r=Kh(i,t,a,t.collapsed);if(s.split){if(r=Gp(r),o=ev(e,r,!0),n=ev(e,r),o!==n){if(o=tv(o,!0),n=tv(n,!1),Jb(i,o,n)){const e=H.from(o.firstChild).getOr(o);return c(nv(i,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(Jb(i,n,o)){const e=H.from(n.lastChild).getOr(n);return c(nv(i,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}o=ov(i,o,"span",{id:"_start","data-mce-type":"bookmark"}),n=ov(i,n,"span",{id:"_end","data-mce-type":"bookmark"});const e=i.createRng();e.setStartAfter(o),e.setEndBefore(n),Xh(i,e,(e=>{q(e,(e=>{Uu(e)||Uu(e.parentNode)||c(e)}))})),c(o),c(n),o=h(!0),n=h()}else o=n=c(o);r.startContainer=o.parentNode?o.parentNode:o,r.startOffset=i.nodeIndex(o),r.endContainer=n.parentNode?n.parentNode:n,r.endOffset=i.nodeIndex(n)+1}Xh(i,r,(e=>{q(e,u)}))};if(n){if(mh(n)){const e=i.createRng();e.setStartBefore(n),e.setEndAfter(n),p(e)}else p(n);dp(e,t,n,o)}else l.isCollapsed()&&Nh(s)&&!ah(e).length?Cb(e,t,o,r):(yh(e,(()=>hh(e,p)),(n=>Nh(s)&&mb(e,t,o,n))),e.nodeChanged()),((e,t,o)=>{"removeformat"===t?q(Fb(e.selection),(t=>{q(Rb,(o=>e.dom.setStyle(t,o,""))),sv(e.dom,t)})):Ib(e.formatter,t).each((t=>{q(Fb(e.selection),(n=>iv(e.dom,n,t,o,null)))}))})(e,t,o),dp(e,t,n,o)},hv=Nt.each,pv=(e,t,o,n)=>{hv(t,(t=>{Nh(t)&&hv(e.dom.select(t.inline,n),(n=>{jb(n)&&cv(e,t,o,n,t.exact?n:null)})),((e,t,o)=>{if(t.clear_child_styles){const n=t.links?"*:not(a)":"*";Vb(e.select(n,o),(o=>{jb(o)&&fh(o)&&Vb(t.styles,((t,n)=>{e.setStyle(o,n,"")}))}))}})(e.dom,t,n)}))},mv=Nt.each,gv=(e,t,o,n)=>{if(mv(o.styles,((o,r)=>{e.setStyle(t,r,Sh(o,n))})),o.styles){const o=e.getAttrib(t,"style");o&&e.setAttrib(t,"data-mce-style",o)}},fv=(e,t,o,n)=>{const r=e.formatter.get(t),a=r[0],s=!n&&e.selection.isCollapsed(),i=e.dom,l=e.selection,c=(e,t=a)=>{x(t.onformat)&&t.onformat(e,t,o,n),gv(i,e,t,o),mv(t.attributes,((t,n)=>{i.setAttrib(e,n,Sh(t,o))})),mv(t.classes,(t=>{const n=Sh(t,o);i.hasClass(e,n)||i.addClass(e,n)}))},d=(e,t)=>{let o=!1;return mv(e,(e=>!!Rh(e)&&("false"===i.getContentEditable(t)&&!e.ceFalseOverride||(!(!k(e.collapsed)||e.collapsed===s)||(!(i.is(t,e.selector)&&!Tu(t))||(c(t,e),o=!0,!1)))))),o},u=e=>{if(m(e)){const t=i.create(e);return c(t),t}return null},h=(n,s,i)=>{const l=[];let h=!0;const p=a.inline||a.block,m=u(p),g=n=>(e=>zh(e)&&!0===e.wrapper)(a)&&pb(e,n,t,o),f=(t,o,n)=>{const r=(e=>zh(e)&&!0!==e.wrapper)(a)&&_h(e.schema,t)&&wh(e,o,p);return n&&r};Xh(n,s,(t=>{let o;const s=t=>{let u=!1,y=h,b=!1;const v=t.parentNode,_=v.nodeName.toLowerCase(),w=n.getContentEditable(t);k(w)&&(y=h,h="true"===w,u=!0,b=xh(e,t));const x=h&&!u;if(nr(t)&&!((e,t,o,n)=>{if(wc(e)&&Nh(t)&&o.parentNode){const t=hs(e.schema),r=ab(yo.fromDom(o),(e=>Tu(e.dom)));return Ee(t,n)&&ya(yo.fromDom(o.parentNode),!1)&&!r}return!1})(e,a,t,_))return o=null,void(zh(a)&&n.remove(t));if(g(t))o=null;else{if(f(t,_,x)){const e=n.rename(t,p);return c(e),l.push(e),void(o=null)}if(Rh(a)){let e=d(r,t);if(!e&&k(v)&&Ih(a)&&(e=d(r,v)),!Nh(a)||e)return void(o=null)}k(m)&&((t,o,r,s)=>{const l=t.nodeName.toLowerCase(),c=wh(e,p,l)&&wh(e,o,p),d=!i&&Xn(t)&&Ir(t.data),u=Tu(t),h=!Nh(a)||!n.isBlock(t);return(r||s)&&c&&!d&&!u&&h})(t,_,x,b)?(o||(o=n.clone(m,!1),v.insertBefore(o,t),l.push(o)),b&&u&&(h=y),o.appendChild(t)):(o=null,q(he(t.childNodes),s),u&&(h=y),o=null)}};q(t,s)})),!0===a.links&&q(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,a),q(he(e.childNodes),t)};t(e)})),q(l,(s=>{const i=(e=>{let t=0;return q(e.childNodes,(e=>{(e=>k(e)&&Xn(e)&&0===e.length)(e)||Uu(e)||t++})),t})(s);!(l.length>1)&&n.isBlock(s)||0!==i?(Nh(a)||zh(a)&&a.wrapper)&&(a.exact||1!==i||(s=(e=>{const t=ee(e.childNodes,gh).filter((e=>"false"!==n.getContentEditable(e)&&ub(n,e,a)));return t.map((t=>{const o=n.clone(t,!1);return c(o),n.replace(o,e,!0),n.remove(t,!0),o})).getOr(e)})(s)),pv(e,r,o,s),((e,t,o,n,r)=>{const a=r.parentNode;pb(e,a,o,n)&&cv(e,t,n,r)||t.merge_with_parents&&a&&e.dom.getParent(a,(a=>!!pb(e,a,o,n)&&(cv(e,t,n,r),!0)))})(e,a,t,o,s),((e,t,o,n)=>{if(t.styles&&t.styles.backgroundColor){const r=qb(e,"fontSize");$b(n,(e=>r(e)&&fh(e)),Yb(e,"backgroundColor",Sh(t.styles.backgroundColor,o)))}})(n,a,o,s),((e,t,o,n)=>{const r=t=>{if(jn(t)&&jn(t.parentNode)&&fh(t)){const o=Ah(e,t.parentNode);e.getStyle(t,"color")&&o?e.setStyle(t,"text-decoration",o):e.getStyle(t,"text-decoration")===o&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Nt.walk(n,r,"childNodes"),r(n))})(n,a,0,s),((e,t,o,n)=>{if(Nh(t)&&("sub"===t.inline||"sup"===t.inline)){const o=qb(e,"fontSize");$b(n,(e=>o(e)&&fh(e)),Yb(e,"fontSize",""));const r=K(e.select("sup"===t.inline?"sub":"sup",n),fh);e.remove(r,!0)}})(n,a,0,s),Zb(e,a,0,s)):n.remove(s,!0)}))},p=mh(n)?n:l.getNode();if("false"===i.getContentEditable(p)&&!xh(e,p))return d(r,n=p),void cp(e,t,n,o);if(a){if(n)if(mh(n)){if(!d(r,n)){const e=i.createRng();e.setStartBefore(n),e.setEndAfter(n),h(i,Kh(i,e,r),!0)}}else h(i,n,!0);else s&&Nh(a)&&!ah(e).length?((e,t,o)=>{let n;const r=e.selection,a=e.formatter.get(t);if(!a)return;const s=r.getRng();let i=s.startOffset;const l=s.startContainer.nodeValue;n=Ou(e.getBody(),r.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&i>0&&i<l.length&&c.test(l.charAt(i))&&c.test(l.charAt(i-1))){const n=r.getBookmark();s.collapse(!0);let i=Kh(e.dom,s,a);i=Gp(i),e.formatter.apply(t,o,i),r.moveToBookmark(n)}else{let a=n?vb(n):null;n&&(null==a?void 0:a.data)===yb||(d=e.getDoc(),u=_b(!0).dom,n=d.importNode(u,!0),a=n.firstChild,s.insertNode(n),i=1),e.formatter.apply(t,o,n),r.setCursorLocation(a,i)}var d,u})(e,t,o):(l.setRng(jy(l.getRng())),yh(e,(()=>{hh(e,((e,t)=>{const o=t?e:Kh(i,e,r);h(i,o,!1)}))}),B),e.nodeChanged()),Ib(e.formatter,t).each((t=>{q(Hb(e.selection),(e=>gv(i,e,t,o)))}));((e,t)=>{Ce(Mb,e)&&q(Mb[e],(e=>{e(t)}))})(t,e)}cp(e,t,n,o)},yv=e=>Ce(e,"vars"),bv=e=>e.selection.getStart(),vv=(e,t,o,n,r)=>J(t,(t=>{const a=e.formatter.matchNode(t,o,null!=r?r:{},n);return!_(a)}),(t=>!!cb(e,t,o)||!n&&k(e.formatter.matchNode(t,o,r,!0)))),_v=(e,t)=>{const o=null!=t?t:bv(e);return K(Th(e.dom,o),(e=>jn(e)&&!qn(e)))},wv=(e,t,o)=>{const n=_v(e,t);fe(o,((o,r)=>{const a=o=>{const a=vv(e,n,r,o.similar,yv(o)?o.vars:void 0),s=a.isSome();if(o.state.get()!==s){o.state.set(s);const e=a.getOr(t);yv(o)?o.callback(s,{node:e,format:r,parents:n}):q(o.callbacks,(t=>t(s,{node:e,format:r,parents:n})))}};q([o.withSimilar,o.withoutSimilar],a),q(o.withVars,a)}))},kv=(e,t,o,n,r,a)=>(((e,t,o,n,r,a)=>{const s=t.get();q(o.split(","),(t=>{const o=Se(s,t).getOrThunk((()=>{const e={withSimilar:{state:Bs(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Bs(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),i=()=>{const o=_v(e);return vv(e,o,t,r,a).isSome()};if(_(a)){const e=r?o.withSimilar:o.withoutSimilar;e.callbacks.push(n),1===e.callbacks.length&&e.state.set(i())}else o.withVars.push({state:Bs(i()),similar:r,vars:a,callback:n})})),t.set(s)})(e,t,o,n,r,a),{unbind:()=>((e,t,o)=>{const n=e.get();q(t.split(","),(e=>Se(n,e).each((t=>{n[e]={withSimilar:{...t.withSimilar,callbacks:K(t.withSimilar.callbacks,(e=>e!==o))},withoutSimilar:{...t.withoutSimilar,callbacks:K(t.withoutSimilar.callbacks,(e=>e!==o))},withVars:K(t.withVars,(e=>e.callback!==o))}})))),e.set(n)})(t,o,n)}),xv=Nt.explode,Sv=()=>{const e={};return{addFilter:(t,o)=>{q(xv(t),(t=>{Ce(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(o)}))},getFilters:()=>xe(e),removeFilter:(t,o)=>{q(xv(t),(t=>{if(Ce(e,t))if(k(o)){const n=e[t],r=K(n.callbacks,(e=>e!==o));r.length>0?n.callbacks=r:delete e[t]}else delete e[t]}))}}},Cv=(e,t,o)=>{e.addNodeFilter("font",(e=>{q(e,(e=>{const n=t.parse(e.attr("style")),r=e.attr("color"),a=e.attr("face"),s=e.attr("size");r&&(n.color=r),a&&(n["font-family"]=a),s&&Qe(s).each((e=>{n["font-size"]=o[e-1]})),e.name="span",e.attr("style",t.serialize(n)),((e,t)=>{q(t,(t=>{e.attr(t,null)}))})(e,["color","face","size"])}))}))},Ev=(e,t,o)=>{var n;const r=gs();t.convert_fonts_to_spans&&Cv(e,r,Nt.explode(null!==(n=t.font_size_legacy_values)&&void 0!==n?n:"")),((e,t,o)=>{e.addNodeFilter("strike",(e=>{const n="html4"!==t.type;q(e,(e=>{if(n)e.name="s";else{const t=o.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",o.serialize(t))}}))}))})(e,o,r)},Dv=e=>{const[t,...o]=e.split(","),n=o.join(","),r=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(r){const e=";base64"===r[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(n):decodeURIComponent(n);return H.some({type:r[1],data:t,base64Encoded:e})}return H.none()},Av=(e,t,o=!0)=>{let n=t;if(o)try{n=atob(t)}catch(e){return H.none()}const r=new Uint8Array(n.length);for(let e=0;e<r.length;e++)r[e]=n.charCodeAt(e);return H.some(new Blob([r],{type:e}))},Tv=e=>{return We(e,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`))))(e):We(e,"data:")?(t=e,new Promise(((e,o)=>{Dv(t).bind((({type:e,data:t,base64Encoded:o})=>Av(e,t,o))).fold((()=>o("Invalid data URI")),e)}))):Promise.reject("Unknown URI format");var t},Ov=e=>new Promise(((t,o)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=()=>{var e;o(null===(e=n.error)||void 0===e?void 0:e.message)},n.readAsDataURL(e)}));let Mv=0;const zv=(e,t,o)=>Dv(e).bind((({data:e,type:n,base64Encoded:r})=>{if(t&&!r)return H.none();{const t=r?e:btoa(e);return o(t,n)}})),Rv=(e,t,o)=>{const n=e.create((r||"blobid")+Mv++,t,o);var r;return e.add(n),n},Nv=(e,t,o=!1)=>zv(t,o,((t,o)=>H.from(e.getByData(t,o)).orThunk((()=>Av(o,t).map((o=>Rv(e,o,t))))))),Iv=(e,t)=>{const{blob_cache:o}=t;if(o){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Ot.transparentSrc||k(e.attr("data-mce-placeholder")))(e)||(e=>k(e.attr("data-mce-bogus")))(e)||w(t)||Nv(o,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>q(e,t)))}};function Lv(e){return Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(e)}function Pv(e,t){return Pv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pv(e,t)}function Bv(e,t,o){return Bv=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,o){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return o&&Pv(r,o.prototype),r},Bv.apply(null,arguments)}function Hv(e){return function(e){if(Array.isArray(e))return Fv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fv(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Fv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fv(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var Vv=Object.hasOwnProperty,jv=Object.setPrototypeOf,Uv=Object.isFrozen,Wv=Object.getPrototypeOf,Zv=Object.getOwnPropertyDescriptor,$v=Object.freeze,qv=Object.seal,Yv=Object.create,Gv="undefined"!=typeof Reflect&&Reflect,Kv=Gv.apply,Xv=Gv.construct;Kv||(Kv=function(e,t,o){return e.apply(t,o)}),$v||($v=function(e){return e}),qv||(qv=function(e){return e}),Xv||(Xv=function(e,t){return Bv(e,Hv(t))});var Qv,Jv=c_(Array.prototype.forEach),e_=c_(Array.prototype.pop),t_=c_(Array.prototype.push),o_=c_(String.prototype.toLowerCase),n_=c_(String.prototype.match),r_=c_(String.prototype.replace),a_=c_(String.prototype.indexOf),s_=c_(String.prototype.trim),i_=c_(RegExp.prototype.test),l_=(Qv=TypeError,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return Xv(Qv,t)});function c_(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return Kv(e,t,n)}}function d_(e,t){jv&&jv(e,null);for(var o=t.length;o--;){var n=t[o];if("string"==typeof n){var r=o_(n);r!==n&&(Uv(t)||(t[o]=r),n=r)}e[n]=!0}return e}function u_(e){var t,o=Yv(null);for(t in e)Kv(Vv,e,[t])&&(o[t]=e[t]);return o}function h_(e,t){for(;null!==e;){var o=Zv(e,t);if(o){if(o.get)return c_(o.get);if("function"==typeof o.value)return c_(o.value)}e=Wv(e)}return function(e){return console.warn("fallback value for",e),null}}var p_=$v(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),m_=$v(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),g_=$v(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),f_=$v(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),y_=$v(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),b_=$v(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),v_=$v(["#text"]),__=$v(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),w_=$v(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),k_=$v(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x_=$v(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),S_=qv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),C_=qv(/<%[\w\W]*|[\w\W]*%>/gm),E_=qv(/^data-[\-\w.\u00B7-\uFFFF]/),D_=qv(/^aria-[\-\w]+$/),A_=qv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),T_=qv(/^(?:\w+script|data):/i),O_=qv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),M_=qv(/^html$/i),z_=function(){return"undefined"==typeof window?null:window},R_=function(e,t){if("object"!==Lv(e)||"function"!=typeof e.createPolicy)return null;var o=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(o=t.currentScript.getAttribute(n));var r="dompurify"+(o?"#"+o:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var N_=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z_(),o=function(t){return e(t)};if(o.version="2.3.8",o.removed=[],!t||!t.document||9!==t.document.nodeType)return o.isSupported=!1,o;var n=t.document,r=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,i=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,h=t.HTMLFormElement,p=t.DOMParser,m=t.trustedTypes,g=l.prototype,f=h_(g,"cloneNode"),y=h_(g,"nextSibling"),b=h_(g,"childNodes"),v=h_(g,"parentNode");if("function"==typeof s){var _=r.createElement("template");_.content&&_.content.ownerDocument&&(r=_.content.ownerDocument)}var w=R_(m,n),k=w?w.createHTML(""):"",x=r,S=x.implementation,C=x.createNodeIterator,E=x.createDocumentFragment,D=x.getElementsByTagName,A=n.importNode,T={};try{T=u_(r).documentMode?r.documentMode:{}}catch(e){}var O={};o.isSupported="function"==typeof v&&S&&void 0!==S.createHTMLDocument&&9!==T;var M,z,R=S_,N=C_,I=E_,L=D_,P=T_,B=O_,H=A_,F=null,V=d_({},[].concat(Hv(p_),Hv(m_),Hv(g_),Hv(y_),Hv(v_))),j=null,U=d_({},[].concat(Hv(__),Hv(w_),Hv(k_),Hv(x_))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Z=null,$=null,q=!0,Y=!0,G=!1,K=!1,X=!1,Q=!1,J=!1,ee=!1,te=!1,oe=!1,ne=!0,re=!0,ae=!1,se={},ie=null,le=d_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,de=d_({},["audio","video","img","source","image","track"]),ue=null,he=d_({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml",fe=ge,ye=!1,be=["application/xhtml+xml","text/html"],ve=null,_e=r.createElement("form"),we=function(e){return e instanceof RegExp||e instanceof Function},ke=function(e){ve&&ve===e||(e&&"object"===Lv(e)||(e={}),e=u_(e),F="ALLOWED_TAGS"in e?d_({},e.ALLOWED_TAGS):V,j="ALLOWED_ATTR"in e?d_({},e.ALLOWED_ATTR):U,ue="ADD_URI_SAFE_ATTR"in e?d_(u_(he),e.ADD_URI_SAFE_ATTR):he,ce="ADD_DATA_URI_TAGS"in e?d_(u_(de),e.ADD_DATA_URI_TAGS):de,ie="FORBID_CONTENTS"in e?d_({},e.FORBID_CONTENTS):le,Z="FORBID_TAGS"in e?d_({},e.FORBID_TAGS):{},$="FORBID_ATTR"in e?d_({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,Y=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,oe=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,H=e.ALLOWED_URI_REGEXP||H,fe=e.NAMESPACE||ge,e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),M=M=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,z="application/xhtml+xml"===M?function(e){return e}:o_,K&&(Y=!1),te&&(ee=!0),se&&(F=d_({},Hv(v_)),j=[],!0===se.html&&(d_(F,p_),d_(j,__)),!0===se.svg&&(d_(F,m_),d_(j,w_),d_(j,x_)),!0===se.svgFilters&&(d_(F,g_),d_(j,w_),d_(j,x_)),!0===se.mathMl&&(d_(F,y_),d_(j,k_),d_(j,x_))),e.ADD_TAGS&&(F===V&&(F=u_(F)),d_(F,e.ADD_TAGS)),e.ADD_ATTR&&(j===U&&(j=u_(j)),d_(j,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&d_(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ie===le&&(ie=u_(ie)),d_(ie,e.FORBID_CONTENTS)),re&&(F["#text"]=!0),X&&d_(F,["html","head","body"]),F.table&&(d_(F,["tbody"]),delete Z.tbody),$v&&$v(e),ve=e)},xe=d_({},["mi","mo","mn","ms","mtext"]),Se=d_({},["foreignobject","desc","title","annotation-xml"]),Ce=d_({},["title","style","font","a","script"]),Ee=d_({},m_);d_(Ee,g_),d_(Ee,f_);var De=d_({},y_);d_(De,b_);var Ae=function(e){t_(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=k}catch(t){e.remove()}}},Te=function(e,t){try{t_(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){t_(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!j[e])if(ee||te)try{Ae(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Oe=function(e){var t,o;if(J)e="<remove></remove>"+e;else{var n=n_(e,/^[\r\n\t ]+/);o=n&&n[0]}"application/xhtml+xml"===M&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=w?w.createHTML(e):e;if(fe===ge)try{t=(new p).parseFromString(a,M)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(fe,"template",null);try{t.documentElement.innerHTML=ye?"":a}catch(e){}}var s=t.body||t.documentElement;return e&&o&&s.insertBefore(r.createTextNode(o),s.childNodes[0]||null),fe===ge?D.call(t,X?"html":"body")[0]:X?t.documentElement:s},Me=function(e){return C.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ze=function(e){return"object"===Lv(i)?e instanceof i:e&&"object"===Lv(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Re=function(e,t,n){O[e]&&Jv(O[e],(function(e){e.call(o,t,n,ve)}))},Ne=function(e){var t,n;if(Re("beforeSanitizeElements",e,null),(n=e)instanceof h&&("string"!=typeof n.nodeName||"string"!=typeof n.textContent||"function"!=typeof n.removeChild||!(n.attributes instanceof u)||"function"!=typeof n.removeAttribute||"function"!=typeof n.setAttribute||"string"!=typeof n.namespaceURI||"function"!=typeof n.insertBefore))return Ae(e),!0;if(i_(/[\u0080-\uFFFF]/,e.nodeName))return Ae(e),!0;var r=z(e.nodeName);if(Re("uponSanitizeElement",e,{tagName:r,allowedTags:F}),e.hasChildNodes()&&!ze(e.firstElementChild)&&(!ze(e.content)||!ze(e.content.firstElementChild))&&i_(/<[/\w]/g,e.innerHTML)&&i_(/<[/\w]/g,e.textContent))return Ae(e),!0;if("select"===r&&i_(/<template/i,e.innerHTML))return Ae(e),!0;if(!F[r]||Z[r]){if(!Z[r]&&Le(r)){if(W.tagNameCheck instanceof RegExp&&i_(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(re&&!ie[r]){var a=v(e)||e.parentNode,s=b(e)||e.childNodes;if(s&&a)for(var i=s.length-1;i>=0;--i)a.insertBefore(f(s[i],!0),y(e))}return Ae(e),!0}return e instanceof l&&!function(e){var t=v(e);t&&t.tagName||(t={namespaceURI:ge,tagName:"template"});var o=o_(e.tagName),n=o_(t.tagName);return e.namespaceURI===me?t.namespaceURI===ge?"svg"===o:t.namespaceURI===pe?"svg"===o&&("annotation-xml"===n||xe[n]):Boolean(Ee[o]):e.namespaceURI===pe?t.namespaceURI===ge?"math"===o:t.namespaceURI===me?"math"===o&&Se[n]:Boolean(De[o]):e.namespaceURI===ge&&!(t.namespaceURI===me&&!Se[n])&&!(t.namespaceURI===pe&&!xe[n])&&!De[o]&&(Ce[o]||!Ee[o])}(e)?(Ae(e),!0):"noscript"!==r&&"noembed"!==r||!i_(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,t=r_(t,R," "),t=r_(t,N," "),e.textContent!==t&&(t_(o.removed,{element:e.cloneNode()}),e.textContent=t)),Re("afterSanitizeElements",e,null),!1):(Ae(e),!0)},Ie=function(e,t,o){if(ne&&("id"===t||"name"===t)&&(o in r||o in _e))return!1;if(Y&&!$[t]&&i_(I,t));else if(q&&i_(L,t));else if(!j[t]||$[t]){if(!(Le(e)&&(W.tagNameCheck instanceof RegExp&&i_(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&i_(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&i_(W.tagNameCheck,o)||W.tagNameCheck instanceof Function&&W.tagNameCheck(o))))return!1}else if(ue[t]);else if(i_(H,r_(o,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==a_(o,"data:")||!ce[e]){if(G&&!i_(P,r_(o,B,"")));else if(o)return!1}else;return!0},Le=function(e){return e.indexOf("-")>0},Pe=function(e){var t,o,n,r;Re("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(r=a.length;r--;){var i=t=a[r],l=i.name,c=i.namespaceURI;o="value"===l?t.value:s_(t.value),n=z(l);var d=o;if(s.attrName=n,s.attrValue=o,s.keepAttr=!0,s.forceKeepAttr=void 0,Re("uponSanitizeAttribute",e,s),o=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(i_(/\/>/i,o))Te(l,e);else{K&&(o=r_(o,R," "),o=r_(o,N," "));var u=z(e.nodeName);if(Ie(u,n,o)){if(o!==d)try{c?e.setAttributeNS(c,l,o):e.setAttribute(l,o)}catch(t){Te(l,e)}}else Te(l,e)}else Te(l,e)}Re("afterSanitizeAttributes",e,null)}},Be=function e(t){var o,n=Me(t);for(Re("beforeSanitizeShadowDOM",t,null);o=n.nextNode();)Re("uponSanitizeShadowNode",o,null),Ne(o)||(o.content instanceof a&&e(o.content),Pe(o));Re("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e,r){var s,l,c,d,u;if((ye=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ze(e)){if("function"!=typeof e.toString)throw l_("toString is not a function");if("string"!=typeof(e=e.toString()))throw l_("dirty is not a string, aborting")}if(!o.isSupported){if("object"===Lv(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(ze(e))return t.toStaticHTML(e.outerHTML)}return e}if(Q||ke(r),o.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){var h=z(e.nodeName);if(!F[h]||Z[h])throw l_("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof i)1===(l=(s=Oe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return w&&oe?w.createHTML(e):e;if(!(s=Oe(e)))return ee?null:oe?k:""}s&&J&&Ae(s.firstChild);for(var p=Me(ae?e:s);c=p.nextNode();)3===c.nodeType&&c===d||Ne(c)||(c.content instanceof a&&Be(c.content),Pe(c),d=c);if(d=null,ae)return e;if(ee){if(te)for(u=E.call(s.ownerDocument);s.firstChild;)u.appendChild(s.firstChild);else u=s;return j.shadowroot&&(u=A.call(n,u,!0)),u}var m=X?s.outerHTML:s.innerHTML;return X&&F["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&i_(M_,s.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+m),K&&(m=r_(m,R," "),m=r_(m,N," ")),w&&oe?w.createHTML(m):m},o.setConfig=function(e){ke(e),Q=!0},o.clearConfig=function(){ve=null,Q=!1},o.isValidAttribute=function(e,t,o){ve||ke({});var n=z(e),r=z(t);return Ie(n,r,o)},o.addHook=function(e,t){"function"==typeof t&&(O[e]=O[e]||[],t_(O[e],t))},o.removeHook=function(e){if(O[e])return e_(O[e])},o.removeHooks=function(e){O[e]&&(O[e]=[])},o.removeAllHooks=function(){O={}},o}();const I_=Nt.each,L_=Nt.trim,P_=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],B_={ftp:21,http:80,https:443,mailto:25},H_=["img","video"],F_=(e,t,o)=>{const n=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(n)||!e.allow_html_data_urls&&(/^data:image\//i.test(n)?((e,t)=>k(e)?!e:!k(t)||!W(H_,t))(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)))};class V_{constructor(e,t={}){this.path="",this.directory="",e=L_(e),this.settings=t;const o=t.base_uri,n=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(n.source=e);const r=0===e.indexOf("//");if(0!==e.indexOf("/")||r||(e=(o&&o.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=o?o.path:new V_(document.location.href).directory;if(""===(null==o?void 0:o.protocol))e="//mce_host"+n.toAbsPath(t,e);else{const r=/([^#?]*)([#?]?.*)/.exec(e);r&&(e=(o&&o.protocol||"http")+"://mce_host"+n.toAbsPath(t,r[1])+r[2])}}e=e.replace(/@@/g,"(mce_at)");const a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a&&I_(P_,((e,t)=>{let o=a[t];o&&(o=o.replace(/\(mce_at\)/g,"@@")),n[e]=o})),o&&(n.protocol||(n.protocol=o.protocol),n.userInfo||(n.userInfo=o.userInfo),n.port||"mce_host"!==n.host||(n.port=o.port),n.host&&"mce_host"!==n.host||(n.host=o.host),n.source=""),r&&(n.protocol="")}static parseDataUri(e){let t;const o=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(o[0]);return n&&(t=n[1]),{type:t,data:o[1]}}static isDomSafe(e,t,o={}){if(o.allow_script_urls)return!0;{const n=ts.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!F_(o,n,t)}}static getDocumentBaseUrl(e){var t;let o;return o=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new V_(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const o=this.getURI(),n=t.getURI();if(o===n||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===n)return o;let r=this.toRelPath(this.path,t.path);return t.query&&(r+="?"+t.query),t.anchor&&(r+="#"+t.anchor),r}toAbsolute(e,t){const o=new V_(e,{base_uri:this});return o.getURI(t&&this.isSameOrigin(o))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?B_[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let o,n,r=0,a="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),i=t.split("/");if(s.length>=i.length)for(o=0,n=s.length;o<n;o++)if(o>=i.length||s[o]!==i[o]){r=o+1;break}if(s.length<i.length)for(o=0,n=i.length;o<n;o++)if(o>=s.length||s[o]!==i[o]){r=o+1;break}if(1===r)return t;for(o=0,n=s.length-(r-1);o<n;o++)a+="../";for(o=r-1,n=i.length;o<n;o++)a+=o!==r-1?"/"+i[o]:i[o];return a}toAbsPath(e,t){let o=0;const n=/\/$/.test(t)?"/":"",r=e.split("/"),a=t.split("/"),s=[];I_(r,(e=>{e&&s.push(e)}));const i=[];for(let e=a.length-1;e>=0;e--)0!==a[e].length&&"."!==a[e]&&(".."!==a[e]?o>0?o--:i.push(a[e]):o++);const l=s.length-o;let c;return c=l<=0?ae(i).join("/"):s.slice(0,l).join("/")+"/"+ae(i).join("/"),0!==c.indexOf("/")&&(c="/"+c),n&&c.lastIndexOf("/")!==c.length-1&&(c+=n),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const j_=Nt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),U_="data-mce-type";let W_=0;const Z_=(e,t,o,n)=>{var r,a,s,i;const l=t.validate,c=o.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(r=e.nodeValue)&&void 0!==r?r:"")&&(e.nodeValue=" "+e.nodeValue);const d=null!==(a=null==n?void 0:n.tagName)&&void 0!==a?a:e.nodeName.toLowerCase();if(1!==e.nodeType||"body"===d)return;const u=yo.fromDom(e),h=oo(u,U_),p=eo(u,"data-mce-bogus");if(!h&&m(p))return void("all"===p?vn(u):_n(u));const g=o.getElementRule(d);if(!l||g){if(k(n)&&(n.allowedTags[d]=!0),l&&g&&!h){if(q(null!==(s=g.attributesForced)&&void 0!==s?s:[],(e=>{Qt(u,e.name,"{$uid}"===e.value?"mce_"+W_++:e.value)})),q(null!==(i=g.attributesDefault)&&void 0!==i?i:[],(e=>{oo(u,e.name)||Qt(u,e.name,"{$uid}"===e.value?"mce_"+W_++:e.value)})),g.attributesRequired&&!Z(g.attributesRequired,(e=>oo(u,e))))return void _n(u);if(g.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(u))return void _n(u);g.outputName&&g.outputName!==d&&ui(u,g.outputName)}}else Ce(c,d)?vn(u):_n(u)},$_=(e,t,o,n,r)=>!(n in j_&&F_(e,r,o))&&(!e.validate||t.isValid(o,n)||We(n,"data-")||We(n,"aria-")),q_=(e,t)=>e.hasAttribute(U_)&&("id"===t||"class"===t||"style"===t),Y_=(e,t)=>e in t.getBoolAttrs(),G_=(e,t,o)=>{const{attributes:n}=e;for(let r=n.length-1;r>=0;r--){const a=n[r],s=a.name,i=a.value;$_(t,o,e.tagName.toLowerCase(),s,i)||q_(e,s)?Y_(s,o)&&e.setAttribute(s,s):e.removeAttribute(s)}},K_=(e,t)=>{const o=N_();return o.addHook("uponSanitizeElement",((o,n)=>{Z_(o,e,t,n)})),o.addHook("uponSanitizeAttribute",((o,n)=>{const r=o.tagName.toLowerCase(),{attrName:a,attrValue:s}=n;n.keepAttr=$_(e,t,r,a,s),n.keepAttr?(n.allowedAttributes[a]=!0,Y_(a,t)&&(n.attrValue=a),e.allow_svg_data_urls&&We(s,"data:image/svg+xml")&&(n.forceKeepAttr=!0)):q_(o,a)&&(n.forceKeepAttr=!0)})),o},X_=Nt.makeMap,Q_=Nt.extend,J_=(e,t,o)=>{const n=e.name,r=n in o&&"title"!==n&&"textarea"!==n,a=t.childNodes;for(let t=0,n=a.length;t<n;t++){const n=a[t],s=new hg(n.nodeName.toLowerCase(),n.nodeType);if(jn(n)){const e=n.attributes;for(let t=0,o=e.length;t<o;t++){const o=e[t];s.attr(o.name,o.value)}}else Xn(n)?(s.value=n.data,r&&(s.raw=!0)):(er(n)||Qn(n)||Jn(n))&&(s.value=n.data);J_(s,n,o),e.append(s)}},ew=(e,t,o,n)=>{const r=o.validate,a=t.getNonEmptyElements(),s=t.getWhitespaceElements(),i=Q_(X_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=hs(t),c=/[ \t\r\n]+/g,d=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,h=e=>{let t=e.parent;for(;k(t);){if(t.name in s)return!0;t=t.parent}return!1},p=e=>e.name in i&&!Ma(t,e),m=(t,o)=>{const r=o?t.prev:t.next;return!k(r)&&!w(t.parent)&&(p(t.parent)&&(t.parent!==e||!0===n.isRootContent))};return[e=>{var t;if(3===e.type&&!h(e)){let o=null!==(t=e.value)&&void 0!==t?t:"";o=o.replace(c," "),(((e,t)=>k(e)&&(t(e)||"br"===e.name))(e.prev,p)||m(e,!0))&&(o=o.replace(d,"")),0===o.length?e.remove():e.value=o}},e=>{var o;if(1===e.type){const o=t.getElementRule(e.name);if(r&&o){const r=Ly(t,a,s,e);o.paddInEmptyBlock&&r&&(e=>{let o=e;for(;k(o);){if(o.name in l)return Ly(t,a,s,o);o=o.parent}return!1})(e)?Ny(n,p,e):o.removeEmpty&&r?p(e)?e.remove():e.unwrap():o.paddEmpty&&(r||(e=>{var t;return Iy(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===hr})(e))&&Ny(n,p,e)}}else if(3===e.type&&!h(e)){let t=null!==(o=e.value)&&void 0!==o?o:"";(e.next&&p(e.next)||m(e,!1))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}}]},tw=(e={},t=ms())=>{const o=Sv(),n=Sv(),r={validate:!0,root_name:"body",sanitize:!0,...e},a=new DOMParser,s=((e,t)=>{if(e.sanitize){const o=K_(e,t);return(t,n)=>{o.sanitize(t,((e,t)=>{const o={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return o.PARSER_MEDIA_TYPE=t,e.allow_script_urls?o.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(o.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),o})(e,n)),o.removed=[]}}return(o,n)=>{const r=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let a;for(;a=r.nextNode();)Z_(a,e,t),jn(a)&&G_(a,e,t)}})(r,t),i=o.addFilter,l=o.getFilters,c=o.removeFilter,d=n.addFilter,u=n.getFilters,h=n.removeFilter,p=(e,o)=>{const n=m(o.attr(U_)),r=1===o.type&&!Ce(e,o.name)&&!((e,t)=>1===t.type&&Da(e,t.name)&&m(t.attr(ba)))(t,o);return 3===o.type||r&&!n},g={schema:t,addAttributeFilter:d,getAttributeFilters:u,removeAttributeFilter:h,addNodeFilter:i,getNodeFilters:l,removeNodeFilter:c,parse:(e,o={})=>{var n;const i=r.validate,c=null!==(n=o.context)&&void 0!==n?n:r.root_name,d=((e,o,n="html")=>{const r="xhtml"===n?"application/xhtml+xml":"text/html",i=Ce(t.getSpecialElements(),o.toLowerCase()),l=i?`<${o}>${e}</${o}>`:e,c="xhtml"===n?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,d=a.parseFromString(c,r).body;return s(d,r),i?d.firstChild:d})(e,c,o.format);Sa(t,d);const h=new hg(c,11);J_(h,d,t.getSpecialElements()),d.innerHTML="";const[m,g]=ew(h,t,r,o),f=[],y=i?e=>((e,o)=>{Fy(t,e)&&o.push(e)})(e,f):E,b={nodes:{},attributes:{}},v=e=>My(l(),u(),e,b);if(((e,t,o)=>{const n=[];for(let o=e,r=o;o;r=o,o=o.walk()){const a=o;q(t,(e=>e(a))),w(a.parent)&&a!==e?o=r:n.push(a)}for(let e=n.length-1;e>=0;e--){const t=n[e];q(o,(e=>e(t)))}})(h,[m,v],[g,y]),f.reverse(),i&&f.length>0)if(o.context){const{pass:e,fail:n}=G(f,(e=>e.parent===h));Hy(n,t,h,v),o.invalid=e.length>0}else Hy(f,t,h,v);const _=((e,t)=>{var o;const n=null!==(o=t.forced_root_block)&&void 0!==o?o:e.forced_root_block;return!1===n?"":!0===n?"p":n})(r,o);return _&&("body"===h.name||o.isRootContent)&&((e,o)=>{const n=Q_(X_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),a=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let i=e.firstChild,l=null;const c=e=>{var t,o;e&&(i=e.firstChild,i&&3===i.type&&(i.value=null===(t=i.value)||void 0===t?void 0:t.replace(a,"")),i=e.lastChild,i&&3===i.type&&(i.value=null===(o=i.value)||void 0===o?void 0:o.replace(s,"")))};if(t.isValidChild(e.name,o.toLowerCase())){for(;i;){const t=i.next;p(n,i)?(l||(l=new hg(o,1),l.attr(r.forced_root_block_attrs),e.insert(l,i)),l.append(i)):(c(l),l=null),i=t}c(l)}})(h,_),o.invalid||zy(b,o),h}};return((e,t)=>{const o=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",((e,t,n)=>{const r=Nt.extend({},o.getBlockElements()),a=o.getNonEmptyElements(),s=o.getWhitespaceElements();r.body=1;const i=e=>e.name in r&&Ma(o,e);for(let t=0,l=e.length;t<l;t++){let l=e[t],c=l.parent;if(c&&r[c.name]&&l===c.lastChild){let e=l.prev;for(;e;){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(l=null);break}e=e.prev}if(l&&(l.remove(),Ly(o,a,s,c))){const e=o.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&Ny(n,i,c))}}else{let e=l;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!r[c.name]);)c=c.parent;if(e===c){const e=new hg("#text",3);e.value=hr,l.replace(e)}}}})),e.addAttributeFilter("href",(e=>{let o=e.length;const n=e=>{const t=e?Nt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;o--;){const t=e[o];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",n(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,o,n,r,a=e.length;for(;a--;)if(r=e[a],"a"===r.name&&r.firstChild&&!r.attr("href"))for(n=r.parent,t=r.lastChild;t&&n;)o=t.prev,n.insert(t,r),t=o})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,o,n=e.length;for(;n--;)if(t=e[n],o=t.parent,o&&("ul"===o.name||"ol"===o.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new hg("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const n=o.getValidClasses();t.validate&&n&&e.addAttributeFilter("class",(e=>{var t;let o=e.length;for(;o--;){const r=e[o],a=null!==(t=r.attr("class"))&&void 0!==t?t:"",s=Nt.explode(a," ");let i="";for(let e=0;e<s.length;e++){const t=s[e];let o=!1,a=n["*"];a&&a[t]&&(o=!0),a=n[r.name],!o&&a&&a[t]&&(o=!0),o&&(i&&(i+=" "),i+=t)}i.length||(i=null),r.attr("class",i)}})),Iv(e,t)})(g,r),((e,t,o)=>{t.inline_styles&&Ev(e,t,o)})(g,r,t),g},ow=(e,t,o)=>{const n=(e=>ob(e)?xg({validate:!1}).serialize(e):e)(e),r=t(n);if(r.isDefaultPrevented())return r;if(ob(e)){if(r.content!==n){const t=tw({validate:!1,forced_root_block:!1,sanitize:o}).parse(r.content,{context:e.name});return{...r,content:t}}return{...r,content:e}}return r},nw=(e,t)=>{if(t.no_events)return ml.value(t);{const o=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return o.isDefaultPrevented()?ml.error(hp(e,{content:"",...o}).content):ml.value(o)}},rw=(e,t,o)=>{if(o.no_events)return t;{const n=ow(t,(t=>hp(e,{...o,content:t})),dd(e));return n.content}},aw=(e,t)=>{if(t.no_events)return ml.value(t);{const o=ow(t.content,(o=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:o})),dd(e));return o.isDefaultPrevented()?(up(e,o),ml.error(void 0)):ml.value(o)}},sw=(e,t,o)=>{o.no_events||up(e,{...o,content:t})},iw=(e,t,o)=>({element:e,width:t,rows:o}),lw=(e,t)=>({element:e,cells:t}),cw=(e,t)=>({x:e,y:t}),dw=(e,t)=>to(e,t).bind(Qe).getOr(1),uw=(e,t,o)=>{const n=e.rows;return!!(n[o]?n[o].cells:[])[t]},hw=e=>Q(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),pw=(e,t)=>{const o=e.rows;for(let e=0;e<o.length;e++){const n=o[e].cells;for(let o=0;o<n.length;o++)if(wo(n[o],t))return H.some(cw(o,e))}return H.none()},mw=(e,t,o,n,r)=>{const a=[],s=e.rows;for(let e=o;e<=r;e++){const o=s[e].cells,r=t<n?o.slice(t,n+1):o.slice(n,t+1);a.push(lw(s[e].element,r))}return a},gw=e=>{const t=iw(ci(e),0,[]);return q(Pn(e,"tr"),((e,o)=>{q(Pn(e,"td,th"),((n,r)=>{((e,t,o,n,r)=>{const a=dw(r,"rowspan"),s=dw(r,"colspan"),i=e.rows;for(let e=o;e<o+a;e++){i[e]||(i[e]=lw(di(n),[]));for(let n=t;n<t+s;n++)i[e].cells[n]=e===o&&n===t?r:ci(r)}})(t,((e,t,o)=>{for(;uw(e,t,o);)t++;return t})(t,r,o),o,e,n)}))})),iw(t.element,hw(t.rows),t.rows)},fw=e=>((e,t)=>{const o=ci(e.element),n=yo.fromTag("tbody");return yn(n,t),gn(o,n),o})(e,(e=>$(e.rows,(e=>{const t=$(e.cells,(e=>{const t=di(e);return no(t,"colspan"),no(t,"rowspan"),t})),o=ci(e.element);return yn(o,t),o})))(e)),yw=(e,t,o)=>pw(e,t).bind((t=>pw(e,o).map((o=>((e,t,o)=>{const n=t.x,r=t.y,a=o.x,s=o.y,i=r<s?mw(e,n,r,a,s):mw(e,n,s,a,r);return iw(e.element,hw(i),i)})(e,t,o))))),bw=(e,t)=>ee(e,(e=>"li"===Ut(e)&&ch(e,t))).fold(T([]),(t=>(e=>ee(e,(e=>"ul"===Ut(e)||"ol"===Ut(e))))(e).map((e=>{const t=yo.fromTag(Ut(e)),o=we(dn(e),((e,t)=>We(t,"list-style")));return an(t,o),[yo.fromTag("li"),t]})).getOr([]))),vw=(e,t)=>{const o=yo.fromDom(t.commonAncestorContainer),n=Zg(o,e),r=K(n,Tr),a=bw(n,t),s=r.concat(a.length?a:(e=>Sr(e)?Eo(e).filter(xr).fold(T([]),(t=>[e,t])):xr(e)?[e]:[])(o));return $(s,ci)},_w=()=>Lp([]),ww=(e,t)=>((e,t)=>{const o=Q(t,((e,t)=>(gn(t,e),t)),e);return t.length>0?Lp([o]):o})(yo.fromDom(t.cloneContents()),vw(e,t)),kw=(e,t)=>((e,t)=>Xo(t,"table",z(wo,e)))(e,t[0]).bind((e=>{const o=t[0],n=t[t.length-1],r=gw(e);return yw(r,o,n).map((e=>Lp([fw(e)])))})).getOrThunk(_w),xw=(e,t)=>{const o=rh(t,e);return o.length>0?kw(e,o):((e,t)=>t.length>0&&t[0].collapsed?_w():ww(e,t[0]))(e,t)},Sw=(e,t)=>t>=0&&t<e.length&&$u(e.charAt(t)),Cw=e=>Lr(e.innerText),Ew=(e,t)=>{if("text"===t.format)return(e=>H.from(e.selection.getRng()).map((t=>{var o;const n=H.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),a=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(n),s=yo.fromDom(t.cloneContents());yg(s),bg(s);const i=e.dom.add(r,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=Cw(i),c=Lr(null!==(o=i.textContent)&&void 0!==o?o:"");if(e.dom.remove(i),Sw(c,0)||Sw(c,c.length-1)){const e=n.getOr(r),t=Cw(e),o=t.indexOf(l);return-1===o?l:(Sw(t,o-1)?" ":"")+l+(Sw(t,o+l.length)?" ":"")}return l})).getOr(""))(e);{const o=((e,t)=>{const o=e.selection.getRng(),n=e.dom.create("body"),r=e.selection.getSel(),a=Jm(e,oh(r)),s=t.contextual?xw(yo.fromDom(e.getBody()),a).dom:o.cloneContents();return s&&n.appendChild(s),e.selection.serializer.serialize(n,t)})(e,t);return"tree"===t.format?o:e.selection.isCollapsed()?"":o}},Dw=e=>jn(e)?e.outerHTML:Xn(e)?ts.encodeRaw(e.data,!1):er(e)?"\x3c!--"+e.data+"--\x3e":"",Aw=(e,t,o)=>{const n=(e=>{let t;const o=document.createElement("div"),n=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)n.appendChild(t);return n})(t);if(e.hasChildNodes()&&o<e.childNodes.length){const t=e.childNodes[o];e.insertBefore(n,t)}else e.appendChild(n)},Tw=(e,t)=>(((e,t)=>{let o=0;q(e,(e=>{0===e[0]?o++:1===e[0]?(Aw(t,e[1],o),o++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}})(t,o)}))})(((e,t)=>{const o=e.length+t.length+2,n=new Array(o),r=new Array(o),a=(o,n,r,s,l)=>{const c=i(o,n,r,s);if(null===c||c.start===n&&c.diag===n-s||c.end===o&&c.diag===o-r){let a=o,i=r;for(;a<n||i<s;)a<n&&i<s&&e[a]===t[i]?(l.push([0,e[a]]),++a,++i):n-o>s-r?(l.push([2,e[a]]),++a):(l.push([1,t[i]]),++i)}else{a(o,c.start,r,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);a(c.end,n,c.end-c.diag,s,l)}},s=(o,n,r,a)=>{let s=o;for(;s-n<a&&s<r&&e[s]===t[s-n];)++s;return((e,t,o)=>({start:e,end:t,diag:o}))(o,s,n)},i=(o,a,i,l)=>{const c=a-o,d=l-i;if(0===c||0===d)return null;const u=c-d,h=d+c,p=(h%2==0?h:h+1)/2;let m,g,f,y,b;for(n[1+p]=o,r[1+p]=a+1,m=0;m<=p;++m){for(g=-m;g<=m;g+=2){for(f=g+p,g===-m||g!==m&&n[f-1]<n[f+1]?n[f]=n[f+1]:n[f]=n[f-1]+1,y=n[f],b=y-o+i-g;y<a&&b<l&&e[y]===t[b];)n[f]=++y,++b;if(u%2!=0&&u-m<=g&&g<=u+m&&r[f-u]<=n[f])return s(r[f-u],g+o-i,a,l)}for(g=u-m;g<=u+m;g+=2){for(f=g+p-u,g===u-m||g!==u+m&&r[f+1]<=r[f-1]?r[f]=r[f+1]-1:r[f]=r[f-1],y=r[f]-1,b=y-o+i-g;y>=o&&b>=i&&e[y]===t[b];)r[f]=y--,b--;if(u%2==0&&-m<=g&&g<=m&&r[f]<=n[f+u])return s(r[f],g+o-i,a,l)}}return null},l=[];return a(0,e.length,0,t.length,l),l})($(he(t.childNodes),Dw),e),t),t),Ow=Le((()=>document.implementation.createHTMLDocument("undo"))),Mw=e=>{const t=(o=e.getBody(),K($(he(o.childNodes),Dw),(e=>e.length>0)));var o;const n=ne(t,(t=>{const o=gg(e.serializer,t);return o.length>0?[o]:[]})),r=n.join("");return(e=>-1!==e.indexOf("</iframe>"))(r)?(e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}))(n):(e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}))(r)},zw=(e,t,o)=>{const n=o?t.beforeBookmark:t.bookmark;"fragmented"===t.type?Tw(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!k(n)||!zu(n)||!n.isFakeCaret}),n&&(e.selection.moveToBookmark(n),e.selection.scrollIntoView())},Rw=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Nw=e=>{const t=yo.fromTag("body",Ow());return xn(t,Rw(e)),q(Pn(t,"*[data-mce-bogus]"),_n),kn(t)},Iw=(e,t)=>!(!e||!t)&&(!!((e,t)=>Rw(e)===Rw(t))(e,t)||((e,t)=>Nw(e)===Nw(t))(e,t)),Lw=e=>0===e.get(),Pw=(e,t,o)=>{Lw(o)&&(e.typing=t)},Bw=(e,t)=>{e.typing&&(Pw(e,!1,t),e.add())},Hw=e=>({init:{bindEvents:E},undoManager:{beforeChange:(t,o)=>((e,t,o)=>{Lw(t)&&o.set(ul(e.selection))})(e,t,o),add:(t,o,n,r,a,s)=>((e,t,o,n,r,a,s)=>{const i=Mw(e),l=Nt.extend(a||{},i);if(!Lw(n)||e.removed)return null;const c=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&Iw(c,l))return null;t.data[o.get()]&&r.get().each((e=>{t.data[o.get()].beforeBookmark=e}));const d=Tc(e);if(d&&t.data.length>d){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,o.set(t.data.length)}l.bookmark=ul(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(l),o.set(t.data.length-1);const u={level:l,lastLevel:c,originalEvent:s};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",u),e.dispatch("change",u)):e.dispatch("AddUndo",u),l})(e,t,o,n,r,a,s),undo:(t,o,n)=>((e,t,o,n)=>{let r;return t.typing&&(t.add(),t.typing=!1,Pw(t,!1,o)),n.get()>0&&(n.set(n.get()-1),r=t.data[n.get()],zw(e,r,!0),e.setDirty(!0),e.dispatch("Undo",{level:r})),r})(e,t,o,n),redo:(t,o)=>((e,t,o)=>{let n;return t.get()<o.length-1&&(t.set(t.get()+1),n=o[t.get()],zw(e,n,!1),e.setDirty(!0),e.dispatch("Redo",{level:n})),n})(e,t,o),clear:(t,o)=>((e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,o),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,o)=>((e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!Iw(Mw(e),t.data[0]))(e,t,o),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,o)=>((e,t,o)=>(Bw(e,t),e.beforeChange(),e.ignore(o),e.add()))(e,t,o),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,o,n,r)=>((e,t,o,n,r)=>{if(t.transact(n)){const n=t.data[o.get()].bookmark,a=t.data[o.get()-1];zw(e,a,!0),t.transact(r)&&(t.data[o.get()-1].beforeBookmark=n)}})(e,t,o,n,r)},formatter:{match:(t,o,n,r)=>mb(e,t,o,n,r),matchAll:(t,o)=>((e,t,o)=>{const n=[],r={},a=e.selection.getStart();return e.dom.getParent(a,(a=>{for(let s=0;s<t.length;s++){const i=t[s];!r[i]&&pb(e,a,i,o)&&(r[i]=!0,n.push(i))}}),e.dom.getRoot()),n})(e,t,o),matchNode:(t,o,n,r)=>pb(e,t,o,n,r),canApply:t=>((e,t)=>{const o=e.formatter.get(t),n=e.dom;if(o){const t=e.selection.getStart(),r=Th(n,t);for(let e=o.length-1;e>=0;e--){const t=o[e];if(!Rh(t))return!0;for(let e=r.length-1;e>=0;e--)if(n.is(r[e],t.selector))return!0}}return!1})(e,t),closest:t=>gb(e,t),apply:(t,o,n)=>fv(e,t,o,n),remove:(t,o,n,r)=>uv(e,t,o,n,r),toggle:(t,o,n)=>((e,t,o,n)=>{const r=e.formatter.get(t);r&&(!mb(e,t,o,n)||"toggle"in r[0]&&!r[0].toggle?fv(e,t,o,n):uv(e,t,o,n))})(e,t,o,n),formatChanged:(t,o,n,r,a)=>kv(e,t,o,n,r,a)},editor:{getContent:t=>((e,t)=>H.from(e.getBody()).fold(T("tree"===t.format?new hg("body",11):""),(o=>_g(e,t,o))))(e,t),setContent:(t,o)=>rb(e,t,o),insertContent:(t,o)=>tb(e,t,o),addVisual:t=>((e,t)=>{const o=e.dom,n=k(t)?t:e.getBody();q(o.select("table,a",n),(t=>{switch(t.nodeName){case"TABLE":const n=Pc(e),r=o.getAttrib(t,"border");r&&"0"!==r||!e.hasVisual?o.removeClass(t,n):o.addClass(t,n);break;case"A":if(!o.getAttrib(t,"href")){const n=o.getAttrib(t,"name")||t.id,r=Bc(e);n&&e.hasVisual?o.addClass(t,r):o.removeClass(t,r)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,o)=>((e,t,o={})=>{const n=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(o,t);return nw(e,n).fold(O,(t=>{const o=Ew(e,t);return rw(e,o,t)}))})(e,t,o)},autocompleter:{addDecoration:t=>sg(e,t),removeDecoration:()=>((e,t)=>ig(t).each((t=>{const o=e.selection.getBookmark();_n(t),e.selection.moveToBookmark(o)})))(e,yo.fromDom(e.getBody()))},raw:{getModel:()=>H.none()}}),Fw=e=>Ce(e.plugins,"rtc"),Vw=e=>{const t=e;return(e=>Se(e.plugins,"rtc").bind((e=>H.from(e.setup))))(e).fold((()=>(t.rtcInstance=Hw(e),H.none())),(e=>(t.rtcInstance=(()=>{const e=T(null),t=T("");return{init:{bindEvents:E},undoManager:{beforeChange:E,add:e,undo:e,redo:e,clear:E,reset:E,hasUndo:P,hasRedo:P,transact:e,ignore:E,extra:E},formatter:{match:P,matchAll:T([]),matchNode:T(void 0),canApply:P,closest:t,apply:E,remove:E,toggle:E,formatChanged:T({unbind:E})},editor:{getContent:t,setContent:T({content:"",html:""}),insertContent:T(""),addVisual:E},selection:{getContent:t},autocompleter:{addDecoration:E,removeDecoration:E},raw:{getModel:T(H.none())}}})(),H.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>g(e)?e:{},{init:o,undoManager:n,formatter:r,editor:a,selection:s,autocompleter:i,raw:l}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:(e,t,o)=>n.transact(o),ignore:(e,t)=>n.ignore(t),extra:(e,t,o,r)=>n.extra(o,r)},formatter:{match:(e,o,n,a)=>r.match(e,t(o),a),matchAll:r.matchAll,matchNode:r.matchNode,canApply:e=>r.canApply(e),closest:e=>r.closest(e),apply:(e,o,n)=>r.apply(e,t(o)),remove:(e,o,n,a)=>r.remove(e,t(o)),toggle:(e,o,n)=>r.toggle(e,t(o)),formatChanged:(e,t,o,n,a)=>r.formatChanged(t,o,n,a)},editor:{getContent:e=>a.getContent(e),setContent:(e,t)=>({content:a.setContent(e,t),html:""}),insertContent:(e,t)=>(a.insertContent(e),""),addVisual:a.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:i.addDecoration,removeDecoration:i.removeDecoration},raw:{getModel:()=>H.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))},jw=e=>e.rtcInstance?e.rtcInstance:Hw(e),Uw=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Ww=e=>Uw(e).init.bindEvents(),Zw=(e,t={})=>((e,t,o)=>Uw(e).selection.getContent(t,o))(e,t.format?t.format:"html",t),$w=e=>0===e.dom.length?(vn(e),H.none()):H.some(e),qw=(e,t,o,n)=>{e.bind((e=>((n?Cf:Sf)(e.dom,n?e.dom.length:0),t.filter(qt).map((t=>((e,t,o,n)=>{const r=e.dom,a=t.dom,s=n?r.length:a.length;n?(Ef(r,a,!1,!n),o.setStart(a,s)):(Ef(a,r,!1,!n),o.setEnd(a,s))})(e,t,o,n)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>sp.isBookmarkNode(e.dom))).bind(t?Oo:To))(t,n).or(t).filter(qt);return e.map((e=>((e,t)=>{Eo(e).each((o=>{const n=e.dom;t&&mf(o,Ui(n,0))?Sf(n,0):!t&&gf(o,Ui(n,n.length))&&Cf(n,n.length)}))})(e,n)))}))},Yw=(e,t,o={})=>{const n=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(o,t);aw(e,n).each((t=>{const o=((e,t)=>{if("raw"!==t.format){const o=e.selection.getRng(),n=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),r=n?{context:n.nodeName.toLowerCase()}:{},a=e.parser.parse(t.content,{forced_root_block:!1,...r,...t});return xg({validate:!1},e.schema).serialize(a)}return t.content})(e,t),n=e.selection.getRng();((e,t)=>{const o=H.from(t.firstChild).map(yo.fromDom),n=H.from(t.lastChild).map(yo.fromDom);e.deleteContents(),e.insertNode(t);const r=o.bind(To).filter(qt).bind($w),a=n.bind(Oo).filter(qt).bind($w);qw(r,o,e,!0),qw(a,n,e,!1),e.collapse(!1)})(n,n.createContextualFragment(o)),e.selection.setRng(n),bm(e,n),sw(e,o,t)}))},Gw=(e,t,o)=>{if(Ce(e,t)){const n=K(e[t],(e=>e!==o));0===n.length?delete e[t]:e[t]=n}};var Kw=(e,t)=>{let o,n;const r=(t,o)=>ee(o,(o=>e.is(o,t))),a=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(o||(o={},n={},t.on("NodeChange",(e=>{const t=e.element,s=a(t),i={};fe(o,((e,t)=>{r(t,s).each((o=>{n[t]||(q(e,(e=>{e(!0,{node:o,selector:t,parents:s})})),n[t]=e),i[t]=e}))})),fe(n,((e,o)=>{i[o]||(delete n[o],q(e,(e=>{e(!1,{node:t,selector:o,parents:s})})))}))}))),o[e]||(o[e]=[]),o[e].push(s),r(e,a(t.selection.getStart())).each((()=>{n[e]=o[e]})),{unbind:()=>{Gw(o,e,s),Gw(n,e,s)}})}};const Xw=e=>!(!e||!e.ownerDocument)&&ko(yo.fromDom(e.ownerDocument),yo.fromDom(e)),Qw=(e,t,o,n)=>{let r,a;const{selectorChangedWithUnbind:s}=Kw(e,n),i=(e,t)=>Yw(n,e,t),l=e=>{const t=d();t.collapse(!!e),u(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,d=()=>{let o;const s=(e,t,o)=>{try{return t.compareBoundaryPoints(e,o)}catch(e){return-1}},i=t.document;if(k(n.bookmark)&&!Zm(n)){const e=Om(n);if(e.isSome())return e.map((e=>Jm(n,[e])[0])).getOr(i.createRange())}try{const e=c();e&&!Vn(e.anchorNode)&&(o=e.rangeCount>0?e.getRangeAt(0):i.createRange(),o=Jm(n,[o])[0])}catch(e){}if(o||(o=i.createRange()),tr(o.startContainer)&&o.collapsed){const t=e.getRoot();o.setStart(t,0),o.setEnd(t,0)}return r&&a&&(0===s(o.START_TO_START,o,r)&&0===s(o.END_TO_END,o,r)?o=a:(r=null,a=null)),o},u=(e,t)=>{if(!(e=>!!e&&Xw(e.startContainer)&&Xw(e.endContainer))(e))return;const o=c();if(e=n.dispatch("SetSelectionRange",{range:e,forward:t}).range,o){a=e;try{o.removeAllRanges(),o.addRange(e)}catch(e){}!1===t&&o.extend&&(o.collapse(e.endContainer,e.endOffset),o.extend(e.startContainer,e.startOffset)),r=o.rangeCount>0?o.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==o?void 0:o.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(o.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),o.anchorNode===e.startContainer&&o.focusNode===e.endContainer||o.setBaseAndExtent(t,0,t,1))}n.dispatch("AfterSetSelectionRange",{range:e,forward:t})},h=()=>{const t=c(),o=null==t?void 0:t.anchorNode,n=null==t?void 0:t.focusNode;if(!t||!o||!n||Vn(o)||Vn(n))return!0;const r=e.createRng(),a=e.createRng();try{r.setStart(o,t.anchorOffset),r.collapse(!0),a.setStart(n,t.focusOffset),a.collapse(!0)}catch(e){return!0}return r.compareBoundaryPoints(r.START_TO_START,a)<=0},p={dom:e,win:t,serializer:o,editor:n,expand:(t={type:"word"})=>u(Kp(e).expand(d(),t)),collapse:l,setCursorLocation:(t,o)=>{const r=e.createRng();k(t)&&k(o)?(r.setStart(t,o),r.setEnd(t,o),u(r),l(!1)):(dh(e,r,n.getBody(),!0),u(r))},getContent:e=>Zw(n,e),setContent:i,getBookmark:(e,t)=>m.getBookmark(e,t),moveToBookmark:e=>m.moveToBookmark(e),select:(t,o)=>(((e,t,o)=>H.from(t).bind((t=>H.from(t.parentNode).map((n=>{const r=e.nodeIndex(t),a=e.createRng();return a.setStart(n,r),a.setEnd(n,r+1),o&&(dh(e,a,t,!0),dh(e,a,t,!1)),a})))))(e,t,o).each(u),t),isCollapsed:()=>{const e=d(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=d(),o=n.getBody().querySelectorAll('[data-mce-selected="1"]');return o.length>0?re(o,(t=>e.isEditable(t.parentElement))):t.startContainer===t.endContainer?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)},isForward:h,setNode:t=>(i(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let o=t.startContainer,n=t.endContainer;const r=t.startOffset,a=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(o===n&&a-r<2&&o.hasChildNodes()&&(s=o.childNodes[r]),Xn(o)&&Xn(n)&&(o=o.length===r?Qm(o.nextSibling,!0):o.parentNode,n=0===a?Qm(n.previousSibling,!1):n.parentNode,o&&o===n&&(s=o)));const i=Xn(s)?s.parentNode:s;return jn(i)?i:e})(n.getBody(),d()),getSel:c,setRng:u,getRng:d,getStart:e=>Km(n.getBody(),d(),e),getEnd:e=>Xm(n.getBody(),d(),e),getSelectedBlocks:(t,o)=>((e,t,o,n)=>{const r=[],a=e.getRoot(),s=e.getParent(o||Km(a,t,t.collapsed),e.isBlock),i=e.getParent(n||Xm(a,t,t.collapsed),e.isBlock);if(s&&s!==a&&r.push(s),s&&i&&s!==i){let t;const o=new Hn(s,a);for(;(t=o.next())&&t!==i;)e.isBlock(t)&&r.push(t)}return i&&s!==i&&i!==a&&r.push(i),r})(e,d(),t,o),normalize:()=>{const t=d(),o=c();if(!(oh(o).length>1)&&uh(n)){const o=qp(e,t);return o.each((e=>{u(e,h())})),o.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),p),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,o=e.getRoot();for(;o&&"BODY"!==o.nodeName;){if(o.scrollHeight>o.clientHeight){t=o;break}o=o.parentNode}return t},scrollIntoView:(e,t)=>{k(e)?((e,t,o)=>{(e.inline?gm:ym)(e,t,o)})(n,e,t):bm(n,d(),t)},placeCaretAt:(e,t)=>u(Hp(e,t,n.getDoc())),getBoundingClientRect:()=>{const e=d();return e.collapsed?Ui.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=r=a=null,g.destroy()}},m=sp(p),g=vp(p,n);return p.bookmarkManager=m,p.controlSelection=g,p},Jw=(e,t,o)=>((e,t)=>k(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,o)?((e,t,o)=>{let n;const r=e.dom;let a=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");Nt.each("BODY"===a.nodeName?a.childNodes:[a],(t=>{e.body.appendChild(e.importNode(t,!0))})),a="BODY"!==a.nodeName?e.body.firstChild:e.body,n=r.doc,r.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...o,node:a}),n&&(r.doc=n),a})(e,t,o):t,ek=(e,t,o)=>{-1===Nt.inArray(t,o)&&(e.addAttributeFilter(o,((e,t)=>{let o=e.length;for(;o--;)e[o].attr(t,null)})),t.push(o))},tk=(e,t,o,n,r)=>{const a=((e,t,o)=>xg(e,t).serialize(o))(t,o,n);return((e,t,o)=>{if(!t.no_events&&e){const n=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:o});return n.content}return o})(e,r,a)},ok=(e,t)=>{const o=["data-mce-selected"],n=t&&t.dom?t.dom:Is.DOM,r=t&&t.schema?t.schema:ms(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const a=tw(e,r);((e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let o=e.length;for(;o--;){const n=e[o];n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,n)=>{const r="data-mce-"+n,a=t.url_converter,s=t.url_converter_scope;let i=e.length;for(;i--;){const t=e[i];let l=t.attr(r);void 0!==l?(t.attr(n,l.length>0?l:null),t.attr(r,null)):(l=t.attr(n),"style"===n?l=o.serializeStyle(o.parseStyle(l),t.name):a&&(l=a.call(s,l,n,t.name)),t.attr(n,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const o=e[t];let n=o.attr("class");n&&(n=n.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),o.attr("class",n.length>0?n:null))}})),e.addAttributeFilter("data-mce-type",((e,t,o)=>{let n=e.length;for(;n--;){const t=e[n];if("bookmark"===t.attr("data-mce-type")&&!o.cleanup){const e=H.from(t.firstChild).exists((e=>{var t;return!Ir(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let o=e.length;for(;o--;){const n=e[o].firstChild;n&&(n.value=ts.decode(null!==(t=n.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,o)=>{var n;const r=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let a=e.length;for(;a--;){const s=e[a],i=s.firstChild,l=null!==(n=null==i?void 0:i.value)&&void 0!==n?n:"";if("script"===o){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&i&&l.length>0&&(i.value="// <![CDATA[\n"+r(l)+"\n// ]]>")}else"xhtml"===t.element_format&&i&&l.length>0&&(i.value="\x3c!--\n"+r(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let n=e.length;for(;n--;){const r=e[n],a=r.value;t.preserve_cdata&&0===(null==a?void 0:a.indexOf("[CDATA["))?(r.name="#cdata",r.type=4,r.value=o.decode(a.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==a?void 0:a.indexOf("mce:protected "))&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(a).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let o=e.length;for(;o--;){const n=e[o];7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{q(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let o=e.length;for(;o--;)e[o].attr(t,null)}))})(a,e,n);return{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:(o,s={})=>{const i={format:"html",...s},l=Jw(t,o,i),c=((e,t,o)=>{const n=Lr(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Dr(yo.fromDom(t))?n:Nt.trim(n)})(n,l,i),d=((e,t,o)=>{const n=o.selection?{forced_root_block:!1,...o}:o,r=e.parse(t,n);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),o=e.lastChild;if(t(o)){const e=o.prev;t(e)&&(o.remove(),e.remove())}})(r),r})(a,c,i);return"tree"===i.format?d:tk(t,e,r,d,i)},addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:z(ek,a,o),getTempAttrs:T(o),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},nk=(e,t)=>{const o=ok(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},rk=(e,t={})=>{const o=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return nw(e,o).fold(O,(t=>{const o=((e,t)=>jw(e).editor.getContent(t))(e,t);return rw(e,o,t)}))},ak=(e,t,o={})=>{const n=((e,t)=>({format:"html",...e,set:!0,content:t}))(o,t);return aw(e,n).map((t=>{const o=((e,t,o)=>jw(e).editor.setContent(t,o))(e,t.content,t);return sw(e,o.html,t),o.content})).getOr(t)},sk="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),ik="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),lk="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),ck=[{name:"template",replacedWith:"Advanced Template"}],dk=(e,t)=>{const o=K(t,(t=>Ce(e,t)));return le(o)},uk=e=>{const t=dk(e,sk),o=e.forced_root_block;return!1!==o&&""!==o||t.push("forced_root_block (false only)"),le(t)},hk=e=>dk(e,ik),pk=(e,t)=>{const o=Nt.makeMap(e.plugins," "),n=K(t,(e=>Ce(o,e)));return le(n)},mk=e=>pk(e,lk),gk=e=>pk(e,ck.map((e=>e.name))),fk=e=>ee(ck,(t=>t.name===e)).fold((()=>e),(t=>`${e}, replaced by ${t.replacedWith}`)),yk=(e,t)=>{((e,t)=>{const o=uk(e),n=mk(t),r=n.length>0,a=o.length>0,s="mobile"===t.theme;if(r||a||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",i=r?`\n\nPlugins:${e}${n.join(e)}`:"",l=a?`\n\nOptions:${e}${o.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+i+l)}})(e,t),((e,t)=>{const o=hk(e),n=gk(t),r=n.length>0,a=o.length>0;if(r||a){const e="\n- ",t=r?`\n\nPlugins:${e}${n.map(fk).join(e)}`:"",s=a?`\n\nOptions:${e}${o.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)},bk=Is.DOM,vk=e=>H.from(e).each((e=>e.destroy())),_k=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,n=e.getBody(),r=e.getElement();n&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&k(null==r?void 0:r.nextSibling)&&bk.remove(r.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&n&&(e=>{bk.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),bk.remove(e.getContainer()),vk(t),vk(o),e.destroy()}},wk=(e,t)=>{const{selection:o,dom:n}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),vk(o),vk(n)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),bk.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const e=o.dom;t.selection=o.win=o.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())},kk=(()=>{const e={};return{add:(t,o)=>{e[t]=o},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ce(e,t)}})(),xk=Us.ModelManager,Sk=(e,t)=>t.dom[e],Ck=(e,t)=>parseInt(sn(t,e),10),Ek=z(Sk,"clientWidth"),Dk=z(Sk,"clientHeight"),Ak=z(Ck,"margin-top"),Tk=z(Ck,"margin-left"),Ok=(e,t,o)=>{const n=yo.fromDom(e.getBody()),r=e.inline?n:(a=n,yo.fromDom(So(a).dom.documentElement));var a;const s=((e,t,o,n)=>{const r=(e=>e.dom.getBoundingClientRect())(t);return{x:o-(e?r.left+t.dom.clientLeft+Tk(t):0),y:n-(e?r.top+t.dom.clientTop+Ak(t):0)}})(e.inline,r,t,o);return((e,t,o)=>{const n=Ek(e),r=Dk(e);return t>=0&&o>=0&&t<=n&&o<=r})(r,s.x,s.y)},Mk=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return(o=t,H.from(o).map(yo.fromDom)).map($o).getOr(!1);var o};const zk=e=>{const t=[],o=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},n=()=>H.from(t[0]),r=()=>{q(t,(e=>{e.reposition()}))},a=e=>{te(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(s,i=!0)=>e.removed||!Mk(e)?{}:(i&&e.dispatch("BeforeOpenNotification",{notification:s}),ee(t,(e=>{return t=o().getArgs(e),n=s,!(t.type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t,n})).getOrThunk((()=>{e.editorManager.setActive(e);const i=o().open(s,(()=>{a(i),r(),n().fold((()=>e.focus()),(e=>vm(yo.fromDom(e.getEl()))))}));return(e=>{t.push(e)})(i),r(),e.dispatch("OpenNotification",{notification:{...i}}),i}))),i=T(t);return(e=>{e.on("SkinLoaded",(()=>{const t=pc(e);t&&s({text:t,type:"warning",timeout:0},!1),r()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(r)})),e.on("remove",(()=>{q(t.slice(),(e=>{o().close(e)}))}))})(e),{open:s,close:()=>{n().each((e=>{o().close(e),a(e),r()}))},getNotifications:i}},Rk=Us.PluginManager,Nk=Us.ThemeManager;const Ik=e=>{let t=[];const o=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},n=(e,t)=>(...o)=>t?t.apply(e,o):void 0,r=o=>{t.push(o),(t=>{e.dispatch("OpenWindow",{dialog:t})})(o)},a=o=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(o),t=K(t,(e=>e!==o)),0===t.length&&e.focus()},s=t=>{e.editorManager.setActive(e),Tm(e),e.ui.show();const o=t();return r(o),o};return e.on("remove",(()=>{q(t,(e=>{o().close(e)}))})),{open:(e,t)=>s((()=>o().open(e,t,a))),openUrl:e=>s((()=>o().openUrl(e,a))),alert:(e,t,r)=>{const a=o();a.alert(e,n(r||a,t))},confirm:(e,t,r)=>{const a=o();a.confirm(e,n(r||a,t))},close:()=>{H.from(t[t.length-1]).each((e=>{o().close(e),a(e)}))}}},Lk=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Pk=(e,t)=>{e._skinLoaded?Lk(e,t):e.on("SkinLoaded",(()=>{Lk(e,t)}))},Bk=(e,t,o)=>{lp(e,t,{message:o}),console.error(o)},Hk=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,Fk=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},Vk=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",n=`content${e.editorManager.suffix}.css`;return $(t,(t=>(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${o}/${t}/${n}`:e.documentBaseURI.toAbsolute(t)))},jk=e=>{e.contentCSS=e.contentCSS.concat((e=>Vk(e,rc(e)))(e),(e=>Vk(e,sc(e)))(e))},Uk=(e,t)=>{const o={};return{findAll:(n,r=B)=>{const a=K((e=>e?he(e.getElementsByTagName("img")):[])(n),(t=>{const o=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!o||o===Ot.transparentSrc)&&(We(o,"blob:")?!e.isUploaded(o)&&r(t):!!We(o,"data:")&&r(t))))})),s=$(a,(e=>{const n=e.src;if(Ce(o,n))return o[n].then((t=>m(t)?t:{image:e,blobInfo:t.blobInfo}));{const r=((e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(We(t,"blob:")){const n=e.getByUri(t);return k(n)?Promise.resolve(n):Tv(t).then((t=>Ov(t).then((n=>zv(n,!1,(o=>H.some(Rv(e,t,o)))).getOrThunk(o)))))}return We(t,"data:")?Nv(e,t).fold(o,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,n).then((t=>(delete o[n],{image:e,blobInfo:t}))).catch((e=>(delete o[n],e)));return o[n]=r,r}}));return Promise.all(s)}}},Wk=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),o=t=>t in e;return{hasBlobUri:o,getResultUri:t=>{const o=e[t];return o?o.resultUri:null},isPending:t=>!!o(t)&&1===e[t].status,isUploaded:t=>!!o(t)&&2===e[t].status,markPending:o=>{e[o]=t(1,null)},markUploaded:(o,n)=>{e[o]=t(2,n)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let Zk=0;const $k=e=>e+Zk+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),qk=(e,t)=>{const o={},n=(e,o)=>new Promise(((n,r)=>{const a=new XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=e=>{o(e.loaded/e.total*100)},a.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=()=>{if(a.status<200||a.status>=300)return void r("HTTP Error: "+a.status);const e=JSON.parse(a.responseText);var o,s;e&&m(e.location)?n((o=t.basePath,s=e.location,o?o.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):r("Invalid JSON: "+a.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),a.send(s)})),r=x(t.handler)?t.handler:n,a=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),i=(e,t)=>{Nt.each(o[e],(e=>{e(t)})),delete o[e]},l=(t,n)=>(t=Nt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Nt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{o[t]=o[t]||[],o[t].push(e)}))})(t):((t,o,n)=>(e.markPending(t.blobUri()),new Promise((r=>{let l,c;try{const d=()=>{l&&(l.close(),c=E)},u=o=>{d(),e.markUploaded(t.blobUri(),o),i(t.blobUri(),a(t,o)),r(a(t,o))},h=o=>{d(),e.removeFailed(t.blobUri()),i(t.blobUri(),s(t,o)),r(s(t,o))};c=e=>{e<0||e>100||H.from(l).orThunk((()=>H.from(n).map(I))).each((t=>{l=t,t.progressBar.value(e)}))},o(t,c).then(u,(e=>{h(m(e)?{message:e}:e)}))}catch(e){r(s(t,e))}}))))(t,r,n)))));return{upload:(e,o)=>t.url||r!==n?l(e,o):new Promise((e=>{e([])}))}},Yk=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Gk=(e,t)=>qk(t,{url:Yl(e),basePath:Gl(e),credentials:Kl(e),handler:Xl(e)}),Kk=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||$k("blobid"),o=e.name||t,n=e.blob;return{id:T(t),name:T(o),filename:T(e.filename||o+"."+(r=n.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[r.toLowerCase()]||"dat")),blob:T(n),base64:T(e.base64),blobUri:T(e.blobUri||URL.createObjectURL(n)),uri:T(e.uri)};var r},o=t=>ee(e,t).getOrUndefined(),n=e=>o((t=>t.id()===e));return{create:(e,o,n,r,a)=>{if(m(e))return t({id:e,name:r,filename:a,blob:o,base64:n});if(g(e))return t(e);throw new Error("Unknown input type")},add:t=>{n(t.id())||e.push(t)},get:n,getByUri:e=>o((t=>t.blobUri()===e)),getByData:(e,t)=>o((o=>o.base64()===e&&o.blob().type===t)),findFirst:o,removeByUri:t=>{e=K(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{q(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let o,n;const r=Wk(),a=[],s=t=>o=>e.selection?t(o):[],i=(e,t,o)=>{let n=0;do{n=e.indexOf(t,n),-1!==n&&(e=e.substring(0,n)+o+e.substr(n+t.length),n+=o.length-t.length+1)}while(-1!==n);return e},l=(e,t,o)=>{const n=`src="${o}"${o===Ot.transparentSrc?' data-mce-placeholder="1"':""}`;return e=i(e,`src="${t}"`,n),e=i(e,'data-mce-src="'+t+'"','data-mce-src="'+o+'"')},c=(t,o)=>{q(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=$(e.fragments,(e=>l(e,t,o))):e.content=l(e.content,t,o)}))},d=()=>(o||(o=Gk(e,r)),p().then(s((n=>{const r=$(n,(e=>e.blobInfo));return o.upload(r,Yk(e)).then(s((o=>{const r=[];let a=!1;const s=$(o,((o,s)=>{const{blobInfo:i,image:l}=n[s];let d=!1;return o.status&&Zl(e)?(o.url&&!Ue(l.src,o.url)&&(a=!0),t.removeByUri(l.src),Fw(e)||((t,o)=>{const n=e.convertURL(o,"src");var r;c(t.src,o),Jt(yo.fromDom(t),{src:Wl(e)?(r=o,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):o,"data-mce-src":n})})(l,o.url)):o.error&&(o.error.remove&&(c(l.src,Ot.transparentSrc),r.push(l),d=!0),((e,t)=>{Pk(e,js.translate(["Failed to upload image: {0}",t]))})(e,o.error.message)),{element:l,status:o.status,uploadUri:o.url,blobInfo:i,removed:d}}));return r.length>0&&!Fw(e)?e.undoManager.transact((()=>{q(r,(o=>{e.dom.remove(o),t.removeByUri(o.src)}))})):a&&e.undoManager.dispatchChange(),s})))})))),u=()=>Ul(e)?d():Promise.resolve([]),h=e=>re(a,(t=>t(e))),p=()=>(n||(n=Uk(r,t)),n.findAll(e.getBody(),h).then(s((t=>{const o=K(t,(t=>!m(t)||(Pk(e,t),!1)));return Fw(e)||q(o,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),o})))),f=o=>o.replace(/src="(blob:[^"]+)"/g,((o,n)=>{const a=r.getResultUri(n);if(a)return'src="'+a+'"';let s=t.getByUri(n);if(s||(s=Q(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)),void 0)),s){return'src="data:'+s.blob().type+";base64,"+s.base64()+'"'}return o}));return e.on("SetContent",(()=>{Ul(e)?u():p()})),e.on("RawSaveContent",(e=>{e.content=f(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=f(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{q(e,(e=>{const o=e.attr("src");if(!o||t.getByUri(o))return;const n=r.getResultUri(o);n&&e.attr("src",n)}))}))})),{blobCache:t,addFilter:e=>{a.push(e)},uploadImages:d,uploadImagesAuto:u,scanForImages:p,destroy:()=>{t.destroy(),r.destroy(),n=o=null}}},Xk={remove_similar:!0,inherit:!1},Qk={selector:"td,th",...Xk},Jk={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Qk},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Qk},tablecellbordercolor:{styles:{borderColor:"%value"},...Qk},tablecellclass:{classes:["%value"],...Qk},tableclass:{selector:"table",classes:["%value"],...Xk},tablecellborderstyle:{styles:{borderStyle:"%value"},...Qk},tablecellborderwidth:{styles:{borderWidth:"%value"},...Qk}},ex=T(Jk),tx=e=>{const t={},o=(e,n)=>{e&&(m(e)?(y(n)||(n=[n]),q(n,(e=>{_(e.deep)&&(e.deep=!Rh(e)),_(e.split)&&(e.split=!Rh(e)||Nh(e)),_(e.remove)&&Rh(e)&&!Nh(e)&&(e.remove="none"),Rh(e)&&Nh(e)&&(e.mixed=!0,e.block_expand=!0),m(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=n):fe(e,((e,t)=>{o(t,e)})))};return o((e=>{const t=e.dom,o=e.schema.type,n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},n={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==o?[n,e,t]:[e,n,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,o)=>jn(e)&&e.hasAttribute("href"),onformat:(e,o,n)=>{Nt.each(n,((o,n)=>{t.setAttrib(e,n,o)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Nt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{n[e]={block:e,remove:"all"}})),n})(e)),o(ex()),o(vc(e)),{get:e=>k(e)?t[e]:t,has:e=>Ce(t,e),register:o,unregister:e=>(e&&t[e]&&delete t[e],t)}},ox=Nt.each,nx=Is.DOM,rx=e=>k(e)&&g(e),ax=(e,t)=>{const o=t&&t.schema||ms({}),n=e=>{const t=m(e)?{name:e,classes:[],attrs:{}}:e,o=nx.create(t.name);return((e,t)=>{t.classes.length>0&&nx.addClass(e,t.classes.join(" ")),nx.setAttribs(e,t.attrs)})(o,t),o},r=(e,t,a)=>{let s;const i=t[0],l=rx(i)?i.name:void 0,c=((e,t)=>{const n=o.getElementRule(e.nodeName.toLowerCase()),r=null==n?void 0:n.parentsRequired;return!(!r||!r.length)&&(t&&W(r,t)?t:r[0])})(e,l);if(c)l===c?(s=i,t=t.slice(1)):s=c;else if(i)s=i,t=t.slice(1);else if(!a)return e;const d=s?n(s):nx.create("div");d.appendChild(e),a&&Nt.each(a,(t=>{const o=n(t);d.insertBefore(o,e)}));const u=rx(s)?s.siblings:void 0;return r(d,t,u)},a=nx.create("div");if(e.length>0){const t=e[0],o=n(t),s=rx(t)?t.siblings:void 0;a.appendChild(r(o,e.slice(1),s))}return a},sx=e=>{let t="div";const o={name:t,classes:[],attrs:{},selector:e=Nt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,n,r,a)=>{switch(t){case"#":o.attrs.id=n;break;case".":o.classes.push(n);break;case":":-1!==Nt.inArray("checked disabled enabled read-only required".split(" "),n)&&(o.attrs[n]=n)}if("["===r){const e=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(o.attrs[e[1]]=e[2])}return""}))),o.name=t||"div",o},ix=(e,t)=>{let o="",n=_c(e);if(""===n)return"";const r=e=>m(e)?e.replace(/%(\w+)/g,""):"",a=(t,o)=>nx.getStyle(null!=o?o:e.getBody(),t,!0);if(m(t)){const o=e.formatter.get(t);if(!o)return"";t=o[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";n=e||n}let s,i=t.block||t.inline||"span";const l=(c=t.selector,m(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Nt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=Nt.map(e.split(/(?:~\+|~|\+)/),sx),o=t.pop();return t.length&&(o.siblings=t),o})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=i),i=t.selector,s=ax(l,e)):s=ax([i],e);const d=nx.select(i,s)[0]||s.firstChild;ox(t.styles,((e,t)=>{const o=r(e);o&&nx.setStyle(d,t,o)})),ox(t.attributes,((e,t)=>{const o=r(e);o&&nx.setAttrib(d,t,o)})),ox(t.classes,(e=>{const t=r(e);nx.hasClass(d,t)||nx.addClass(d,t)})),e.dispatch("PreviewFormats"),nx.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const u=a("fontSize"),h=/px$/.test(u)?parseInt(u,10):0;return ox(n.split(" "),(e=>{let t=a(e,d);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=a(e),"#ffffff"===th(t).toLowerCase())||"color"===e&&"#000000"===th(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===h)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*h+"px"}"border"===e&&t&&(o+="padding:0 2px;"),o+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),nx.remove(s),o},lx=e=>{const t=tx(e),o=Bs({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),Eb(e),Fw(e)||((e,t)=>{e.set({}),t.on("NodeChange",(o=>{wv(t,o.element,e.get())})),t.on("FormatApply FormatRemove",(o=>{const n=H.from(o.node).map((e=>mh(e)?e:e.startContainer)).bind((e=>jn(e)?H.some(e):H.from(e.parentElement))).getOrThunk((()=>bv(t)));wv(t,n,e.get())}))})(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,o,n)=>{((e,t,o,n)=>{Uw(e).formatter.apply(t,o,n)})(e,t,o,n)},remove:(t,o,n,r)=>{((e,t,o,n,r)=>{Uw(e).formatter.remove(t,o,n,r)})(e,t,o,n,r)},toggle:(t,o,n)=>{((e,t,o,n)=>{Uw(e).formatter.toggle(t,o,n)})(e,t,o,n)},match:(t,o,n,r)=>((e,t,o,n,r)=>Uw(e).formatter.match(t,o,n,r))(e,t,o,n,r),closest:t=>((e,t)=>Uw(e).formatter.closest(t))(e,t),matchAll:(t,o)=>((e,t,o)=>Uw(e).formatter.matchAll(t,o))(e,t,o),matchNode:(t,o,n,r)=>((e,t,o,n,r)=>Uw(e).formatter.matchNode(t,o,n,r))(e,t,o,n,r),canApply:t=>((e,t)=>Uw(e).formatter.canApply(t))(e,t),formatChanged:(t,n,r,a)=>((e,t,o,n,r,a)=>Uw(e).formatter.formatChanged(t,o,n,r,a))(e,o,t,n,r,a),getCssText:z(ix,e)}},cx=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},dx=e=>{const t=Zs(),o=Bs(0),n=Bs(0),r={data:[],typing:!1,beforeChange:()=>{((e,t,o)=>{Uw(e).undoManager.beforeChange(t,o)})(e,o,t)},add:(a,s)=>((e,t,o,n,r,a,s)=>Uw(e).undoManager.add(t,o,n,r,a,s))(e,r,n,o,t,a,s),dispatchChange:()=>{e.setDirty(!0);const t=Mw(e);t.bookmark=ul(e.selection),e.dispatch("change",{level:t,lastLevel:ce(r.data,n.get()).getOrUndefined()})},undo:()=>((e,t,o,n)=>Uw(e).undoManager.undo(t,o,n))(e,r,o,n),redo:()=>((e,t,o)=>Uw(e).undoManager.redo(t,o))(e,n,r.data),clear:()=>{((e,t,o)=>{Uw(e).undoManager.clear(t,o)})(e,r,n)},reset:()=>{((e,t)=>{Uw(e).undoManager.reset(t)})(e,r)},hasUndo:()=>((e,t,o)=>Uw(e).undoManager.hasUndo(t,o))(e,r,n),hasRedo:()=>((e,t,o)=>Uw(e).undoManager.hasRedo(t,o))(e,r,n),transact:t=>((e,t,o,n)=>Uw(e).undoManager.transact(t,o,n))(e,r,o,t),ignore:t=>{((e,t,o)=>{Uw(e).undoManager.ignore(t,o)})(e,o,t)},extra:(t,o)=>{((e,t,o,n,r)=>{Uw(e).undoManager.extra(t,o,n,r)})(e,r,n,t,o)}};return Fw(e)||((e,t,o)=>{const n=Bs(!1),r=e=>{Pw(t,!1,o),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const n=e.command;cx(n)||(Bw(t,o),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;cx(t)||r(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",(o=>{const a=o.keyCode;o.isDefaultPrevented()||((a>=33&&a<=36||a>=37&&a<=40||45===a||o.ctrlKey)&&(r(),e.nodeChanged()),46!==a&&8!==a||e.nodeChanged(),n.get()&&t.typing&&!Iw(Mw(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),n.set(!1),e.nodeChanged()))})),e.on("keydown",(e=>{const a=e.keyCode;if(e.isDefaultPrevented())return;if(a>=33&&a<=36||a>=37&&a<=40||45===a)return void(t.typing&&r(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;!(a<16||a>20)||224===a||91===a||t.typing||s||(t.beforeChange(),Pw(t,!0,o),t.add({},e),n.set(!0))})),e.on("mousedown",(e=>{t.typing&&r(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&r(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,r,o),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),r},ux=[9,27,mp.HOME,mp.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,mp.DOWN,mp.UP,mp.LEFT,mp.RIGHT].concat(Ot.browser.isFirefox()?[224]:[]),hx="data-mce-placeholder",px=e=>"keydown"===e.type||"keyup"===e.type,mx=e=>{const t=e.keyCode;return t===mp.BACKSPACE||t===mp.DELETE},gx=e=>{var t;const o=e.dom,n=Ll(e),r=null!==(t=uc(e))&&void 0!==t?t:"",a=(t,s)=>{if((e=>{if(px(e)){const t=e.keyCode;return!mx(e)&&(mp.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||W(ux,t))}return!1})(t))return;const i=e.getBody(),l=!(e=>px(e)&&!(mx(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,o)=>{if(ya(yo.fromDom(t),!1)){const n=t.firstElementChild;return!n||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&o===n.nodeName.toLowerCase()}return!1})(o,i,n);(""!==o.getAttrib(i,hx)!==l||s)&&(o.setAttrib(i,hx,l?r:null),o.setAttrib(i,"aria-placeholder",l?r:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",a),e.off(l?"keyup":"keydown",a))};Ke(r)&&e.on("init",(t=>{a(t,!0),e.on("change SetContent ExecCommand",a),e.on("paste",(t=>zm.setEditorTimeout(e,(()=>a(t)))))}))},fx=(e,t)=>({from:e,to:t}),yx=(e,t)=>{const o=yo.fromDom(e),n=yo.fromDom(t.container());return Yf(o,n).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},bx=(e,t)=>Go(t,(e=>Er(e)||ar(e.dom)),(t=>wo(t,e))).filter($t).getOr(e),vx=(e,t,o)=>{const n=yx(e,Ui.fromRangeStart(o)),r=n.bind((o=>_u(t,e,o.position).bind((o=>yx(e,o).map((o=>((e,t,o)=>nr(o.position.getNode())&&!ya(o.block)?xu(!1,o.block.dom).bind((n=>n.isEqual(o.position)?_u(t,e,n).bind((t=>yx(e,t))):H.some(o))).getOr(o):o)(e,t,o)))))));return Lt(n,r,fx).filter((t=>(e=>!wo(e.from.block,e.to.block))(t)&&((e,t)=>{const o=yo.fromDom(e);return wo(bx(o,t.from.block),bx(o,t.to.block))})(e,t)&&(e=>!1===sr(e.from.block.dom)&&!1===sr(e.to.block.dom))(t)&&(e=>{const t=e=>kr(e)||Ea(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))},_x=e=>{const t=(e=>{const t=Ro(e);return te(t,vr).fold(T(t),(e=>t.slice(0,e)))})(e);return q(t,vn),t},wx=(e,t)=>{const o=Zg(t,e);return ee(o.reverse(),(e=>ya(e))).each(vn)},kx=(e,t,o,n)=>{if(ya(o))return zr(o),Eu(o.dom);0===K(Mo(n),(e=>!ya(e))).length&&ya(t)&&hn(n,yo.fromTag("br"));const r=Cu(o.dom,Ui.before(n.dom));return q(_x(t),(e=>{hn(n,e)})),wx(e,t),r},xx=(e,t,o)=>{if(ya(o)){if(ya(t)){const e=e=>{const t=(e,o)=>Io(e).fold((()=>o),(e=>_r(e)?t(e,o.concat(ci(e))):o));return t(e,[])},n=X(e(o),((e,t)=>(fn(e,t),t)),Mr());bn(t),gn(t,n)}return vn(o),Eu(t.dom)}const n=Du(o.dom);return q(_x(t),(e=>{gn(o,e)})),wx(e,t),n},Sx=(e,t)=>ko(t,e)?((e,t)=>{const o=Zg(t,e);return H.from(o[o.length-1])})(t,e):H.none(),Cx=(e,t)=>{xu(e,t.dom).bind((e=>H.from(e.getNode()))).map(yo.fromDom).filter(wr).each(vn)},Ex=(e,t,o)=>(Cx(!0,t),Cx(!1,o),Sx(t,o).fold(z(xx,e,t,o),z(kx,e,t,o))),Dx=(e,t,o,n)=>t?Ex(e,n,o):Ex(e,o,n),Ax=(e,t)=>{const o=yo.fromDom(e.getBody()),n=((e,t,o)=>o.collapsed?vx(e,t,o):H.none())(o.dom,t,e.selection.getRng()).map((n=>()=>{Dx(o,t,n.from.block,n.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return n},Tx=(e,t)=>{const o=yo.fromDom(t),n=z(wo,e);return Yo(o,Er,n).isSome()},Ox=(e,t)=>{const o=Cu(e.dom,Ui.fromRangeStart(t)).isNone(),n=Su(e.dom,Ui.fromRangeEnd(t)).isNone();return!((e,t)=>Tx(e,t.startContainer)||Tx(e,t.endContainer))(e,t)&&o&&n},Mx=e=>{const t=yo.fromDom(e.getBody()),o=e.selection.getRng();return Ox(t,o)?(e=>H.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t)=>{const o=t.getRng();return Lt(Yf(e,yo.fromDom(o.startContainer)),Yf(e,yo.fromDom(o.endContainer)),((n,r)=>wo(n,r)?H.none():H.some((()=>{o.deleteContents(),Dx(e,!0,n,r).each((e=>{t.setRng(e.toRange())}))})))).getOr(H.none())})(t,e.selection)},zx=(e,t)=>e.selection.isCollapsed()?H.none():Mx(e),Rx=(e,t,o,n,r)=>H.from(t._selectionOverrides.showCaret(e,o,n,r)),Nx=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?H.none():H.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),Ix=(e,t,o)=>t.collapsed?((e,t,o)=>{const n=Qd(1,e.getBody(),t),r=Ui.fromRangeStart(n),a=r.getNode();if(Td(a))return Rx(1,e,a,!r.isAtEnd(),!1);const s=r.getNode(!0);if(Td(s))return Rx(1,e,s,!1,!1);const i=Dy(e.dom.getRoot(),r.getNode());return Td(i)?Rx(1,e,i,!1,o):H.none()})(e,t,o).getOr(t):t,Lx=e=>jg(e)||Bg(e),Px=e=>Ug(e)||Hg(e),Bx=(e,t,o,n,r,a)=>{Rx(n,e,a.getNode(!r),r,!0).each((o=>{if(t.collapsed){const e=t.cloneRange();r?e.setEnd(o.startContainer,o.startOffset):e.setStart(o.endContainer,o.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(o)})),((e,t)=>{Xn(t)&&0===t.data.length&&e.remove(t)})(e.dom,o)},Hx=(e,t)=>((e,t)=>{const o=e.selection.getRng();if(!Xn(o.commonAncestorContainer))return H.none();const n=t?ru.Forwards:ru.Backwards,r=gu(e.getBody()),a=z(ou,t?r.next:r.prev),s=t?Lx:Px,i=eu(n,e.getBody(),o),l=a(i),c=l?jf(t,l):l;if(!c||!nu(i,c))return H.none();if(s(c))return H.some((()=>Bx(e,o,i.getNode(),n,t,c)));const d=a(c);return d&&s(d)&&nu(c,d)?H.some((()=>Bx(e,o,i.getNode(),n,t,d))):H.none()})(e,t),Fx=(e,t)=>{const o=e.getBody();return t?Eu(o).filter(jg):Du(o).filter(Ug)},Vx=e=>{const t=e.selection.getRng();return!t.collapsed&&(Fx(e,!0).exists((e=>e.isEqual(Ui.fromRangeStart(t))))||Fx(e,!1).exists((e=>e.isEqual(Ui.fromRangeEnd(t)))))},jx=gl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Ux=(e,t,o,n)=>{const r=n.getNode(!t);return Yf(yo.fromDom(e),yo.fromDom(o.getNode())).map((e=>ya(e)?jx.remove(e.dom):jx.moveToElement(r))).orThunk((()=>H.some(jx.moveToElement(r))))},Wx=(e,t,o)=>_u(t,e,o).bind((n=>{return r=n.getNode(),k(r)&&(Er(yo.fromDom(r))||Sr(yo.fromDom(r)))||((e,t,o,n)=>{const r=t=>_r(yo.fromDom(t))&&!Zd(o,n,e);return Jd(!t,o).fold((()=>Jd(t,n).fold(P,r)),r)})(e,t,o,n)?H.none():t&&sr(n.getNode())||!t&&sr(n.getNode(!0))?Ux(e,t,o,n):t&&Ug(o)||!t&&jg(o)?H.some(jx.moveToPosition(n)):H.none();var r})),Zx=(e,t,o)=>((e,t)=>{const o=t.getNode(!e),n=e?"after":"before";return jn(o)&&o.getAttribute("data-mce-caret")===n})(t,o)?((e,t)=>w(t)?H.none():e&&sr(t.nextSibling)?H.some(jx.moveToElement(t.nextSibling)):!e&&sr(t.previousSibling)?H.some(jx.moveToElement(t.previousSibling)):H.none())(t,o.getNode(!t)).orThunk((()=>Wx(e,t,o))):Wx(e,t,o).bind((t=>((e,t,o)=>o.fold((e=>H.some(jx.remove(e))),(e=>H.some(jx.moveToElement(e))),(o=>Zd(t,o,e)?H.none():H.some(jx.moveToPosition(o)))))(e,o,t))),$x=(e,t)=>H.from(Dy(e.getBody(),t)),qx=(e,t)=>{const o=e.selection.getNode();return $x(e,o).filter(sr).fold((()=>((e,t,o)=>{const n=Qd(t?1:-1,e,o),r=Ui.fromRangeStart(n),a=yo.fromDom(e);return!t&&Ug(r)?H.some(jx.remove(r.getNode(!0))):t&&jg(r)?H.some(jx.remove(r.getNode())):!t&&jg(r)&&nf(a,r)?rf(a,r).map((e=>jx.remove(e.getNode()))):t&&Ug(r)&&of(a,r)?af(a,r).map((e=>jx.remove(e.getNode()))):Zx(e,t,r)})(e.getBody(),t,e.selection.getRng()).map((o=>()=>o.fold(((e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),Pf(e,t,yo.fromDom(o)),!0))(e,t),((e,t)=>o=>{const n=t?Ui.before(o):Ui.after(o);return e.selection.setRng(n.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>H.some(E)))},Yx=(e,t)=>{const o=e.selection.getNode();if(sr(o)&&!ir(o)){return $x(e,o.parentNode).filter(sr).fold((()=>H.some((()=>{var o;o=yo.fromDom(e.getBody()),q(Pn(o,".mce-offscreen-selection"),vn),Pf(e,t,yo.fromDom(e.selection.getNode())),Gf(e)}))),(()=>H.some(E)))}return Vx(e)?H.some((()=>{Xf(e,e.selection.getRng(),yo.fromDom(e.getBody()))})):H.none()},Gx=e=>{const t=e.dom,o=e.selection,n=Dy(e.getBody(),o.getNode());if(ar(n)&&t.isBlock(n)&&t.isEmpty(n)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(n,""),n.appendChild(e),o.setRng(Ui.before(e).toRange())}return!0},Kx=(e,t)=>e.selection.isCollapsed()?qx(e,t):Yx(e,t),Xx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const o=Ui.fromRangeStart(e.selection.getRng());return _u(t,e.getBody(),o).filter((e=>t?Lg(e):Pg(e))).bind((e=>$d(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):H.none(),Qx=Xn,Jx=e=>Qx(e)&&e.data[0]===Nr,eS=e=>Qx(e)&&e.data[e.data.length-1]===Nr,tS=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Nr)},oS=(e,t)=>e?(e=>{var t;if(Qx(e.previousSibling))return eS(e.previousSibling)||e.previousSibling.appendData(Nr),e.previousSibling;if(Qx(e))return Jx(e)||e.insertData(0,Nr),e;{const o=tS(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e),o}})(t):(e=>{var t,o;if(Qx(e.nextSibling))return Jx(e.nextSibling)||e.nextSibling.insertData(0,Nr),e.nextSibling;if(Qx(e))return eS(e)||e.appendData(Nr),e;{const n=tS(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e.nextSibling):null===(o=e.parentNode)||void 0===o||o.appendChild(n),n}})(t),nS=z(oS,!0),rS=z(oS,!1),aS=(e,t)=>Xn(e.container())?oS(t,e.container()):oS(t,e.getNode()),sS=(e,t)=>{const o=t.get();return o&&e.container()===o&&Fr(o)},iS=(e,t)=>t.fold((t=>{kd(e.get());const o=nS(t);return e.set(o),H.some(Ui(o,o.length-1))}),(t=>Eu(t).map((t=>{if(sS(t,e)){const t=e.get();return Ui(t,1)}{kd(e.get());const o=aS(t,!0);return e.set(o),Ui(o,1)}}))),(t=>Du(t).map((t=>{if(sS(t,e)){const t=e.get();return Ui(t,t.length-1)}{kd(e.get());const o=aS(t,!1);return e.set(o),Ui(o,o.length-1)}}))),(t=>{kd(e.get());const o=rS(t);return e.set(o),H.some(Ui(o,1))})),lS=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o].apply(null,t);if(n.isSome())return n}return H.none()},cS=gl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),dS=(e,t)=>{const o=Wd(t,e);return o||e},uS=(e,t,o)=>{const n=Uf(o),r=dS(t,n.container());return Vf(e,r,n).fold((()=>Su(r,n).bind(z(Vf,e,r)).map((e=>cS.before(e)))),H.none)},hS=(e,t)=>null===Ou(e,t),pS=(e,t,o)=>Vf(e,t,o).filter(z(hS,t)),mS=(e,t,o)=>{const n=Wf(o);return pS(e,t,n).bind((e=>Cu(e,n).isNone()?H.some(cS.start(e)):H.none()))},gS=(e,t,o)=>{const n=Uf(o);return pS(e,t,n).bind((e=>Su(e,n).isNone()?H.some(cS.end(e)):H.none()))},fS=(e,t,o)=>{const n=Wf(o),r=dS(t,n.container());return Vf(e,r,n).fold((()=>Cu(r,n).bind(z(Vf,e,r)).map((e=>cS.after(e)))),H.none)},yS=e=>!Ff(vS(e)),bS=(e,t,o)=>lS([uS,mS,gS,fS],[e,t,o]).filter(yS),vS=e=>e.fold(O,O,O,O),_S=e=>e.fold(T("before"),T("start"),T("end"),T("after")),wS=e=>e.fold(cS.before,cS.before,cS.after,cS.after),kS=e=>e.fold(cS.start,cS.start,cS.end,cS.end),xS=(e,t,o,n,r,a)=>Lt(Vf(t,o,n),Vf(t,o,r),((t,n)=>t!==n&&((e,t,o)=>{const n=Wd(t,e),r=Wd(o,e);return k(n)&&n===r})(o,t,n)?cS.after(e?t:n):a)).getOr(a),SS=(e,t)=>e.fold(B,(e=>{return n=t,!(_S(o=e)===_S(n)&&vS(o)===vS(n));var o,n})),CS=(e,t)=>e?t.fold(D(H.some,cS.start),H.none,D(H.some,cS.after),H.none):t.fold(H.none,D(H.some,cS.before),H.none,D(H.some,cS.end)),ES=(e,t,o,n)=>{const r=jf(e,n),a=bS(t,o,r);return bS(t,o,r).bind(z(CS,e)).orThunk((()=>((e,t,o,n,r)=>{const a=jf(e,r);return _u(e,o,a).map(z(jf,e)).fold((()=>n.map(wS)),(r=>bS(t,o,r).map(z(xS,e,t,o,a,r)).filter(z(SS,n)))).filter(yS)})(e,t,o,a,n)))},DS=(e,t,o)=>{const n=e?1:-1;return t.setRng(Ui(o.container(),o.offset()+n).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},AS=(e,t)=>{const o=t.selection.getRng(),n=e?Ui.fromRangeEnd(o):Ui.fromRangeStart(o);return!!(e=>x(e.selection.getSel().modify))(t)&&(e&&Ur(n)?DS(!0,t.selection,n):!(e||!Wr(n))&&DS(!1,t.selection,n))};var TS;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(TS||(TS={}));const OS=(e,t)=>e===ru.Backwards?ae(t):t,MS=(e,t,o)=>e===ru.Forwards?t.next(o):t.prev(o),zS=(e,t,o,n)=>nr(n.getNode(t===ru.Forwards))?TS.Br:!1===Zd(o,n)?TS.Block:TS.Wrap,RS=(e,t,o,n)=>{const r=gu(o);let a=n;const s=[];for(;a;){const o=MS(t,r,a);if(!o)break;if(nr(o.getNode(!1)))return t===ru.Forwards?{positions:OS(t,s).concat([o]),breakType:TS.Br,breakAt:H.some(o)}:{positions:OS(t,s),breakType:TS.Br,breakAt:H.some(o)};if(o.isVisible()){if(e(a,o)){const e=zS(0,t,a,o);return{positions:OS(t,s),breakType:e,breakAt:H.some(o)}}s.push(o),a=o}else a=o}return{positions:OS(t,s),breakType:TS.Eol,breakAt:H.none()}},NS=(e,t,o,n)=>t(o,n).breakAt.map((n=>{const r=t(o,n).positions;return e===ru.Backwards?r.concat(n):[n].concat(r)})).getOr([]),IS=(e,t)=>Q(e,((e,o)=>e.fold((()=>H.some(o)),(n=>Lt(de(n.getClientRects()),de(o.getClientRects()),((e,r)=>{const a=Math.abs(t-e.left);return Math.abs(t-r.left)<=a?o:n})).or(e)))),H.none()),LS=(e,t)=>de(t.getClientRects()).bind((t=>IS(e,t.left))),PS=z(RS,Ui.isAbove,-1),BS=z(RS,Ui.isBelow,1),HS=z(NS,-1,PS),FS=z(NS,1,BS),VS=(e,t)=>LS(HS(e,t),t),jS=(e,t)=>LS(FS(e,t),t),US=sr,WS=(e,t)=>Math.abs(e.left-t),ZS=(e,t)=>Math.abs(e.right-t),$S=(e,t)=>Re(e,((e,o)=>{const n=Math.min(WS(e,t),ZS(e,t)),r=Math.min(WS(o,t),ZS(o,t));return r===n&&Ee(o,"node")&&US(o.node)||r<n?o:e})),qS=e=>{const t=t=>$(t,(t=>{const o=gi(t);return o.node=e,o}));if(jn(e))return t(e.getClientRects());if(Xn(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}return[]},YS=e=>ne(e,qS);var GS;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(GS||(GS={}));const KS=(e,t,o,n,r,a)=>{let s=0;const i=[],l=n=>{let a=YS([n]);-1===e&&(a=a.reverse());for(let e=0;e<a.length;e++){const n=a[e];if(!o(n,c)){if(i.length>0&&t(n,Ie(i))&&s++,n.line=s,r(n))return!0;i.push(n)}}return!1},c=Ie(a.getClientRects());if(!c)return i;const d=a.getNode();return d&&(l(d),((e,t,o,n)=>{let r=n;for(;r=Ud(r,e,aa,t);)if(o(r))return})(e,n,l,d)),i},XS=z(KS,GS.Up,bi,vi),QS=z(KS,GS.Down,vi,bi),JS=e=>Ie(e.getClientRects()),eC=e=>t=>((e,t)=>t.line>e)(e,t),tC=e=>t=>((e,t)=>t.line===e)(e,t),oC=(e,t)=>{e.selection.setRng(t),bm(e,e.selection.getRng())},nC=(e,t,o)=>H.some(Ix(e,t,o)),rC=(e,t,o,n,r,a)=>{const s=t===ru.Forwards,i=gu(e.getBody()),l=z(ou,s?i.next:i.prev),c=s?n:r;if(!o.collapsed){const n=wi(o);if(a(n))return Rx(t,e,n,t===ru.Backwards,!1);if(Vx(e)){const e=o.cloneRange();return e.collapse(t===ru.Backwards),H.from(e)}}const d=eu(t,e.getBody(),o);if(c(d))return Nx(e,d.getNode(!s));let u=l(d);const h=Yr(o);if(!u)return h?H.some(o):H.none();if(u=jf(s,u),c(u))return Rx(t,e,u.getNode(!s),s,!1);const p=l(u);return p&&c(p)&&nu(u,p)?Rx(t,e,p.getNode(!s),s,!1):h?nC(e,u.toRange(),!1):H.none()},aC=(e,t,o,n,r,a)=>{const s=eu(t,e.getBody(),o),i=Ie(s.getClientRects()),l=t===GS.Down,c=e.getBody();if(!i)return H.none();if(Vx(e)){const e=l?Ui.fromRangeEnd(o):Ui.fromRangeStart(o);return(l?jS:VS)(c,e).orThunk((()=>H.from(e))).map((e=>e.toRange()))}const d=(l?QS:XS)(c,eC(1),s),u=K(d,tC(1)),h=i.left,p=$S(u,h);if(p&&a(p.node)){const o=Math.abs(h-p.left),n=Math.abs(h-p.right);return Rx(t,e,p.node,o<n,!1)}let m;if(m=n(s)?s.getNode():r(s)?s.getNode(!0):wi(o),m){const o=((e,t,o,n)=>{const r=gu(t);let a,s,i,l;const c=[];let d=0;1===e?(a=r.next,s=vi,i=bi,l=Ui.after(n)):(a=r.prev,s=bi,i=vi,l=Ui.before(n));const u=JS(l);do{if(!l.isVisible())continue;const e=JS(l);if(i(e,u))continue;c.length>0&&s(e,Ie(c))&&d++;const t=gi(e);if(t.position=l,t.line=d,o(t))return c;c.push(t)}while(l=a(l));return c})(t,c,eC(1),m);let n=$S(K(o,tC(1)),h);if(n)return nC(e,n.position.toRange(),!1);if(n=Ie(K(o,tC(0))),n)return nC(e,n.position.toRange(),!1)}return 0===u.length?sC(e,l).filter(l?r:n).map((t=>Ix(e,t.toRange(),!1))):H.none()},sC=(e,t)=>{const o=e.selection.getRng(),n=t?Ui.fromRangeEnd(o):Ui.fromRangeStart(o),r=(a=n.container(),s=e.getBody(),Yo(yo.fromDom(a),(e=>Md(e.dom)),(e=>e.dom===s)).map((e=>e.dom)).getOr(s));var a,s;if(t){const e=BS(r,n);return ue(e.positions)}{const e=PS(r,n);return de(e.positions)}},iC=(e,t,o)=>sC(e,t).filter(o).exists((t=>(e.selection.setRng(t.toRange()),!0))),lC=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},cC=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},dC=(e,t,o)=>iS(t,o).map((t=>(lC(e,t),o))),uC=(e,t,o)=>{const n=e.getBody(),r=((e,t,o)=>{const n=Ui.fromRangeStart(e);if(e.collapsed)return n;{const r=Ui.fromRangeEnd(e);return o?Cu(t,r).getOr(r):Su(t,n).getOr(n)}})(e.selection.getRng(),n,o),a=z(Hf,e);return ES(o,a,n,r).bind((o=>dC(e,t,o)))},hC=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const n=Ui.fromRangeStart(e.selection.getRng());Ui.isTextPosition(n)&&!(e=>Ur(e)||Wr(e))(n)&&(lC(e,wd(o,n)),t.set(null))}},pC=(e,t,o)=>!!bc(e)&&uC(e,t,o).isSome(),mC=(e,t,o)=>!!bc(t)&&AS(e,t),gC=e=>{const t=Bs(null),o=z(Hf,e);return e.on("NodeChange",(n=>{bc(e)&&(((e,t,o)=>{const n=$(Pn(yo.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),r=K(n,e),a=K(o,e);q(se(r,a),z(cC,!1)),q(se(a,r),z(cC,!0))})(o,e.dom,n.parents),hC(e,t),((e,t,o,n)=>{if(t.selection.isCollapsed()){const r=K(n,e);q(r,(n=>{const r=Ui.fromRangeStart(t.selection.getRng());bS(e,t.getBody(),r).bind((e=>dC(t,o,e)))}))}})(o,e,t,n.parents))})),t},fC=z(mC,!0),yC=z(mC,!1),bC=(e,t,o)=>{if(bc(e)){const n=sC(e,t).getOrThunk((()=>{const o=e.selection.getRng();return t?Ui.fromRangeEnd(o):Ui.fromRangeStart(o)}));return bS(z(Hf,e),e.getBody(),n).exists((t=>{const n=wS(t);return iS(o,n).exists((t=>(lC(e,t),!0)))}))}return!1},vC=(e,t)=>o=>iS(t,o).map((t=>()=>lC(e,t))),_C=(e,t,o,n)=>{const r=e.getBody(),a=z(Hf,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o})(o,n)),$f(e),bS(a,r,Ui.fromRangeStart(e.selection.getRng())).map(kS).bind(vC(e,t)).each(L)})),e.nodeChanged()},wC=(e,t,o,n)=>{const r=((e,t)=>{const o=Wd(t,e);return o||e})(e.getBody(),n.container()),a=z(Hf,e),s=bS(a,r,n);return s.bind((e=>o?e.fold(T(H.some(kS(e))),H.none,T(H.some(wS(e))),H.none):e.fold(H.none,T(H.some(wS(e))),H.none,T(H.some(kS(e)))))).map(vC(e,t)).getOrThunk((()=>{const i=wu(o,r,n),l=i.bind((e=>bS(a,r,e)));return Lt(s,l,(()=>Vf(a,r,n).bind((t=>(e=>Lt(Eu(e),Du(e),((t,o)=>{const n=jf(!0,t),r=jf(!1,o);return Su(e,n).forall((e=>e.isEqual(r)))})).getOr(!0))(t)?H.some((()=>{Pf(e,o,yo.fromDom(t))})):H.none())))).getOrThunk((()=>l.bind((()=>i.map((r=>()=>{o?_C(e,t,n,r):_C(e,t,r,n)}))))))}))},kC=(e,t,o)=>{if(e.selection.isCollapsed()&&bc(e)){const n=Ui.fromRangeStart(e.selection.getRng());return wC(e,t,o,n)}return H.none()},xC=(e,t)=>{const o=yo.fromDom(e.getBody()),n=yo.fromDom(e.selection.getStart()),r=Zg(n,o);return te(r,t).fold(T(r),(e=>r.slice(0,e)))},SC=e=>xC(e,(e=>vr(e)||(e=>Po(e)>1)(e))),CC=(e,t)=>{const o=z(Tb,e);return ne(t,(e=>o(e)?[e.dom]:[]))},EC=e=>{const t=(e=>xC(e,vr))(e);return CC(e,t)},DC=(e,t)=>{const o=SC(e);return ue(o).bind((n=>{const r=Ui.fromRangeStart(e.selection.getRng());return((e,t,o)=>Lt(Eu(o),Du(o),((n,r)=>{const a=jf(!0,n),s=jf(!1,r),i=jf(!1,t);return e?Su(o,i).exists((e=>e.isEqual(s)&&t.isEqual(a))):Cu(o,i).exists((e=>e.isEqual(a)&&t.isEqual(s)))})).getOr(!0))(t,r,n.dom)&&!Ob(n)?H.some((()=>((e,t,o,n)=>{const r=CC(t,n);if(0===r.length)Pf(t,e,o);else{const e=Ab(o.dom,r);t.selection.setRng(e.toRange())}})(t,e,n,o))):H.none()}))},AC=(e,t)=>{const o=e.selection.getStart(),n=((e,t)=>{const o=t.parentElement;return nr(t)&&!b(o)&&e.dom.isEmpty(o)})(e,o)||(r=o,Ob(yo.fromDom(r)))?Ab(o,t):((e,t)=>{const{caretContainer:o,caretPosition:n}=Db(t);return e.selection.getRng().insertNode(o.dom),n})(e,t);var r;e.selection.setRng(n.toRange())},TC=e=>Xn(e.startContainer),OC=e=>(e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!b(t)&&!b(o)&&t.isEqualNode(o)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(Xn(t)?t.length:t.childNodes.length)})(e),MC=e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&TC(e))(t)&&((e,t)=>{const o=t.startContainer.parentElement;return!b(o)&&Tb(e,yo.fromDom(o))})(e,t)&&(e=>OC(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)},zC=e=>{if(MC(e)){const t=EC(e);return H.some((()=>{$f(e),((e,t)=>{const o=se(t,EC(e));o.length>0&&AC(e,o)})(e,t)}))}return H.none()},RC=(e,t)=>e.selection.isCollapsed()?DC(e,t):zC(e),NC=e=>((e,t,o)=>Yo(e,t,o).isSome())(e,(e=>Tu(e.dom)),vr),IC=e=>{const t=e.selection.getRng();return t.collapsed&&(TC(t)||e.dom.isEmpty(t.startContainer))&&!(e=>NC(yo.fromDom(e.selection.getStart())))(e)},LC=e=>(IC(e)&&AC(e,[]),!0),PC=(e,t,o)=>k(o)?H.some((()=>{e._selectionOverrides.hideFakeCaret(),Pf(e,t,yo.fromDom(o))})):H.none(),BC=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const o=t?Bg:Hg,n=t?ru.Forwards:ru.Backwards,r=eu(n,e.getBody(),e.selection.getRng());return o(r)?PC(e,t,r.getNode(!t)):H.from(jf(t,r)).filter((e=>o(e)&&nu(r,e))).bind((o=>PC(e,t,o.getNode(!t))))})(e,t):((e,t)=>{const o=e.selection.getNode();return cr(o)?PC(e,t,o):H.none()})(e,t),HC=e=>Qe(null!=e?e:"").getOr(0),FC=(e,t)=>(e||"table"===Ut(t)?"margin":"padding")+("rtl"===sn(t,"direction")?"-right":"-left"),VC=e=>{const t=UC(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>re(t,(t=>{const o=FC(oc(e),t),n=cn(t,o).map(HC).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&n>0})))(e,t))},jC=e=>xr(e)||Sr(e),UC=e=>K(wn(e.selection.getSelectedBlocks()),(e=>!jC(e)&&!(e=>Eo(e).exists(jC))(e)&&Go(e,(e=>ar(e.dom)||sr(e.dom))).exists((e=>ar(e.dom))))),WC=(e,t)=>{var o,n;const{dom:r}=e,a=nc(e),s=null!==(n=null===(o=/[a-z%]+$/i.exec(a))||void 0===o?void 0:o[0])&&void 0!==n?n:"px",i=HC(a),l=oc(e);q(UC(e),(e=>{((e,t,o,n,r,a)=>{const s=FC(o,yo.fromDom(a)),i=HC(e.getStyle(a,s));if("outdent"===t){const t=Math.max(0,i-n);e.setStyle(a,s,t?t+r:"")}else{const t=i+n+r;e.setStyle(a,s,t)}})(r,t,l,i,s,e.dom)}))},ZC=e=>WC(e,"outdent"),$C=e=>{if(e.selection.isCollapsed()&&VC(e)){const t=e.dom,o=e.selection.getRng(),n=Ui.fromRangeStart(o),r=t.getParent(o.startContainer,t.isBlock);if(null!==r&&Kg(yo.fromDom(r),n))return H.some((()=>ZC(e)))}return H.none()},qC=(e,t,o)=>pe([$C,Kx,Hx,(e,o)=>kC(e,t,o),Ax,Ey,Xx,BC,zx,RC],(t=>t(e,o))).filter((t=>e.selection.isEditable())),YC=(e,t)=>{qC(e,t,!0).fold((()=>(e=>Zf(e,"ForwardDelete"))(e)),L)},GC=(e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{qC(e,t,!1).fold((()=>{$f(e),Gf(e)}),L)})(e,t)})),e.addCommand("forwardDelete",(()=>{YC(e,t)}))},KC=e=>void 0===e.touches||1!==e.touches.length?H.none():H.some(e.touches[0]),XC=e=>{const t=Zs(),o=Bs(!1),n=qs((t=>{e.dispatch("longpress",{...t,type:"longpress"}),o.set(!0)}),400);e.on("touchstart",(e=>{KC(e).each((r=>{n.cancel();const a={x:r.clientX,y:r.clientY,target:e.target};n.throttle(e),o.set(!1),t.set(a)}))}),!0),e.on("touchmove",(r=>{n.cancel(),KC(r).each((n=>{t.on((r=>{((e,t)=>{const o=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return o>5||n>5})(n,r)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(r=>{n.cancel(),"touchcancel"!==r.type&&t.get().filter((e=>e.target.isEqualNode(r.target))).each((()=>{o.get()?r.preventDefault():e.dispatch("tap",{...r,type:"tap"})}))}),!0)},QC=(e,t)=>Ce(e,t.nodeName),JC=(e,t)=>!!Xn(t)||!!jn(t)&&(!QC(e.getBlockElements(),t)&&!Uu(t)&&!Ta(e,t)),eE=(e,t)=>{if(Xn(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||QC(e,t.nextSibling)))return!0}return!1},tE=e=>e.dom.create(Ll(e),Pl(e)),oE=e=>{const t=e.dom,o=e.selection,n=e.schema,r=n.getBlockElements(),a=o.getStart(),s=e.getBody();let i,l,c=!1;const d=Ll(e);if(!a||!jn(a))return;const u=s.nodeName.toLowerCase();if(!n.isValidChild(u,d.toLowerCase())||((e,t,o)=>Z(Wg(yo.fromDom(o),yo.fromDom(t)),(t=>QC(e,t.dom))))(r,s,a))return;const h=o.getRng(),{startContainer:p,startOffset:m,endContainer:g,endOffset:f}=h,y=Zm(e);let b=s.firstChild;for(;b;)if(jn(b)&&Ca(n,b),JC(n,b)){if(eE(r,b)){l=b,b=b.nextSibling,t.remove(l);continue}i||(i=tE(e),s.insertBefore(i,b),c=!0),l=b,b=b.nextSibling,i.appendChild(l)}else i=null,b=b.nextSibling;c&&y&&(h.setStart(p,m),h.setEnd(g,f),o.setRng(h),e.nodeChanged())},nE=(e,t,o)=>{const n=yo.fromDom(tE(e)),r=Mr();gn(n,r),o(t,n);const a=document.createRange();return a.setStartBefore(r.dom),a.setEndBefore(r.dom),a},rE=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),aE=(e,t,o)=>function(n){const r=arguments,a=r[r.length-2],s=a>0?t.charAt(a-1):"";if('"'===s)return n;if(">"===s){const e=t.lastIndexOf("<",a);if(-1!==e){if(-1!==t.substring(e,a).indexOf('contenteditable="false"'))return n}}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"==typeof r[1]?r[1]:r[0])+"</span>"},sE=e=>{const t="contenteditable",o=" "+Nt.trim(sd(e))+" ",n=" "+Nt.trim(ad(e))+" ",r=rE(o),a=rE(n),s=id(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,o)=>{let n=t.length,r=o.content;if("raw"!==o.format){for(;n--;)r=r.replace(t[n],aE(e,r,ad(e)));o.content=r}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let o=e.length;for(;o--;){const n=e[o];r(n)?n.attr(t,"true"):a(n)&&n.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let o=e.length;for(;o--;){const n=e[o];(r(n)||a(n))&&(s.length>0&&n.attr("data-mce-content")?(n.name="#text",n.type=3,n.raw=!0,n.value=n.attr("data-mce-content")):n.attr(t,null))}}))},iE=(e,t)=>{t.hasAttribute("data-mce-caret")&&(qr(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},lE=(e,t)=>{const o=(e=>Qo(yo.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(o)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void iE(e,o)):void(jr(o)&&(iE(e,o),e.undoManager.add()))},cE=sr,dE=(e,t,o)=>{const n=gu(e.getBody()),r=z(ou,1===t?n.next:n.prev);if(o.collapsed){const n=e.dom.getParent(o.startContainer,"PRE");if(!n)return;if(!r(Ui.fromRangeStart(o))){const o=yo.fromDom((e=>{const t=e.dom.create(Ll(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?pn(yo.fromDom(n),o):hn(yo.fromDom(n),o),e.selection.select(o.dom,!0),e.selection.collapse()}}},uE=(e,t)=>{const o=t?ru.Forwards:ru.Backwards,n=e.selection.getRng();return((e,t,o)=>rC(t,e,o,jg,Ug,cE))(o,e,n).orThunk((()=>(dE(e,o,n),H.none())))},hE=(e,t)=>{const o=t?1:-1,n=e.selection.getRng();return((e,t,o)=>aC(t,e,o,(e=>jg(e)||Fg(e)),(e=>Ug(e)||Vg(e)),cE))(o,e,n).orThunk((()=>(dE(e,o,n),H.none())))},pE=(e,t)=>uE(e,t).exists((t=>(oC(e,t),!0))),mE=(e,t)=>hE(e,t).exists((t=>(oC(e,t),!0))),gE=(e,t)=>iC(e,t,t?Ug:jg),fE=(e,t)=>Fx(e,!t).map((o=>{const n=o.toRange(),r=e.selection.getRng();return t?n.setStart(r.startContainer,r.startOffset):n.setEnd(r.endContainer,r.endOffset),n})).exists((t=>(oC(e,t),!0))),yE=e=>W(["figcaption"],Ut(e)),bE=(e,t,o)=>t?((e,t)=>BS(e,t).breakAt.isNone())(e.dom,o):((e,t)=>PS(e,t).breakAt.isNone())(e.dom,o),vE=(e,t)=>{const o=yo.fromDom(e.getBody()),n=Ui.fromRangeStart(e.selection.getRng());return((e,t)=>{const o=z(wo,t);return Go(yo.fromDom(e.container()),vr,o).filter(yE)})(n,o).exists((()=>{if(bE(o,t,n)){const n=nE(e,o,t?gn:mn);return e.selection.setRng(n),!0}return!1}))},_E=(e,t)=>!!e.selection.isCollapsed()&&vE(e,t),wE={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},kE=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,xE=(e,t)=>ne((e=>$(e,(e=>({...wE,...e}))))(e),(e=>kE(e,t)?[e]:[])),SE=(e,t)=>ne((e=>$(e,(e=>({...wE,...e}))))(e),(e=>kE(e,t)?[e]:[])),CE=(e,...t)=>()=>e.apply(null,t),EE=(e,t)=>ee(xE(e,t),(e=>e.action())),DE=(e,t)=>pe(SE(e,t),(e=>e.action())),AE=(e,t)=>{const o=t?ru.Forwards:ru.Backwards,n=e.selection.getRng();return rC(e,o,n,Bg,Hg,cr).exists((t=>(oC(e,t),!0)))},TE=(e,t)=>{const o=t?1:-1,n=e.selection.getRng();return aC(e,o,n,Bg,Hg,cr).exists((t=>(oC(e,t),!0)))},OE=(e,t)=>iC(e,t,t?Hg:Bg),ME=gl([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),zE={...ME,none:e=>ME.none(e)},RE=(e,t,o)=>ne(Ro(e),(e=>vo(e,t)?o(e)?[e]:[]:RE(e,t,o))),NE=(e,t)=>((e,t,o=P)=>o(t)?H.none():W(e,Ut(t))?H.some(t):Xo(t,e.join(","),(e=>vo(e,"table")||o(e))))(["td","th"],e,t),IE=e=>RE(e,"th,td",B),LE=(e,t)=>Jo(e,"table",t),PE=(e,t,o,n,r=B)=>{const a=1===n;if(!a&&o<=0)return zE.first(e[0]);if(a&&o>=e.length-1)return zE.last(e[e.length-1]);{const a=o+n,s=e[a];return r(s)?zE.middle(t,s):PE(e,t,a,n,r)}},BE=(e,t)=>LE(e,t).bind((t=>{const o=IE(t);return te(o,(t=>wo(e,t))).map((e=>({index:e,all:o})))})),HE=(e,t,o,n,r)=>{const a=Pn(yo.fromDom(o),"td,th,caption").map((e=>e.dom)),s=K(((e,t)=>ne(t,(t=>{const o=((e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}))(gi(t.getBoundingClientRect()),-1);return[{x:o.left,y:e(o),cell:t},{x:o.right,y:e(o),cell:t}]})))(e,a),(e=>t(e,r)));return((e,t,o)=>Q(e,((e,n)=>e.fold((()=>H.some(n)),(e=>{const r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-o)),a=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-o));return H.some(a<r?n:e)}))),H.none()))(s,n,r).map((e=>e.cell))},FE=z(HE,(e=>e.bottom),((e,t)=>e.y<t)),VE=z(HE,(e=>e.top),((e,t)=>e.y>t)),jE=(e,t)=>de(t.getClientRects()).bind((t=>FE(e,t.left,t.top))).bind((e=>{return LS(Du(o=e).map((e=>PS(o,e).positions.concat(e))).getOr([]),t);var o})),UE=(e,t)=>ue(t.getClientRects()).bind((t=>VE(e,t.left,t.top))).bind((e=>{return LS(Eu(o=e).map((e=>[e].concat(BS(o,e).positions))).getOr([]),t);var o})),WE=(e,t,o)=>{const n=e(t,o);return(e=>e.breakType===TS.Wrap&&0===e.positions.length)(n)||!nr(o.getNode())&&(e=>e.breakType===TS.Br&&1===e.positions.length)(n)?!((e,t,o)=>o.breakAt.exists((o=>e(t,o).breakAt.isSome())))(e,t,n):n.breakAt.isNone()},ZE=z(WE,PS),$E=z(WE,BS),qE=(e,t,o,n)=>{const r=e.selection.getRng(),a=t?1:-1;return!(!Ad()||!((e,t,o)=>{const n=Ui.fromRangeStart(t);return xu(!e,o).exists((e=>e.isEqual(n)))})(t,r,o))&&(Rx(a,e,o,!t,!1).each((t=>{oC(e,t)})),!0)},YE=(e,t)=>{const o=t.getNode(e);return Yn(o)?H.some(o):H.none()},GE=(e,t,o)=>{const n=YE(!!t,o),r=!1===t;n.fold((()=>oC(e,o.toRange())),(n=>xu(r,e.getBody()).filter((e=>e.isEqual(o))).fold((()=>oC(e,o.toRange())),(o=>((e,t,o)=>{t.undoManager.transact((()=>{const n=e?pn:hn,r=nE(t,yo.fromDom(o),n);oC(t,r)}))})(t,e,n)))))},KE=(e,t,o,n)=>{const r=e.selection.getRng(),a=Ui.fromRangeStart(r),s=e.getBody();if(!t&&ZE(n,a)){const n=((e,t,o)=>jE(t,o).orThunk((()=>de(o.getClientRects()).bind((o=>IS(HS(e,Ui.before(t)),o.left))))).getOr(Ui.before(t)))(s,o,a);return GE(e,t,n),!0}if(t&&$E(n,a)){const n=((e,t,o)=>UE(t,o).orThunk((()=>de(o.getClientRects()).bind((o=>IS(FS(e,Ui.after(t)),o.left))))).getOr(Ui.after(t)))(s,o,a);return GE(e,t,n),!0}return!1},XE=(e,t,o)=>H.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((n=>H.from(e.dom.getParent(n,"table")).map((r=>o(e,t,r,n))))).getOr(!1),QE=(e,t)=>XE(e,t,qE),JE=(e,t)=>XE(e,t,KE),eD=(e,t,o)=>o.fold(H.none,H.none,((e,t)=>ng(t).map((e=>(e=>{const t=zp.exact(e,0,e,0);return Pp(t)})(e)))),(o=>(e.execCommand("mceTableInsertRowAfter"),tD(e,t,o)))),tD=(e,t,o)=>eD(e,t,((e,t,o)=>BE(e,o).fold((()=>zE.none(e)),(o=>PE(o.all,e,o.index,1,t))))(o,en)),oD=(e,t,o)=>eD(e,t,((e,t,o)=>BE(e,o).fold((()=>zE.none()),(o=>PE(o.all,e,o.index,-1,t))))(o,en)),nD=(e,t)=>{const o=["table","li","dl"],n=yo.fromDom(e.getBody()),r=e=>{const t=Ut(e);return wo(e,n)||W(o,t)},a=e.selection.getRng(),s=yo.fromDom(t?a.endContainer:a.startContainer);return NE(s,r).map((o=>{LE(o,r).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t);return(t?tD:oD)(e,r,o).each((t=>{e.selection.setRng(t)})),!0})).getOr(!1)},rD=(e,t)=>{e.on("keydown",(o=>{o.isDefaultPrevented()||((e,t,o)=>{const n=Ot.os.isMacOS()||Ot.os.isiOS();EE([{keyCode:mp.RIGHT,action:CE(pE,e,!0)},{keyCode:mp.LEFT,action:CE(pE,e,!1)},{keyCode:mp.UP,action:CE(mE,e,!1)},{keyCode:mp.DOWN,action:CE(mE,e,!0)},...n?[{keyCode:mp.UP,action:CE(fE,e,!1),metaKey:!0,shiftKey:!0},{keyCode:mp.DOWN,action:CE(fE,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:mp.RIGHT,action:CE(QE,e,!0)},{keyCode:mp.LEFT,action:CE(QE,e,!1)},{keyCode:mp.UP,action:CE(JE,e,!1)},{keyCode:mp.DOWN,action:CE(JE,e,!0)},{keyCode:mp.RIGHT,action:CE(AE,e,!0)},{keyCode:mp.LEFT,action:CE(AE,e,!1)},{keyCode:mp.UP,action:CE(TE,e,!1)},{keyCode:mp.DOWN,action:CE(TE,e,!0)},{keyCode:mp.RIGHT,action:CE(pC,e,t,!0)},{keyCode:mp.LEFT,action:CE(pC,e,t,!1)},{keyCode:mp.RIGHT,ctrlKey:!n,altKey:n,action:CE(fC,e,t)},{keyCode:mp.LEFT,ctrlKey:!n,altKey:n,action:CE(yC,e,t)},{keyCode:mp.UP,action:CE(_E,e,!1)},{keyCode:mp.DOWN,action:CE(_E,e,!0)}],o).each((e=>{o.preventDefault()}))})(e,t,o)}))},aD=(e,t)=>({container:e,offset:t}),sD=Is.DOM,iD=e=>t=>e===t?-1:0,lD=(e,t,o)=>{if(Xn(e)&&t>=0)return H.some(aD(e,t));{const n=pi(sD);return H.from(n.backwards(e,t,iD(e),o)).map((e=>aD(e.container,e.container.data.length)))}},cD=(e,t,o)=>{if(!Xn(e))return H.none();const n=e.data;if(t>=0&&t<=n.length)return H.some(aD(e,t));{const n=pi(sD);return H.from(n.backwards(e,t,iD(e),o)).bind((e=>{const n=e.container.data;return cD(e.container,t+n.length,o)}))}},dD=(e,t,o)=>{if(!Xn(e))return H.none();const n=e.data;if(t<=n.length)return H.some(aD(e,t));{const r=pi(sD);return H.from(r.forwards(e,t,iD(e),o)).bind((e=>dD(e.container,t-n.length,o)))}},uD=(e,t,o,n,r)=>{const a=pi(e,(e=>t=>e.isBlock(t)||W(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return H.from(a.backwards(t,o,n,r))},hD=e=>Lr(e.toString().replace(/\u00A0/g," ")),pD=e=>""!==e&&-1!=="  \f\n\r\t\v".indexOf(e),mD=(e,t)=>e.substring(t.length),gD=(e,t,o,n=0)=>{if(!(r=t).collapsed||!Xn(r.startContainer))return H.none();var r;const a={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return uD(e,t.startContainer,t.startOffset,((e,t,n)=>(a.text=n+a.text,a.offset+=t,((e,t,o)=>{let n;const r=o.charAt(0);for(n=t-1;n>=0;n--){const a=e.charAt(n);if(pD(a))return H.none();if(r===a&&Ue(e,o,n,t))break}return H.some(n)})(a.text,a.offset,o).getOr(t))),s).bind((e=>{const r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return H.none();const a=hD(r);return 0!==a.lastIndexOf(o)||mD(a,o).length<n?H.none():H.some({text:mD(a,o),range:r,trigger:o})}))},fD=(e,t,o,n=0)=>{return(r=yo.fromDom(t.startContainer),Jo(r,ag)).fold((()=>gD(e,t,o,n)),(t=>{const n=e.createRng();n.selectNode(t.dom);const r=hD(n);return H.some({range:n,text:mD(r,o),trigger:o})}));var r},yD=e=>{if((e=>3===e.nodeType)(e))return aD(e,e.data.length);{const t=e.childNodes;return t.length>0?yD(t[t.length-1]):aD(e,t.length)}},bD=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?bD(o[t],0):o.length>0&&(e=>1===e.nodeType)(e)&&o.length===t?yD(o[o.length-1]):aD(e,t)},vD=e=>t=>{const o=bD(t.startContainer,t.startOffset);return!((e,t)=>{var o;const n=null!==(o=e.getParent(t.container,e.isBlock))&&void 0!==o?o:e.getRoot();return uD(e,t.container,t.offset,((e,t)=>0===t?-1:t),n).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!pD(t)})).isSome()})(e,o)},_D=(e,t)=>{const o=t(),n=e.selection.getRng();return((e,t,o)=>pe(o.triggers,(o=>fD(e,t,o))))(e.dom,n,o).bind((o=>wD(e,t,o)))},wD=(e,t,o,n={})=>{var r;const a=t(),s=null!==(r=e.selection.getRng().startContainer.nodeValue)&&void 0!==r?r:"",i=K(a.lookupByTrigger(o.trigger),(t=>o.text.length>=t.minChars&&t.matches.getOrThunk((()=>vD(e.dom)))(o.range,s,o.text)));if(0===i.length)return H.none();const l=Promise.all($(i,(e=>e.fetch(o.text,e.maxResults,n).then((t=>({matchText:o.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return H.some({lookupData:l,context:o})};var kD;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(kD||(kD={}));const xD=(e,t,o)=>e.stype===kD.Error?t(e.serror):o(e.svalue),SD=e=>({stype:kD.Value,svalue:e}),CD=e=>({stype:kD.Error,serror:e}),ED=e=>xD(e,ml.error,ml.value),DD=SD,AD=e=>{const t=[],o=[];return q(e,(e=>{xD(e,(e=>o.push(e)),(e=>t.push(e)))})),{values:t,errors:o}},TD=CD,OD=(e,t)=>e.stype===kD.Error?t(e.serror):e,MD=(e,t)=>e.stype===kD.Value?{stype:kD.Value,svalue:t(e.svalue)}:e,zD=(e,t)=>e.stype===kD.Error?{stype:kD.Error,serror:t(e.serror)}:e,RD=xD,ND=e=>g(e)&&me(e).length>100?" removed due to size":JSON.stringify(e,null,2),ID=(e,t)=>TD([{path:e,getErrorInfo:t}]),LD=(e,t,o,n)=>Se(o,n).fold((()=>((e,t,o)=>ID(e,(()=>'The chosen schema: "'+o+'" did not exist in branches: '+ND(t))))(e,o,n)),(o=>o.extract(e.concat(["branch: "+n]),t))),PD=(e,t)=>({extract:(o,n)=>Se(n,e).fold((()=>((e,t)=>ID(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(o,e)),(e=>LD(o,n,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+me(t)}),BD=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const o={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)Ce(r,t)&&(o[t]=e(o[t],r[t]))}return o},HD=BD(((e,t)=>f(e)&&f(t)?HD(e,t):t)),FD=(BD(((e,t)=>t)),e=>({tag:"defaultedThunk",process:T(e)})),VD=e=>D(TD,oe)(e),jD=e=>{const t=AD(e);return t.errors.length>0?VD(t.errors):DD(t.values)},UD=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},WD=e=>({extract:(t,o)=>OD(e(o),(e=>((e,t)=>ID(e,T(t)))(t,e))),toString:T("val")}),ZD=WD(DD),$D=(e,t,o,n)=>Se(t,o).fold((()=>((e,t,o)=>ID(e,(()=>'Could not find valid *required* value for "'+t+'" in '+ND(o))))(e,o,t)),n),qD=(e,t,o,n)=>n(Se(e,t).getOrThunk((()=>o(e)))),YD=(e,t,o,n,r)=>{const a=e=>r.extract(t.concat([n]),e),s=e=>e.fold((()=>DD(H.none())),(e=>{const o=r.extract(t.concat([n]),e);return MD(o,H.some)}));switch(e.tag){case"required":return $D(t,o,n,a);case"defaultedThunk":return qD(o,n,e.process,a);case"option":return((e,t,o)=>o(Se(e,t)))(o,n,s);case"defaultedOptionThunk":return((e,t,o,n)=>n(Se(e,t).map((t=>!0===t?o(e):t))))(o,n,e.process,s);case"mergeWithThunk":return qD(o,n,T({}),(t=>{const n=HD(e.process(o),t);return a(n)}))}},GD=e=>({extract:(t,o)=>((e,t,o)=>{const n={},r=[];for(const a of o)UD(a,((o,a,s,i)=>{const l=YD(s,e,t,o,i);RD(l,(e=>{r.push(...e)}),(e=>{n[a]=e}))}),((e,o)=>{n[e]=o(t)}));return r.length>0?TD(r):DD(n)})(t,o,e),toString:()=>{const t=$(e,(e=>UD(e,((e,t,o,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),KD=e=>({extract:(t,o)=>{const n=$(o,((o,n)=>e.extract(t.concat(["["+n+"]"]),o)));return jD(n)},toString:()=>"array("+e.toString()+")"}),XD=(e,t,o)=>ED(((e,t,o)=>{const n=t.extract([e],o);return zD(n,(e=>({input:o,errors:e})))})(e,t,o)),QD=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:T("... (only showing first ten failures)")}]):e;return $(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+ND(e.input),JD=(e,t)=>PD(e,ye(t,GD)),eA=T(ZD),tA=(e,t)=>WD((o=>{const n=typeof o;return e(o)?DD(o):TD(`Expected type: ${t} but got: ${n}`)})),oA=tA(S,"number"),nA=tA(m,"string"),rA=tA(v,"boolean"),aA=tA(x,"function"),sA=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n}),iA=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),lA=e=>{return t=t=>W(e,t)?ml.value(t):ml.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),WD((e=>t(e).fold(TD,DD)));var t},cA=(e,t)=>sA(e,e,{tag:"required",process:{}},t),dA=e=>cA(e,nA),uA=e=>cA(e,aA),hA=(e,t)=>sA(e,e,{tag:"option",process:{}},t),pA=e=>hA(e,nA),mA=(e,t,o)=>sA(e,e,FD(t),o),gA=(e,t)=>mA(e,t,oA),fA=(e,t,o)=>mA(e,t,lA(o)),yA=(e,t)=>mA(e,t,rA),bA=(e,t)=>mA(e,t,aA),vA=dA("type"),_A=uA("fetch"),wA=uA("onAction"),kA=bA("onSetup",(()=>E)),xA=pA("text"),SA=pA("icon"),CA=pA("tooltip"),EA=pA("label"),DA=yA("active",!1),AA=yA("enabled",!0),TA=yA("primary",!1),OA=e=>((e,t)=>mA(e,t,nA))("type",e),MA=GD([vA,dA("trigger"),gA("minChars",1),(RA=1,((e,t)=>sA(e,e,FD(t),eA()))("columns",RA)),gA("maxResults",10),(zA="matches",hA(zA,aA)),_A,wA,((e,t,o)=>mA(e,t,KD(o)))("highlightOn",[],nA)]);var zA,RA;const NA=[AA,CA,SA,xA,kA],IA=[DA].concat(NA),LA=[bA("predicate",P),fA("scope","node",["node","editor"]),fA("position","selection",["node","selection","line"])],PA=NA.concat([OA("contextformbutton"),TA,wA,iA("original",O)]),BA=IA.concat([OA("contextformbutton"),TA,wA,iA("original",O)]),HA=NA.concat([OA("contextformbutton")]),FA=IA.concat([OA("contextformtogglebutton")]),VA=JD("type",{contextformbutton:PA,contextformtogglebutton:BA});GD([OA("contextform"),bA("initValue",T("")),EA,((e,t)=>sA(e,e,{tag:"required",process:{}},KD(t)))("commands",VA),hA("launch",JD("type",{contextformbutton:HA,contextformtogglebutton:FA}))].concat(LA));const jA=e=>{const t=e.ui.registry.getAll().popups,o=ye(t,(e=>{return(t=e,XD("Autocompleter",MA,{trigger:t.ch,...t})).fold((e=>{throw new Error(QD(e))}),O);var t})),n=De(ke(o,(e=>e.trigger))),r=xe(o);return{dataset:o,triggers:n,lookupByTrigger:e=>K(r,(t=>t.trigger===e))}},UA=e=>{const t=Zs(),o=Bs(!1),n=t.isSet,r=()=>{n()&&((e=>{Uw(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),o.set(!1),t.clear())},a=o=>{n()||(((e,t)=>{Uw(e).autocompleter.addDecoration(t)})(e,o.range),t.set({trigger:o.trigger,matchLength:o.text.length}))},s=Le((()=>jA(e))),i=n=>{(o=>t.get().map((t=>fD(e.dom,e.selection.getRng(),t.trigger).bind((t=>wD(e,s,t,o))))).getOrThunk((()=>_D(e,s))))(n).fold(r,(n=>{a(n.context),n.lookupData.then((a=>{t.get().map((s=>{const i=n.context;s.trigger===i.trigger&&(i.text.length-s.matchLength>=10?r():(t.set({...s,matchLength:i.text.length}),o.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:a}):(o.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:a}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const o=g(t)?t.fetchOptions:{};i(o)})),e.addCommand("mceAutocompleterClose",r),((e,t)=>{const o=qs(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&o.throttle()})),e.on("keydown",(e=>{const n=e.which;8===n?o.throttle():27===n&&t.cancelIfNecessary()})),e.on("remove",o.cancel)})(e,{cancelIfNecessary:r,load:i})},WA=e=>(t,o,n={})=>{const r=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:E,inputType:o},s=bs(new InputEvent(e));return t.dispatch(e,{...s,...a,...n})},ZA=WA("input"),$A=WA("beforeinput"),qA=(e,t)=>{let o=!1;e.on("keydown",(n=>{o=n.keyCode===mp.BACKSPACE,n.isDefaultPrevented()||((e,t,o)=>{const n=o.keyCode===mp.BACKSPACE?"deleteContentBackward":"deleteContentForward";DE([{keyCode:mp.BACKSPACE,action:CE($C,e)},{keyCode:mp.BACKSPACE,action:CE(Kx,e,!1)},{keyCode:mp.DELETE,action:CE(Kx,e,!0)},{keyCode:mp.BACKSPACE,action:CE(Hx,e,!1)},{keyCode:mp.DELETE,action:CE(Hx,e,!0)},{keyCode:mp.BACKSPACE,action:CE(kC,e,t,!1)},{keyCode:mp.DELETE,action:CE(kC,e,t,!0)},{keyCode:mp.BACKSPACE,action:CE(Ey,e,!1)},{keyCode:mp.DELETE,action:CE(Ey,e,!0)},{keyCode:mp.BACKSPACE,action:CE(Xx,e,!1)},{keyCode:mp.DELETE,action:CE(Xx,e,!0)},{keyCode:mp.BACKSPACE,action:CE(BC,e,!1)},{keyCode:mp.DELETE,action:CE(BC,e,!0)},{keyCode:mp.BACKSPACE,action:CE(zx,e,!1)},{keyCode:mp.DELETE,action:CE(zx,e,!0)},{keyCode:mp.BACKSPACE,action:CE(Ax,e,!1)},{keyCode:mp.DELETE,action:CE(Ax,e,!0)},{keyCode:mp.BACKSPACE,action:CE(RC,e,!1)},{keyCode:mp.DELETE,action:CE(RC,e,!0)}],o).filter((t=>e.selection.isEditable())).each((t=>{o.preventDefault(),$A(e,n).isDefaultPrevented()||(t(),ZA(e,n))}))})(e,t,n)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,o)=>{const n=xt(),r=n.os,a=n.browser,s=r.isMacOS()?[{keyCode:mp.BACKSPACE,altKey:!0,action:CE(LC,e)},{keyCode:mp.DELETE,altKey:!0,action:CE(LC,e)}]:[{keyCode:mp.BACKSPACE,ctrlKey:!0,action:CE(LC,e)},{keyCode:mp.DELETE,ctrlKey:!0,action:CE(LC,e)}];r.isMacOS()&&o&&s.push({keyCode:a.isFirefox()?224:91,action:CE(LC,e)}),EE([{keyCode:mp.BACKSPACE,action:CE(Gx,e)},{keyCode:mp.DELETE,action:CE(Gx,e)},...s],t)})(e,t,o),o=!1}))},YA=(e,t)=>{const o=e.dom,n=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(jn(e)||Xn(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(o.doc.createTextNode(hr),t.firstChild)}const r=o.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Hn(t,t);let o,a=t;for(;o=e.current();){if(Xn(o)){r.setStart(o,0),r.setEnd(o,0);break}if(n[o.nodeName.toLowerCase()]){r.setStartBefore(o),r.setEndBefore(o);break}a=o,o=e.next()}o||(r.setStart(a,0),r.setEnd(a,0))}else nr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),bm(e,r)},GA=(e,t)=>{const o=e.getRoot();let n,r=t;for(;r!==o&&r&&"false"!==e.getContentEditable(r);)"true"===e.getContentEditable(r)&&(n=r),r=r.parentNode;return r!==o?n:o},KA=e=>H.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),XA=(e,t)=>{const o=null==e?void 0:e.parentNode;return k(o)&&o.nodeName===t},QA=e=>k(e)&&/^(OL|UL|LI)$/.test(e.nodeName),JA=e=>{const t=e.parentNode;return k(o=t)&&/^(LI|DT|DD)$/.test(o.nodeName)?t:e;var o},eT=(e,t,o)=>{let n=e[o?"firstChild":"lastChild"];for(;n&&!jn(n);)n=n[o?"nextSibling":"previousSibling"];return n===t},tT=(e,t,o,n,r)=>{const a=e.dom,s=e.selection.getRng(),i=o.parentNode;if(o===e.getBody()||!i)return;var l;QA(l=o)&&QA(l.parentNode)&&(r="LI");let c=t(r);if(eT(o,n,!0)&&eT(o,n,!1))if(XA(o,"LI")){const e=JA(o);a.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(o)?a.remove(e):a.remove(o)}else a.replace(c,o);else if(eT(o,n,!0))XA(o,"LI")?(a.insertAfter(c,JA(o)),c.appendChild(a.doc.createTextNode(" ")),c.appendChild(o)):i.insertBefore(c,o),a.remove(n);else if(eT(o,n,!1))a.insertAfter(c,JA(o)),a.remove(n);else{o=JA(o);const e=s.cloneRange();e.setStartAfter(n),e.setEndAfter(o);const t=e.extractContents();"LI"===r&&((e,t)=>e.firstChild&&e.firstChild.nodeName===t)(t,"LI")?(c=t.firstChild,a.insertAfter(t,o)):(a.insertAfter(t,o),a.insertAfter(c,o)),a.remove(n)}YA(e,c)},oT=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),nT=e=>{e.innerHTML='<br data-mce-bogus="1">'},rT=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,aT=(e,t)=>k(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),sT=(e,t,o)=>Xn(t)?e?1===o&&t.data.charAt(o-1)===Nr?0:o:o===t.data.length-1&&t.data.charAt(o)===Nr?t.data.length:o:o,iT=(e,t)=>{if(Ll(e).toLowerCase()===t.tagName.toLowerCase()){((e,t,o)=>{const n=e.dom;H.from(o.style).map(n.parseStyle).each((e=>{const o={...dn(yo.fromDom(t)),...e};n.setStyles(t,o)}));const r=H.from(o.class).map((e=>e.split(/\s+/))),a=H.from(t.className).map((e=>K(e.split(/\s+/),(e=>""!==e))));Lt(r,a,((e,o)=>{const r=K(o,(t=>!W(e,t))),a=[...e,...r];n.setAttrib(t,"class",a.join(" "))}));const s=["style","class"],i=we(o,((e,t)=>!W(s,t)));n.setAttribs(t,i)})(e,t,Pl(e))}},lT={insert:(e,t)=>{let o,n,r,a,s=!1;const i=e.dom,l=e.schema,c=l.getNonEmptyElements(),d=e.selection.getRng(),u=Ll(e),h=t=>{let n=o;const a=l.getTextInlineElements();let s;s=t||"TABLE"===r||"HR"===r?i.create(t||u):v.cloneNode(!1);let c=s;if(!1===Vl(e))i.setAttrib(s,"style",null),i.setAttrib(s,"class",null);else do{if(a[n.nodeName]){if(Tu(n)||Uu(n))continue;const e=n.cloneNode(!1);i.setAttrib(e,"id",""),s.hasChildNodes()?(e.appendChild(s.firstChild),s.appendChild(e)):(c=e,s.appendChild(e))}}while((n=n.parentNode)&&n!==b);return iT(e,s),nT(c),s},p=e=>{const t=sT(e,o,n);if(Xn(o)&&(e?t>0:t<o.data.length))return!1;if(o.parentNode===v&&s&&!e)return!0;if(e&&jn(o)&&o===v.firstChild)return!0;if(rT(o,"TABLE")||rT(o,"HR"))return s&&!e||!s&&e;const r=new Hn(o,v);let a;for(Xn(o)&&(e&&0===t?r.prev():e||t!==o.data.length||r.next());a=r.current();){if(jn(a)){if(!a.getAttribute("data-mce-bogus")){const e=a.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(Xn(a)&&!ia(a.data))return!1;e?r.prev():r.next()}return!0},g=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(r)&&"HGROUP"!==_?h(u):h(),((e,t)=>{const o=jl(e);return!w(t)&&(m(o)?W(Nt.explode(o),t.nodeName.toLowerCase()):o)})(e,a)&&aT(i,a)&&i.isEmpty(v)?t=i.split(a,v):i.insertAfter(t,v),YA(e,t),t};qp(i,d).each((e=>{d.setStart(e.startContainer,e.startOffset),d.setEnd(e.endContainer,e.endOffset)})),o=d.startContainer,n=d.startOffset;const f=!(!t||!t.shiftKey),y=!(!t||!t.ctrlKey);jn(o)&&o.hasChildNodes()&&(s=n>o.childNodes.length-1,o=o.childNodes[Math.min(n,o.childNodes.length-1)]||o,n=s&&Xn(o)?o.data.length:0);const b=GA(i,o);if(!b||((e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return null!==o&&"false"===e.dom.getContentEditableParent(o)})(e,o))return;f||(o=((e,t,o,n,r)=>{var a,s;const i=e.dom,l=null!==(a=GA(i,n))&&void 0!==a?a:i.getRoot();let c=i.getParent(n,i.isBlock);if(!c||!aT(i,c)){if(c=c||l,!c.hasChildNodes()){const n=i.create(t);return iT(e,n),c.appendChild(n),o.setStart(n,0),o.setEnd(n,0),n}let a,d=n;for(;d&&d.parentNode!==c;)d=d.parentNode;for(;d&&!i.isBlock(d);)a=d,d=d.previousSibling;const u=null===(s=null==a?void 0:a.parentElement)||void 0===s?void 0:s.nodeName;if(a&&u&&e.schema.isValidChild(u,t.toLowerCase())){const s=a.parentNode,l=i.create(t);for(iT(e,l),s.insertBefore(l,a),d=a;d&&!i.isBlock(d);){const e=d.nextSibling;l.appendChild(d),d=e}o.setStart(n,r),o.setEnd(n,r)}}return n})(e,u,d,o,n));let v=i.getParent(o,i.isBlock)||i.getRoot();a=k(null==v?void 0:v.parentNode)?i.getParent(v.parentNode,i.isBlock):null,r=v?v.nodeName.toUpperCase():"";const _=a?a.nodeName.toUpperCase():"";if("LI"===_&&!y){v=a,a=a.parentNode,r=_}if(/^(LI|DT|DD)$/.test(r)&&jn(a)&&i.isEmpty(v))return void tT(e,h,a,v,u);if(v===e.getBody()||!aT(i,v))return;const x=v.parentNode;let S;if(Hr(v))S=qr(v),i.isEmpty(v)&&nT(v),iT(e,S),YA(e,S);else if(p(!1))S=g();else if(p(!0)&&x)S=x.insertBefore(h(),v),YA(e,rT(v,"HR")?S:v);else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,sT(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,sT(!1,e.endContainer,e.endOffset)),t})(d).cloneRange();t.setEndAfter(v);const o=t.extractContents();(e=>{q(Ln(yo.fromDom(e),qt),(e=>{const t=e.dom;t.nodeValue=Lr(t.data)}))})(o),(e=>{let t=e;do{Xn(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(o),S=o.firstChild,i.insertAfter(o,v),((e,t,o)=>{var n;const r=[];if(!o)return;let a=o;for(;a=a.firstChild;){if(e.isBlock(a))return;jn(a)&&!t[a.nodeName.toLowerCase()]&&r.push(a)}let s=r.length;for(;s--;)a=r[s],(!a.hasChildNodes()||a.firstChild===a.lastChild&&""===(null===(n=a.firstChild)||void 0===n?void 0:n.nodeValue)||oT(e,a))&&e.remove(a)})(i,c,S),((e,t)=>{t.normalize();const o=t.lastChild;(!o||jn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")})(i,v),i.isEmpty(v)&&nT(v),S.normalize(),i.isEmpty(S)?(i.remove(S),g()):(iT(e,S),YA(e,S))}i.setAttrib(S,"id",""),e.dispatch("NewBlock",{newBlock:S})},fakeEventName:"insertParagraph"},cT=(e,t,o)=>{const n=e.dom.createRng();o?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),e.selection.setRng(n),bm(e,n)},dT=(e,t)=>{const o=e.selection,n=e.dom,r=o.getRng();let a,s=!1;qp(n,r).each((e=>{r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset)}));let i=r.startOffset,l=r.startContainer;if(jn(l)&&l.hasChildNodes()){const e=i>l.childNodes.length-1;l=l.childNodes[Math.min(i,l.childNodes.length-1)]||l,i=e&&Xn(l)?l.data.length:0}let c=n.getParent(l,n.isBlock);const d=c&&c.parentNode?n.getParent(c.parentNode,n.isBlock):null,u=d?d.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==u||h||(c=d),Xn(l)&&i>=l.data.length&&(((e,t,o)=>{const n=new Hn(t,o);let r;const a=e.getNonEmptyElements();for(;r=n.next();)if(a[r.nodeName.toLowerCase()]||Xn(r)&&r.length>0)return!0;return!1})(e.schema,l,c||n.getRoot())||(a=n.create("br"),r.insertNode(a),r.setStartAfter(a),r.setEndAfter(a),s=!0)),a=n.create("br"),Zi(n,r,a),cT(e,a,s),e.undoManager.add()},uT=(e,t)=>{const o=yo.fromTag("br");hn(yo.fromDom(t),o),e.undoManager.add()},hT=(e,t)=>{pT(e.getBody(),t)||pn(yo.fromDom(t),yo.fromTag("br"));const o=yo.fromTag("br");pn(yo.fromDom(t),o),cT(e,o.dom,!1),e.undoManager.add()},pT=(e,t)=>{return o=Ui.after(t),!!nr(o.getNode())||Su(e,Ui.after(t)).map((e=>nr(e.getNode()))).getOr(!1);var o},mT=e=>e&&"A"===e.nodeName&&"href"in e,gT=e=>e.fold(P,mT,mT,P),fT=(e,t)=>{t.fold(E,z(uT,e),z(hT,e),E)},yT={insert:(e,t)=>{const o=(e=>{const t=z(Hf,e),o=Ui.fromRangeStart(e.selection.getRng());return bS(t,e.getBody(),o).filter(gT)})(e);o.isSome()?o.each(z(fT,e)):dT(e,t)},fakeEventName:"insertLineBreak"},bT=(e,t)=>KA(e).filter((e=>t.length>0&&vo(yo.fromDom(e),t))).isSome(),vT=gl([{br:[]},{block:[]},{none:[]}]),_T=(e,t)=>(e=>bT(e,Fl(e)))(e),wT=e=>(t,o)=>(e=>KA(e).filter((e=>Sr(yo.fromDom(e)))).isSome())(t)===e,kT=(e,t)=>(o,n)=>{const r=(e=>KA(e).fold(T(""),(e=>e.nodeName.toUpperCase())))(o)===e.toUpperCase();return r===t},xT=e=>{const t=GA(e.dom,e.selection.getStart());return w(t)},ST=e=>kT("pre",e),CT=e=>(t,o)=>Il(t)===e,ET=(e,t)=>(e=>bT(e,Hl(e)))(e),DT=(e,t)=>t,AT=e=>{const t=Ll(e),o=GA(e.dom,e.selection.getStart());return k(o)&&e.schema.isValidChild(o.nodeName,t)},TT=(e,t)=>(o,n)=>Q(e,((e,t)=>e&&t(o,n)),!0)?H.some(t):H.none(),OT=(e,t,o)=>{if(t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),k(o)){if($A(t,e.fakeEventName).isDefaultPrevented())return}e.insert(t,o),k(o)&&ZA(t,e.fakeEventName)},MT=(e,t)=>{const o=()=>OT(yT,e,t),n=()=>OT(lT,e,t),r=((e,t)=>lS([TT([_T],vT.none()),TT([ST(!0),xT],vT.none()),TT([kT("summary",!0)],vT.br()),TT([ST(!0),CT(!1),DT],vT.br()),TT([ST(!0),CT(!1)],vT.block()),TT([ST(!0),CT(!0),DT],vT.block()),TT([ST(!0),CT(!0)],vT.br()),TT([wT(!0),DT],vT.br()),TT([wT(!0)],vT.block()),TT([ET],vT.br()),TT([DT],vT.br()),TT([AT],vT.block())],[e,!(!t||!t.shiftKey)]).getOr(vT.none()))(e,t);switch(Bl(e)){case"linebreak":r.fold(o,o,E);break;case"block":r.fold(n,n,E);break;case"invert":r.fold(n,o,E);break;default:r.fold(o,n,E)}},zT=e=>{e.on("keydown",(t=>{t.keyCode===mp.ENTER&&((e,t)=>{var o;t.isDefaultPrevented()||(t.preventDefault(),(o=e.undoManager).typing&&(o.typing=!1,o.add()),e.undoManager.transact((()=>{MT(e,t)})))})(e,t)}))},RT=(e,t)=>{e.on("keydown",(o=>{o.isDefaultPrevented()||((e,t,o)=>{const n=Ot.os.isMacOS()||Ot.os.isiOS();EE([{keyCode:mp.END,action:CE(gE,e,!0)},{keyCode:mp.HOME,action:CE(gE,e,!1)},...n?[]:[{keyCode:mp.HOME,action:CE(fE,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:mp.END,action:CE(fE,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:mp.END,action:CE(OE,e,!0)},{keyCode:mp.HOME,action:CE(OE,e,!1)},{keyCode:mp.END,action:CE(bC,e,!0,t)},{keyCode:mp.HOME,action:CE(bC,e,!1,t)}],o).each((e=>{o.preventDefault()}))})(e,t,o)}))},NT=e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=yo.fromDom(e.getBody());e.selection.isCollapsed()&&kf(t,Ui.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))},IT=xt(),LT=e=>e.stopImmediatePropagation(),PT=e=>e.keyCode===mp.PAGE_UP||e.keyCode===mp.PAGE_DOWN,BT=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",LT,!0):!o&&e.get()&&t.off("NodeChange",LT),e.set(o)},HT=(e,t)=>{if(IT.os.isMacOS())return;const o=Bs(!1);e.on("keydown",(t=>{PT(t)&&BT(o,e,!0)})),e.on("keyup",(n=>{n.isDefaultPrevented()||((e,t,o)=>{EE([{keyCode:mp.PAGE_UP,action:CE(bC,e,!1,t)},{keyCode:mp.PAGE_DOWN,action:CE(bC,e,!0,t)}],o)})(e,t,n),PT(n)&&o.get()&&(BT(o,e,!1),e.nodeChanged())}))},FT=(e,t)=>{const o=t.container(),n=t.offset();return Xn(o)?(o.insertData(n,e),H.some(Ui(o,n+e.length))):tu(t).map((o=>{const n=yo.fromText(e);return t.isAtEnd()?pn(o,n):hn(o,n),Ui(n.dom,e.length)}))},VT=z(FT,hr),jT=z(FT," "),UT=(e,t)=>o=>((e,t)=>!uf(t)&&(hf(e,t)||cf(e,t)||df(e,t)))(e,o)?VT(t):jT(t),WT=e=>{const t=Ui.fromRangeStart(e.selection.getRng()),o=yo.fromDom(e.getBody());if(e.selection.isCollapsed()){const n=z(Hf,e),r=Ui.fromRangeStart(e.selection.getRng());return bS(n,e.getBody(),r).bind((e=>t=>t.fold((t=>Cu(e.dom,Ui.before(t))),(e=>Eu(e)),(e=>Du(e)),(t=>Su(e.dom,Ui.after(t)))))(o)).map((n=>()=>UT(o,t)(n).each((e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0))(e))))}return H.none()},ZT=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{DE([{keyCode:mp.SPACEBAR,action:CE(WT,e)}],t).each((o=>{t.preventDefault(),$A(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),ZA(e,"insertText",{data:" "}))}))})(e,t)}))},$T=e=>hd(e)?[{keyCode:mp.TAB,action:CE(nD,e,!0)},{keyCode:mp.TAB,shiftKey:!0,action:CE(nD,e,!1)}]:[],qT=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{EE([...$T(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))},YT=e=>{if(e.addShortcut("Meta+P","","mcePrint"),UA(e),Fw(e))return Bs(null);{const t=gC(e);return(e=>{e.on("keyup compositionstart",z(lE,e))})(e),rD(e,t),qA(e,t),zT(e),ZT(e),NT(e),qT(e),RT(e,t),HT(e,t),t}};class GT{constructor(e){let t;this.lastPath=[],this.editor=e;const o=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(o=>{const n=e.selection.getRng(),r={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};"nodechange"!==o.type&&Fp(r,t)||e.dispatch("SelectionChange"),t=r})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&uh(e)&&!o.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&uh(e)&&("IMG"===e.selection.getNode().nodeName?zm.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let o;if(this.editor.initialized&&t&&!Oc(this.editor)&&!this.editor.mode.isReadOnly()){const n=this.editor.getBody();o=t.getStart(!0)||n,o.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(o,n)||(o=n);const r=[];this.editor.dom.getParent(o,(e=>e===n||(r.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:o,parents:r})}}isSameElementPath(e){let t;const o=this.editor,n=ae(o.dom.getParents(e,B,o.getBody()));if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1}}const KT="x-tinymce/html",XT=T(KT),QT="\x3c!-- "+KT+" --\x3e",JT=e=>QT+e,eO=e=>-1!==e.indexOf(QT),tO=(e,t,o)=>{const n=e.split(/\n\n/),r=((e,t)=>{let o="<"+e;const n=ke(t,((e,t)=>t+'="'+ts.encodeAllRaw(e)+'"'));return n.length&&(o+=" "+n.join(" ")),o+">"})(t,o),a="</"+t+">",s=$(n,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:$(s,(e=>r+e+a)).join("")},oO="%MCEPASTEBIN%",nO=e=>e.dom.get("mcepastebin"),rO=e=>k(e)&&"mcepastebin"===e.id,aO=e=>e===oO,sO=e=>{const t=Bs(null);return{create:()=>((e,t)=>{const{dom:o,selection:n}=e,r=e.getBody();t.set(n.getRng());const a=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},oO);Ot.browser.isFirefox()&&o.setStyle(a,"left","rtl"===o.getStyle(r,"direction",!0)?65535:-65535),o.bind(a,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),a.focus(),n.select(a,!0)})(e,t),remove:()=>((e,t)=>{const o=e.dom;if(nO(e)){let n;const r=t.get();for(;n=nO(e);)o.remove(n),o.unbind(n);r&&e.selection.setRng(r)}t.set(null)})(e,t),getEl:()=>nO(e),getHtml:()=>(e=>{const t=e.dom,o=(e,o)=>{e.appendChild(o),t.remove(o,!0)},[n,...r]=K(e.getBody().childNodes,rO);q(r,(e=>{o(n,e)}));const a=t.select("div[id=mcepastebin]",n);for(let e=a.length-1;e>=0;e--){const r=t.create("div");n.insertBefore(r,a[e]),o(r,a[e])}return n?n.innerHTML:""})(e),getLastRng:t.get}},iO=(e,t)=>(Nt.each(t,(t=>{e=p(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),lO=e=>e=iO(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,o)=>t||o?hr:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),cO=(e,t)=>({content:e,cancelled:t}),dO=(e,t,o)=>{const n=((e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}))(e,t,o),r=((e,t)=>{const o=tw({sanitize:dd(e)},e.schema);o.addNodeFilter("meta",(e=>{Nt.each(e,(e=>{e.remove()}))}));const n=o.parse(t,{forced_root_block:!1,isRootContent:!0});return xg({validate:!0},e.schema).serialize(n)})(e,n.content);return e.hasEventListeners("PastePostProcess")&&!n.isDefaultPrevented()?((e,t,o)=>{const n=e.dom.create("div",{style:"display:none"},t),r=((e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}))(e,n,o);return cO(r.node.innerHTML,r.isDefaultPrevented())})(e,r,o):cO(r,n.isDefaultPrevented())},uO=(e,t)=>(e.insertContent(t,{merge:Qc(e),paste:!0}),!0),hO=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),pO=(e,t,o)=>!(e.selection.isCollapsed()||!hO(t))&&((e,t,o)=>(e.undoManager.extra((()=>{o(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,o),mO=(e,t,o)=>!!((e,t)=>hO(t)&&Z(ud(e),(e=>Ze(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,o)=>(e.undoManager.extra((()=>{o(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,o),gO=(e,t,o)=>{o||!Jc(e)?uO(e,t):((e,t)=>{Nt.each([pO,mO,uO],(o=>!o(e,t,uO)))})(e,t)},fO=(e=>{let t=0;return()=>e+t++})("mceclip"),yO=(e,t,o,n)=>{const r=((e,t,o)=>dO(e,t,o))(e,t,o);r.cancelled||gO(e,r.content,n)},bO=(e,t,o)=>{const n=o||eO(t);yO(e,(e=>e.replace(QT,""))(t),n,!1)},vO=(e,t)=>{const o=e.dom.encode(t).replace(/\r\n/g,"\n"),n=ca(o,td(e)),r=tO(n,Ll(e),Pl(e));yO(e,r,!1,!0)},_O=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const n=e.types[o];try{t[n]=e.getData(n)}catch(e){t[n]=""}}return t},wO=(e,t)=>t in e&&e[t].length>0,kO=e=>wO(e,"text/html")||wO(e,"text/plain"),xO=(e,t,o,n)=>{const r=fO(),a=Wl(e)&&k(o.name),s=a?((e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return k(o)?e.dom.encode(o[1]):void 0})(e,o.name):r,i=a?o.name:void 0,l=t.create(r,o,n,s,i);return t.add(l),l},SO=e=>{const t=ud(e);return e=>We(e.type,"image/")&&Z(t,(t=>(e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Nt.hasOwn(o,t)?"image/"+o[t]:"image/"+t})(t)===e.type))},CO=(e,t,o)=>{const n="paste"===t.type?t.clipboardData:t.dataTransfer;var r;if(qc(e)&&n){const a=((e,t)=>{const o=t.items?ne(he(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],n=t.files?he(t.files):[];return K(o.length>0?o:n,SO(e))})(e,n);if(a.length>0)return t.preventDefault(),(r=a,Promise.all($(r,(e=>Ov(e).then((t=>({file:e,uri:t}))))))).then((t=>{o&&e.selection.setRng(o),q(t,(t=>{((e,t)=>{Dv(t.uri).each((({data:o,type:n,base64Encoded:r})=>{const a=r?o:btoa(o),s=t.file,i=e.editorUpload.blobCache,l=i.getByData(a,n),c=null!=l?l:xO(e,i,s,a);bO(e,`<img src="${c.blobUri()}">`,!1)}))})(e,t)}))})),!0}return!1},EO=(e,t,o,n)=>{let r=lO(o);const a=wO(t,XT())||eO(o),s=!a&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(r),i=hO(r);(aO(r)||!r.length||s&&!i)&&(n=!0),(n||i)&&(r=wO(t,"text/plain")&&s?t["text/plain"]:(e=>{const t=ms(),o=tw({},t);let n="";const r=t.getVoidElements(),a=Nt.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),i=e=>{const o=e.name,l=e;if("br"!==o){if("wbr"!==o)if(r[o]&&(n+=" "),a[o])n+=" ";else{if(3===e.type&&(n+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{i(t)}while(t=t.next)}s[o]&&l.next&&(n+="\n","p"===o&&(n+="\n"))}}else n+="\n"};return e=iO(e,[/<!\[[^\]]+\]>/g]),i(o.parse(e)),n})(r)),aO(r)||(n?vO(e,r):bO(e,r,a))},DO=(e,t,o)=>{let n;e.on("keydown",(e=>{(e=>mp.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(n=e.shiftKey&&86===e.keyCode)})),e.on("paste",(r=>{if(r.isDefaultPrevented()||(e=>{var t,o;return Ot.os.isAndroid()&&0===(null===(o=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===o?void 0:o.length)})(r))return;const a="text"===o.get()||n;n=!1;const s=_O(r.clipboardData);!kO(s)&&CO(e,r,t.getLastRng()||e.selection.getRng())||(wO(s,"text/html")?(r.preventDefault(),EO(e,s,s["text/html"],a)):wO(s,"text/plain")&&wO(s,"text/uri-list")?(r.preventDefault(),EO(e,s,s["text/plain"],a)):(t.create(),zm.setEditorTimeout(e,(()=>{const o=t.getHtml();t.remove(),EO(e,s,o,a)}),0)))}))},AO=(e,t,o)=>{DO(e,t,o),(e=>{const t=e=>We(e,"webkit-fake-url"),o=e=>We(e,"data:");e.parser.addNodeFilter("img",((n,r,a)=>{if(!qc(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(a))for(const r of n){const n=r.attr("src");m(n)&&!r.attr("data-mce-object")&&n!==Ot.transparentSrc&&(t(n)||!od(e)&&o(n))&&r.remove()}}))})(e)},TO=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),pp(e,!1)):(t.set("text"),pp(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,o)=>{o.html&&bO(e,o.html,o.internal),o.text&&vO(e,o.text)}))},OO=(e,t,o,n)=>{((e,t,o)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(XT(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),n()):o(t.html,n)},MO=e=>(t,o)=>{const{dom:n,selection:r}=e,a=n.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=n.create("div",{contenteditable:"true"},t);n.setStyles(a,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(s),n.add(e.getBody(),a);const i=r.getRng();s.focus();const l=n.createRng();l.selectNodeContents(s),r.setRng(l),zm.setEditorTimeout(e,(()=>{r.setRng(i),n.remove(a),o()}),0)},zO=e=>({html:JT(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),RO=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),NO=e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&RO(e)&&OO(t,zO(e),MO(e),(()=>{if(Ot.browser.isChromium()||Ot.browser.isFirefox()){const t=e.selection.getRng();zm.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&RO(e)&&OO(t,zO(e),MO(e),E)})(e))},IO=(e,t)=>{var o,n;return Kp.getCaretRangeFromPoint(null!==(o=t.clientX)&&void 0!==o?o:0,null!==(n=t.clientY)&&void 0!==n?n:0,e.getDoc())},LO=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},PO=(e,t)=>{$c(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),qc(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>Z(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(o=>{if(o.isDefaultPrevented())return;const n=IO(e,o);if(w(n))return;const r=_O(o.dataTransfer),a=wO(r,XT());if((!kO(r)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(r))&&CO(e,o,n))return;const s=r[XT()],i=s||r["text/html"]||r["text/plain"],l=((e,t,o,n)=>{const r=e.getParent(o,(e=>Ta(t,e)));if(r&&Ce(n,"text/html")){const e=(new DOMParser).parseFromString(n["text/html"],"text/html").body;return!b(e.querySelector(r.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,n.startContainer,r);t.get()&&!l||i&&(o.preventDefault(),zm.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{s&&e.execCommand("Delete"),LO(e,n);const t=lO(i);r["text/html"]?bO(e,t,a):vO(e,t)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(o=>{qc(e)&&!t.get()&&(o.preventDefault(),LO(e,IO(e,o))),"dragend"===o.type&&t.set(!1)}))},BO=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,HO=e=>Nt.trim(e).replace(BO,th).toLowerCase(),FO=(e,t,o)=>{const n=Kc(e);if(o||"all"===n||!Xc(e))return t;const r=n?n.split(/[, ]/):[];if(r&&"none"!==n){const o=e.dom,n=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,a,s)=>{const i=o.parseStyle(o.decode(a)),l={};for(let e=0;e<r.length;e++){const t=i[r[e]];let a=t,s=o.getStyle(n,r[e],!0);/color/.test(r[e])&&(a=HO(a),s=HO(s)),s!==a&&(l[r[e]]=t)}const c=o.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,o,n)=>t+' style="'+o+'"'+n)),t},VO=e=>{const t=Bs(!1),o=Bs(ed(e)?"text":"html"),n=sO(e);(e=>{(Ot.browser.isChromium()||Ot.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(o=>{o.content=t(e,o.content,o.internal)}))})(e,FO)})(e),TO(e,o),(e=>{const t=t=>o=>{t(e,o)},o=Yc(e);x(o)&&e.on("PastePreProcess",t(o));const n=Gc(e);x(n)&&e.on("PastePostProcess",t(n))})(e),e.on("PreInit",(()=>{NO(e),PO(e,t),AO(e,n,o)}))},jO=e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(e=>{q(e,(e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(e=>{q(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",m(t)?t:null),e.attr("data-mce-open",null)}))}))})(e)},UO=nr,WO=Xn,ZO=e=>sr(e.dom),$O=e=>t=>wo(yo.fromDom(e),t),qO=(e,t)=>Go(yo.fromDom(e),(e=>(e=>ar(e.dom))(e)||vr(e)),$O(t)).getOr(yo.fromDom(t)).dom,YO=(e,t)=>Go(yo.fromDom(e),ZO,$O(t)),GO=(e,t,o)=>{const n=new Hn(e,t),r=o?n.next.bind(n):n.prev.bind(n);let a=e;for(let t=o?e:r();t&&!UO(t);t=r())na(t)&&(a=t);return a},KO=e=>{const t=((e,t)=>{const o=Ui.fromRangeStart(e).getNode(),n=qO(o,t),r=GO(o,n,!1),a=GO(o,n,!0),s=document.createRange();return YO(r,n).fold((()=>{WO(r)?s.setStart(r,0):s.setStartBefore(r)}),(e=>s.setStartBefore(e.dom))),YO(a,n).fold((()=>{WO(a)?s.setEnd(a,a.data.length):s.setEndAfter(a)}),(e=>s.setEndAfter(e.dom))),s})(e.selection.getRng(),e.getBody());e.selection.setRng(jy(t))};var XO;!function(e){e.Before="before",e.After="after"}(XO||(XO={}));const QO=(e,t)=>Math.abs(e.left-t),JO=(e,t)=>Math.abs(e.right-t),eM=(e,t)=>{const o=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&o>.5},tM=(e,t)=>(e=>Q(e,((e,t)=>e.fold((()=>H.some(t)),(e=>{const o=Math.min(t.left,e.left),n=Math.min(t.top,e.top),r=Math.max(t.right,e.right),a=Math.max(t.bottom,e.bottom);return H.some({top:n,right:r,bottom:a,left:o,width:r-o,height:a-n})}))),H.none()))(K(e,(e=>{return(o=t)>=(n=e).top&&o<=n.bottom;var o,n}))).fold((()=>[[],e]),(t=>{const{pass:o,fail:n}=G(e,(e=>eM(e,t)));return[o,n]})),oM=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),nM=(e,t,o)=>{const n=e=>na(e.node)?H.some(e):jn(e.node)?nM(he(e.node.childNodes),t,o):H.none(),r=(e,r)=>{const a=le(e,((e,n)=>r(e,t,o)-r(n,t,o)));return((e,r)=>{if(e.length>=2){const a=n(e[0]).getOr(e[0]),s=n(e[1]).getOr(e[1]);if(Math.abs(r(a,t,o)-r(s,t,o))<2){if(Xn(a.node))return H.some(a);if(Xn(s.node))return H.some(s)}}return H.none()})(a,r).orThunk((()=>pe(a,n)))},[a,s]=tM(YS(e),o),{pass:i,fail:l}=G(s,(e=>e.top<o));return r(a,oM).orThunk((()=>r(l,_i))).orThunk((()=>r(i,_i)))},rM=(e,t,o)=>{const n=yo.fromDom(e),r=So(n),a=yo.fromPoint(r,t,o).filter((e=>ko(n,e))).getOr(n);return((e,t,o,n)=>{const r=(t,a)=>{const s=K(t.dom.childNodes,R((e=>jn(e)&&e.classList.contains("mce-drag-container"))));return a.fold((()=>nM(s,o,n)),(e=>{const t=K(s,(t=>t!==e.dom));return nM(t,o,n)})).orThunk((()=>(wo(t,e)?H.none():Do(t)).bind((e=>r(e,H.some(t))))))};return r(t,H.none())})(n,a,t,o)},aM=(e,t,o)=>rM(e,t,o).filter((e=>Od(e.node))).map((e=>((e,t)=>({node:e.node,position:QO(e,t)<JO(e,t)?XO.Before:XO.After}))(e,t))),sM=e=>{var t,o;const n=e.getBoundingClientRect(),r=e.ownerDocument,a=r.documentElement,s=r.defaultView;return{top:n.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-a.clientTop,left:n.left+(null!==(o=null==s?void 0:s.scrollX)&&void 0!==o?o:0)-a.clientLeft}},iM=(e,t)=>{return o=(e=>e.inline?sM(e.getBody()):{left:0,top:0})(e),n=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),r=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=sM(e.getContentAreaContainer()),n=(e=>{const t=e.getBody(),o=e.getDoc().documentElement,n={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?n:r})(e);return{left:t.pageX-o.left+n.left,top:t.pageY-o.top+n.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:r.left-o.left+n.left,pageY:r.top-o.top+n.top};var o,n,r},lM=e=>({target:e,srcElement:e}),cM=e=>(t,o)=>((e,t,o)=>({...t,dataTransfer:null,type:e,...o}))(e,t,lM(o)),dM=cM("dragstart"),uM=cM("drop"),hM=(e=>t=>((e,t)=>{const o=N("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:E,stopImmediatePropagation:E,stopPropagation:E,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:null,...t}})(e,lM(t)))("dragend"),pM=cM("dragend"),mM=sr,gM=((...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1})(mM,ar),fM=(e,t,o,n)=>{const r=e.dom,a=t.cloneNode(!0);r.setStyles(a,{width:o,height:n}),r.setAttrib(a,"data-mce-selected",null);const s=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:n}),r.setStyles(a,{margin:0,boxSizing:"border-box"}),s.appendChild(a),s},yM=(e,t)=>o=>()=>{const n="left"===e?o.scrollX:o.scrollY;o.scroll({[e]:n+t,behavior:"smooth"})},bM=yM("left",-32),vM=yM("left",32),_M=yM("top",-32),wM=yM("top",32),kM=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},xM=(e,t)=>o=>{if((e=>0===e.button)(o)){const n=ee(t.dom.getParents(o.target),gM).getOr(null);if(k(n)&&((e,t,o)=>mM(o)&&o!==t&&e.isEditable(o.parentElement))(t.dom,t.getBody(),n)){const r=t.dom.getPos(n),a=t.getBody(),s=t.getDoc().documentElement;e.set({element:n,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?a.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:s.offsetHeight)-2,relX:o.pageX-r.x,relY:o.pageY-r.y,width:n.offsetWidth,height:n.offsetHeight,ghost:fM(t,n,n.offsetWidth,n.offsetHeight),intervalId:Ws(100)})}}},SM=(e,t)=>{const o=$s(((e,o)=>((e,t,o)=>{e._selectionOverrides.hideFakeCaret(),aM(e.getBody(),t,o).fold((()=>e.selection.placeCaretAt(t,o)),(n=>{const r=e._selectionOverrides.showCaret(1,n.node,n.position===XO.Before,!1);r?e.selection.setRng(r):e.selection.placeCaretAt(t,o)}))})(t,e,o)),0);t.on("remove",o.cancel);const n=e;return r=>e.on((e=>{const a=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&a>10){if(t.dispatch("dragstart",dM(r,e.element)).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const a=r.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,iM(t,r));s=e.ghost,i=t.getBody(),s.parentNode!==i&&i.appendChild(s),((e,t,o,n,r,a,s,i,l,c,d,u)=>{let h=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>r&&(h=t.pageX+o-r),t.pageY+n>a&&(p=t.pageY+n-a),e.style.width=o-h+"px",e.style.height=n-p+"px";const m=l.clientHeight,g=l.clientWidth,f=s+l.getBoundingClientRect().top,y=i+l.getBoundingClientRect().left;d.on((e=>{e.intervalId.clear(),e.dragging&&u&&(s+8>=m?e.intervalId.set(wM(c)):s-8<=0?e.intervalId.set(_M(c)):i+8>=g?e.intervalId.set(vM(c)):i-8<=0?e.intervalId.set(bM(c)):f+16>=window.innerHeight?e.intervalId.set(wM(window)):f-16<=0?e.intervalId.set(_M(window)):y+16>=window.innerWidth?e.intervalId.set(vM(window)):y-16<=0&&e.intervalId.set(bM(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,r.clientY,r.clientX,t.getContentAreaContainer(),t.getWin(),n,a),o.throttle(r.clientX,r.clientY)}var s,i}))},CM=(e,t)=>o=>{e.on((e=>{var n;if(e.intervalId.clear(),e.dragging){if(((e,t,o)=>!w(t)&&t!==o&&!e.dom.isChildOf(t,o)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(k(t)){const e=t.getRangeAt(0).startContainer;return Xn(e)?e.parentNode:e}return null})(t.selection),e.element)){const r=(e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t})(e.element),a=null!==(n=t.getDoc().elementFromPoint(o.clientX,o.clientY))&&void 0!==n?n:t.getBody();t.dispatch("drop",uM(o,a)).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);kM(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&zr(yo.fromDom(o))})(t.dom,e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend",pM(o,t.getBody()))}})),DM(e)},EM=(e,t,o)=>{e.on((e=>{if(e.intervalId.clear(),e.dragging){const n=o.fold((()=>hM(e.element)),(t=>pM(t,e.element)));t.dispatch("dragend",n)}})),DM(e)},DM=e=>{e.on((e=>{e.intervalId.clear(),kM(e.ghost)})),e.clear()},AM=e=>{const t=Zs(),o=Is.DOM,n=document,r=xM(t,e),a=SM(t,e),s=CM(t,e),i=((e,t)=>o=>EM(e,t,H.some(o)))(t,e);e.on("mousedown",r),e.on("mousemove",a),e.on("mouseup",s),o.bind(n,"mousemove",a),o.bind(n,"mouseup",i),e.on("remove",(()=>{o.unbind(n,"mousemove",a),o.unbind(n,"mouseup",i)})),e.on("keydown",(o=>{o.keyCode===mp.ESC&&EM(t,e,H.none())}))},TM=e=>{AM(e),Ic(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const o=t.dataTransfer;o&&(W(o.types,"Files")||o.files.length>0)&&(t.preventDefault(),"drop"===t.type&&Pk(e,"Dropped file type is not supported"))}},o=o=>{Pm(e,o.target)&&t(o)},n=()=>{const n=Is.DOM,r=e.dom,a=document,s=e.inline?e.getBody():e.getDoc(),i=["drop","dragover"];q(i,(e=>{n.bind(a,e,o),r.bind(s,e,t)})),e.on("remove",(()=>{q(i,(e=>{n.unbind(a,e,o),r.unbind(s,e,t)}))}))};e.on("init",(()=>{zm.setEditorTimeout(e,n,0)}))})(e)},OM=sr,MM=(e,t)=>Dy(e.getBody(),t),zM=e=>{const t=e.selection,o=e.dom,n=e.getBody(),r=Dd(e,n,o.isBlock,(()=>Zm(e))),a="sel-"+o.uniqueId(),s="data-mce-selected";let i;const l=e=>e!==n&&(OM(e)||cr(e))&&o.isChildOf(e,n)&&o.isEditable(e.parentNode),c=(o,n,a,s=!0)=>e.dispatch("ShowCaret",{target:n,direction:o,before:a}).isDefaultPrevented()?null:(s&&t.scrollIntoView(n,-1===o),r.show(a,n)),d=()=>{e.on("click",(t=>{o.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",f),e.on("ResizeWindow FullscreenStateChanged",r.reposition),e.on("tap",(t=>{const o=t.target,n=MM(e,o);OM(n)?(t.preventDefault(),Nx(e,n).each(g)):l(o)&&Nx(e,o).each(g)}),!0),e.on("mousedown",(r=>{const a=r.target;if(a!==n&&"HTML"!==a.nodeName&&!o.isChildOf(a,n))return;if(!Ok(e,r.clientX,r.clientY))return;f(),y();const s=MM(e,a);OM(s)?(r.preventDefault(),Nx(e,s).each(g)):aM(n,r.clientX,r.clientY).each((o=>{r.preventDefault();(e=>{e&&t.setRng(e)})(c(1,o.node,o.position===XO.Before,!1)),jn(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{mp.modifierPressed(e)||OM(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(i){if(!i.parentNode)return void(i=null);t=t.cloneRange(),t.selectNode(i),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=p(e.range);const t=g(e.range,e.forward);t&&(e.range=t)}));e.on("AfterSetSelectionRange",(e=>{const t=e.range,n=t.startContainer.parentElement;var r;h(t)||jn(r=n)&&"mcepastebin"===r.id||y(),(e=>k(e)&&o.hasClass(e,"mce-offscreen-selection"))(n)||f()})),TM(e),(e=>{const t=$s((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const o=Ix(e,t,!1);e.selection.setRng(o)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const o=t.target;if(cr(o)){const t=Dy(e.getBody(),o),n=sr(t)?t:o;e.selection.getNode()!==n&&Nx(e,n).each((t=>e.selection.setRng(t)))}}))}))})(e)},u=e=>Vr(e)||Zr(e)||$r(e),h=e=>u(e.startContainer)||u(e.endContainer),p=t=>{const n=e.schema.getVoidElements(),r=o.createRng(),a=t.startContainer,s=t.startOffset,i=t.endContainer,l=t.endOffset;return Ce(n,a.nodeName.toLowerCase())?0===s?r.setStartBefore(a):r.setStartAfter(a):r.setStart(a,s),Ce(n,i.nodeName.toLowerCase())?0===l?r.setEndBefore(i):r.setEndAfter(i):r.setEnd(i,l),r},m=n=>{const r=n.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:n,targetClone:r});if(l.isDefaultPrevented())return null;const c=((n,r)=>{const s=yo.fromDom(e.getBody()),i=e.getDoc(),l=Qo(s,"#"+a).getOrThunk((()=>{const e=yo.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',i);return Qt(e,"id",a),gn(s,e),e})),c=o.createRng();bn(l),yn(l,[yo.fromText(hr,i),yo.fromDom(r),yo.fromText(hr,i)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),an(l,{top:o.getPos(n,e.getBody()).y+"px"}),vm(l);const d=t.getSel();return d&&(d.removeAllRanges(),d.addRange(c)),c})(n,l.targetClone),d=yo.fromDom(n);return q(Pn(yo.fromDom(e.getBody()),`*[${s}]`),(e=>{wo(d,e)||no(e,s)})),o.getAttrib(n,s)||n.setAttribute(s,"1"),i=n,y(),c},g=(e,t)=>{if(!e)return null;if(e.collapsed){if(!h(e)){const r=t?1:-1,a=eu(r,n,e),s=a.getNode(!t);if(k(s)){if(Od(s))return c(r,s,!!t&&!a.isAtEnd(),!1);if(Fr(s)&&sr(s.nextSibling)){const e=o.createRng();return e.setStart(s,0),e.setEnd(s,0),e}}const i=a.getNode(t);if(k(i)){if(Od(i))return c(r,i,!t&&!a.isAtEnd(),!1);if(Fr(i)&&sr(i.previousSibling)){const e=o.createRng();return e.setStart(i,1),e.setEnd(i,1),e}}}return null}let r=e.startContainer,a=e.startOffset;const s=e.endOffset;if(Xn(r)&&0===a&&OM(r.parentNode)&&(r=r.parentNode,a=o.nodeIndex(r),r=r.parentNode),!jn(r))return null;if(s===a+1&&r===e.endContainer){const e=r.childNodes[a];if(l(e))return m(e)}return null},f=()=>{i&&i.removeAttribute(s),Qo(yo.fromDom(e.getBody()),"#"+a).each(vn),i=null},y=()=>{r.hide()};return Fw(e)||d(),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(qr(e),t.scrollIntoView(e))},hideFakeCaret:y,destroy:()=>{r.destroy(),i=null}}},RM=(e,t)=>{let o=t;for(let t=e.previousSibling;Xn(t);t=t.previousSibling)o+=t.data.length;return o},NM=(e,t,o,n,r)=>{if(Xn(o)&&(n<0||n>o.data.length))return[];const a=r&&Xn(o)?[RM(o,n)]:[n];let s=o;for(;s!==t&&s.parentNode;)a.push(e.nodeIndex(s,r)),s=s.parentNode;return s===t?a.reverse():[]},IM=(e,t,o,n,r,a,s=!1)=>({start:NM(e,t,o,n,s),end:NM(e,t,r,a,s)}),LM=(e,t)=>{const o=t.slice(),n=o.pop();if(S(n)){return Q(o,((e,t)=>e.bind((e=>H.from(e.childNodes[t])))),H.some(e)).bind((e=>Xn(e)&&(n<0||n>e.data.length)?H.none():H.some({node:e,offset:n})))}return H.none()},PM=(e,t)=>LM(e,t.start).bind((({node:o,offset:n})=>LM(e,t.end).map((({node:e,offset:t})=>{const r=document.createRange();return r.setStart(o,n),r.setEnd(e,t),r})))),BM=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const n=t.parentNode;e.remove(t),BM(e,n,o)}},HM=(e,t,o,n=!0)=>{const r=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),n&&!o(t.startContainer)&&(Xn(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Xn(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),BM(e,r,o),r!==a&&BM(e,a,o))},FM=(e,t)=>H.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),VM=(e,t,o)=>{const n=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:vl(n).concat(e.blockPatterns),inlinePatterns:_l(n).concat(e.inlinePatterns)}},jM=(e,t,o,n)=>{const r=e.createRng();return r.setStart(t,0),r.setEnd(o,n),r.toString()},UM=(e,t,o)=>{const n=((e,t,o)=>{if(Xn(e)&&t>=e.length)return H.some(aD(e,t));{const n=pi(sD);return H.from(n.forwards(e,t,iD(e),o)).map((e=>aD(e.container,0)))}})(t,0,t);n.each((n=>{const r=n.container;dD(r,o.start.length,t).each((o=>{const n=e.createRng();n.setStart(r,0),n.setEnd(o.container,o.offset),HM(e,n,(e=>e===t))}));const a=yo.fromDom(r),s=gr(a);/^\s[^\s]/.test(s)&&((e,t)=>{mr.set(e,t)})(a,s.slice(1))}))},WM=(e,t)=>{const o=e.dom,n=t.pattern,r=PM(o.getRoot(),t.range).getOrDie("Unable to resolve path range");return FM(e,r).each((t=>{"block-format"===n.type?((e,t)=>{const o=t.get(e);return y(o)&&de(o).exists((e=>Ce(e,"block")))})(n.format,e.formatter)&&e.undoManager.transact((()=>{UM(e.dom,t,n),e.formatter.apply(n.format)})):"block-command"===n.type&&e.undoManager.transact((()=>{UM(e.dom,t,n),e.execCommand(n.cmd,!1,n.value)}))})),!0},ZM=(e,t)=>{const o=(e=>le(e,((e,t)=>t.start.length-e.start.length)))(e),n=t.replace(hr," ");return ee(o,(e=>0===t.indexOf(e.start)||0===n.indexOf(e.start)))},$M=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),qM=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},YM=(e,t,o)=>{const n=PM(e.getRoot(),o).getOrDie("Unable to resolve path range"),r=n.startContainer,a=n.endContainer,s=0===n.endOffset?a:a.splitText(n.endOffset),i=0===n.startOffset?r:r.splitText(n.startOffset),l=i.parentNode;return{prefix:t,end:s.parentNode.insertBefore($M(e,t+"-end"),s),start:l.insertBefore($M(e,t+"-start"),i)}},GM=(e,t,o)=>{BM(e,e.get(t.prefix+"-end"),o),BM(e,e.get(t.prefix+"-start"),o)},KM=e=>0===e.start.length,XM=(e,t,o,n)=>{const r=t.start;var a;return uD(e,n.container,n.offset,(a=r,(e,t)=>{const o=e.data.substring(0,t),n=o.lastIndexOf(a.charAt(a.length-1)),r=o.lastIndexOf(a);return-1!==r?r+a.length:-1!==n?n+1:-1}),o).bind((n=>{var a,s;const i=null!==(s=null===(a=o.textContent)||void 0===a?void 0:a.indexOf(r))&&void 0!==s?s:-1;if(-1!==i&&n.offset>=i+r.length){const t=e.createRng();return t.setStart(n.container,n.offset-r.length),t.setEnd(n.container,n.offset),H.some(t)}{const a=n.offset-r.length;return cD(n.container,a,o).map((t=>{const o=e.createRng();return o.setStart(t.container,t.offset),o.setEnd(n.container,n.offset),o})).filter((e=>e.toString()===r)).orThunk((()=>XM(e,t,o,aD(n.container,0))))}}))},QM=(e,t,o,n)=>{const r=e.dom,a=r.getRoot(),s=o.pattern,i=o.position.container,l=o.position.offset;return cD(i,l-o.pattern.end.length,t).bind((c=>{const d=IM(r,a,c.container,c.offset,i,l,n);if(KM(s))return H.some({matches:[{pattern:s,startRng:d,endRng:d}],position:c});{const i=JM(e,o.remainingPatterns,c.container,c.offset,t,n),l=i.getOr({matches:[],position:c}),u=l.position,h=((e,t,o,n,r,a=!1)=>{if(0===t.start.length&&!a){const t=e.createRng();return t.setStart(o,n),t.setEnd(o,n),H.some(t)}return lD(o,n,r).bind((o=>XM(e,t,r,o).bind((e=>{var t;if(a){if(e.endContainer===o.container&&e.endOffset===o.offset)return H.none();if(0===o.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return H.none()}return H.some(e)}))))})(r,s,u.container,u.offset,t,i.isNone());return h.map((e=>{const t=((e,t,o,n=!1)=>IM(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,n))(r,a,e,n);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:d}]),position:aD(e.startContainer,e.startOffset)}}))}}))},JM=(e,t,o,n,r,a)=>{const s=e.dom;return lD(o,n,s.getRoot()).bind((i=>{const l=jM(s,r,o,n);for(let s=0;s<t.length;s++){const c=t[s];if(!Ze(l,c.end))continue;const d=t.slice();d.splice(s,1);const u=QM(e,r,{pattern:c,remainingPatterns:d,position:i},a);if(u.isNone()&&n>0)return JM(e,t,o,n-1,r,a);if(u.isSome())return u}return H.none()}))},ez=(e,t,o)=>{e.selection.setRng(o),"inline-format"===t.type?q(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},tz=(e,t,o,n,r,a)=>{var s;return((e,t)=>{const o=re(e,(e=>Z(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?o?e:t:e.length>t.length?e:t})(JM(e,r.inlinePatterns,o,n,t,a).fold((()=>[]),(e=>e.matches)),JM(e,(s=r.inlinePatterns,le(s,((e,t)=>t.end.length-e.end.length))),o,n,t,a).fold((()=>[]),(e=>e.matches)))},oz=(e,t)=>{if(0===t.length)return;const o=e.dom,n=e.selection.getBookmark(),r=((e,t)=>{const o=ii("mce_textpattern"),n=X(t,((t,n)=>{const r=YM(e,o+`_end${t.length}`,n.endRng);return t.concat([{...n,endMarker:r}])}),[]);return X(n,((t,r)=>{const a=n.length-t.length-1,s=KM(r.pattern)?r.endMarker:YM(e,o+`_start${a}`,r.startRng);return t.concat([{...r,startMarker:s}])}),[])})(o,t);q(r,(t=>{const n=o.getParent(t.startMarker.start,o.isBlock),r=e=>e===n;KM(t.pattern)?((e,t,o,n)=>{const r=qM(e.dom,o);HM(e.dom,r,n),ez(e,t,r)})(e,t.pattern,t.endMarker,r):((e,t,o,n,r)=>{const a=e.dom,s=qM(a,n),i=qM(a,o);HM(a,i,r),HM(a,s,r);const l={prefix:o.prefix,start:o.end,end:n.start},c=qM(a,l);ez(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,r),GM(o,t.endMarker,r),GM(o,t.startMarker,r)})),e.selection.moveToBookmark(n)},nz=(e,t)=>{const o=e.selection.getRng();return FM(e,o).map((n=>{var r;const a=Math.max(0,o.startOffset),s=VM(t,n,null!==(r=n.textContent)&&void 0!==r?r:""),i=tz(e,n,o.startContainer,a,s,!0),l=((e,t,o,n)=>{var r;const a=e.dom,s=Ll(e);if(!a.is(t,s))return[];const i=null!==(r=t.textContent)&&void 0!==r?r:"";return ZM(o.blockPatterns,i).map((e=>Nt.trim(i).length===e.start.length?[]:[{pattern:e,range:IM(a,a.getRoot(),t,0,t,0,n)}])).getOr([])})(e,n,s,!0);return(l.length>0||i.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(ur),oz(e,i),((e,t)=>{if(0===t.length)return;const o=e.selection.getBookmark();q(t,(t=>WM(e,t))),e.selection.moveToBookmark(o)})(e,l);const t=e.selection.getRng(),o=lD(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),o.each((t=>{const o=t.container;o.data.charAt(t.offset-1)===ur&&(o.deleteData(t.offset-1,1),BM(e.dom,o.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)},rz=(e,t,o)=>{for(let n=0;n<e.length;n++)if(o(e[n],t))return!0;return!1},az=e=>{const t=[",",".",";",":","!","?"],o=[32],n=()=>{return t=nd(e),o=rd(e),{inlinePatterns:_l(t),blockPatterns:vl(t),dynamicPatternsLookup:o};var t,o},r=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!mp.modifierPressed(t)&&e.selection.isCollapsed()){const o=n();(o.inlinePatterns.length>0||o.blockPatterns.length>0||r())&&nz(e,o)&&t.preventDefault()}}),!0);const a=()=>{if(e.selection.isCollapsed()){const t=n();(t.inlinePatterns.length>0||r())&&((e,t)=>{const o=e.selection.getRng();FM(e,o).map((n=>{const r=Math.max(0,o.startOffset-1),a=jM(e.dom,n,o.startContainer,r),s=VM(t,n,a),i=tz(e,n,o.startContainer,r,s,!1);i.length>0&&e.undoManager.transact((()=>{oz(e,i)}))}))})(e,t)}};e.on("keyup",(e=>{rz(o,e,((e,t)=>e===t.keyCode&&!mp.modifierPressed(t)))&&a()})),e.on("keypress",(o=>{rz(t,o,((e,t)=>e.charCodeAt(0)===t.charCode))&&zm.setEditorTimeout(e,a)}))},sz=e=>{const t=Nt.each,o=mp.BACKSPACE,n=mp.DELETE,r=e.dom,a=e.selection,s=e.parser,i=Ot.browser,l=i.isFirefox(),c=i.isChromium()||i.isSafari(),d=Ot.deviceType.isiPhone()||Ot.deviceType.isiPad(),u=Ot.os.isMacOS()||Ot.os.isiOS(),h=(t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch(e){}},p=e=>e.isDefaultPrevented(),m=()=>{const t=e=>{const t=r.create("body"),o=e.cloneContents();return t.appendChild(o),a.serializer.serialize(t,{format:"html"})};e.on("keydown",(a=>{const s=a.keyCode;if(!p(a)&&(s===n||s===o)&&e.selection.isEditable()){const o=e.selection.isCollapsed(),n=e.getBody();if(o&&!r.isEmpty(n))return;if(!o&&!(o=>{const n=t(o),a=r.createRng();return a.selectNode(e.getBody()),n===t(a)})(e.selection.getRng()))return;a.preventDefault(),e.setContent(""),n.firstChild&&r.isBlock(n.firstChild)?e.selection.setCursorLocation(n.firstChild,0):e.selection.setCursorLocation(n,0),e.nodeChanged()}}))},g=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},f=()=>{e.inline||r.bind(e.getDoc(),"mousedown mouseup",(t=>{let o;if(t.target===e.getDoc().documentElement)if(o=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Vr(o.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(o)}))},y=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!p(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),zm.setEditorTimeout(e,(()=>{t.focus()}))}}))},b=()=>{const t=Bc(e);e.on("click",(o=>{const n=o.target;/^(IMG|HR)$/.test(n.nodeName)&&r.isEditable(n.parentNode)&&(o.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&r.hasClass(n,t)&&0===n.childNodes.length&&r.isEditable(n.parentNode)&&(o.preventDefault(),a.select(n))}))},v=()=>{e.on("keydown",(e=>{if(!p(e)&&e.keyCode===o&&a.isCollapsed()&&0===a.getRng().startOffset){const t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},_=()=>{const t=()=>{h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),cc(e)||h("enableObjectResizing",!1)};Mc(e)||e.on("BeforeExecCommand mousedown",t)},w=()=>{e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(r.select("a:not([data-mce-block])"),(e=>{var t;let o=e.parentNode;const n=r.getRoot();if((null==o?void 0:o.lastChild)===e){for(;o&&!r.isBlock(o);){if((null===(t=o.parentNode)||void 0===t?void 0:t.lastChild)!==o||o===n)return;o=o.parentNode}r.add(o,"br",{"data-mce-bogus":1})}}))}))},k=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},S=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let o;"HTML"===t.target.nodeName&&(o=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(o),e.selection.normalize(),e.nodeChanged())})))},C=()=>{u&&e.on("keydown",(t=>{if(mp.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},D=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},A=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},T=E,O=()=>{e.on("keydown",(t=>{if(p(t)||t.keyCode!==mp.BACKSPACE)return;let o=a.getRng();const n=o.startContainer,s=o.startOffset,i=r.getRoot();let l=n;if(o.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==i;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),o=r.createRng(),o.setStart(n,0),o.setEnd(n,0),a.setRng(o))}})),m(),Ot.windowsPhone||e.on("keyup focusin mouseup",(t=>{mp.modifierPressed(t)||(e=>{const t=e.getBody(),o=e.selection.getRng();return o.startContainer===o.endContainer&&o.startContainer===t&&0===o.startOffset&&o.endOffset===t.childNodes.length})(e)||a.normalize()}),!0),c&&(f(),b(),e.on("init",(()=>{h("DefaultParagraphSeparator",Ll(e))})),A(),v(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),d?(x(),S(),D()):g()),l&&(e.on("keydown",(t=>{if(!p(t)&&t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){const e=a.getNode(),o=e.previousSibling;if("HR"===e.nodeName)return r.remove(e),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(r.remove(o),t.preventDefault())}}})),y(),(()=>{const o=()=>{const o=r.getAttribs(a.getStart().cloneNode(!1));return()=>{const n=a.getStart();n!==e.getBody()&&(r.setAttrib(n,"style",null),t(o,(e=>{n.setAttributeNode(e.cloneNode(!0))})))}},n=()=>!a.isCollapsed()&&r.getParent(a.getStart(),r.isBlock)!==r.getParent(a.getEnd(),r.isBlock);e.on("keypress",(t=>{let r;return!(!(p(t)||8!==t.keyCode&&46!==t.keyCode)&&n()&&(r=o(),e.getDoc().execCommand("delete",!1),r(),t.preventDefault(),1))})),r.bind(e.getDoc(),"cut",(t=>{if(!p(t)&&n()){const t=o();zm.setEditorTimeout(e,(()=>{t()}))}}))})(),_(),w(),k(),C(),v())};return Fw(e)?(c&&(f(),b(),A(),g(),d&&(x(),S(),D())),l&&(y(),_(),k(),C())):O(),{refreshContentEditable:T,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},iz=Is.DOM,lz=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,cz=e=>we(e,(e=>!1===_(e))),dz=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return cz({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:lz(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},uz=e=>{const t=e.options.get;return cz({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},hz=e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||uh(e)&&e.selection.getStart(!0)!==t||Eu(t).each((t=>{const o=t.getNode(),n=Yn(o)?Eu(o).getOr(t):t;e.selection.setRng(n.toRange())}))})(e),e.nodeChanged({initial:!0});const t=Vc(e);x(t)&&t.call(e,e),(e=>{const t=Uc(e);t&&zm.setEditorTimeout(e,(()=>{let o;o=!0===t?e:e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())}),100)})(e)},pz=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,mz=e=>{const t=pz(e),o=sc(e),n=e.contentCSS,r=()=>{t.unloadAll(n),e.inline||e.ui.styleSheetLoader.unloadAll(o)},a=()=>{e.removed?r():e.on("remove",r)};if(e.contentStyles.length>0){let t="";Nt.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,o)=>{const n=[pz(e).loadAll(t)];return e.inline?n:n.concat([e.ui.styleSheetLoader.loadAll(o)])})(e,n,o)).then(a).catch(a),i=ac(e);return i&&((e,t)=>{const o=yo.fromDom(e.getBody()),n=jo(Vo(o)),r=yo.fromTag("style");Qt(r,"type","text/css"),gn(r,yo.fromText(t)),gn(n,r),e.on("remove",(()=>{vn(r)}))})(e,i),s},gz=e=>{!0!==e.removed&&((e=>{Fw(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),hz(e))},fz=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(iz.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const n=e.getBody();n.disabled=!0,e.readonly=Mc(e),e.readonly||(e.inline&&"static"===iz.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable="true"),n.disabled=!1,e.editorUpload=Kk(e),e.schema=ms(uz(e)),e.dom=Is(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Ql(e),referrerPolicy:Jl(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=tw(dz(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,o)=>{const n=e.dom,r="data-mce-"+o;let a=t.length;for(;a--;){const s=t[a];let i=s.attr(o);if(i&&!s.attr(r)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===o?(i=n.serializeStyle(n.parseStyle(i),s.name),i.length||(i=null),s.attr(r,i),s.attr(o,i)):"tabindex"===o?(s.attr(r,i),s.attr(o,null)):s.attr(r,e.convertURL(i,o,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const o=e[t],n=o.attr("type")||"no/type";0!==n.indexOf("mce-")&&o.attr("type","mce-"+n)}})),ld(e)&&t.addNodeFilter("#cdata",(t=>{var o;let n=t.length;for(;n--;){const r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(null!==(o=r.value)&&void 0!==o?o:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let o=t.length;const n=e.schema.getNonEmptyElements();for(;o--;){const e=t[o];e.isEmpty(n)&&0===e.getAll("br").length&&e.append(new hg("br",1))}})),t})(e),e.serializer=nk((e=>{const t=e.options.get;return{...dz(e),...uz(e),...cz({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=Qw(e.dom,e.getWin(),e.serializer,e),e.annotator=ap(e),e.formatter=lx(e),e.undoManager=dx(e),e._nodeChangeDispatcher=new GT(e),e._selectionOverrides=zM(e),XC(e),jO(e),sE(e),Fw(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),KO(e))}))})(e),(e=>{az(e)})(e));const r=YT(e);GC(e,r),(e=>{e.on("NodeChange",z(oE,e))})(e),gx(e),VO(e);const a=Vw(e);(e=>{const t=e.getDoc(),o=e.getBody();(e=>{e.dispatch("PreInit")})(e),Wc(e)||(t.body.spellcheck=!1,iz.setAttrib(o,"spellcheck","false")),e.quirks=sz(e),(e=>{e.dispatch("PostRender")})(e);const n=ic(e);void 0!==n&&(o.dir=n);const r=Zc(e);r&&e.on("BeforeSetContent",(e=>{Nt.each(r,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),a.fold((()=>{mz(e).then((()=>gz(e)))}),(t=>{e.setProgressState(!0),mz(e).then((()=>{t().then((t=>{e.setProgressState(!1),gz(e),Ww(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),gz(e),Ww(e)}))}))}))},yz=B,bz=Is.DOM,vz=(e,t)=>{const o=e.translate("Rich Text Area"),n=to(yo.fromDom(e.getElement()),"tabindex").bind(Qe),r=((e,t,o,n)=>{const r=yo.fromTag("iframe");return n.each((e=>Qt(r,"tabindex",e))),Jt(r,o),Jt(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),uo(r,"tox-edit-area__iframe"),r})(e.id,o,Tl(e),n).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=(e=>{let t=Ol(e)+"<html><head>";Ml(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=zl(e),n=Rl(e),r=e.translate(Hc(e));return Nl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Nl(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${n}" data-id="${e.id}" aria-label="${r}"><br></body></html>`,t})(e),bz.add(t.iframeContainer,r)},_z=e=>{const t=e.iframeElement,o=(n=yo.fromDom(t),Cn(n,"load",yz,(()=>{o.unbind(),e.contentDocument=t.contentDocument,fz(e)})));var n;if(Ot.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML},wz=Is.DOM,kz=(e,t,o)=>{const n=Rk.get(o),r=Rk.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Nt.trim(o),n&&-1===Nt.inArray(t,o)){if(e.plugins[o])return;try{const a=n(e,r)||{};e.plugins[o]=a,x(a.init)&&(a.init(e,r),t.push(o))}catch(t){((e,t,o)=>{const n=js.translate(["Failed to initialize plugin: {0}",t]);lp(e,"PluginLoadError",{message:n}),Fk(n,o),Pk(e,n)})(e,o,t)}}},xz=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Sz=e=>{const t=e.getElement();return e.inline?xz(null):(e=>{const t=wz.create("div");return wz.insertAfter(t,e),xz(t,t)})(t)},Cz=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,m(mc(e))?(e=>{const t=e.theme.renderUI;return t?t():Sz(e)})(e):x(mc(e))?(e=>{const t=e.getElement(),o=mc(e)(e,t);return o.editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||e.id+"_parent"),o.iframeContainer&&o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||e.id+"_iframecontainer"),o.height=o.iframeHeight?o.iframeHeight:t.offsetHeight,o})(e):Sz(e)},Ez=async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Nt.trim($l(e)),o=e.ui.registry.getAll().icons,n={...kk.get("default").icons,...kk.get(t).icons};fe(n,((t,n)=>{Ce(o,n)||e.ui.registry.addIcon(n,t)}))})(e),(e=>{const t=mc(e);if(m(t)){const o=Nk.get(t);e.theme=o(e,Nk.urls[t])||{},x(e.theme.init)&&e.theme.init(e,Nk.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=fc(e),o=xk.get(t);e.model=o(e,xk.urls[t])})(e),(e=>{const t=[];q(Rc(e),(o=>{kz(e,t,(e=>e.replace(/^\-/,""))(o))}))})(e);const t=await Cz(e);((e,t)=>{const o={show:H.from(t.show).getOr(E),hide:H.from(t.hide).getOr(E),isEnabled:H.from(t.isEnabled).getOr(B),setEnabled:o=>{e.mode.isReadOnly()||H.from(t.setEnabled).each((e=>e(o)))}};e.ui={...e.ui,...o}})(e,H.from(t.api).getOr({})),e.editorContainer=t.editorContainer,jk(e),e.inline?fz(e):((e,t)=>{vz(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=bz.isHidden(t.editorContainer)),e.getElement().style.display="none",bz.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,_z(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Dz=Is.DOM,Az=e=>"-"===e.charAt(0),Tz=(e,t)=>{const o=ec(t),n=tc(t);if(!js.hasCode(o)&&"en"!==o){const r=Ke(n)?n:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(r).catch((()=>{((e,t,o)=>{Bk(e,"LanguageLoadError",Hk("language",t,o))})(t,r,o)}))}},Oz=(e,t)=>{const o=mc(e);if(m(o)&&!Az(o)&&!Ce(Nk.urls,o)){const n=gc(e),r=n?e.documentBaseURI.toAbsolute(n):`themes/${o}/theme${t}.js`;Nk.load(o,r).catch((()=>{((e,t,o)=>{Bk(e,"ThemeLoadError",Hk("theme",t,o))})(e,r,o)}))}},Mz=(e,t)=>{const o=fc(e);if("plugin"!==o&&!Ce(xk.urls,o)){const n=yc(e),r=m(n)?e.documentBaseURI.toAbsolute(n):`models/${o}/model${t}.js`;xk.load(o,r).catch((()=>{((e,t,o)=>{Bk(e,"ModelLoadError",Hk("model",t,o))})(e,r,o)}))}},zz=(e,t,o)=>H.from(t).filter((e=>Ke(e)&&!kk.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${o}.js`,name:H.some(t)}))),Rz=(e,t,o)=>{const n=zz(t,"default",o),r=(e=>H.from(ql(e)).filter(Ke).map((e=>({url:e,name:H.none()}))))(t).orThunk((()=>zz(t,$l(t),"")));q((e=>{const t=[],o=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(o);return t})([n,r]),(o=>{e.add(o.url).catch((()=>{((e,t,o)=>{Bk(e,"IconsLoadError",Hk("icons",t,o))})(t,o.url,o.name.getOrUndefined())}))}))},Nz=(e,t)=>{const o=(t,o)=>{Rk.load(t,o).catch((()=>{((e,t,o)=>{Bk(e,"PluginLoadError",Hk("plugin",t,o))})(e,o,t)}))};fe(Nc(e),((t,n)=>{o(n,t),e.options.set("plugins",Rc(e).concat(n))})),q(Rc(e),(e=>{!(e=Nt.trim(e))||Rk.urls[e]||Az(e)||o(e,`plugins/${e}/plugin${t}.js`)}))},Iz=(e,t)=>{const o=Ps.ScriptLoader,n=()=>{!e.removed&&(e=>{const t=mc(e);return!m(t)||k(Nk.get(t))})(e)&&(e=>{const t=fc(e);return k(xk.get(t))})(e)&&Ez(e)};Oz(e,t),Mz(e,t),Tz(o,e),Rz(o,e,t),Nz(e,t),o.loadQueue().then(n,n)},Lz=e=>{const t=e.id;js.setCode(ec(e));const o=()=>{Dz.unbind(window,"ready",o),e.render()};if(!Cs.Event.domLoaded)return void Dz.bind(window,"ready",o);if(!e.getElement())return;const n=yo.fromDom(e.getElement()),r=ro(n);e.on("remove",(()=>{Y(n.dom.attributes,(e=>no(n,e.name))),Jt(n,r)})),e.ui.styleSheetLoader=((e,t)=>Pa.forElement(e,{contentCssCors:zc(t),referrerPolicy:Jl(t)}))(n,e),Sc(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const a=e.getElement().form||Dz.getParent(t,"form");a&&(e.formElement=a,Cc(e)&&!Kn(e.getElement())&&(Dz.insertAfter(Dz.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},Dz.bind(a,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!Ec(e)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)))),e.windowManager=Ik(e),e.notificationManager=zk(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=Dz.encode(e.content))})),Dc(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),Ac(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Iz(e,e.suffix)},Pz=xt().deviceType,Bz=Pz.isPhone(),Hz=Pz.isTablet(),Fz=e=>{if(w(e))return[];{const t=y(e)?e:e.split(/[ ,]/),o=$(t,qe);return K(o,Ke)}},Vz=(e,t)=>{const o=((e,t)=>{const o={},n={};return _e(e,t,ve(o),ve(n)),{t:o,f:n}})(t,((t,o)=>W(e,o)));return n=o.t,r=o.f,{sections:T(n),options:T(r)};var n,r},jz=(e,t)=>Ce(e.sections(),t),Uz=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Se(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),Wz=(e,t)=>{var o;const n=null!==(o=t.external_plugins)&&void 0!==o?o:{};return e&&e.external_plugins?Nt.extend({},e.external_plugins,n):n},Zz=(e,t,o,n)=>{const r=Fz(o.forced_plugins),a=Fz(n.plugins),s=((e,t)=>jz(e,t)?e.sections()[t]:{})(t,"mobile"),i=((e,t,o,n)=>e&&jz(t,"mobile")?n:o)(e,t,a,s.plugins?Fz(s.plugins):a),l=((e,t)=>[...Fz(e),...Fz(t)])(r,i);return Nt.extend(n,{forced_plugins:r,plugins:l})},$z=(e,t,o,n,r)=>{var a;const s=e?{mobile:Uz(null!==(a=r.mobile)&&void 0!==a?a:{},t)}:{},i=Vz(["mobile"],HD(s,r)),l=Nt.extend(o,n,i.options(),((e,t)=>e&&jz(t,"mobile"))(e,i)?((e,t,o={})=>{const n=e.sections(),r=Se(n,t).getOr({});return Nt.extend({},o,r)})(i,"mobile"):{},{external_plugins:Wz(n,i.options())});return Zz(e,i,n,l)},qz=(e,t)=>((e,t)=>Uw(e).editor.addVisual(t))(e,t),Yz=e=>{const t=t=>()=>{q("left,center,right,justify".split(","),(o=>{t!==o&&e.formatter.remove("align"+o)})),"none"!==t&&((t,o)=>{e.formatter.toggle(t,o),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})},Gz=e=>{Yz(e),(e=>{const t=t=>()=>{const o=e.selection,n=o.isCollapsed()?[e.dom.getParent(o.getNode(),e.dom.isBlock)]:o.getSelectedBlocks();return Z(n,(o=>k(e.formatter.matchNode(o,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)},Kz=(e,t)=>{const o=e.selection,n=e.dom;return/^ | $/.test(t)?((e,t,o)=>{const n=yo.fromDom(e.getRoot());return o=mf(n,Ui.fromRangeStart(t))?o.replace(/^ /,"&nbsp;"):o.replace(/^&nbsp;/," "),gf(n,Ui.fromRangeEnd(t))?o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o.replace(/&nbsp;(<br( \/)?>)?$/," ")})(n,o.getRng(),t):t},Xz=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:n}=(e=>{if("string"!=typeof e){const t=Nt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);aw(e,{...n,content:Kz(e,o),format:"html",set:!1,selection:!0}).each((t=>{const o=((e,t,o)=>jw(e).editor.insertContent(t,o))(e,t.content,n);sw(e,o,t),e.addVisual()}))}},Qz={"font-size":"size","font-family":"face"},Jz=Kt("font"),eR=(e,t,o)=>ib(yo.fromDom(o),(t=>(t=>cn(t,e).orThunk((()=>Jz(t)?Se(Qz,e).bind((e=>to(t,e))):H.none())))(t)),(e=>wo(yo.fromDom(t),e))),tR=e=>(t,o)=>H.from(o).map(yo.fromDom).filter($t).bind((o=>eR(e,t,o.dom).or(((e,t)=>H.from(Is.DOM.getStyle(t,e,!0)))(e,o.dom)))).getOr(""),oR=tR("font-size"),nR=D((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),tR("font-family")),rR=e=>Eu(e.getBody()).bind((e=>{const t=e.container();return H.from(Xn(t)?t.parentNode:t)})),aR=(e,t)=>(e=>H.from(e.selection.getRng()).bind((t=>{const o=e.getBody();return t.startContainer===o&&0===t.startOffset?H.none():H.from(e.selection.getStart(!0))})))(e).orThunk(z(rR,e)).map(yo.fromDom).filter($t).bind(t),sR=(e,t)=>aR(e,A(H.some,t)),iR=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const n=(e=>Nt.explode(e.options.get("font_size_style_values")))(e),r=(e=>Nt.explode(e.options.get("font_size_classes")))(e);return r.length>0?r[o-1]||t:n[o-1]||t}return t}return t},lR=e=>{const t=e.split(/\s*,\s*/);return $(t,(e=>-1===e.indexOf(" ")||We(e,'"')||We(e,"'")?e:`'${e}'`)).join(",")},cR=e=>{const t=(t,o)=>{e.formatter.toggle(t,o),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,o,n)=>{t(e,{value:n})},BackColor:(e,o,n)=>{t("hilitecolor",{value:n})},FontName:(t,o,n)=>{((e,t)=>{const o=iR(e,t);e.formatter.toggle("fontname",{value:lR(o)}),e.nodeChanged()})(e,n)},FontSize:(t,o,n)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:iR(e,t)}),e.nodeChanged()})(e,n)},LineHeight:(t,o,n)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,n)},Lang:(e,o,n)=>{var r;t(e,{value:n.code,customValue:null!==(r=n.customCode)&&void 0!==r?r:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,o,n)=>{t(m(n)?n:"p")},mceToggleFormat:(e,o,n)=>{t(n)}})},dR=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>sR(e,(t=>nR(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>sR(e,(t=>oR(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>sR(e,(t=>{const o=yo.fromDom(e.getBody()),n=ib(t,(e=>cn(e,"line-height")),z(wo,o));return n.getOrThunk((()=>{const e=parseFloat(sn(t,"line-height")),o=parseFloat(sn(t,"font-size"));return String(e/o)}))})).getOr(""))(e)))},uR=e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{WC(e,"indent")})(e)},Outdent:()=>{ZC(e)}}),e.editorCommands.addCommands({Outdent:()=>VC(e)},"state")},hR=e=>{Gz(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let n;try{o.execCommand(t)}catch(e){n=!0}if("paste"!==t||o.queryCommandEnabled(t)||(n=!0),n||!o.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Ot.os.isMacOS()||Ot.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,n)=>{let r=0;e.dom.getParent(e.selection.getNode(),(t=>!jn(t)||r++!==n||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,o,n)=>{e.selection.select(n)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ar);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,n)=>{Xz(e,e.dom.createHTML("img",{src:n}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,n)=>{Xz(e,e.dom.encode(n))},insertHTML:(t,o,n)=>{Xz(e,n)},mceInsertContent:(t,o,n)=>{Xz(e,n)},mceSetContent:(t,o,n)=>{e.setContent(n)},mceReplaceContent:(t,o,n)=>{e.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})})(e),(e=>{const t=(t,o,n)=>{const r=m(n)?{href:n}:n,a=e.dom.getParent(e.selection.getNode(),"a");g(r)&&m(r.href)&&(r.href=r.href.replace(/ /g,"%20"),a&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})})(e),uR(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{OT(lT,e)},mceInsertNewLine:(t,o,n)=>{MT(e,n)},InsertLineBreak:(t,o,n)=>{OT(yT,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const t=o.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const n=e.selection.getBookmark();e.dom.split(t,o),e.selection.moveToBookmark(n)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&("insertunorderedlist"===t&&"UL"===o.tagName||"insertorderedlist"===t&&"OL"===o.tagName)}},"state")})(e)})(e),(e=>{cR(e),dR(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,n)=>{const r=null!=n?n:e.selection.getNode();if(r!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,n)=>{Ym(e,!0===n)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},pR=["toggleview"],mR=e=>W(pR,e.toLowerCase());class gR{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,o,n){const r=this.editor,a=e.toLowerCase(),s=null==n?void 0:n.skip_focus;if(r.removed)return!1;"mcefocus"!==a&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)||s?(e=>{Om(e).each((t=>e.selection.setRng(t)))})(r):r.focus());if(r.dispatch("BeforeExecCommand",{command:e,ui:t,value:o}).isDefaultPrevented())return!1;const i=this.commands.exec[a];return!!x(i)&&(i(a,t,o),r.dispatch("ExecCommand",{command:e,ui:t,value:o}),!0)}queryCommandState(e){if(!mR(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),o=this.commands.state[t];return!!x(o)&&o(t)}queryCommandValue(e){if(!mR(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),o=this.commands.value[t];return x(o)?o(t):""}addCommands(e,t="exec"){const o=this.commands;fe(e,((e,n)=>{q(n.toLowerCase().split(","),(n=>{o[t][n]=e}))}))}addCommand(e,t,o){const n=e.toLowerCase();this.commands.exec[n]=(e,n,r)=>t.call(null!=o?o:this.editor,n,r)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,o){this.commands.state[e.toLowerCase()]=()=>t.call(null!=o?o:this.editor)}addQueryValueHandler(e,t,o){this.commands.value[e.toLowerCase()]=()=>t.call(null!=o?o:this.editor)}}const fR="data-mce-contenteditable",yR=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch(e){}},bR=(e,t)=>{e.dom.contentEditable=t?"true":"false"},vR=(e,t)=>{const o=yo.fromDom(e.getBody());((e,t,o)=>{go(e,t)&&!o?po(e,t):o&&uo(e,t)})(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{H.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,bR(o,!1),q(Pn(o,'*[contenteditable="true"]'),(e=>{Qt(e,fR,"true"),bR(e,!1)}))):(e.readonly=!1,bR(o,!0),(e=>{q(Pn(e,`*[${fR}="true"]`),(e=>{no(e,fR),bR(e,!0)}))})(o),yR(e,"StyleWithCSS",!1),yR(e,"enableInlineTableEditing",!1),yR(e,"enableObjectResizing",!1),$m(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())},_R=e=>e.readonly,wR=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{_R(e)&&q(t,(e=>{e.attr(fR,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(fR,(t=>{_R(e)&&q(t,(e=>{e.attr("contenteditable",e.attr(fR))}))})),e.serializer.addTempAttr(fR)},kR=["copy"],xR=(e,t)=>{if((e=>"click"===e.type)(t)&&!mp.metaKeyPressed(t)){const o=yo.fromDom(t.target);((e,t)=>Jo(t,"a",(t=>wo(t,yo.fromDom(e.getBody())))).bind((e=>to(e,"href"))))(e,o).each((o=>{if(t.preventDefault(),/^#/.test(o)){const t=e.dom.select(`${o},[name="${je(o,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(o,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>W(kR,e.type))(t)&&e.dispatch(t.type,t)},SR=Nt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class CR{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||P}static isNative(e){return!!SR[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const o=e.toLowerCase(),n=vs(o,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(n);const r=this.bindings[o];if(r)for(let e=0,t=r.length;e<t;e++){const t=r[e];if(!t.removed){if(t.once&&this.off(o,t.func),n.isImmediatePropagationStopped())return n;if(!1===t.func.call(this.scope,n))return n.preventDefault(),n}}return n}on(e,t,o,n){if(!1===t&&(t=P),t){const r={func:t,removed:!1};n&&Nt.extend(r,n);const a=e.toLowerCase().split(" ");let s=a.length;for(;s--;){const e=a[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=o?[r,...t]:[...t,r],this.bindings[e]=t}}return this}off(e,t){if(e){const o=e.toLowerCase().split(" ");let n=o.length;for(;n--;){const r=o[n];let a=this.bindings[r];if(!r)return fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(a){if(t){const e=G(a,(e=>e.func===t));a=e.fail,this.bindings[r]=a,q(e.pass,(e=>{e.removed=!0}))}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[r])}}}else fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,o){return this.on(e,t,o,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const ER=e=>(e._eventDispatcher||(e._eventDispatcher=new CR({scope:e,toggleEvent:(t,o)=>{CR.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),DR={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const n=this;if(n.removed&&"remove"!==e&&"detach"!==e)return vs(e.toLowerCase(),null!=t?t:{},n);const r=ER(n).dispatch(e,t);if(!1!==o&&n.parent){let t=n.parent();for(;t&&!r.isPropagationStopped();)t.dispatch(e,r,!1),t=t.parent?t.parent():void 0}return r},on(e,t,o){return ER(this).on(e,t,o)},off(e,t){return ER(this).off(e,t)},once(e,t){return ER(this).once(e,t)},hasEventListeners(e){return ER(this).has(e)}},AR=Is.DOM;let TR;const OR=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=hc(e);return o?(e.eventRoot||(e.eventRoot=AR.select(o)[0]),e.eventRoot):e.getBody()},MR=(e,t,o)=>{(e=>!e.hidden&&!_R(e))(e)?e.dispatch(t,o):_R(e)&&xR(e,o)},zR=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=OR(e,t);if(hc(e)){if(TR||(TR={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||TR&&(fe(TR,((t,o)=>{e.dom.unbind(OR(e,o))})),TR=null)}))),TR[t])return;const n=o=>{const n=o.target,r=e.editorManager.get();let a=r.length;for(;a--;){const e=r[a].getBody();(e===n||AR.isChildOf(n,e))&&MR(r[a],t,o)}};TR[t]=n,AR.bind(o,t,n)}else{const n=o=>{MR(e,t,o)};AR.bind(o,t,n),e.delegates[t]=n}},RR={...DR,bindPendingEventDelegates(){const e=this;Nt.each(e._pendingNativeEvents,(t=>{zR(e,t)}))},toggleNativeEvent(e,t){const o=this;"focus"!==e&&"blur"!==e&&(o.removed||(t?o.initialized?zR(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(OR(o,e),e,o.delegates[e]),delete o.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(fe(e.delegates,((t,o)=>{e.dom.unbind(OR(e,o),o,t)})),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},NR=e=>m(e)?{value:e.split(/[ ,]/),valid:!0}:C(e,m)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},IR=(e,t)=>e+(Xe(t.message)?"":`. ${t.message}`),LR=e=>e.valid,PR=(e,t,o="")=>{const n=t(e);return v(n)?n?{value:e,valid:!0}:{valid:!1,message:o}:n},BR=(e,t)=>{const o={},n={},r=(e,t,o)=>{const r=PR(t,o);return LR(r)?(n[e]=r.value,!0):(console.warn(IR(`Invalid value passed for the ${e} option`,r)),!1)},a=e=>Ce(o,e);return{register:(e,a)=>{const s=(e=>m(e.processor))(a)?(e=>{const t=(()=>{switch(e){case"array":return y;case"boolean":return v;case"function":return x;case"number":return S;case"object":return g;case"string":return m;case"string[]":return NR;case"object[]":return e=>C(e,g);case"regexp":return e=>p(e,RegExp);default:return B}})();return o=>PR(o,t,`The value must be a ${e}.`)})(a.processor):a.processor,i=((e,t,o)=>{if(!_(t)){const n=PR(t,o);if(LR(n))return n.value;console.error(IR(`Invalid default value passed for the "${e}" option`,n))}})(e,a.default,s);o[e]={...a,default:i,processor:s};Se(n,e).orThunk((()=>Se(t,e))).each((t=>r(e,t,s)))},isRegistered:a,get:e=>Se(n,e).orThunk((()=>Se(o,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(a(e)){const n=o[e];return n.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):r(e,t,n.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=a(e);return t&&delete n[e],t},isSet:e=>Ce(n,e)}},HR=["design","readonly"],FR=(e,t,o,n)=>{const r=o[t.get()],a=o[n];try{a.activate()}catch(e){return void console.error(`problem while activating editor mode ${n}:`,e)}r.deactivate(),r.editorReadOnly!==a.editorReadOnly&&vR(e,a.editorReadOnly),t.set(n),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,n)},VR=e=>{const t=Bs("design"),o=Bs({design:{activate:E,deactivate:E,editorReadOnly:!1},readonly:{activate:E,deactivate:E,editorReadOnly:!0}});return(e=>{e.serializer?wR(e):e.on("PreInit",(()=>{wR(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{_R(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{_R(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>_R(e),set:n=>((e,t,o,n)=>{if(n!==o.get()){if(!Ce(t,n))throw new Error(`Editor mode '${n}' is invalid`);e.initialized?FR(e,o,t,n):e.on("init",(()=>FR(e,o,t,n)))}})(e,o.get(),t,n),get:()=>t.get(),register:(e,t)=>{o.set(((e,t,o)=>{if(W(HR,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(o.get(),e,t))}}},jR=Nt.each,UR=Nt.explode,WR={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},ZR=Nt.makeMap("alt,ctrl,shift,meta,access"),$R=e=>{const t={},o=Ot.os.isMacOS()||Ot.os.isiOS();jR(UR(e.toLowerCase(),"+"),(e=>{(e=>e in ZR)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=WR[e]||e.toUpperCase().charCodeAt(0))}));const n=[t.keyCode];let r;for(r in ZR)t[r]?n.push(r):t[r]=!1;return t.id=n.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class qR{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(jR(t.shortcuts,(o=>{t.matchShortcut(e,o)&&(t.pendingPatterns=o.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(o))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,o,n){const r=this,a=r.normalizeCommandFunc(o);return jR(UR(Nt.trim(e)),(e=>{const o=r.createShortcut(e,t,a,n);r.shortcuts[o.id]=o})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,o=e;return"string"==typeof o?()=>{t.editor.execCommand(o,!1,null)}:Nt.isArray(o)?()=>{t.editor.execCommand(o[0],o[1],o[2])}:o}createShortcut(e,t,o,n){const r=Nt.map(UR(e,">"),$R);return r[r.length-1]=Nt.extend(r[r.length-1],{func:o,scope:n||this.editor}),Nt.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const YR=()=>{const e=(()=>{const e={},t={},o={},n={},r={},a={},s={},i={},l=(e,t)=>(o,n)=>{e[o.toLowerCase()]={...n,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(o,"autocompleter"),addContextMenu:l(r,"contextmenu"),addContextToolbar:l(a,"contexttoolbar"),addContextForm:l(a,"contextform"),addSidebar:l(s,"sidebar"),addView:l(i,"views"),addIcon:(e,t)=>n[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:n,popups:o,contextMenus:r,contextToolbars:a,sidebars:s,views:i})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},GR=Is.DOM,KR=Nt.extend,XR=Nt.each;class QR{constructor(e,t,o){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=o,this.documentBaseUrl=o.documentBaseURL,KR(this,RR);const n=this;this.id=e,this.hidden=!1;const r=((e,t)=>$z(Bz||Hz,Bz,t,e,t))(o.defaultOptions,t);this.options=BR(0,r),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Al(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Al(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=m(e)&&Ke(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=W(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>v(e)||m(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||m(e)||C(e,m);return t?m(e)?{value:$(e.split(","),qe),valid:t}:y(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Sc(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=m(e)||C(e,m);return t?{value:y(e)?e:$(e.split(","),qe),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=v(e)||m(e);return t?!1===e||kl.isiPhone()||kl.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!xl}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||m(e)||x(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||m(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Dl}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Dl}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Dl}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>m(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>C(e,g)||!1===e?{value:wl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return x(e)?{value:(t=e,e=>{const o=t(e);return wl(o)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>C(e,Cl)?{value:e,valid:!0}:Cl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:js.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Sl.getAttrib(e.getElement(),"placeholder")})}))})(n);const a=this.options.get;a("deprecation_warnings")&&yk(t,r);const s=a("suffix");s&&(o.suffix=s),this.suffix=o.suffix;const i=a("base_url");i&&o._setBaseUrl(i),this.baseUri=o.baseURI;const l=Jl(n);l&&(Ps.ScriptLoader._setReferrerPolicy(l),Is.DOM.styleSheetLoader._setReferrerPolicy(l));const c=zc(n);k(c)&&Is.DOM.styleSheetLoader._setContentCssCors(c),Us.languageLoad=a("language_load"),Us.baseURL=o.baseURL,this.setDirty(!1),this.documentBaseURI=new V_(Ml(n),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Sc(n),this.hasVisual=Lc(n),this.shortcuts=new qR(this),this.editorCommands=new gR(this),hR(this);const d=a("cache_suffix");d&&(Ot.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:YR(),styleSheetLoader:void 0,show:E,hide:E,setEnabled:E,isEnabled:B},this.mode=VR(n),o.dispatch("SetupEditor",{editor:this});const u=Fc(n);x(u)&&u.call(n,n)}render(){Lz(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return Zm(this)}translate(e){return js.translate(e)}getParam(e,t,o){const n=this.options;return n.isRegistered(e)||(k(o)?n.register(e,{processor:o,default:t}):n.register(e,{processor:B,default:t})),n.isSet(e)||_(t)?n.get(e):t}hasPlugin(e,t){return!!W(Rc(this),e)&&(!t||void 0!==Rk.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,o){this.editorCommands.addCommand(e,t,o)}addQueryStateHandler(e,t,o){this.editorCommands.addQueryStateHandler(e,t,o)}addQueryValueHandler(e,t,o){this.editorCommands.addQueryValueHandler(e,t,o)}addShortcut(e,t,o,n){this.shortcuts.add(e,t,o,n)}execCommand(e,t,o,n){return this.editorCommands.execCommand(e,t,o,n)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(GR.show(e.getContainer()),GR.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(GR.hide(e.getContainer()),GR.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,o=t.getElement();if(t.removed)return"";if(o){const n={...e,load:!0},r=Kn(o)?o.value:o.innerHTML,a=t.setContent(r,n);return n.no_events||t.dispatch("LoadContent",{...n,element:o}),a}return""}save(e={}){const t=this;let o=t.getElement();if(!o||!t.initialized||t.removed)return"";const n={...e,save:!0,element:o};let r=t.getContent(n);const a={...n,content:r};if(a.no_events||t.dispatch("SaveContent",a),"raw"===a.format&&t.dispatch("RawSaveContent",a),r=a.content,Kn(o))o.value=r;else{!e.is_removing&&t.inline||(o.innerHTML=r);const n=GR.getParent(t.id,"form");n&&XR(n.elements,(e=>e.name!==t.id||(e.value=r,!1)))}return a.element=n.element=o=null,!1!==a.set_dirty&&t.setDirty(!1),r}setContent(e,t){return ak(this,e,t)}getContent(e){return rk(this,e)}insertContent(e,t){t&&(e=KR({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?ak(this,this.startContent,{format:"raw"}):ak(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||GR.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=GR.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const o=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==o?void 0:o.body)&&void 0!==t?t:null}convertURL(e,t,o){const n=this,r=n.options.get,a=jc(n);return x(a)?a.call(n,e,o,!0,t):!r("convert_urls")||"link"===o||g(o)&&"LINK"===o.nodeName||0===e.indexOf("file:")||0===e.length?e:r("relative_urls")?n.documentBaseURI.toRelative(e):e=n.documentBaseURI.toAbsolute(e,r("remove_script_host"))}addVisual(e){qz(this,e)}remove(){_k(this)}destroy(e){wk(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const JR=Is.DOM,eN=Nt.each;let tN,oN=!1,nN=[];const rN=e=>{const t=e.type;eN(lN.get(),(o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e)}}))},aN=e=>{if(e!==oN){const t=Is.DOM;e?(t.bind(window,"resize",rN),t.bind(window,"scroll",rN)):(t.unbind(window,"resize",rN),t.unbind(window,"scroll",rN)),oN=e}},sN=e=>{const t=nN;return nN=K(nN,(t=>e!==t)),lN.activeEditor===e&&(lN.activeEditor=nN.length>0?nN[0]:null),lN.focusedEditor===e&&(lN.focusedEditor=null),t.length!==nN.length},iN="CSS1Compat"!==document.compatMode,lN={...DR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.1",releaseDate:"2023-03-29",i18n:js,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",n=V_.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));const r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,o=r.suffix;else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const r=e[n].src||"";if(""===r)continue;const a=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==a.indexOf(".min")&&(o=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(o=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var a;e.baseURL=new V_(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new V_(e.baseURL),e.suffix=o,(a=e).on("AddEditor",z(Hm,a)),a.on("RemoveEditor",z(Fm,a))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const n=e.plugin_base_urls;void 0!==n&&fe(n,((e,t)=>{Us.PluginManager.urls[t]=e}))},init(e){const t=this;let o;const n=Nt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let r=e=>{o=e};const a=()=>{let o=0;const s=[];let i;JR.unbind(window,"ready",a),(o=>{const n=e[o];if(n)n.apply(t,[])})("onpageload"),i=((e,t)=>{const o=[],n=x(t)?e=>Z(o,(o=>t(o,e))):e=>W(o,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];n(r)||o.push(r)}return o})((e=>Ot.browser.isIE()||Ot.browser.isEdge()?(Fk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):iN?(Fk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):m(e.selector)?JR.select(e.selector):k(e.target)?[e.target]:[])(e)),Nt.each(i,(e=>{var o;(o=t.get(e.id))&&o.initialized&&!(o.getContainer()||o.getBody()).parentNode&&(sN(o),o.unbindAllNativeEvents(),o.destroy(!0),o.removed=!0)})),i=Nt.grep(i,(e=>!t.get(e.id))),0===i.length?r([]):eN(i,(a=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in n)(e,a)?Fk("Could not initialize inline editor on invalid inline target element",a):((e,n,a)=>{const l=new QR(e,n,t);s.push(l),l.on("init",(()=>{++o===i.length&&r(s)})),l.targetElm=l.targetElm||a,l.render()})((e=>{let t=e.id;return t||(t=Se(e,"name").filter((e=>!JR.get(e))).getOrThunk(JR.uniqueId),e.setAttribute("id",t)),t})(a),e,a)}))};return JR.bind(window,"ready",a),new Promise((e=>{o?e(o):r=t=>{e(t)}}))},get(e){return 0===arguments.length?nN.slice(0):m(e)?ee(nN,(t=>t.id===e)).getOr(null):S(e)&&nN[e]?nN[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(null===o&&nN.push(e),aN(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),tN||(tN=e=>{const o=t.dispatch("BeforeUnload");if(o.returnValue)return e.preventDefault(),e.returnValue=o.returnValue,o.returnValue},window.addEventListener("beforeunload",tN))),e},createEditor(e,t){return this.add(new QR(e,t,this))},remove(e){const t=this;let o;if(e){if(!m(e))return o=e,b(t.get(o.id))?null:(sN(o)&&t.dispatch("RemoveEditor",{editor:o}),0===nN.length&&window.removeEventListener("beforeunload",tN),o.remove(),aN(nN.length>0),o);eN(JR.select(e),(e=>{o=t.get(e.id),o&&t.remove(o)}))}else for(let e=nN.length-1;e>=0;e--)t.remove(nN[e])},execCommand(e,t,o){var n;const r=this,a=g(o)?null!==(n=o.id)&&void 0!==n?n:o.index:o;switch(e){case"mceAddEditor":if(!r.get(a)){const e=o.options;new QR(a,e,r).render()}return!0;case"mceRemoveEditor":{const e=r.get(a);return e&&e.remove(),!0}case"mceToggleEditor":{const e=r.get(a);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand("mceAddEditor",!1,o),!0)}}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,o)},triggerSave:()=>{eN(nN,(e=>{e.save()}))},addI18n:(e,t)=>{js.add(e,t)},translate:e=>js.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new V_(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new V_(this.baseURL)}};lN.setup();const cN=(()=>{const e=Zs();return{FakeClipboardItem:e=>({items:e,types:me(e),getType:t=>Se(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),dN=Math.min,uN=Math.max,hN=Math.round,pN=(e,t,o)=>{let n=t.x,r=t.y;const a=e.w,s=e.h,i=t.w,l=t.h,c=(o||"").split("");return"b"===c[0]&&(r+=l),"r"===c[1]&&(n+=i),"c"===c[0]&&(r+=hN(l/2)),"c"===c[1]&&(n+=hN(i/2)),"b"===c[3]&&(r-=s),"r"===c[4]&&(n-=a),"c"===c[3]&&(r-=hN(s/2)),"c"===c[4]&&(n-=hN(a/2)),mN(n,r,a,s)},mN=(e,t,o,n)=>({x:e,y:t,w:o,h:n}),gN={inflate:(e,t,o)=>mN(e.x-t,e.y-o,e.w+2*t,e.h+2*o),relativePosition:pN,findBestRelativePosition:(e,t,o,n)=>{for(let r=0;r<n.length;r++){const a=pN(e,t,n[r]);if(a.x>=o.x&&a.x+a.w<=o.w+o.x&&a.y>=o.y&&a.y+a.h<=o.h+o.y)return n[r]}return null},intersect:(e,t)=>{const o=uN(e.x,t.x),n=uN(e.y,t.y),r=dN(e.x+e.w,t.x+t.w),a=dN(e.y+e.h,t.y+t.h);return r-o<0||a-n<0?null:mN(o,n,r-o,a-n)},clamp:(e,t,o)=>{let n=e.x,r=e.y,a=e.x+e.w,s=e.y+e.h;const i=t.x+t.w,l=t.y+t.h,c=uN(0,t.x-n),d=uN(0,t.y-r),u=uN(0,a-i),h=uN(0,s-l);return n+=c,r+=d,o&&(a+=c,s+=d,n-=u,r-=h),a-=u,s-=h,mN(n,r,a-n,s-r)},create:mN,fromClientRect:e=>mN(e.left,e.top,e.width,e.height)},fN=(()=>{const e={},t={};return{load:(o,n)=>{const r=`Script at URL "${n}" failed to load`,a=`Script at URL "${n}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(void 0!==e[o])return e[o];{const s=new Promise(((e,s)=>{const i=((e,t,o=1e3)=>{let n=!1,r=null;const a=e=>(...t)=>{n||(n=!0,null!==r&&(clearTimeout(r),r=null),e.apply(null,t))},s=a(e),i=a(t);return{start:(...e)=>{n||null!==r||(r=setTimeout((()=>i.apply(null,e)),o))},resolve:s,reject:i}})(e,s);t[o]=i.resolve,Ps.ScriptLoader.loadScript(n).then((()=>i.start(a)),(()=>i.reject(r)))}));return e[o]=s,s}},add:(o,n)=>{void 0!==t[o]&&(t[o](n),delete t[o]),e[o]=Promise.resolve(n)},unload:t=>{delete e[t]}}})();let yN;try{const e="__storage_test__";yN=window.localStorage,yN.setItem(e,e),yN.removeItem(e)}catch(e){yN=(()=>{let e={},t=[];const o={getItem:t=>e[t]||null,setItem:(o,n)=>{t.push(o),e[o]=String(n)},key:e=>t[e],removeItem:o=>{t=t.filter((e=>e===o)),delete e[o]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})()}const bN={geom:{Rect:gN},util:{Delay:zm,Tools:Nt,VK:mp,URI:V_,EventDispatcher:CR,Observable:DR,I18n:js,LocalStorage:yN,ImageUploader:e=>{const t=Wk(),o=Gk(e,t);return{upload:(t,n=!0)=>o.upload(t,n?Yk(e):void 0)}}},dom:{EventUtils:Cs,TreeWalker:Hn,TextSeeker:pi,DOMUtils:Is,ScriptLoader:Ps,RangeUtils:Kp,Serializer:nk,StyleSheetLoader:La,ControlSelection:vp,BookmarkManager:sp,Selection:Qw,Event:Cs.Event},html:{Styles:gs,Entities:ts,Node:hg,Schema:ms,DomParser:tw,Writer:kg,Serializer:xg},Env:Ot,AddOnManager:Us,Annotator:ap,Formatter:lx,UndoManager:dx,EditorCommands:gR,WindowManager:Ik,NotificationManager:zk,EditorObservable:RR,Shortcuts:qR,Editor:QR,FocusManager:Mm,EditorManager:lN,DOM:Is.DOM,ScriptLoader:Ps.ScriptLoader,PluginManager:Rk,ThemeManager:Nk,ModelManager:xk,IconManager:kk,Resource:fN,FakeClipboard:cN,trim:Nt.trim,isArray:Nt.isArray,is:Nt.is,toArray:Nt.toArray,makeMap:Nt.makeMap,each:Nt.each,map:Nt.map,grep:Nt.grep,inArray:Nt.inArray,extend:Nt.extend,walk:Nt.walk,resolve:Nt.resolve,explode:Nt.explode,_addCacheSuffix:Nt._addCacheSuffix},vN=Nt.extend(lN,bN);(e=>{window.tinymce=e,window.tinyMCE=e})(vN),(t=>{try{e.exports=t}catch(e){}})(vN)}()},8636:(e,t,o)=>{"use strict";o.d(t,{f:()=>se,rx:()=>u});var n=o(7920),r=o(6400);o(9748);const a=[],s={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},i=Object.assign(Object.assign({},s),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function l(e){let t=e.length>0?e[0].code:"en",o=a.concat(e),n={en:i};for(let e of o)n[e.code]=e;return{map:n,defaultCode:t}}function c(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){let o=[].concat(e||[]),n=function(e,t){for(let o=0;o<e.length;o+=1){let n=e[o].toLocaleLowerCase().split("-");for(let e=n.length;e>0;e-=1){let o=n.slice(0,e).join("-");if(t[o])return t[o]}}return null}(o,t)||i;return d(e,o,n)}(e,t):d(e.code,[e.code],e)}function d(e,t,o){let r=(0,n.m)([s,o],["buttonText"]);delete r.code;let{week:a}=r;return delete r.week,{codeArg:e,codes:t,week:a,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function u(e){return{id:(0,n.g)(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function h(){let e,t=[],o=[];return(r,a)=>(e&&(0,n.i)(r,t)&&(0,n.i)(a,o)||(e=function(e,t){let o={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(e){for(let s of e){const e=s.name,i=o[e];void 0===i?(o[e]=s.id,r(s.deps),a=s,n={premiumReleaseDate:p((t=n).premiumReleaseDate,a.premiumReleaseDate),reducers:t.reducers.concat(a.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(a.isLoadingFuncs),contextInit:t.contextInit.concat(a.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),a.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(a.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),a.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(a.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(a.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(a.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(a.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(a.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(a.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),a.views),viewPropsTransformers:t.viewPropsTransformers.concat(a.viewPropsTransformers),isPropsValid:a.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(a.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(a.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(a.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(a.calendarInteractions),componentInteractions:t.componentInteractions.concat(a.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),a.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(a.eventSourceDefs),cmdFormatter:a.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(a.recurringTypes),namedTimeZonedImpl:a.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||a.initialView,elementDraggingImpl:t.elementDraggingImpl||a.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),a.optionChangeHandlers),scrollGridImpl:a.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),a.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),a.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),a.propSetHandlers)}):i!==s.id&&console.warn(`Duplicate plugin '${e}'`)}var t,a}return e&&r(e),r(t),n}(r,a)),t=r,o=a,e)}function p(e,t){return void 0===e?t:void 0===t?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class m extends n.T{}function g(e,t,o,n){if(t[e])return t[e];let r=function(e,t,o,n){let r=o[e],a=n[e],s=e=>r&&null!==r[e]?r[e]:a&&null!==a[e]?a[e]:null,i=s("component"),l=s("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=g(l,t,o,n)}!i&&c&&(i=c.component);if(!i)return null;return{type:e,component:i,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),a?a.rawOptions:{})}}(e,t,o,n);return r&&(t[e]=r),r}function f(e){return(0,n.a)(e,y)}function y(e){let t="function"==typeof e?{component:e}:e,{component:o}=t;var a;return t.content&&(a=t,o=e=>(0,r.az)(n.V.Consumer,null,(t=>(0,r.az)(n.C,{elTag:"div",elClasses:(0,n.b)(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:a.content,classNameGenerator:a.classNames,didMount:a.didMount,willUnmount:a.willUnmount})))),{superType:t.type,component:o,rawOptions:t}}function b(e,t,o,r){let a=f(e),s=f(t.views),i=function(e,t){let o,n={};for(o in e)g(o,n,e,t);for(o in t)g(o,n,e,t);return n}(a,s);return(0,n.a)(i,(e=>function(e,t,o,r,a){let s=e.overrides.duration||e.defaults.duration||r.duration||o.duration,i=null,l="",c="",d={};if(s&&(i=function(e){let t=JSON.stringify(e),o=v[t];void 0===o&&(o=(0,n.d)(e),v[t]=o);return o}(s),i)){let e=(0,n.c)(i);l=e.unit,1===e.value&&(c=l,d=t[l]?t[l].rawOptions:{})}let u=t=>{let o=t.buttonText||{},n=e.defaults.buttonTextKey;return null!=n&&null!=o[n]?o[n]:null!=o[e.type]?o[e.type]:null!=o[c]?o[c]:null},h=t=>{let o=t.buttonHints||{},n=e.defaults.buttonTextKey;return null!=n&&null!=o[n]?o[n]:null!=o[e.type]?o[e.type]:null!=o[c]?o[c]:null};return{type:e.type,component:e.component,duration:i,durationUnit:l,singleUnit:c,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},d),e.overrides),buttonTextOverride:u(r)||u(o)||e.overrides.buttonText,buttonTextDefault:u(a)||e.defaults.buttonText||u(n.B)||e.type,buttonTitleOverride:h(r)||h(o)||e.overrides.buttonHint,buttonTitleDefault:h(a)||e.defaults.buttonHint||h(n.B)}}(e,s,t,o,r)))}m.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},m.prototype.baseIconClass="fc-icon",m.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},m.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},m.prototype.iconOverrideOption="buttonIcons",m.prototype.iconOverrideCustomButtonOption="icon",m.prototype.iconOverridePrefix="fc-icon-";let v={};function _(e,t,o){let r=t?t.activeRange:null;return x({},function(e,t){let o=(0,n.h)(t),r=[].concat(e.eventSources||[]),a=[];e.initialEvents&&r.unshift(e.initialEvents);e.events&&r.unshift(e.events);for(let e of r){let r=(0,n.p)(e,t,o);r&&a.push(r)}return a}(e,o),r,o)}function w(e,t,o,r){let a=o?o.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return x(e,t.sources,a,r);case"REMOVE_EVENT_SOURCE":return s=e,i=t.sourceId,(0,n.f)(s,(e=>e.sourceId!==i));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return o?S(e,a,r):e;case"FETCH_EVENT_SOURCES":return C(e,t.sourceIds?(0,n.e)(t.sourceIds):D(e,r),a,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,o,n){let r=e[t];if(r&&o===r.latestFetchId)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:n})});return e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}var s,i}function k(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function x(e,t,o,n){let r={};for(let e of t)r[e.sourceId]=e;return o&&(r=S(r,o,n)),Object.assign(Object.assign({},e),r)}function S(e,t,o){return C(e,(0,n.f)(e,(e=>function(e,t,o){if(!A(e,o))return!e.latestFetchId;return!o.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end}(e,t,o))),t,!1,o)}function C(e,t,o,n,r){let a={};for(let s in e){let i=e[s];t[s]?a[s]=E(i,o,n,r):a[s]=i}return a}function E(e,t,o,r){let{options:a,calendarApi:s}=r,i=r.pluginHooks.eventSourceDefs[e.sourceDefId],l=(0,n.g)();return i.fetch({eventSource:e,range:t,isRefetch:o,context:r},(o=>{let{rawEvents:n}=o;a.eventSourceSuccess&&(n=a.eventSourceSuccess.call(s,n,o.response)||n),e.success&&(n=e.success.call(s,n,o.response)||n),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:n})}),(o=>{let n=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(s,o),n=!0),e.failure&&(e.failure(o),n=!0),n||console.warn(o.message,o),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:o})})),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}function D(e,t){return(0,n.f)(e,(e=>A(e,t)))}function A(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function T(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function O(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function M(e,t){let o;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return o=t.state,{affectedEvents:o.affectedEvents,mutatedEvents:o.mutatedEvents,isEvent:o.isEvent};default:return e}}function z(e,t){let o;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return o=t.state,{affectedEvents:o.affectedEvents,mutatedEvents:o.mutatedEvents,isEvent:o.isEvent};default:return e}}function R(e,t,o,n,r){return{header:e.headerToolbar?N(e.headerToolbar,e,t,o,n,r):null,footer:e.footerToolbar?N(e.footerToolbar,e,t,o,n,r):null}}function N(e,t,o,n,r,a){let s={},i=[],l=!1;for(let c in e){let d=I(e[c],t,o,n,r,a);s[c]=d.widgets,i.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:i,hasTitle:l}}function I(e,t,o,r,a,s){let i="rtl"===t.direction,l=t.customButtons||{},c=o.buttonText||{},d=t.buttonText||{},u=o.buttonHints||{},h=t.buttonHints||{},p=e?e.split(" "):[],m=[],g=!1;return{widgets:p.map((e=>e.split(",").map((e=>{if("title"===e)return g=!0,{buttonName:e};let o,p,f,y,b,v;if(o=l[e])f=e=>{o.click&&o.click.call(e.target,e,e.target)},(y=r.getCustomButtonIconClass(o))||(y=r.getIconClass(e,i))||(b=o.text),v=o.hint||o.text;else if(p=a[e]){m.push(e),f=()=>{s.changeView(e)},(b=p.buttonTextOverride)||(y=r.getIconClass(e,i))||(b=p.buttonTextDefault);let o=p.buttonTextOverride||p.buttonTextDefault;v=(0,n.j)(p.buttonTitleOverride||p.buttonTitleDefault||t.viewHint,[o,e],o)}else if(s[e])if(f=()=>{s[e]()},(b=c[e])||(y=r.getIconClass(e,i))||(b=d[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";v=(0,n.j)(u[t]||h[t],[d.year||"year","year"],d[e])}else v=t=>(0,n.j)(u[e]||h[e],[d[t]||t,t],d[e]);return{buttonName:e,buttonClick:f,buttonIcon:y,buttonText:b,buttonHint:v}})))),viewsWithButtons:m,hasTitle:g}}class L{constructor(e,t,o){this.type=e,this.getCurrentData=t,this.dateEnv=o}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}function P(e,t){let o=(0,n.t)(t.getCurrentData().eventSources);if(1===o.length&&1===e.length&&Array.isArray(o[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:o[0].sourceId,rawEvents:e[0]});let r=[];for(let t of e){let e=!1;for(let n=0;n<o.length;n+=1)if(o[n]._raw===t){o.splice(n,1),e=!0;break}e||r.push(t)}for(let e of o)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}const B=[u({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),u({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,o){const{dateEnv:r}=e.context,a=e.eventSource.meta;(0,n.u)(a.bind(null,(0,n.k)(e.range,r)),(e=>t({rawEvents:e})),o)}}]}),u({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:n.l,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:e=>!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam},fetch(e,t,o){const{meta:r}=e.eventSource,a=function(e,t,o){let n,r,a,s,{dateEnv:i,options:l}=o,c={};n=e.startParam,null==n&&(n=l.startParam);r=e.endParam,null==r&&(r=l.endParam);a=e.timeZoneParam,null==a&&(a=l.timeZoneParam);s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};Object.assign(c,s),c[n]=i.formatIso(t.start),c[r]=i.formatIso(t.end),"local"!==i.timeZone&&(c[a]=i.timeZone);return c}(r,e.range,e.context);(0,n.r)(r.method,r.url,a).then((([e,o])=>{t({rawEvents:e,response:o})}),o)}}]}),u({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let o,r={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null};return e.duration&&(o=e.duration),!o&&e.startTime&&e.endTime&&(o=(0,n.s)(e.endTime,e.startTime)),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:o,typeData:r}}return null},expand(e,t,o){let r=(0,n.n)(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,o,r){let a=e?(0,n.e)(e):null,s=(0,n.o)(o.start),i=o.end,l=[];for(;s<i;){let e;a&&!a[s.getUTCDay()]||(e=t?r.add(s,t):s,l.push(e)),s=(0,n.q)(s,1)}return l}(e.daysOfWeek,e.startTime,r,o):[]}}],eventRefiners:{daysOfWeek:n.l,startTime:n.d,endTime:n.d,duration:n.d,startRecur:n.l,endRecur:n.l}}),u({name:"change-handler",optionChangeHandlers:{events(e,t){P([e],t)},eventSources:P}}),u({name:"misc",isLoadingFuncs:[e=>k(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},(0,n.k)(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:o}=t;o.hasHandlers("eventsSet")&&o.trigger("eventsSet",(0,n.v)(e,t))}}})];class H{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new n.D(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,o=[];for(;t=e.shift();)this.runTask(t),o.push(t);this.drained(o)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function F(e,t,o){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,o.formatRange(r.start,r.end,(0,n.w)(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let o=(0,n.x)(e.currentRange.start,e.currentRange.end);if(null!==o&&o>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class V{constructor(e){this.computeCurrentViewData=(0,n.y)(this._computeCurrentViewData),this.organizeRawLocales=(0,n.y)(l),this.buildLocale=(0,n.y)(c),this.buildPluginHooks=h(),this.buildDateEnv=(0,n.y)(j),this.buildTheme=(0,n.y)(U),this.parseToolbars=(0,n.y)(R),this.buildViewSpecs=(0,n.y)(b),this.buildDateProfileGenerator=(0,n.z)(W),this.buildViewApi=(0,n.y)(Z),this.buildViewUiProps=(0,n.z)(Y),this.buildEventUiBySource=(0,n.y)($,n.A),this.buildEventUiBases=(0,n.y)(q),this.parseContextBusinessHours=(0,n.z)(K),this.buildTitle=(0,n.y)(F),this.emitter=new n.E,this.actionRunner=new H(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause();let t={},o=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=o.calendarOptions.initialView||o.pluginHooks.initialView,a=this.computeCurrentViewData(r,o,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s=(0,n.F)(o.calendarOptions,o.dateEnv),i=a.dateProfileGenerator.build(s);(0,n.G)(i.activeRange,s)||(s=i.currentRange.start);let d={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let e of o.pluginHooks.contextInit)e(d);let u=_(o.calendarOptions,i,d),p={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:i,businessHours:this.parseContextBusinessHours(d),eventSources:u,eventUiBases:{},eventStore:(0,n.H)(),renderableEventStore:(0,n.H)(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(d).selectionConfig},m=Object.assign(Object.assign({},d),p);for(let e of o.pluginHooks.reducers)Object.assign(p,e(null,null,m));G(p,d)&&this.emitter.trigger("loading",!0),this.state=p,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:o}=this;void 0===t?o.optionOverrides=e:(o.optionOverrides=Object.assign(Object.assign({},o.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:o,emitter:r}=this,a=function(e,t){return"SET_OPTION"===t.type?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}(o.dynamicOptionOverrides,e),s=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),i=function(e,t){"CHANGE_VIEW_TYPE"===t.type&&(e=t.viewType);return e}(o.currentViewType,e),l=this.computeCurrentViewData(i,s,t.optionOverrides,a);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let c={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:u}=o;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(u=l.dateProfileGenerator.build(d)),d=(0,n.I)(d,e),u=function(e,t,o,n){let r;switch(t.type){case"CHANGE_VIEW_TYPE":return n.build(t.dateMarker||o);case"CHANGE_DATE":return n.build(t.dateMarker);case"PREV":if(r=n.buildPrev(e,o),r.isValid)return r;break;case"NEXT":if(r=n.buildNext(e,o),r.isValid)return r}return e}(u,e,d,l.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&(0,n.G)(u.currentRange,d)||(d=u.currentRange.start);let h=w(o.eventSources,e,u,c),p=(0,n.J)(o.eventStore,e,h,u,c),m=k(h)&&!l.options.progressiveEventRendering&&o.renderableEventStore||p,{eventUiSingleBase:g,selectionConfig:f}=this.buildViewUiProps(c),y=this.buildEventUiBySource(h),b={dynamicOptionOverrides:a,currentViewType:i,currentDate:d,dateProfile:u,eventSources:h,eventStore:p,renderableEventStore:m,selectionConfig:f,eventUiBases:this.buildEventUiBases(m.defs,g,y),businessHours:this.parseContextBusinessHours(c),dateSelection:T(o.dateSelection,e),eventSelection:O(o.eventSelection,e),eventDrag:M(o.eventDrag,e),eventResize:z(o.eventResize,e)},v=Object.assign(Object.assign({},c),b);for(let t of s.pluginHooks.reducers)Object.assign(b,t(o,e,v));let _=G(o,c),x=G(b,c);!_&&x?r.trigger("loading",!0):_&&!x&&r.trigger("loading",!1),this.state=b,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,o=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,a.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),t),i=r.pluginHooks.optionChangeHandlers,l=o&&o.calendarOptions,c=r.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(t.eventSources=s.eventSources=function(e,t,o){let n=t?t.activeRange:null;return C(e,D(e,o),n,!0,o)}(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=(0,n.K)(s.eventStore,o.dateEnv,s.dateEnv));for(let e in i)-1===this.optionsForHandling.indexOf(e)&&l[e]===c[e]||i[e](c[e],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,o){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:n,pluginHooks:r,localeDefaults:a,availableLocaleData:s,extra:i}=this.processRawCalendarOptions(e,t);X(i);let l=this.buildDateEnv(n.timeZone,n.locale,n.weekNumberCalculation,n.firstDay,n.weekText,r,s,n.defaultRangeSeparator),c=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),d=this.buildTheme(n,r),u=this.parseToolbars(n,this.stableOptionOverrides,d,c,o);return this.stableCalendarOptionsData={calendarOptions:n,pluginHooks:r,dateEnv:l,viewSpecs:c,theme:d,toolbarConfig:u,localeDefaults:a,availableRawLocales:s.map}}processRawCalendarOptions(e,t){let{locales:o,locale:r}=(0,n.L)([n.B,e,t]),a=this.organizeRawLocales(o),s=a.map,i=this.buildLocale(r||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],B),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n.M),n.N),n.O),l.listenerRefiners),l.optionRefiners),d={},u=(0,n.L)([n.B,i,e,t]),h={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let e in u)-1===this.optionsForRefining.indexOf(e)&&(u[e]===p[e]||n.P[e]&&e in p&&n.P[e](p[e],u[e]))?h[e]=m[e]:c[e]?(h[e]=c[e](u[e]),g=!0):d[e]=p[e];return g&&(this.currentCalendarOptionsInput=u,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:i,extra:d}}_computeCurrentViewData(e,t,o,n){let r=t.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:s}=this.processRawViewOptions(r,t.pluginHooks,t.localeDefaults,o,n);return X(s),{viewSpec:r,options:a,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,nowInput:a.now,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,o,r,a){let s=(0,n.L)([n.B,e.optionDefaults,o,r,e.optionOverrides,a]),i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n.M),n.N),n.O),n.Q),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,u=!1,h={};for(let e in s)s[e]===c[e]||n.P[e]&&n.P[e](s[e],c[e])?l[e]=d[e]:(s[e]===this.currentCalendarOptionsInput[e]||n.P[e]&&n.P[e](s[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(l[e]=this.currentCalendarOptionsRefined[e]):i[e]?l[e]=i[e](s[e]):h[e]=s[e],u=!0);return u&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function j(e,t,o,r,a,s,i,l){let d=c(t||i.defaultCode,i.map);return new n.R({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:d,weekNumberCalculation:o,firstDay:r,weekText:a,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function U(e,t){return new(t.themeClasses[e.themeSystem]||m)(e)}function W(e){return new(e.dateProfileGeneratorClass||n.S)(e)}function Z(e,t,o){return new L(e,t,o)}function $(e){return(0,n.a)(e,(e=>e.ui))}function q(e,t,o){let n={"":t};for(let t in e){let r=e[t];r.sourceId&&o[r.sourceId]&&(n[t]=o[r.sourceId])}return n}function Y(e){let{options:t}=e;return{eventUiSingleBase:(0,n.U)({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:(0,n.U)({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function G(e,t){for(let o of t.pluginHooks.isLoadingFuncs)if(o(e))return!0;return!1}function K(e){return(0,n.W)(e.options.businessHours,e)}function X(e,t){for(let o in e)console.warn(`Unknown option '${o}'`+(t?` for view '${t}'`:""))}class Q extends n.X{render(){let e=this.props.widgetGroups.map((e=>this.renderWidgetGroup(e)));return(0,r.az)("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:o}=this.context,n=[],a=!0;for(let s of e){let{buttonName:e,buttonClick:i,buttonText:l,buttonIcon:c,buttonHint:d}=s;if("title"===e)a=!1,n.push((0,r.az)("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let a=e===t.activeButton,s=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,u=[`fc-${e}-button`,o.getClass("button")];a&&u.push(o.getClass("buttonActive")),n.push((0,r.az)("button",{type:"button",title:"function"==typeof d?d(t.navUnit):d,disabled:s,"aria-pressed":a,className:u.join(" "),onClick:i},l||(c?(0,r.az)("span",{className:c}):"")))}}if(n.length>1){let e=a&&o.getClass("buttonGroup")||"";return(0,r.az)("div",{className:e},...n)}return n[0]}}class J extends n.X{render(){let e,t,{model:o,extraClassName:n}=this.props,a=!1,s=o.sectionWidgets,i=s.center;s.left?(a=!0,e=s.left):e=s.start,s.right?(a=!0,t=s.right):t=s.end;let l=[n||"","fc-toolbar",a?"fc-toolbar-ltr":""];return(0,r.az)("div",{className:l.join(" ")},this.renderSection("start",e||[]),this.renderSection("center",i||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:o}=this;return(0,r.az)(Q,{key:e,widgetGroups:t,title:o.title,navUnit:o.navUnit,activeButton:o.activeButton,isTodayEnabled:o.isTodayEnabled,isPrevEnabled:o.isPrevEnabled,isNextEnabled:o.isNextEnabled,titleId:o.titleId})}}class ee extends n.X{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,(0,n.Y)(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:o}=e,n=["fc-view-harness",o||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return o?null!==t.availableWidth?a=t.availableWidth/o:s=1/o*100+"%":a=e.height||"",(0,r.az)("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:n.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class te extends n.Z{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:o}=this,{context:r}=o,a=(0,n._)(t);if(a&&o.isValidSegDownEl(e.target)){let s=(0,n.$)(e.target,".fc-event-forced-url"),i=s?s.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new n.a0(o.context,a.eventRange.def,a.eventRange.instance),jsEvent:e,view:r.viewApi}),i&&!e.defaultPrevented&&(window.location.href=i)}},this.destroy=(0,n.a1)(e.el,"click",".fc-event",this.handleSegClick)}}class oe extends n.Z{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{(0,n._)(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=(0,n.a2)(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,o){let{component:r}=this,{context:a}=r,s=(0,n._)(o);t&&!r.isValidSegDownEl(t.target)||a.emitter.trigger(e,{el:o,event:new n.a0(a,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:a.viewApi})}}class ne extends n.a3{constructor(){super(...arguments),this.buildViewContext=(0,n.y)(n.a4),this.buildViewPropTransformers=(0,n.y)(ae),this.buildToolbarProps=(0,n.y)(re),this.headerRef=(0,r.Vf)(),this.footerRef=(0,r.Vf)(),this.interactionsStore={},this.state={viewLabelId:(0,n.a5)()},this.registerInteractiveComponent=(e,t)=>{let o=(0,n.a6)(e,t),r=[te,oe].concat(this.props.pluginHooks.componentInteractions).map((e=>new e(o)));this.interactionsStore[e.uid]=r,n.a7[e.uid]=o},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete n.a7[e.uid]},this.resizeRunner=new n.D((()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})})),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:o,options:a}=t,s=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,(0,n.a8)(t.options.now,t.dateEnv),t.viewTitle),i=!1,l="";t.isHeightAuto||t.forPrint?l="":null!=a.height?i=!0:null!=a.contentHeight?l=a.contentHeight:e=Math.max(a.aspectRatio,.5);let c=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=o.header&&o.header.hasTitle?this.state.viewLabelId:"";return(0,r.az)(n.V.Provider,{value:c},o.header&&(0,r.az)(J,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:o.header,titleId:d},s)),(0,r.az)(ee,{liquid:i,height:l,aspectRatio:e,labeledById:d},this.renderView(t),this.buildAppendContent()),o.footer&&(0,r.az)(J,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:o.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((t=>new t(e))),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let o in t)t[o](e[o],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:o}=t.pluginHooks;for(let n in o)t[n]!==e[n]&&o[n](t[n],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map((t=>t(e)));return(0,r.az)(r.HY,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:o}=e,n={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers);for(let t of a)Object.assign(n,t.transform(n,e));let s=o.component;return(0,r.az)(s,Object.assign({},n))}}function re(e,t,o,r,a,s){let i=o.build(a,void 0,!1),l=o.buildPrev(t,r,!1),c=o.buildNext(t,r,!1);return{title:s,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:i.isValid&&!(0,n.G)(t.currentRange,a),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function ae(e){return e.map((e=>new e))}class se extends n.a9{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;(0,n.aa)((()=>{(0,r.sY)((0,r.az)(n.ab,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},((t,o,a,s)=>(this.setClassNames(t),this.setHeight(o),(0,r.az)(n.ac.Provider,{value:this.customContentRenderId},(0,r.az)(ne,Object.assign({isHeightAuto:a,forPrint:s},e)))))),this.el)}))}else this.isRendered&&(this.isRendered=!1,(0,r.sY)(null,this.el),this.setClassNames([]),this.setHeight(""))},(0,n.ad)(e),this.el=e,this.renderRunner=new n.D(this.handleRenderRequest),new V({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){(0,n.aa)((()=>{super.updateSize()}))}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!(0,n.i)(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let o of e)t.add(o);this.currentClassNames=e}}setHeight(e){(0,n.ae)(this.el,"height",e)}}},7920:(e,t,o)=>{"use strict";o.d(t,{$:()=>g,A:()=>ot,B:()=>Fe,C:()=>Dt,D:()=>p,E:()=>ko,F:()=>jt,G:()=>Lt,H:()=>ro,I:()=>Vt,J:()=>yo,K:()=>_o,L:()=>qe,M:()=>He,N:()=>Ve,O:()=>je,P:()=>Ue,Q:()=>$e,R:()=>ut,S:()=>Wt,T:()=>ht,U:()=>uo,V:()=>yt,W:()=>So,X:()=>_t,Y:()=>wt,Z:()=>cn,_:()=>Bo,a:()=>Je,a0:()=>zo,a1:()=>S,a2:()=>C,a3:()=>vt,a4:()=>bt,a5:()=>k,a6:()=>dn,a7:()=>hn,a8:()=>Ut,a9:()=>pn,aA:()=>Ft,aE:()=>gn,aF:()=>mn,aG:()=>fn,aH:()=>yn,aI:()=>bn,aO:()=>m,aP:()=>b,aR:()=>_,aV:()=>no,aY:()=>_n,aZ:()=>xn,a_:()=>kn,aa:()=>pt,ab:()=>ln,ac:()=>Et,ad:()=>c,ae:()=>v,af:()=>Io,ar:()=>N,as:()=>I,at:()=>L,au:()=>P,av:()=>V,aw:()=>R,ax:()=>z,az:()=>Ht,b:()=>Ot,b$:()=>Tr,b0:()=>En,b2:()=>D,b3:()=>zn,b5:()=>Nn,b6:()=>Rn,b9:()=>It,bA:()=>Vn,bB:()=>Un,bC:()=>jn,bD:()=>qn,bE:()=>Wn,bF:()=>Zn,bG:()=>un,bH:()=>Yn,bI:()=>Gn,bK:()=>nr,bO:()=>ar,bP:()=>Lo,bQ:()=>$o,bR:()=>Vo,bS:()=>qo,bT:()=>Go,bU:()=>Ko,bV:()=>sr,bW:()=>ir,bX:()=>Ao,bZ:()=>cr,b_:()=>dr,ba:()=>In,bb:()=>Pn,bc:()=>Bn,bd:()=>Hn,be:()=>Fn,bf:()=>Jo,bg:()=>ae,bh:()=>ne,bi:()=>se,bl:()=>ie,bo:()=>K,bp:()=>Y,bs:()=>Q,bt:()=>J,bu:()=>we,bv:()=>ve,bw:()=>be,bx:()=>_e,c:()=>ee,ca:()=>Er,cb:()=>Ar,cc:()=>Dr,cd:()=>br,cf:()=>vr,ch:()=>tr,cj:()=>Mr,ck:()=>Rr,cl:()=>Ir,cm:()=>Lr,cn:()=>Or,co:()=>Fr,cp:()=>Br,cq:()=>Vr,cr:()=>Zr,cs:()=>Yr,ct:()=>Tt,cu:()=>Co,cw:()=>l,d:()=>$,e:()=>et,f:()=>Qe,g:()=>M,h:()=>fo,i:()=>te,j:()=>F,k:()=>en,l:()=>Ge,m:()=>Xe,n:()=>Rt,o:()=>ce,p:()=>go,q:()=>re,r:()=>rn,s:()=>G,t:()=>tt,u:()=>on,v:()=>No,w:()=>Be,x:()=>le,y:()=>xe,z:()=>Se});var n=o(6400),r=o(9748);const a=[],s=new Map,i=" fullcalendar styles ";function l(e){a.push(e),s.forEach((t=>{u(e,t)}))}function c(e){d(e.getRootNode())}function d(e,t=e,o=t.firstChild){if(!s.has(e)){const n=document.createComment(i),r=document.createComment(` END${i}`);t.insertBefore(r,o),t.insertBefore(n,r),s.set(e,r),function(e){for(const t of a)u(t,e)}(r)}}function u(e,t){const o=document.createElement("style"),n=function(){void 0===h&&(h=function(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");if(t)return t.nonce||"";return""}());return h}();n&&(o.nonce=n),o.innerText=e,t.parentNode.insertBefore(o,t)}let h;"undefined"!=typeof document&&d(document,document.head,document.head.querySelector("script,link,style"));l(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class p{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:o}=this;if(e in o){if(t)delete o[e];else{o[e]-=1,o[e]<=0&&delete o[e]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function g(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(f(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function f(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}const y=/(top|left|right|bottom|width|height)$/i;function b(e,t){for(let o in t)v(e,o,t[o])}function v(e,t,o){null==o?e.style[t]="":"number"==typeof o&&y.test(t)?e.style[t]=`${o}px`:e.style[t]=o}function _(e){var t,o;return null!==(o=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==o?o:e.target}let w=0;function k(){return w+=1,"fc-dom-"+w}function x(e){e.preventDefault()}function S(e,t,o,n){let r=function(e,t){return o=>{let n=g(o.target,e);n&&t.call(n,o,n)}}(o,n);return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}function C(e,t,o,n){let r;return S(e,"mouseover",t,((e,t)=>{if(t!==r){r=t,o(e,t);let a=e=>{r=null,n(e,t),t.removeEventListener("mouseleave",a)};t.addEventListener("mouseleave",a)}}))}const E=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function D(e,t){let o=n=>{t(n),E.forEach((t=>{e.removeEventListener(t,o)}))};E.forEach((t=>{e.addEventListener(t,o)}))}function A(e){return Object.assign({onClick:e},T(e))}function T(e){return{tabIndex:0,onKeyDown(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}let O=0;function M(){return O+=1,String(O)}function z(){document.body.classList.add("fc-not-allowed")}function R(){document.body.classList.remove("fc-not-allowed")}function N(e){e.style.userSelect="none",e.addEventListener("selectstart",x)}function I(e){e.style.userSelect="",e.removeEventListener("selectstart",x)}function L(e){e.addEventListener("contextmenu",x)}function P(e){e.removeEventListener("contextmenu",x)}function B(e,t,o){return o.func?o.func(e,t):function(e,t){if(!e&&!t)return 0;if(null==t)return-1;if(null==e)return 1;if("string"==typeof e||"string"==typeof t)return String(e).localeCompare(String(t));return e-t}(e[o.field],t[o.field])*(o.order||1)}function H(e,t){let o=String(e);return"000".substr(0,t-o.length)+o}function F(e,t,o){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce(((e,t,o)=>e.replace("$"+o,t||"")),e):o}function V(e,t){return e-t}function j(e){return e%1==0}function U(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),o=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!o)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+o.getBoundingClientRect().width}const W=["years","months","days","milliseconds"],Z=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function $(e,t){return"string"==typeof e?function(e){let t=Z.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?q(e):"number"==typeof e?q({[t||"milliseconds"]:e}):null}function q(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},o=e.weeks||e.week;return o&&(t.days+=7*o,t.specifiedWeeks=!0),t}function Y(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function G(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function K(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function X(e){return Q(e)/864e5}function Q(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function J(e,t){let o=null;for(let n=0;n<W.length;n+=1){let r=W[n];if(t[r]){let n=e[r]/t[r];if(!j(n)||null!==o&&o!==n)return null;o=n}else if(e[r])return null}return o}function ee(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function te(e,t,o){if(e===t)return!0;let n,r=e.length;if(r!==t.length)return!1;for(n=0;n<r;n+=1)if(!(o?o(e[n],t[n]):e[n]===t[n]))return!1;return!0}const oe=["sun","mon","tue","wed","thu","fri","sat"];function ne(e,t){let o=me(e);return o[2]+=7*t,ge(o)}function re(e,t){let o=me(e);return o[2]+=t,ge(o)}function ae(e,t){let o=me(e);return o[6]+=t,ge(o)}function se(e,t){return ie(e,t)/7}function ie(e,t){return(t.valueOf()-e.valueOf())/864e5}function le(e,t){return ye(e)===ye(t)?Math.round(ie(e,t)):null}function ce(e){return ge([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function de(e,t,o,n){let r=ge([t,0,1+ue(t,o,n)]),a=ce(e),s=Math.round(ie(r,a));return Math.floor(s/7)+1}function ue(e,t,o){let n=7+t-o;return-((7+ge([e,0,n]).getUTCDay()-t)%7)+n-1}function he(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function pe(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function me(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function ge(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function fe(e){return!isNaN(e.valueOf())}function ye(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function be(e,t,o=!1){let n=e.toISOString();return n=n.replace(".000",""),o&&(n=n.replace("T00:00:00Z","")),n.length>10&&(null==t?n=n.replace("Z",""):0!==t&&(n=n.replace("Z",ke(t,!0)))),n}function ve(e){return e.toISOString().replace(/T.*$/,"")}function _e(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function we(e){return H(e.getUTCHours(),2)+":"+H(e.getUTCMinutes(),2)+":"+H(e.getUTCSeconds(),2)}function ke(e,t=!1){let o=e<0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),a=Math.round(n%60);return t?`${o+H(r,2)}:${H(a,2)}`:`GMT${o}${r}${a?`:${H(a,2)}`:""}`}function xe(e,t,o){let n,r;return function(...a){if(n){if(!te(n,a)){o&&o(r);let n=e.apply(this,a);t&&t(n,r)||(r=n)}}else r=e.apply(this,a);return n=a,r}}function Se(e,t,o){let n,r;return a=>{if(n){if(!ot(n,a)){o&&o(r);let n=e.call(this,a);t&&t(n,r)||(r=n)}}else r=e.call(this,a);return n=a,r}}const Ce={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ee={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},De=/\s*([ap])\.?m\.?/i,Ae=/,/g,Te=/\s+/g,Oe=/\u200e/g,Me=/UTC|GMT/;class ze{constructor(e){let t={},o={},n=0;for(let r in e)r in Ce?(o[r]=e[r],n=Math.max(Ce[r],n)):(t[r]=e[r],r in Ee&&(n=Math.max(Ee[r],n)));this.standardDateProps=t,this.extendedSettings=o,this.severity=n,this.buildFormattingFunc=xe(Re)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,o,n){let{standardDateProps:r,extendedSettings:a}=this,s=function(e,t,o){if(o.getMarkerYear(e)!==o.getMarkerYear(t))return 5;if(o.getMarkerMonth(e)!==o.getMarkerMonth(t))return 4;if(o.getMarkerDay(e)!==o.getMarkerDay(t))return 2;if(ye(e)!==ye(t))return 1;return 0}(e.marker,t.marker,o.calendarSystem);if(!s)return this.format(e,o);let i=s;!(i>1)||"numeric"!==r.year&&"2-digit"!==r.year||"numeric"!==r.month&&"2-digit"!==r.month||"numeric"!==r.day&&"2-digit"!==r.day||(i=1);let l=this.format(e,o),c=this.format(t,o);if(l===c)return l;let d=Re(function(e,t){let o={};for(let n in e)(!(n in Ee)||Ee[n]<=t)&&(o[n]=e[n]);return o}(r,i),a,o),u=d(e),h=d(t),p=function(e,t,o,n){let r=0;for(;r<e.length;){let a=e.indexOf(t,r);if(-1===a)break;let s=e.substr(0,a);r=a+t.length;let i=e.substr(r),l=0;for(;l<o.length;){let e=o.indexOf(n,l);if(-1===e)break;let t=o.substr(0,e);l=e+n.length;let r=o.substr(l);if(s===t&&i===r)return{before:s,after:i}}}return null}(l,u,c,h),m=a.separator||n||o.defaultSeparator||"";return p?p.before+u+m+h+p.after:l+m+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Re(e,t,o){let n=Object.keys(e).length;return 1===n&&"short"===e.timeZoneName?e=>ke(e.timeZoneOffset):0===n&&t.week?e=>function(e,t,o,n,r){let a=[];"long"===r?a.push(o):"short"!==r&&"narrow"!==r||a.push(t);"long"!==r&&"short"!==r||a.push(" ");a.push(n.simpleNumberFormat.format(e)),"rtl"===n.options.direction&&a.reverse();return a.join("")}(o.computeWeekNumber(e.marker),o.weekText,o.weekTextLong,o.locale,t.week):function(e,t,o){e=Object.assign({},e),t=Object.assign({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit"));"long"===e.timeZoneName&&(e.timeZoneName="short");t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";let n,r=new Intl.DateTimeFormat(o.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,n=new Intl.DateTimeFormat(o.locale.codes,t)}return a=>{let s,{marker:i}=a;return s=n&&!i.getUTCMinutes()?n:r,function(e,t,o,n,r){e=e.replace(Oe,""),"short"===o.timeZoneName&&(e=function(e,t){let o=!1;e=e.replace(Me,(()=>(o=!0,t))),o||(e+=` ${t}`);return e}(e,"UTC"===r.timeZone||null==t.timeZoneOffset?"UTC":ke(t.timeZoneOffset)));n.omitCommas&&(e=e.replace(Ae,"").trim());n.omitZeroMinute&&(e=e.replace(":00",""));!1===n.meridiem?e=e.replace(De,"").trim():"narrow"===n.meridiem?e=e.replace(De,((e,t)=>t.toLocaleLowerCase())):"short"===n.meridiem?e=e.replace(De,((e,t)=>`${t.toLocaleLowerCase()}m`)):"lowercase"===n.meridiem&&(e=e.replace(De,(e=>e.toLocaleLowerCase())));return e=e.replace(Te," "),e=e.trim(),e}(s.format(i),a,e,t,o)}}(e,t,o)}function Ne(e,t){let o=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:o,year:o[0],month:o[1],day:o[2],hour:o[3],minute:o[4],second:o[5],millisecond:o[6]}}function Ie(e,t,o,n){let r=Ne(e,o.calendarSystem);return{date:r,start:r,end:t?Ne(t,o.calendarSystem):null,timeZone:o.timeZone,localeCodes:o.locale.codes,defaultSeparator:n||o.defaultSeparator}}class Le{constructor(e){this.cmdStr=e}format(e,t,o){return t.cmdFormatter(this.cmdStr,Ie(e,null,t,o))}formatRange(e,t,o,n){return o.cmdFormatter(this.cmdStr,Ie(e,t,o,n))}}class Pe{constructor(e){this.func=e}format(e,t,o){return this.func(Ie(e,null,t,o))}formatRange(e,t,o,n){return this.func(Ie(e,t,o,n))}}function Be(e){return"object"==typeof e&&e?new ze(e):"string"==typeof e?new Le(e):"function"==typeof e?new Pe(e):null}const He={navLinkDayClick:Ge,navLinkWeekClick:Ge,duration:$,bootstrapFontAwesome:Ge,buttonIcons:Ge,customButtons:Ge,defaultAllDayEventDuration:$,defaultTimedEventDuration:$,nextDayThreshold:$,scrollTime:$,scrollTimeReset:Boolean,slotMinTime:$,slotMaxTime:$,dayPopoverFormat:Be,slotDuration:$,snapDuration:$,headerToolbar:Ge,footerToolbar:Ge,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Be,dayHeaderClassNames:Ge,dayHeaderContent:Ge,dayHeaderDidMount:Ge,dayHeaderWillUnmount:Ge,dayCellClassNames:Ge,dayCellContent:Ge,dayCellDidMount:Ge,dayCellWillUnmount:Ge,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Ge,weekNumbers:Boolean,weekNumberClassNames:Ge,weekNumberContent:Ge,weekNumberDidMount:Ge,weekNumberWillUnmount:Ge,editable:Boolean,viewClassNames:Ge,viewDidMount:Ge,viewWillUnmount:Ge,nowIndicator:Boolean,nowIndicatorClassNames:Ge,nowIndicatorContent:Ge,nowIndicatorDidMount:Ge,nowIndicatorWillUnmount:Ge,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Ge,locale:Ge,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Ge,eventOrder:function(e){let t,o,n=[],r=[];for("string"==typeof e?r=e.split(/\s*,\s*/):"function"==typeof e?r=[e]:Array.isArray(e)&&(r=e),t=0;t<r.length;t+=1)o=r[t],"string"==typeof o?n.push("-"===o.charAt(0)?{field:o.substring(1),order:-1}:{field:o,order:1}):"function"==typeof o&&n.push({func:o});return n},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Ge,contentHeight:Ge,direction:String,weekNumberFormat:Be,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Ge,initialDate:Ge,now:Ge,eventDataTransform:Ge,stickyHeaderDates:Ge,stickyFooterScrollbar:Ge,viewHeight:Ge,defaultAllDay:Boolean,eventSourceFailure:Ge,eventSourceSuccess:Ge,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Ge,eventConstraint:Ge,eventAllow:Ge,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Ge,eventContent:Ge,eventDidMount:Ge,eventWillUnmount:Ge,selectConstraint:Ge,selectOverlap:Ge,selectAllow:Ge,droppable:Boolean,unselectCancel:String,slotLabelFormat:Ge,slotLaneClassNames:Ge,slotLaneContent:Ge,slotLaneDidMount:Ge,slotLaneWillUnmount:Ge,slotLabelClassNames:Ge,slotLabelContent:Ge,slotLabelDidMount:Ge,slotLabelWillUnmount:Ge,dayMaxEvents:Ge,dayMaxEventRows:Ge,dayMinWidth:Number,slotLabelInterval:$,allDayText:String,allDayClassNames:Ge,allDayContent:Ge,allDayDidMount:Ge,allDayWillUnmount:Ge,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Be,rerenderDelay:Number,moreLinkText:Ge,moreLinkHint:Ge,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Ge,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:$,hiddenDays:Ge,fixedWeekCount:Boolean,validRange:Ge,visibleRange:Ge,titleFormat:Ge,eventInteractive:Boolean,noEventsText:String,viewHint:Ge,navLinkHint:Ge,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Ge,moreLinkClassNames:Ge,moreLinkContent:Ge,moreLinkDidMount:Ge,moreLinkWillUnmount:Ge,monthStartFormat:Be,handleCustomRendering:Ge,customRenderingMetaMap:Ge,customRenderingReplacesEl:Boolean},Fe={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Ve={datesSet:Ge,eventsSet:Ge,eventAdd:Ge,eventChange:Ge,eventRemove:Ge,windowResize:Ge,eventClick:Ge,eventMouseEnter:Ge,eventMouseLeave:Ge,select:Ge,unselect:Ge,loading:Ge,_unmount:Ge,_beforeprint:Ge,_afterprint:Ge,_noEventDrop:Ge,_noEventResize:Ge,_resize:Ge,_scrollRequest:Ge},je={buttonText:Ge,buttonHints:Ge,views:Ge,plugins:Ge,initialEvents:Ge,events:Ge,eventSources:Ge},Ue={headerToolbar:We,footerToolbar:We,buttonText:We,buttonHints:We,buttonIcons:We,dateIncrement:We,plugins:Ze,events:Ze,eventSources:Ze,resources:Ze};function We(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?ot(e,t):e===t}function Ze(e,t){return Array.isArray(e)&&Array.isArray(t)?te(e,t):e===t}const $e={type:String,component:Ge,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Ge,usesMinMaxTime:Boolean,classNames:Ge,content:Ge,didMount:Ge,willUnmount:Ge};function qe(e){return Xe(e,Ue)}function Ye(e,t){let o={},n={};for(let n in t)n in e&&(o[n]=t[n](e[n]));for(let o in e)o in t||(n[o]=e[o]);return{refined:o,extra:n}}function Ge(e){return e}const{hasOwnProperty:Ke}=Object.prototype;function Xe(e,t){let o={};if(t)for(let n in t)if(t[n]===We){let t=[];for(let r=e.length-1;r>=0;r-=1){let a=e[r][n];if("object"==typeof a&&a)t.unshift(a);else if(void 0!==a){o[n]=a;break}}t.length&&(o[n]=Xe(t))}for(let t=e.length-1;t>=0;t-=1){let n=e[t];for(let e in n)e in o||(o[e]=n[e])}return o}function Qe(e,t){let o={};for(let n in e)t(e[n],n)&&(o[n]=e[n]);return o}function Je(e,t){let o={};for(let n in e)o[n]=t(e[n],n);return o}function et(e){let t={};for(let o of e)t[o]=!0;return t}function tt(e){let t=[];for(let o in e)t.push(e[o]);return t}function ot(e,t){if(e===t)return!0;for(let o in e)if(Ke.call(e,o)&&!(o in t))return!1;for(let o in t)if(Ke.call(t,o)&&e[o]!==t[o])return!1;return!0}const nt=/^on[A-Z]/;function rt(e,t){let o=[];for(let n in e)Ke.call(e,n)&&(n in t||o.push(n));for(let n in t)Ke.call(t,n)&&e[n]!==t[n]&&o.push(n);return o}function at(e,t,o={}){if(e===t)return!0;for(let n in t)if(!(n in e)||!st(e[n],t[n],o[n]))return!1;for(let o in e)if(!(o in t))return!1;return!0}function st(e,t,o){return e===t||!0===o||!!o&&o(e,t)}let it={};var lt,ct;lt="gregory",ct=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return ge(e)}markerToArray(e){return me(e)}},it[lt]=ct;const dt=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class ut{constructor(e){let t=this.timeZone=e.timeZone,o="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&o&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!o||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new it[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ge(he(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=ge(e)),null!==t&&fe(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=dt.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(fe(e)){let o=null;return t[13]&&(o=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:o}}}return null}(e);if(null===t)return null;let{marker:o}=t,n=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?o=this.timestampToMarker(o.valueOf()-60*t.timeZoneOffset*1e3):n=t.timeZoneOffset),{marker:o,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:n}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let o=this.calendarSystem.markerToArray(e);return o[0]+=t.years,o[1]+=t.months,o[2]+=t.days,o[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(o)}subtract(e,t){let o=this.calendarSystem.markerToArray(e);return o[0]-=t.years,o[1]-=t.months,o[2]-=t.days,o[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(o)}addYears(e,t){let o=this.calendarSystem.markerToArray(e);return o[0]+=t,this.calendarSystem.arrayToMarker(o)}addMonths(e,t){let o=this.calendarSystem.markerToArray(e);return o[1]+=t,this.calendarSystem.arrayToMarker(o)}diffWholeYears(e,t){let{calendarSystem:o}=this;return ye(e)===ye(t)&&o.getMarkerDay(e)===o.getMarkerDay(t)&&o.getMarkerMonth(e)===o.getMarkerMonth(t)?o.getMarkerYear(t)-o.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:o}=this;return ye(e)===ye(t)&&o.getMarkerDay(e)===o.getMarkerDay(t)?o.getMarkerMonth(t)-o.getMarkerMonth(e)+12*(o.getMarkerYear(t)-o.getMarkerYear(e)):null}greatestWholeUnit(e,t){let o=this.diffWholeYears(e,t);return null!==o?{unit:"year",value:o}:(o=this.diffWholeMonths(e,t),null!==o?{unit:"month",value:o}:(o=function(e,t){let o=le(e,t);return null!==o&&o%7==0?o/7:null}(e,t),null!==o?{unit:"week",value:o}:(o=le(e,t),null!==o?{unit:"day",value:o}:(o=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t),j(o)?{unit:"hour",value:o}:(o=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t),j(o)?{unit:"minute",value:o}:(o=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t),j(o)?{unit:"second",value:o}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,o){let n;return o.years&&(n=this.diffWholeYears(e,t),null!==n)?n/(X(o)/365):o.months&&(n=this.diffWholeMonths(e,t),null!==n)?n/function(e){return X(e)/30}(o):o.days&&(n=le(e,t),null!==n)?n/X(o):(t.valueOf()-e.valueOf())/Q(o)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?ce(e):"hour"===t?function(e){return ge([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return ge([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return ge([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,o){let n=e.getUTCFullYear(),r=de(e,n,t,o);if(r<1)return de(e,n-1,t,o);let a=de(e,n+1,t,o);return a>=1?Math.min(r,a):r}(e,this.weekDow,this.weekDoy)}format(e,t,o={}){return t.format({marker:e,timeZoneOffset:null!=o.forcedTzo?o.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,o,n={}){return n.isEndExclusive&&(t=ae(t,-1)),o.formatRange({marker:e,timeZoneOffset:null!=n.forcedStartTzo?n.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=n.forcedEndTzo?n.forcedEndTzo:this.offsetForMarker(t)},this,n.defaultSeparator)}formatIso(e,t={}){let o=null;return t.omitTimeZoneOffset||(o=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),be(e,o,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?ge(he(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ge(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-pe(me(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(me(e)):null}toDate(e,t){return"local"===this.timeZone?pe(me(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(me(e))*60):new Date(e.valueOf()-(t||0))}}class ht{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,o;if("object"==typeof e&&e){for(o in t=Object.assign({},this.iconClasses),e)t[o]=this.applyIconOverridePrefix(e[o]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let o;return o=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],o?`${this.baseIconClass} ${o}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function pt(e){e();let t=n.YM.debounceRendering,o=[];for(n.YM.debounceRendering=function(e){o.push(e)},n.sY(n.az(mt,{}),document.createElement("div"));o.length;)o.shift()();n.YM.debounceRendering=t}ht.prototype.classes={},ht.prototype.iconClasses={},ht.prototype.baseIconClass="",ht.prototype.iconOverridePrefix="";class mt extends n.wA{render(){return n.az("div",{})}componentDidMount(){this.setState({})}}function gt(e){let t=n.kr(e),o=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=o.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach((e=>{e.context=t.value,e.forceUpdate()}))},this.sub=t=>{e.push(t);let o=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),o&&o.call(t)}}}return t},t}class ft{constructor(e,t,o,n){this.execFunc=e,this.emitter=t,this.scrollTime=o,this.scrollTimeReset=n,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const yt=gt({});function bt(e,t,o,n,r,a,s,i,l,c,d,u,h){return{dateEnv:r,options:o,pluginHooks:s,emitter:c,dispatch:i,getCurrentData:l,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:n,theme:a,isRtl:"rtl"===o.direction,addResizeHandler(e){c.on("_resize",e)},removeResizeHandler(e){c.off("_resize",e)},createScrollResponder:e=>new ft(e,c,$(o.scrollTime),o.scrollTimeReset),registerInteractiveComponent:u,unregisterInteractiveComponent:h}}class vt extends n.wA{shouldComponentUpdate(e,t){return this.debug&&console.log(rt(e,this.props),rt(t,this.state)),!at(this.props,e,this.propEquality)||!at(this.state,t,this.stateEquality)}safeSetState(e){at(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}vt.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},vt.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},vt.contextType=yt,vt.prototype.propEquality={},vt.prototype.stateEquality={};class _t extends vt{}function wt(e,t){"function"==typeof e?e(t):e&&(e.current=t)}_t.contextType=yt;class kt extends _t{constructor(){super(...arguments),this.id=M(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{this.props.elRef&&wt(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:o}=t,{customGenerator:r,defaultGenerator:a,renderProps:s}=e,i=St(e);let l,c,d=!1,u=[];if(null!=r){const e="function"==typeof r?r(s,n.az):r;if(!0===e)d=!0;else{const t=e&&"object"==typeof e;t&&"html"in e?i.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?u=Array.prototype.slice.call(e.domNodes):t||"function"==typeof e?c=e:l=e}}else d=!xt(e.generatorName,o);return d&&a&&(l=a(s)),this.queuedDomNodes=u,this.currentGeneratorMeta=c,(0,n.az)(e.elTag,i,l)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:o,context:n}=this,{handleCustomRendering:r,customRenderingMetaMap:a}=n.options;if(r){const n=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==a?void 0:a[o.generatorName];n&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:n},o),{elClasses:(o.elClasses||[]).filter(Ct)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,o=this.base;if(!te(e,t)){t.forEach(m);for(let t of e)o.appendChild(t);this.currentDomNodes=e}}}function xt(e,t){var o;return Boolean(t.handleCustomRendering&&e&&(null===(o=t.customRenderingMetaMap)||void 0===o?void 0:o[e]))}function St(e,t){const o=Object.assign(Object.assign({},e.elAttrs),{ref:e.elRef});return(e.elClasses||t)&&(o.className=(e.elClasses||[]).concat(t||[]).concat(o.className||[]).filter(Boolean).join(" ")),e.elStyle&&(o.style=e.elStyle),o}function Ct(e){return Boolean(e)}kt.addPropsEquality({elClasses:te,elStyle:ot,elAttrs:function(e,t){const o=rt(e,t);for(let e of o)if(!nt.test(e))return!1;return!0},renderProps:ot});const Et=gt(0);class Dt extends n.wA{constructor(){super(...arguments),this.InnerContent=At.bind(void 0,this),this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&wt(this.props.elRef,e)}}render(){const{props:e}=this,t=function(e,t){const o="function"==typeof e?e(t):e||[];return"string"==typeof o?[o]:o}(e.classNameGenerator,e.renderProps);if(e.children){const o=St(e,t),r=e.children(this.InnerContent,e.renderProps,o);return e.elTag?(0,n.az)(e.elTag,o,r):r}return(0,n.az)(kt,Object.assign(Object.assign({},e),{elRef:this.handleRootEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}function At(e,t){const o=e.props;return(0,n.az)(kt,Object.assign({renderProps:o.renderProps,generatorName:o.generatorName,customGenerator:o.customGenerator,defaultGenerator:o.defaultGenerator,renderId:e.context},t))}Dt.contextType=Et;class Tt extends _t{render(){let{props:e,context:t}=this,{options:o}=t,r={view:t.viewApi};return(0,n.az)(Dt,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Ot(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:o.viewClassNames,generatorName:void 0,didMount:o.viewDidMount,willUnmount:o.viewWillUnmount}),(()=>e.children))}}function Ot(e){return[`fc-${e.type}-view`,"fc-view"]}function Mt(e,t){let o,n,r=[],{start:a}=t;for(e.sort(zt),o=0;o<e.length;o+=1)n=e[o],n.start>a&&r.push({start:a,end:n.start}),n.end>a&&(a=n.end);return a<t.end&&r.push({start:a,end:t.end}),r}function zt(e,t){return e.start.valueOf()-t.start.valueOf()}function Rt(e,t){let{start:o,end:n}=e,r=null;return null!==t.start&&(o=null===o?t.start:new Date(Math.max(o.valueOf(),t.start.valueOf()))),null!=t.end&&(n=null===n?t.end:new Date(Math.min(n.valueOf(),t.end.valueOf()))),(null===o||null===n||o<n)&&(r={start:o,end:n}),r}function Nt(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function It(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function Lt(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Pt(e){let t=Math.floor(ie(e.start,e.end))||1,o=ce(e.start);return{start:o,end:re(o,t)}}function Bt(e,t=$(0)){let o=null,n=null;if(e.end){n=ce(e.end);let o=e.end.valueOf()-n.valueOf();o&&o>=Q(t)&&(n=re(n,1))}return e.start&&(o=ce(e.start),n&&n<=o&&(n=re(o,1))),{start:o,end:n}}function Ht(e){let t=Bt(e);return ie(t.start,t.end)>1}function Ft(e,t,o,n){return"year"===n?$(o.diffWholeYears(e,t),"year"):"month"===n?$(o.diffWholeMonths(e,t),"month"):function(e,t){let o=ce(e),n=ce(t);return{years:0,months:0,days:Math.round(ie(o,n)),milliseconds:t.valueOf()-n.valueOf()-(e.valueOf()-o.valueOf())}}(e,t)}function Vt(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}function jt(e,t){let o=e.initialDate;return null!=o?t.createMarker(o):Ut(e.now,t)}function Ut(e,t){return"function"==typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}class Wt{constructor(e){this.props=e,this.nowDate=Ut(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,o){let{dateEnv:n}=this.props,r=n.subtract(n.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,o)}buildNext(e,t,o){let{dateEnv:n}=this.props,r=n.add(n.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,o)}build(e,t,o=!0){let n,r,a,s,i,l,{props:c}=this;var d,u;return n=this.buildValidRange(),n=this.trimHiddenDays(n),o&&(d=e,e=null!=(u=n).start&&d<u.start?u.start:null!=u.end&&d>=u.end?new Date(u.end.valueOf()-1):d),r=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(r.unit),s=this.buildRenderRange(this.trimHiddenDays(r.range),r.unit,a),s=this.trimHiddenDays(s),i=s,c.showNonCurrentDates||(i=Rt(i,r.range)),i=this.adjustActiveRange(i),i=Rt(i,n),l=Nt(r.range,n),Lt(s,e)||(e=s.start),{currentDate:e,validRange:n,currentRange:r.range,currentRangeUnit:r.unit,isRangeAllDay:a,activeRange:i,renderRange:s,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(r.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let o,{props:n}=this,r=null,a=null,s=null;return n.duration?(r=n.duration,a=n.durationUnit,s=this.buildRangeFromDuration(e,t,r,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,t,o)):(s=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(r=this.getFallbackDuration(),a=ee(r).unit,s=this.buildRangeFromDuration(e,t,r,a)),{duration:r,unit:a,range:s}}getFallbackDuration(){return $({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:o,slotMinTime:n,slotMaxTime:r}=this.props,{start:a,end:s}=e;return o&&(X(n)<0&&(a=ce(a),a=t.add(a,n)),X(r)>1&&(s=ce(s),s=re(s,-1),s=t.add(s,r))),{start:a,end:s}}buildRangeFromDuration(e,t,o,n){let r,a,s,{dateEnv:i,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&Q(e)<Q(o)?ee(e).unit:n}function c(){r=i.startOf(e,l),a=i.add(r,o),s={start:r,end:a}}return X(o)<=1&&this.isHiddenDay(r)&&(r=this.skipHiddenDays(r,t),r=ce(r)),c(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),c()),s}buildRangeFromDayCount(e,t,o){let n,{dateEnv:r,dateAlignment:a}=this.props,s=0,i=e;a&&(i=r.startOf(i,a)),i=ce(i),i=this.skipHiddenDays(i,t),n=i;do{n=re(n,1),this.isHiddenDay(n)||(s+=1)}while(s<o);return{start:i,end:n}}buildCustomVisibleRange(e){let{props:t}=this,o=t.visibleRangeInput,n="function"==typeof o?o.call(t.calendarApi,t.dateEnv.toDate(e)):o,r=this.refineRange(n);return!r||null!=r.start&&null!=r.end?r:null}buildRenderRange(e,t,o){return e}buildDateIncrement(e){let t,{dateIncrement:o}=this.props;return o||((t=this.props.dateAlignment)?$(1,t):e||$({days:1}))}refineRange(e){if(e){let t=function(e,t){let o=null,n=null;return e.start&&(o=t.createMarker(e.start)),e.end&&(n=t.createMarker(e.end)),o||n?o&&n&&n<o?null:{start:o,end:n}:null}(e,this.props.dateEnv);return t&&(t=Bt(t)),t}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],o=[],n=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(o[e]=-1!==t.indexOf(e))||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=o}trimHiddenDays(e){let{start:t,end:o}=e;return t&&(t=this.skipHiddenDays(t)),o&&(o=this.skipHiddenDays(o,-1,!0)),null==t||null==o||t<o?{start:t,end:o}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,o=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(o?t:0)+7)%7];)e=re(e,t);return e}}function Zt(e,t,o,n){return{instanceId:M(),defId:e,range:t,forcedStartTzo:null==o?null:o,forcedEndTzo:null==n?null:n}}function $t(e,t,o){let{dateEnv:n,pluginHooks:r,options:a}=o,{defs:s,instances:i}=e;i=Qe(i,(e=>!s[e.defId].recurringDef));for(let e in s){let o=s[e];if(o.recurringDef){let{duration:s}=o.recurringDef;s||(s=o.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let l=qt(o,s,t,n,r.recurringTypes);for(let t of l){let o=Zt(e,{start:t,end:n.add(t,s)});i[o.instanceId]=o}}}return{defs:s,instances:i}}function qt(e,t,o,n,r){let a=r[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:n.subtract(o.start,t),end:o.end},n);return e.allDay&&(a=a.map(ce)),a}const Yt={id:String,groupId:String,title:String,url:String,interactive:Boolean},Gt={start:Ge,end:Ge,date:Ge,allDay:Boolean},Kt=Object.assign(Object.assign(Object.assign({},Yt),Gt),{extendedProps:Ge});function Xt(e,t,o,n,r=Jt(o),a,s){let{refined:i,extra:l}=Qt(e,o,r),c=function(e,t){let o=null;e&&(o=e.defaultAllDay);null==o&&(o=t.options.defaultAllDay);return o}(t,o),d=function(e,t,o,n){for(let r=0;r<n.length;r+=1){let a=n[r].parse(e,o);if(a){let{allDay:o}=e;return null==o&&(o=t,null==o&&(o=a.allDayGuess,null==o&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}(i,c,o.dateEnv,o.pluginHooks.recurringTypes);if(d){let e=eo(i,l,t?t.sourceId:"",d.allDay,Boolean(d.duration),o,a);return e.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:e,instance:null}}let u=function(e,t,o,n){let r,a,{allDay:s}=e,i=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(r=o.dateEnv.createMarkerMeta(d),r)i=r.marker;else if(!n)return null;null!=e.end&&(a=o.dateEnv.createMarkerMeta(e.end));null==s&&(s=null!=t?t:(!r||r.isTimeUnspecified)&&(!a||a.isTimeUnspecified));s&&i&&(i=ce(i));a&&(c=a.marker,s&&(c=ce(c)),i&&c<=i&&(c=null));c?l=!0:n||(l=o.options.forceEventDuration||!1,c=o.dateEnv.add(i,s?o.options.defaultAllDayEventDuration:o.options.defaultTimedEventDuration));return{allDay:s,hasEnd:l,range:{start:i,end:c},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}(i,c,o,n);if(u){let e=eo(i,l,t?t.sourceId:"",u.allDay,u.hasEnd,o,a),n=Zt(e.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return s&&e.publicId&&s[e.publicId]&&(n.instanceId=s[e.publicId]),{def:e,instance:n}}return null}function Qt(e,t,o=Jt(t)){return Ye(e,o)}function Jt(e){return Object.assign(Object.assign(Object.assign({},lo),Kt),e.pluginHooks.eventRefiners)}function eo(e,t,o,n,r,a,s){let i={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(s&&e.id?s[e.id]:"")||M(),sourceId:o,allDay:n,hasEnd:r,interactive:e.interactive,ui:uo(e,a),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of a.pluginHooks.eventDefMemberAdders)Object.assign(i,t(e));return Object.freeze(i.ui.classNames),Object.freeze(i.extendedProps),i}function to(e,t,o,n,r,a){let s={defs:{},instances:{}},i=Jt(o);for(let l of e){let e=Xt(l,t,o,n,i,r,a);e&&oo(e,s)}return s}function oo(e,t={defs:{},instances:{}}){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function no(e,t){let o=e.instances[t];if(o){let t=e.defs[o.defId],n=so(e,(e=>{return o=t,n=e,Boolean(o.groupId&&o.groupId===n.groupId);var o,n}));return n.defs[t.defId]=t,n.instances[o.instanceId]=o,n}return{defs:{},instances:{}}}function ro(){return{defs:{},instances:{}}}function ao(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function so(e,t){let o=Qe(e.defs,t),n=Qe(e.instances,(e=>o[e.defId]));return{defs:o,instances:n}}function io(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const lo={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Ge,overlap:Ge,allow:Ge,className:io,classNames:io,color:String,backgroundColor:String,borderColor:String,textColor:String},co={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function uo(e,t){let o=function(e,t){return Array.isArray(e)?to(e,null,t,!0):"object"==typeof e&&e?to([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=o?[o]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function ho(e){return e.reduce(po,co)}function po(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const mo={id:String,defaultAllDay:Boolean,url:String,format:String,events:Ge,eventDataTransform:Ge,success:Ge,failure:Ge};function go(e,t,o=fo(t)){let n;if("string"==typeof e?n={url:e}:"function"==typeof e||Array.isArray(e)?n={events:e}:"object"==typeof e&&e&&(n=e),n){let{refined:r,extra:a}=Ye(n,o),s=function(e,t){let o=t.pluginHooks.eventSourceDefs;for(let t=o.length-1;t>=0;t-=1){let n=o[t].parseMeta(e);if(n)return{sourceDefId:t,meta:n}}return null}(r,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:M(),sourceDefId:s.sourceDefId,meta:s.meta,ui:uo(r,t),extendedProps:a}}return null}function fo(e){return Object.assign(Object.assign(Object.assign({},lo),mo),e.pluginHooks.eventSourceRefiners)}function yo(e,t,o,n,r){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,o,n,r,a){if(t&&o===t.latestFetchId){let o=to(bo(r,t,a),t,a);return n&&(o=$t(o,n,a)),ao(wo(e,t.sourceId),o)}return e}(e,o[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"RESET_RAW_EVENTS":return function(e,t,o,n,r){const{defIdMap:a,instanceIdMap:s}=function(e){const{defs:t,instances:o}=e,n={},r={};for(let e in t){const o=t[e],{publicId:r}=o;r&&(n[r]=e)}for(let e in o){const n=t[o[e].defId],{publicId:a}=n;a&&(r[a]=e)}return{defIdMap:n,instanceIdMap:r}}(e);let i=to(bo(o,t,r),t,r,!1,a,s);return $t(i,n,r)}(e,o[t.sourceId],t.rawEvents,n.activeRange,r);case"ADD_EVENTS":return function(e,t,o,n){o&&(t=$t(t,o,n));return ao(e,t)}(e,t.eventStore,n?n.activeRange:null,r);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return ao(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?$t(e,n.activeRange,r):e;case"REMOVE_EVENTS":return function(e,t){let{defs:o,instances:n}=e,r={},a={};for(let e in o)t.defs[e]||(r[e]=o[e]);for(let e in n)!t.instances[e]&&r[n[e].defId]&&(a[e]=n[e]);return{defs:r,instances:a}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return wo(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return so(e,(e=>!e.sourceId));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}function bo(e,t,o){let n=o.options.eventDataTransform,r=t?t.eventDataTransform:null;return r&&(e=vo(e,r)),n&&(e=vo(e,n)),e}function vo(e,t){let o;if(t){o=[];for(let n of e){let e=t(n);e?o.push(e):null==e&&o.push(n)}}else o=e;return o}function _o(e,t,o){let{defs:n}=e,r=Je(e.instances,(e=>{let r=n[e.defId];return r.allDay||r.recurringDef?e:Object.assign(Object.assign({},e),{range:{start:o.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:o.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:o.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:o.canComputeOffset?null:e.forcedEndTzo})}));return{defs:n,instances:r}}function wo(e,t){return so(e,(e=>e.sourceId!==t))}class ko{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){!function(e,t,o){(e[t]||(e[t]=[])).push(o)}(this.handlers,e,t)}off(e,t){!function(e,t,o){o?e[t]&&(e[t]=e[t].filter((e=>e!==o))):delete e[t]}(this.handlers,e,t)}trigger(e,...t){let o=this.handlers[e]||[],n=this.options&&this.options[e],r=[].concat(n||[],o);for(let e of r)e.apply(this.thisContext,t)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}const xo={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function So(e,t){return to(function(e){let t;t=!0===e?[{}]:Array.isArray(e)?e.filter((e=>e.daysOfWeek)):"object"==typeof e&&e?[e]:[];return t=t.map((e=>Object.assign(Object.assign({},xo),e))),t}(e),null,t)}function Co(e,t,o){o.emitter.trigger("select",Object.assign(Object.assign({},Eo(e,o)),{jsEvent:t?t.origEvent:null,view:o.viewApi||o.calendarApi.view}))}function Eo(e,t){let o={};for(let n of t.pluginHooks.dateSpanTransforms)Object.assign(o,n(e,t));var n,r;return Object.assign(o,(n=e,r=t.dateEnv,Object.assign(Object.assign({},tn(n.range,r,n.allDay)),{allDay:n.allDay}))),o}function Do(e,t,o){let{dateEnv:n,options:r}=o,a=t;return e?(a=ce(a),a=n.add(a,r.defaultAllDayEventDuration)):a=n.add(a,r.defaultTimedEventDuration),a}function Ao(e,t,o,n){let r=Ho(e.defs,t),a={defs:{},instances:{}};for(let t in e.defs){let s=e.defs[t];a.defs[t]=To(s,r[t],o,n)}for(let t in e.instances){let s=e.instances[t],i=a.defs[s.defId];a.instances[t]=Oo(s,i,r[s.defId],o,n)}return a}function To(e,t,o,n){let r=o.standardProps||{};null==r.hasEnd&&t.durationEditable&&(o.startDelta||o.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},e),r),{ui:Object.assign(Object.assign({},e.ui),r.ui)});o.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),o.extendedProps));for(let e of n.pluginHooks.eventDefMutationAppliers)e(a,o,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function Oo(e,t,o,n,r){let{dateEnv:a}=r,s=n.standardProps&&!0===n.standardProps.allDay,i=n.standardProps&&!1===n.standardProps.hasEnd,l=Object.assign({},e);return s&&(l.range=Pt(l.range)),n.datesDelta&&o.startEditable&&(l.range={start:a.add(l.range.start,n.datesDelta),end:a.add(l.range.end,n.datesDelta)}),n.startDelta&&o.durationEditable&&(l.range={start:a.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&o.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,n.endDelta)}),i&&(l.range={start:l.range.start,end:Do(t.allDay,l.range.start,r)}),t.allDay&&(l.range={start:ce(l.range.start),end:ce(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Do(t.allDay,l.range.start,r)),l}class Mo{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class zo{constructor(e,t,o){this._context=e,this._def=t,this._instance=o||null}setProp(e,t){if(e in Gt)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=Yt[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Yt)t=Yt[e](t),this.mutate({standardProps:{[e]:t}});else if(e in lo){let o=lo[e](t);o="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:o}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:o}=this._context,n=o.createMarker(e);if(n&&this._instance){let e=Ft(this._instance.range.start,n,o,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let o,{dateEnv:n}=this._context;if((null==e||(o=n.createMarker(e),o))&&this._instance)if(o){let e=Ft(this._instance.range.end,o,n,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,o={}){let n,{dateEnv:r}=this._context,a={allDay:o.allDay},s=r.createMarker(e);var i,l;if(s&&((null==t||(n=r.createMarker(t),n))&&this._instance)){let e=this._instance.range;!0===o.allDay&&(e=Pt(e));let t=Ft(e.start,s,r,o.granularity);if(n){let s=Ft(e.end,n,r,o.granularity);l=s,(i=t).years===l.years&&i.months===l.months&&i.days===l.days&&i.milliseconds===l.milliseconds?this.mutate({datesDelta:t,standardProps:a}):this.mutate({startDelta:t,endDelta:s,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:t,standardProps:a})}}moveStart(e){let t=$(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=$(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=$(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let o={allDay:e},{maintainDuration:n}=t;null==n&&(n=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(o.hasEnd=n),this.mutate({standardProps:o})}formatRange(e){let{dateEnv:t}=this._context,o=this._instance,n=Be(e);return this._def.hasEnd?t.formatRange(o.range.start,o.range.end,n,{forcedStartTzo:o.forcedStartTzo,forcedEndTzo:o.forcedEndTzo}):t.format(o.range.start,n,{forcedTzo:o.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let o=this._def,n=this._context,{eventStore:r}=n.getCurrentData(),a=no(r,t.instanceId);a=Ao(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,n);let s=new zo(n,o,t);this._def=a.defs[o.defId],this._instance=a.instances[t.instanceId],n.dispatch({type:"MERGE_EVENTS",eventStore:a}),n.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:No(a,n,t),revert(){n.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,t=Ro(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Mo(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:o}=t,{startStr:n,endStr:r}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),n&&(a.start=n),r&&(a.end=r),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),o.display&&"auto"!==o.display&&(a.display=o.display),e.collapseColor&&o.backgroundColor&&o.backgroundColor===o.borderColor?a.color=o.backgroundColor:(o.backgroundColor&&(a.backgroundColor=o.backgroundColor),o.borderColor&&(a.borderColor=o.borderColor)),o.textColor&&(a.textColor=o.textColor),o.classNames.length&&(a.classNames=o.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}}function Ro(e){let t=e._def,o=e._instance;return{defs:{[t.defId]:t},instances:o?{[o.instanceId]:o}:{}}}function No(e,t,o){let{defs:n,instances:r}=e,a=[],s=o?o.instanceId:"";for(let e in r){let o=r[e],i=n[o.defId];o.instanceId!==s&&a.push(new zo(t,i,o))}return a}function Io(e,t,o,n){let r={},a={},s={},i=[],l=[],c=Ho(e.defs,t);for(let t in e.defs){let o=e.defs[t];"inverse-background"===c[o.defId].display&&(o.groupId?(r[o.groupId]=[],s[o.groupId]||(s[o.groupId]=o)):a[t]=[])}for(let t in e.instances){let s=e.instances[t],d=e.defs[s.defId],u=c[d.defId],h=s.range,p=!d.allDay&&n?Bt(h,n):h,m=Rt(p,o);m&&("inverse-background"===u.display?d.groupId?r[d.groupId].push(m):a[s.defId].push(m):"none"!==u.display&&("background"===u.display?i:l).push({def:d,ui:u,instance:s,range:m,isStart:p.start&&p.start.valueOf()===m.start.valueOf(),isEnd:p.end&&p.end.valueOf()===m.end.valueOf()}))}for(let e in r){let t=Mt(r[e],o);for(let o of t){let t=s[e],n=c[t.defId];i.push({def:t,ui:n,instance:null,range:o,isStart:!1,isEnd:!1})}}for(let t in a){let n=Mt(a[t],o);for(let o of n)i.push({def:e.defs[t],ui:c[t],instance:null,range:o,isStart:!1,isEnd:!1})}return{bg:i,fg:l}}function Lo(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function Po(e,t){e.fcSeg=t}function Bo(e){return e.fcSeg||e.parentNode.fcSeg||null}function Ho(e,t){return Je(e,(e=>Fo(e,t)))}function Fo(e,t){let o=[];return t[""]&&o.push(t[""]),t[e.defId]&&o.push(t[e.defId]),o.push(e.ui),ho(o)}function Vo(e,t){let o=e.map(jo);return o.sort(((e,o)=>function(e,t,o){let n,r;for(n=0;n<o.length;n+=1)if(r=B(e,t,o[n]),r)return r;return 0}(e,o,t))),o.map((e=>e._seg))}function jo(e){let{eventRange:t}=e,o=t.def,n=t.instance?t.instance.range:t.range,r=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},o.extendedProps),o),{id:o.publicId,start:r,end:a,duration:a-r,allDay:Number(o.allDay),_seg:e})}function Uo(e,t){let{pluginHooks:o}=t,n=o.isDraggableTransformers,{def:r,ui:a}=e.eventRange,s=a.startEditable;for(let e of n)s=e(s,r,a,t);return s}function Wo(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function Zo(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function $o(e,t,o,n,r,a,s){let{dateEnv:i,options:l}=o,{displayEventTime:c,displayEventEnd:d}=l,u=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==n),null==d&&(d=!1!==r);let p=h.range.start,m=h.range.end,g=a||e.start||e.eventRange.range.start,f=s||e.end||e.eventRange.range.end,y=ce(p).valueOf()===ce(g).valueOf(),b=ce(ae(m,-1)).valueOf()===ce(ae(f,-1)).valueOf();return c&&!u.allDay&&(y||b)?(g=y?p:g,f=b?m:f,d&&u.hasEnd?i.formatRange(g,f,t,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):i.format(g,t,{forcedTzo:a?null:h.forcedStartTzo})):""}function qo(e,t,o){let n=e.eventRange.range;return{isPast:n.end<(o||t.start),isFuture:n.start>=(o||t.end),isToday:t&&Lt(t,n.start)}}function Yo(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function Go(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function Ko(e,t){let{def:o,instance:n}=e.eventRange,{url:r}=o;if(r)return{href:r};let{emitter:a,options:s}=t,{eventInteractive:i}=s;return null==i&&(i=o.interactive,null==i&&(i=Boolean(a.hasHandlers("eventClick")))),i?T((e=>{a.trigger("eventClick",{el:e.target,event:new zo(t,o,n),jsEvent:e,view:t.viewApi})})):{}}const Xo={start:Ge,end:Ge,allDay:Boolean};function Qo(e,t,o){let n=function(e,t){let{refined:o,extra:n}=Ye(e,Xo),r=o.start?t.createMarkerMeta(o.start):null,a=o.end?t.createMarkerMeta(o.end):null,{allDay:s}=o;null==s&&(s=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified));return Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:s},n)}(e,t),{range:r}=n;if(!r.start)return null;if(!r.end){if(null==o)return null;r.end=t.add(r.start,o)}return n}function Jo(e,t){return o=e.range,n=t.range,(null===o.start?null:o.start.valueOf())===(null===n.start?null:n.start.valueOf())&&(null===o.end?null:o.end.valueOf())===(null===n.end?null:n.end.valueOf())&&e.allDay===t.allDay&&function(e,t){for(let o in t)if("range"!==o&&"allDay"!==o&&e[o]!==t[o])return!1;for(let o in e)if(!(o in t))return!1;return!0}(e,t);var o,n}function en(e,t,o){return Object.assign(Object.assign({},tn(e,t,o)),{timeZone:t.timeZone})}function tn(e,t,o){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:o}),endStr:t.formatIso(e.end,{omitTime:o})}}function on(e,t,o){let n=!1,r=function(e){n||(n=!0,t(e))},a=function(e){n||(n=!0,o(e))},s=e(r,a);s&&"function"==typeof s.then&&s.then(r,a)}class nn extends Error{constructor(e,t){super(e),this.response=t}}function rn(e,t,o){const n={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(o):(n.body=new URLSearchParams(o),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,n).then((e=>{if(e.ok)return e.json().then((t=>[t,e]),(()=>{throw new nn("Failure parsing JSON",e)}));throw new nn("Request failed",e)}))}let an;function sn(){return null==an&&(an=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),an}class ln extends _t{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:t}=e,{forPrint:o}=this.state,n=o||"auto"===t.height||"auto"===t.contentHeight,r=n||null==t.height?"":t.height,a=["fc",o?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return sn()||a.push("fc-liquid-hack"),e.children(a,r,n,o)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class cn{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function dn(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function un(e){return{[e.component.uid]:e}}const hn={};class pn{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:o}=this;o.currentCalendarOptionsRefiners[e]?o.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering((()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:o}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:o.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))}zoomTo(e,t){let o;t=t||"day",o=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),o?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,o,{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),a=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]);for(let e in n)a.push(e);for(t=0;t<a.length;t+=1)if(o=n[a[t]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ut(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),o=$(e);o&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,o)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:o}=this.getCurrentData();return o.format(o.createMarker(e),Be(t))}formatRange(e,t,o){let{dateEnv:n}=this.getCurrentData();return n.formatRange(n.createMarker(e),n.createMarker(t),Be(o),o)}formatIso(e,t){let{dateEnv:o}=this.getCurrentData();return o.formatIso(o.createMarker(e),{omitTime:t})}select(e,t){let o;o=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let n=this.getCurrentData(),r=Qo(o,n.dateEnv,$({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),Co(r,null,n))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))}addEvent(e,t){if(e instanceof zo){let t=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:oo({def:t,instance:o})}),this.triggerEventAdd(e)),e}let o,n=this.getCurrentData();if(t instanceof Mo)o=t.internalEventSource;else if("boolean"==typeof t)t&&([o]=tt(n.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;o=e.internalEventSource}let r=Xt(e,o,n,!1);if(r){let e=new zo(n,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:oo(r)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Ro(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:o,instances:n}=t.eventStore;e=String(e);for(let r in o){let a=o[r];if(a.publicId===e){if(a.recurringDef)return new zo(t,a,null);for(let e in n){let o=n[e];if(o.defId===a.defId)return new zo(t,a,o)}}}return null}getEvents(){let e=this.getCurrentData();return No(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,o=[];for(let n in t)o.push(new Mo(e,t[n]));return o}getEventSourceById(e){let t=this.getCurrentData(),o=t.eventSources;e=String(e);for(let n in o)if(o[n].publicId===e)return new Mo(t,o[n]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Mo)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let o=go(e,t);return o?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[o]}),new Mo(t,o)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=$(e);t&&this.trigger("_scrollRequest",{time:t})}}function mn(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function gn(e,t){let o={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return o.left<o.right&&o.top<o.bottom&&o}function fn(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function yn(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function bn(e,t){return{left:e.left-t.left,top:e.top-t.top}}const vn={defs:{},instances:{}};class _n{constructor(){this.getKeysForEventDefs=xe(this._getKeysForEventDefs),this.splitDateSelection=xe(this._splitDateSpan),this.splitEventStore=xe(this._splitEventStore),this.splitIndividualUi=xe(this._splitIndividualUi),this.splitEventDrag=xe(this._splitInteraction),this.splitEventResize=xe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),o=this.getKeysForEventDefs(e.eventStore),n=this.splitDateSelection(e.dateSelection),r=this.splitIndividualUi(e.eventUiBases,o),a=this.splitEventStore(e.eventStore,o),s=this.splitEventDrag(e.eventDrag),i=this.splitEventResize(e.eventResize),l={};this.eventUiBuilders=Je(t,((e,t)=>this.eventUiBuilders[t]||xe(wn)));for(let o in t){let c=t[o],d=a[o]||vn,u=this.eventUiBuilders[o];l[o]={businessHours:c.businessHours||e.businessHours,dateSelection:n[o]||null,eventStore:d,eventUiBases:u(e.eventUiBases[""],c.ui,r[o]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[o]||null,eventResize:i[o]||null}}return l}_splitDateSpan(e){let t={};if(e){let o=this.getKeysForDateSpan(e);for(let n of o)t[n]=e}return t}_getKeysForEventDefs(e){return Je(e.defs,(e=>this.getKeysForEventDef(e)))}_splitEventStore(e,t){let{defs:o,instances:n}=e,r={};for(let e in o)for(let n of t[e])r[n]||(r[n]={defs:{},instances:{}}),r[n].defs[e]=o[e];for(let e in n){let o=n[e];for(let n of t[o.defId])r[n]&&(r[n].instances[e]=o)}return r}_splitIndividualUi(e,t){let o={};for(let n in e)if(n)for(let r of t[n])o[r]||(o[r]={}),o[r][n]=e[n];return o}_splitInteraction(e){let t={};if(e){let o=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),n=this._getKeysForEventDefs(e.mutatedEvents),r=this._splitEventStore(e.mutatedEvents,n),a=n=>{t[n]||(t[n]={affectedEvents:o[n]||vn,mutatedEvents:r[n]||vn,isEvent:e.isEvent})};for(let e in o)a(e);for(let e in r)a(e)}return t}}function wn(e,t,o){let n=[];e&&n.push(e),t&&n.push(t);let r={"":ho(n)};return o&&Object.assign(r,o),r}function kn(e,t,o,n){return{dow:e.getUTCDay(),isDisabled:Boolean(n&&!Lt(n.activeRange,e)),isOther:Boolean(n&&!Lt(n.currentRange,e)),isToday:Boolean(t&&Lt(t,e)),isPast:Boolean(o?e<o:!!t&&e<t.start),isFuture:Boolean(o?e>o:!!t&&e>=t.end)}}function xn(e,t){let o=["fc-day",`fc-day-${oe[e.dow]}`];return e.isDisabled?o.push("fc-day-disabled"):(e.isToday&&(o.push("fc-day-today"),o.push(t.getClass("today"))),e.isPast&&o.push("fc-day-past"),e.isFuture&&o.push("fc-day-future"),e.isOther&&o.push("fc-day-other")),o}const Sn=Be({year:"numeric",month:"long",day:"numeric"}),Cn=Be({week:"long"});function En(e,t,o="day",n=!0){const{dateEnv:r,options:a,calendarApi:s}=e;let i=r.format(t,"week"===o?Cn:Sn);if(a.navLinks){let e=r.toDate(t);const l=e=>{let n="day"===o?a.navLinkDayClick:"week"===o?a.navLinkWeekClick:null;"function"==typeof n?n.call(s,r.toDate(t),e):("string"==typeof n&&(o=n),s.zoomTo(t,o))};return Object.assign({title:F(a.navLinkHint,[i,e],i),"data-navlink":""},n?A(l):{onClick:l})}return{"aria-label":i}}let Dn,An=null;function Tn(){return null===An&&(An=function(){let e=document.createElement("div");b(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return m(e),t}()),An}function On(){return Dn||(Dn=function(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=Mn(e);return document.body.removeChild(e),t}()),Dn}function Mn(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function zn(e,t=!1,o){let n=o?e.getBoundingClientRect():Rn(e),r=function(e,t=!1){let o=window.getComputedStyle(e),n=parseInt(o.borderLeftWidth,10)||0,r=parseInt(o.borderRightWidth,10)||0,a=parseInt(o.borderTopWidth,10)||0,s=parseInt(o.borderBottomWidth,10)||0,i=Mn(e),l=i.y-n-r,c={borderLeft:n,borderRight:r,borderTop:a,borderBottom:s,scrollbarBottom:i.x-a-s,scrollbarLeft:0,scrollbarRight:0};return Tn()&&"rtl"===o.direction?c.scrollbarLeft=l:c.scrollbarRight=l,t&&(c.paddingLeft=parseInt(o.paddingLeft,10)||0,c.paddingRight=parseInt(o.paddingRight,10)||0,c.paddingTop=parseInt(o.paddingTop,10)||0,c.paddingBottom=parseInt(o.paddingBottom,10)||0),c}(e,t),a={left:n.left+r.borderLeft+r.scrollbarLeft,right:n.right-r.borderRight-r.scrollbarRight,top:n.top+r.borderTop,bottom:n.bottom-r.borderBottom-r.scrollbarBottom};return t&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Rn(e){let t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function Nn(e){let t=[];for(;e instanceof HTMLElement;){let o=window.getComputedStyle(e);if("fixed"===o.position)break;/(auto|scroll)/.test(o.overflow+o.overflowY+o.overflowX)&&t.push(e),e=e.parentNode}return t}class In{constructor(e,t,o,n){this.els=t;let r=this.originClientRect=e.getBoundingClientRect();o&&this.buildElHorizontals(r.left),n&&this.buildElVerticals(r.top)}buildElHorizontals(e){let t=[],o=[];for(let n of this.els){let r=n.getBoundingClientRect();t.push(r.left-e),o.push(r.right-e)}this.lefts=t,this.rights=o}buildElVerticals(e){let t=[],o=[];for(let n of this.els){let r=n.getBoundingClientRect();t.push(r.top-e),o.push(r.bottom-e)}this.tops=t,this.bottoms=o}leftToIndex(e){let t,{lefts:o,rights:n}=this,r=o.length;for(t=0;t<r;t+=1)if(e>=o[t]&&e<n[t])return t}topToIndex(e){let t,{tops:o,bottoms:n}=this,r=o.length;for(t=0;t<r;t+=1)if(e>=o[t]&&e<n[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Ln(this.tops||[],e.tops||[])&&Ln(this.bottoms||[],e.bottoms||[])&&Ln(this.lefts||[],e.lefts||[])&&Ln(this.rights||[],e.rights||[])}}function Ln(e,t){const o=e.length;if(o!==t.length)return!1;for(let n=0;n<o;n++)if(Math.round(e[n])!==Math.round(t[n]))return!1;return!0}class Pn{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Bn extends Pn{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Hn extends Pn{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Fn extends _t{constructor(){super(...arguments),this.uid=M()}prepareHits(){}queryHit(e,t,o,n){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!g(e,".fc-event-mirror")}isValidDateDownEl(e){return!(g(e,".fc-event:not(.fc-bg-event)")||g(e,".fc-more-link")||g(e,"a[data-navlink]")||g(e,".fc-popover"))}}class Vn{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let o of e)this.insertEntry(o,t);return t}insertEntry(e,t){let o=this.findInsertion(e);return this.isInsertionValid(o,e)?(this.insertEntryAt(e,o),1):this.handleInvalidInsertion(o,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,o){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,o):(o.push(t),0)}splitEntry(e,t,o){let n=0,r=[],a=e.span,s=t.span;return a.start<s.start&&(n+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:s.start}},r)),a.end>s.end&&(n+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:a.end}},r)),n?(o.push({index:e.index,thickness:e.thickness,span:Zn(s,a)},...r),n):(o.push(e),0)}insertEntryAt(e,t){let{entriesByLevel:o,levelCoords:n}=this;-1===t.lateral?($n(n,t.level,t.levelCoord),$n(o,t.level,[e])):$n(o[t.level],t.lateral,e),this.stackCnts[Un(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:o,strictOrder:n,stackCnts:r}=this,a=t.length,s=0,i=-1,l=-1,c=null,d=0;for(let u=0;u<a;u+=1){let a=t[u];if(!n&&a>=s+e.thickness)break;let h,p=o[u],m=qn(p,e.span.start,jn),g=m[0]+m[1];for(;(h=p[g])&&h.span.start<e.span.end;){let e=a+h.thickness;e>s&&(s=e,c=h,i=u,l=g),e===s&&(d=Math.max(d,r[Un(h)]+1)),g+=1}}let u=0;if(c)for(u=i+1;u<a&&t[u]<s;)u+=1;let h=-1;return u<a&&t[u]===s&&(h=qn(o[u],e.span.end,jn)[0]),{touchingLevel:i,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:s,level:u,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,o=e.length,n=[];for(let r=0;r<o;r+=1){let o=e[r],a=t[r];for(let e of o)n.push(Object.assign(Object.assign({},e),{levelCoord:a}))}return n}}function jn(e){return e.span.end}function Un(e){return e.index+":"+e.span.start}function Wn(e){let t=[];for(let r of e){let e=[],a={span:r.span,entries:[r]};for(let r of t)Zn(r.span,a.span)?a={entries:r.entries.concat(a.entries),span:(o=r.span,n=a.span,{start:Math.min(o.start,n.start),end:Math.max(o.end,n.end)})}:e.push(r);e.push(a),t=e}var o,n;return t}function Zn(e,t){let o=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return o<n?{start:o,end:n}:null}function $n(e,t,o){e.splice(t,0,o)}function qn(e,t,o){let n=0,r=e.length;if(!r||t<o(e[n]))return[0,0];if(t>o(e[r-1]))return[r,0];for(;n<r;){let a=Math.floor(n+(r-n)/2),s=o(e[a]);if(t<s)r=a;else{if(!(t>s))return[a,1];n=a+1}}return[n,0]}class Yn{constructor(e,t){this.emitter=new ko}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Gn={};Boolean;const Kn="fc-col-header-cell";function Xn(e){return e.text}class Qn extends _t{render(){let{dateEnv:e,options:t,theme:o,viewApi:r}=this.context,{props:a}=this,{date:s,dateProfile:i}=a,l=kn(s,a.todayRange,null,i),c=[Kn].concat(xn(l,o)),d=e.format(s,a.dayHeaderFormat),u=!l.isDisabled&&a.colCnt>1?En(this.context,s):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:r},a.extraRenderProps),{text:d}),l);return(0,n.az)(Dt,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:ve(s)},a.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Xn,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},(e=>(0,n.az)("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&(0,n.az)(e,{elTag:"a",elAttrs:u,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]}))))}}const Jn=Be({weekday:"long"});class er extends _t{render(){let{props:e}=this,{dateEnv:t,theme:o,viewApi:r,options:a}=this.context,s=re(new Date(2592e5),e.dow),i={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:s},i),{view:r}),e.extraRenderProps),{text:l});return(0,n.az)(Dt,{elTag:"th",elClasses:[Kn,...xn(i,o),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:Xn,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},(o=>(0,n.az)("div",{className:"fc-scrollgrid-sync-inner"},(0,n.az)(o,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,Jn)}}))))}}class tr extends n.wA{constructor(e,t){super(e,t),this.initialNowDate=Ut(t.options.now,t.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,o=ae(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),n=t.dateEnv.startOf(o,e.unit),r=t.dateEnv.add(n,$(1,e.unit)),a=r.valueOf()-o.valueOf();return a=Math.min(864e5,a),{currentState:{nowDate:n,todayRange:or(n)},nextState:{nowDate:r,todayRange:or(r)},waitMs:a}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout((()=>{this.setState(e,(()=>{this.setTimeout()}))}),t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function or(e){let t=ce(e);return{start:t,end:re(t,1)}}tr.contextType=yt;class nr extends _t{constructor(){super(...arguments),this.createDayHeaderFormatter=xe(rr)}render(){let{context:e}=this,{dates:t,dateProfile:o,datesRepDistinctDays:r,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return(0,n.az)(tr,{unit:"day"},((e,i)=>(0,n.az)("tr",{role:"row"},a&&a("day"),t.map((e=>r?(0,n.az)(Qn,{key:e.toISOString(),date:e,dateProfile:o,todayRange:i,colCnt:t.length,dayHeaderFormat:s}):(0,n.az)(er,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:s}))))))}}function rr(e,t,o){return e||function(e,t){return Be(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(t,o)}class ar{constructor(e,t){let o=e.start,{end:n}=e,r=[],a=[],s=-1;for(;o<n;)t.isHiddenDay(o)?r.push(s+.5):(s+=1,r.push(s),a.push(o)),o=re(o,1);this.dates=a,this.indices=r,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),o=this.getDateDayIndex(re(e.end,-1)),n=Math.max(0,t),r=Math.min(this.cnt-1,o);return n=Math.ceil(n),r=Math.floor(r),n<=r?{firstIndex:n,lastIndex:r,isStart:t===n,isEnd:o===r}:null}getDateDayIndex(e){let{indices:t}=this,o=Math.floor(ie(this.dates[0],e));return o<0?t[0]-1:o>=t.length?t[t.length-1]+1:t[o]}}class sr{constructor(e,t){let o,n,r,{dates:a}=e;if(t){for(n=a[0].getUTCDay(),o=1;o<a.length&&a[o].getUTCDay()!==n;o+=1);r=Math.ceil(a.length/o)}else r=1,o=a.length;this.rowCnt=r,this.colCnt=o,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let o=[];for(let e=0;e<this.colCnt;e+=1)o.push(this.buildCell(t,e));e.push(o)}return e}buildCell(e,t){let o=this.daySeries.dates[e*this.colCnt+t];return{key:o.toISOString(),date:o}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,o=this.daySeries.sliceRange(e),n=[];if(o){let{firstIndex:e,lastIndex:r}=o,a=e;for(;a<=r;){let s=Math.floor(a/t),i=Math.min((s+1)*t,r+1);n.push({row:s,firstCol:a%t,lastCol:(i-1)%t,isStart:o.isStart&&a===e,isEnd:o.isEnd&&i-1===r}),a=i}}return n}}class ir{constructor(){this.sliceBusinessHours=xe(this._sliceBusinessHours),this.sliceDateSelection=xe(this._sliceDateSpan),this.sliceEventStore=xe(this._sliceEventStore),this.sliceEventDrag=xe(this._sliceInteraction),this.sliceEventResize=xe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,o,n,...r){let{eventUiBases:a}=e,s=this.sliceEventStore(e.eventStore,a,t,o,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,o,a,n,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,o,n,...r),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,o,...r),eventResize:this.sliceEventResize(e.eventResize,a,t,o,...r),eventSelection:e.eventSelection}}sliceNowDate(e,t,o,n,...r){return this._sliceDateSpan({range:{start:e,end:ae(e,1)},allDay:!1},t,o,{},n,...r)}_sliceBusinessHours(e,t,o,n,...r){return e?this._sliceEventStore($t(e,lr(t,Boolean(o)),n),{},t,o,...r).bg:[]}_sliceEventStore(e,t,o,n,...r){if(e){let a=Io(e,t,lr(o,Boolean(n)),n);return{bg:this.sliceEventRanges(a.bg,r),fg:this.sliceEventRanges(a.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,o,n,...r){if(!e)return null;let a=Io(e.mutatedEvents,t,lr(o,Boolean(n)),n);return{segs:this.sliceEventRanges(a.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,o,n,r,...a){if(!e)return[];let s=lr(t,Boolean(o)),i=Rt(e.range,s);if(i){let t=function(e,t,o){let n=Qt({editable:!1},o),r=eo(n.refined,n.extra,"",e.allDay,!0,o);return{def:r,ui:Fo(r,t),instance:Zt(r.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}(e=Object.assign(Object.assign({},e),{range:i}),n,r),o=this.sliceRange(e.range,...a);for(let e of o)e.eventRange=t;return o}return[]}sliceEventRanges(e,t){let o=[];for(let n of e)o.push(...this.sliceEventRange(n,t));return o}sliceEventRange(e,t){let o=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(o={start:o.start,end:re(o.start,1)});let n=this.sliceRange(o,...t);for(let t of n)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return n}}function lr(e,t){let o=e.activeRange;return t?o:{start:ae(o.start,e.slotMinTime.milliseconds),end:ae(o.end,e.slotMaxTime.milliseconds-864e5)}}function cr(e,t,o){let{instances:n}=e.mutatedEvents;for(let e in n)if(!It(t.validRange,n[e].range))return!1;return ur({eventDrag:e},o)}function dr(e,t,o){return!!It(t.validRange,e.range)&&ur({dateSelection:e},o)}function ur(e,t){let o=t.getCurrentData(),n=Object.assign({businessHours:o.businessHours,dateSelection:"",eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||hr)(n,t)}function hr(e,t,o={},n){return!(e.eventDrag&&!function(e,t,o,n){let r=t.getCurrentData(),a=e.eventDrag,s=a.mutatedEvents,i=s.defs,l=s.instances,c=Ho(i,a.isEvent?e.eventUiBases:{"":r.selectionConfig});n&&(c=Je(c,n));let d=(m=e.eventStore,g=a.affectedEvents.instances,{defs:m.defs,instances:Qe(m.instances,(e=>!g[e.instanceId]))}),u=d.defs,h=d.instances,p=Ho(u,e.eventUiBases);var m,g;for(let n in l){let s=l[n],m=s.range,g=c[s.defId],f=i[s.defId];if(!pr(g.constraints,m,d,e.businessHours,t))return!1;let{eventOverlap:y}=t.options,b="function"==typeof y?y:null;for(let e in h){let o=h[e];if(Nt(m,o.range)){if(!1===p[o.defId].overlap&&a.isEvent)return!1;if(!1===g.overlap)return!1;if(b&&!b(new zo(t,u[o.defId],o),new zo(t,f,s)))return!1}}let v=r.eventStore;for(let e of g.allows){let r,a=Object.assign(Object.assign({},o),{range:s.range,allDay:f.allDay}),i=v.defs[f.defId],l=v.instances[n];if(r=i?new zo(t,i,l):new zo(t,f),!e(Eo(a,t),r))return!1}}return!0}(e,t,o,n))&&!(e.dateSelection&&!function(e,t,o,n){let r=e.eventStore,a=r.defs,s=r.instances,i=e.dateSelection,l=i.range,{selectionConfig:c}=t.getCurrentData();n&&(c=n(c));if(!pr(c.constraints,l,r,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,u="function"==typeof d?d:null;for(let e in s){let o=s[e];if(Nt(l,o.range)){if(!1===c.overlap)return!1;if(u&&!u(new zo(t,a[o.defId],o),null))return!1}}for(let e of c.allows){if(!e(Eo(Object.assign(Object.assign({},o),i),t),null))return!1}return!0}(e,t,o,n))}function pr(e,t,o,n,r){for(let a of e)if(!fr(mr(a,t,o,n,r),t))return!1;return!0}function mr(e,t,o,n,r){return"businessHours"===e?gr($t(n,t,r)):"string"==typeof e?gr(so(o,(t=>t.groupId===e))):"object"==typeof e&&e?gr($t(e,t,r)):[]}function gr(e){let{instances:t}=e,o=[];for(let e in t)o.push(t[e].range);return o}function fr(e,t){for(let o of e)if(It(o,t))return!0;return!1}const yr=/^(visible|hidden)$/;class br extends _t{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,wt(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:o}=e,r=t&&o,a=["fc-scroller"];return t&&(o?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),(0,n.az)("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(yr.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:o}=e;for(let e=0;e<o.length;e+=1){if(o[e].getBoundingClientRect().width>t)return!0}return!1}needsYScrolling(){if(yr.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:o}=e;for(let e=0;e<o.length;e+=1){if(o[e].getBoundingClientRect().height>t)return!0}return!1}getXScrollbarWidth(){return yr.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return yr.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class vr{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:o,currentMap:n}=this,r=!1,a=!1;null!==e?(r=t in n,n[t]=e,o[t]=(o[t]||0)+1,a=!0):(o[t]-=1,o[t]||(delete n[t],delete this.callbackMap[t],r=!0)),this.masterCallback&&(r&&this.masterCallback(null,String(t)),a&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,o){return function(e,t=0,o,n=1){let r=[];null==o&&(o=Object.keys(e).length);for(let a=t;a<o;a+=n){let t=e[a];void 0!==t&&r.push(t)}return r}(this.currentMap,e,t,o)}getAll(){return tt(this.currentMap)}}function _r(e){let t=function(e,t){let o=e instanceof HTMLElement?[e]:e,n=[];for(let e=0;e<o.length;e+=1){let r=o[e].querySelectorAll(t);for(let e=0;e<r.length;e+=1)n.push(r[e])}return n}(e,".fc-scrollgrid-shrink"),o=0;for(let e of t)o=Math.max(o,U(e));return Math.ceil(o)}function wr(e,t){return e.liquid&&t.liquid}function kr(e,t){return te(e,t,ot)}function xr(e,t){let o=[];for(let r of e){let e=r.span||1;for(let a=0;a<e;a+=1)o.push((0,n.az)("col",{style:{width:"shrink"===r.width?Sr(t):r.width||"",minWidth:r.minWidth||""}}))}return(0,n.az)("colgroup",{},...o)}function Sr(e){return null==e?4:e}function Cr(e,t){let o=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&null==e.maxHeight&&o.push("fc-scrollgrid-section-liquid"),e.isSticky&&o.push("fc-scrollgrid-section-sticky"),o}function Er(e){return(0,n.az)("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Dr(e){let{stickyHeaderDates:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function Ar(e){let{stickyFooterScrollbar:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}class Tr extends _t{constructor(){super(...arguments),this.processCols=xe((e=>e),kr),this.renderMicroColGroup=xe(xr),this.scrollerRefs=new vr,this.scrollerElRefs=new vr(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:o}=this,r=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,t.shrinkWidth),i=function(e,t){let o=["fc-scrollgrid",t.theme.getClass("table")];return e&&o.push("fc-scrollgrid-liquid"),o}(e.liquid,o);e.collapsibleWidth&&i.push("fc-scrollgrid-collapsible");let l,c=r.length,d=0,u=[],h=[],p=[];for(;d<c&&"header"===(l=r[d]).type;)u.push(this.renderSection(l,s,!0)),d+=1;for(;d<c&&"body"===(l=r[d]).type;)h.push(this.renderSection(l,s,!1)),d+=1;for(;d<c&&"footer"===(l=r[d]).type;)p.push(this.renderSection(l,s,!0)),d+=1;let m=!sn();const g={role:"rowgroup"};return(0,n.az)("table",{role:"grid",className:i.join(" "),style:{height:e.height}},Boolean(!m&&u.length)&&(0,n.az)("thead",g,...u),Boolean(!m&&h.length)&&(0,n.az)("tbody",g,...h),Boolean(!m&&p.length)&&(0,n.az)("tfoot",g,...p),m&&(0,n.az)("tbody",g,...u,...h,...p))}renderSection(e,t,o){return"outerContent"in e?(0,n.az)(n.HY,{key:e.key},e.outerContent):(0,n.az)("tr",{key:e.key,role:"presentation",className:Cr(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,o))}renderChunkTd(e,t,o,r){if("outerContent"in o)return o.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:i,scrollerClientHeights:l}=this.state,c=function(e,t){return null!=t.maxHeight||wr(e,t)}(a,e),d=wr(a,e),u=a.liquid?s?"scroll":c?"auto":"hidden":"visible",h=e.key,p=function(e,t,o,r){let{expandRows:a}=o;return"function"==typeof t.content?t.content(o):(0,n.az)("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:o.tableMinWidth,width:o.clientWidth,height:a?o.clientHeight:""}},o.tableColGroupNode,(0,n.az)(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(o):t.rowContent))}(e,o,{tableColGroupNode:t,tableMinWidth:"",clientWidth:a.collapsibleWidth||void 0===i[h]?null:i[h],clientHeight:void 0!==l[h]?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return(0,n.az)(r?"th":"td",{ref:o.elRef,role:"presentation"},(0,n.az)("div",{className:"fc-scroller-harness"+(d?" fc-scroller-harness-liquid":"")},(0,n.az)(br,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:u,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,t){let o=function(e,t){for(let o of e)if(o.key===t)return o;return null}(this.props.sections,t);o&&wt(o.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function(e){for(let t of e)if("shrink"===t.width)return!0;return!1}(this.props.cols)?_r(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=On(),{scrollerRefs:t,scrollerElRefs:o}=this,n=!1,r={},a={};for(let e in t.currentMap){let o=t.currentMap[e];if(o&&o.needsYScrolling()){n=!0;break}}for(let t of this.props.sections){let s=t.key,i=o.currentMap[s];if(i){let t=i.parentNode;r[s]=Math.floor(t.getBoundingClientRect().width-(n?e.y:0)),a[s]=Math.floor(t.getBoundingClientRect().height)}}return{forceYScrollbars:n,scrollerClientWidths:r,scrollerClientHeights:a}}}Tr.addStateEquality({scrollerClientWidths:ot,scrollerClientHeights:ot});class Or extends _t{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Po(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:o}=t,{seg:r}=e,{eventRange:a}=r,{ui:s}=a,i={event:new zo(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&Uo(r,t),isStartResizable:!e.disableResizing&&Wo(r,t),isEndResizable:!e.disableResizing&&Zo(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return(0,n.az)(Dt,Object.assign({},e,{elRef:this.handleEl,elClasses:[...Yo(i),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:i,generatorName:"eventContent",customGenerator:o.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:o.eventClassNames,didMount:o.eventDidMount,willUnmount:o.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Po(this.el,this.props.seg)}}class Mr extends _t{render(){let{props:e,context:t}=this,{options:o}=t,{seg:r}=e,{ui:a}=r.eventRange,s=$o(r,o.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return(0,n.az)(Or,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:Ko(r,t),defaultGenerator:zr,timeText:s}),((e,t)=>(0,n.az)(n.HY,null,(0,n.az)(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&(0,n.az)("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&(0,n.az)("div",{className:"fc-event-resizer fc-event-resizer-end"}))))}}function zr(e){return(0,n.az)("div",{className:"fc-event-main-frame"},e.timeText&&(0,n.az)("div",{className:"fc-event-time"},e.timeText),(0,n.az)("div",{className:"fc-event-title-container"},(0,n.az)("div",{className:"fc-event-title fc-sticky"},e.event.title||(0,n.az)(n.HY,null," "))))}const Rr=e=>(0,n.az)(yt.Consumer,null,(t=>{let{options:o}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return(0,n.az)(Dt,Object.assign({},e,{elTag:e.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:o.nowIndicatorContent,classNameGenerator:o.nowIndicatorClassNames,didMount:o.nowIndicatorDidMount,willUnmount:o.nowIndicatorWillUnmount}))})),Nr=Be({day:"numeric"});class Ir extends _t{constructor(){super(...arguments),this.refineRenderProps=Se(Pr)}render(){let{props:e,context:t}=this,{options:o}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:o.monthStartFormat});return(0,n.az)(Dt,Object.assign({},e,{elClasses:[...xn(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":ve(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:o.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:o.dayCellClassNames,didMount:o.dayCellDidMount,willUnmount:o.dayCellWillUnmount}))}}function Lr(e){return Boolean(e.dayCellContent||xt("dayCellContent",e))}function Pr(e){let{date:t,dateEnv:o,dateProfile:n,isMonthStart:r}=e,a=kn(t,e.todayRange,null,n),s=e.showDayNumber?o.format(t,r?e.monthStartFormat:Nr):"";return Object.assign(Object.assign(Object.assign({date:o.toDate(t),view:e.viewApi},a),{isMonthStart:r,dayNumberText:s}),e.extraRenderProps)}class Br extends _t{render(){let{props:e}=this,{seg:t}=e;return(0,n.az)(Or,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:Hr,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Hr(e){let{title:t}=e.event;return t&&(0,n.az)("div",{className:"fc-event-title"},e.event.title)}function Fr(e){return(0,n.az)("div",{className:`fc-${e}`})}const Vr=e=>(0,n.az)(yt.Consumer,null,(t=>{let{dateEnv:o,options:r}=t,{date:a}=e,s=r.weekNumberFormat||e.defaultFormat,i={num:o.computeWeekNumber(a),text:o.format(a,s),date:a};return(0,n.az)(Dt,Object.assign({},e,{renderProps:i,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:jr,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))}));function jr(e){return e.text}class Ur extends _t{constructor(){super(...arguments),this.state={titleId:k()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&wt(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=_(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:o,state:a}=this,s=["fc-popover",e.getClass("popover")].concat(o.extraClassNames||[]);return(0,r.jz)((0,n.az)("div",Object.assign({},o.extraAttrs,{id:o.id,className:s.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),(0,n.az)("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},(0,n.az)("span",{className:"fc-popover-title",id:a.titleId},o.title),(0,n.az)("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),(0,n.az)("div",{className:"fc-popover-body "+e.getClass("popoverContent")},o.children)),o.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:o}=this.props,{rootEl:n}=this,r=function(e){let t=Nn(e),o=e.getBoundingClientRect();for(let e of t){let t=gn(o,e.getBoundingClientRect());if(!t)return null;o=t}return o}(t);if(r){let a=n.getBoundingClientRect(),s=o?g(t,".fc-scrollgrid").getBoundingClientRect().top:r.top,i=e?r.right-a.width:r.left;s=Math.max(s,10),i=Math.min(i,document.documentElement.clientWidth-10-a.width),i=Math.max(i,10);let l=n.offsetParent.getBoundingClientRect();b(n,{top:s-l.top,left:i-l.left})}}}class Wr extends Fn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:o}=this,{startDate:r,todayRange:a,dateProfile:s}=o,i=t.format(r,e.dayPopoverFormat);return(0,n.az)(Ir,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:a},((t,r,a)=>(0,n.az)(Ur,{elRef:a.ref,id:o.id,title:i,extraClassNames:["fc-more-popover"].concat(a.className||[]),extraAttrs:a,parentEl:o.parentEl,alignmentEl:o.alignmentEl,alignGridTop:o.alignGridTop,onClose:o.onClose},Lr(e)&&(0,n.az)(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),o.children)))}queryHit(e,t,o,n){let{rootEl:r,props:a}=this;return e>=0&&e<o&&t>=0&&t<n?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:o,bottom:n},layer:1}:null}}class Zr extends _t{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:k()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&wt(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:o}=this,{moreLinkClick:n}=o.options,r=qr(t).start;function a(e){let{def:t,instance:n,range:r}=e.eventRange;return{event:new zo(o,t,n),start:o.dateEnv.toDate(r.start),end:o.dateEnv.toDate(r.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof n&&(n=n({date:r,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(a),hiddenSegs:t.hiddenSegs.map(a),jsEvent:e,view:o.viewApi})),n&&"popover"!==n?"string"==typeof n&&o.calendarApi.zoomTo(r,n):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return(0,n.az)(yt.Consumer,null,(o=>{let{viewApi:r,options:a,calendarApi:s}=o,{moreLinkText:i}=a,{moreCnt:l}=e,c=qr(e),d="function"==typeof i?i.call(s,l):`+${l} ${i}`,u=F(a.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:r};return(0,n.az)(n.HY,null,Boolean(e.moreCnt)&&(0,n.az)(Dt,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),A(this.handleClick)),{title:u,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||$r,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&(0,n.az)(Wr,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))}))}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=g(this.linkEl,".fc-view-harness"))}}function $r(e){return e.text}function qr(e){if(e.allDayDate)return{start:e.allDayDate,end:re(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:Yr(t),end:(o=t,o.reduce(Kr).eventRange.range.end)};var o}function Yr(e){return e.reduce(Gr).eventRange.range.start}function Gr(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function Kr(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}},6993:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(8636),r=o(5180),a=(0,n.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:r.Nt,dateProfileGeneratorClass:r.XK},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})},5180:(e,t,o)=>{"use strict";o.d(t,{Nt:()=>A,XK:()=>O,iz:()=>D});var n=o(7920),r=o(6400);class a extends n.be{constructor(){super(...arguments),this.headerElRef=(0,r.Vf)()}renderSimpleLayout(e,t){let{props:o,context:a}=this,s=[],i=(0,n.cc)(a.options);return e&&s.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),(0,r.az)(n.ct,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},(0,r.az)(n.b$,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,o,a){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:i,context:l}=this,c=!i.forPrint&&(0,n.cc)(l.options),d=!i.forPrint&&(0,n.cb)(l.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:n.ca}]}),(0,r.az)(n.ct,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},(0,r.az)(s,{liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:o,minWidth:a}]}],sections:u}))}}function s(e,t){let o=[];for(let e=0;e<t;e+=1)o[e]=[];for(let t of e)o[t.row].push(t);return o}function i(e,t){let o=[];for(let e=0;e<t;e+=1)o[e]=[];for(let t of e)o[t.firstCol].push(t);return o}function l(e,t){let o=[];if(e){for(let n=0;n<t;n+=1)o[n]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)o[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)o[e]=null;return o}const c=(0,n.w)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function d(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class u extends n.X{render(){let{props:e}=this;return(0,r.az)(n.cj,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:c,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class h extends n.X{render(){let{props:e,context:t}=this,{options:o}=t,{seg:a}=e,s=o.eventTimeFormat||c,i=(0,n.bQ)(a,s,t,!0,e.defaultDisplayEventEnd);return(0,r.az)(n.cn,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,n.bU)(e.seg,t),defaultGenerator:p,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function p(e){return(0,r.az)(r.HY,null,(0,r.az)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&(0,r.az)("div",{className:"fc-event-time"},e.timeText),(0,r.az)("div",{className:"fc-event-title"},e.event.title||(0,r.az)(r.HY,null," ")))}class m extends n.X{constructor(){super(...arguments),this.compileSegs=(0,n.y)(g)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:o}=this.compileSegs(e.singlePlacements);return(0,r.az)(n.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:o,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let o=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,r.az)(r.HY,null,t.map((t=>{let a=t.eventRange.instance.instanceId;return(0,r.az)("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:o[a]?"hidden":""}},d(t)?(0,r.az)(h,Object.assign({seg:t,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},(0,n.bS)(t,e.todayRange))):(0,r.az)(u,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},(0,n.bS)(t,e.todayRange))))})))}})}}function g(e){let t=[],o=[];for(let n of e)t.push(n.seg),n.isVisible||o.push(n.seg);return{allSegs:t,invisibleSegs:o}}const f=(0,n.w)({week:"narrow"});class y extends n.be{constructor(){super(...arguments),this.rootElRef=(0,r.Vf)(),this.state={dayNumberId:(0,n.a5)()},this.handleRootEl=e=>{(0,n.Y)(this.rootElRef,e),(0,n.Y)(this.props.elRef,e)}}render(){let{context:e,props:t,state:o,rootElRef:a}=this,{options:s,dateEnv:i}=e,{date:l,dateProfile:c}=t;const d=t.showDayNumber&&function(e,t,o){const{start:r,end:a}=t,s=(0,n.bg)(a,-1),i=o.getYear(r),l=o.getMonth(r),c=o.getYear(s),d=o.getMonth(s);return!(i===c&&l===d)&&Boolean(e.valueOf()===r.valueOf()||1===o.getDay(e)&&e.valueOf()<a.valueOf())}(l,c.currentRange,i);return(0,r.az)(n.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":o.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:b,date:l,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},((i,c)=>(0,r.az)("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&(0,r.az)(n.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,n.b0)(e,l,"week"),date:l,defaultFormat:f}),!c.isDisabled&&(t.showDayNumber||(0,n.cm)(s)||t.forceDayTop)?(0,r.az)("div",{className:"fc-daygrid-day-top"},(0,r.az)(i,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,n.b0)(e,l)),{id:o.dayNumberId})})):t.showDayNumber?(0,r.az)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,r.az)("a",{className:"fc-daygrid-day-number"}," ")):void 0,(0,r.az)("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,(0,r.az)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},(0,r.az)(m,{allDayDate:l,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),(0,r.az)("div",{className:"fc-daygrid-day-bg"},t.bgContent))))}}function b(e){return e.dayNumberText||(0,r.az)(r.HY,null," ")}function v(e,t,o,n,r,a,s){let i=new w;i.allowReslicing=!0,i.strictOrder=n,!0===t||!0===o?(i.maxCoord=a,i.hiddenConsumes=!0):"number"==typeof t?i.maxStackCnt=t:"number"==typeof o&&(i.maxStackCnt=o,i.hiddenConsumes=!0);let l=[],c=[];for(let t=0;t<e.length;t+=1){let o=e[t],{instanceId:n}=o.eventRange.instance,a=r[n];null!=a?l.push({index:t,thickness:a,span:{start:o.firstCol,end:o.lastCol+1}}):c.push(o)}let d=i.addSegs(l),u=i.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=function(e,t,o){let n=function(e,t){let o=[];for(let e=0;e<t;e+=1)o.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)o[e].push(t);return o}(e,o.length),r=[],a=[],s=[];for(let e=0;e<o.length;e+=1){let i=n[e],l=[],c=0,d=0;for(let n of i){let r=t[n.index];l.push({seg:_(r,e,e+1,o),isVisible:!0,isAbsolute:!1,absoluteTop:n.levelCoord,marginTop:n.levelCoord-c}),c=n.levelCoord+n.thickness}let u=[];c=0,d=0;for(let n of i){let r=t[n.index],a=n.span.end-n.span.start>1,s=n.span.start===e;d+=n.levelCoord-c,c=n.levelCoord+n.thickness,a?(d+=n.thickness,s&&u.push({seg:_(r,n.span.start,n.span.end,o),isVisible:!0,isAbsolute:!0,absoluteTop:n.levelCoord,marginTop:0})):s&&(u.push({seg:_(r,n.span.start,n.span.end,o),isVisible:!0,isAbsolute:!1,absoluteTop:n.levelCoord,marginTop:d}),d=0)}r.push(l),a.push(u),s.push(d)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:s}}(u,e,s),g=[],f=[];for(let e of c){p[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)h[t].push({seg:_(e,t,t+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<s.length;e+=1)g.push(0);for(let t of d){let o=e[t.index],n=t.span;p[n.start].push({seg:_(o,n.start,n.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=n.start;e<n.end;e+=1)g[e]+=1,h[e].push({seg:_(o,e,e+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<s.length;e+=1)f.push(m[e]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:f}}function _(e,t,o,r){if(e.firstCol===t&&e.lastCol===o-1)return e;let a=e.eventRange,s=a.range,i=(0,n.n)(s,{start:r[t].date,end:(0,n.q)(r[o-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:o-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:i},isStart:e.isStart&&i.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&i.end.valueOf()===s.end.valueOf()})}class w extends n.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:o}=this,r=e=>!this.forceHidden[(0,n.bB)(e)];for(let e=0;e<o.length;e+=1)o[e]=o[e].filter(r);return t}handleInvalidInsertion(e,t,o){const{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:s,touchingLevel:i,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const e=(0,n.bB)(s);if(!a[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},s),{span:(0,n.bF)(s.span,t.span)});a[(0,n.bB)(e)]=!0,r[i][l]=e,this.splitEntry(s,t,o)}else a[e]=!0,o.push(s)}return super.handleInvalidInsertion(e,t,o)}}class k extends n.be{constructor(){super(...arguments),this.cellElRefs=new n.cf,this.frameElRefs=new n.cf,this.fgElRefs=new n.cf,this.segHarnessRefs=new n.cf,this.rootElRef=(0,r.Vf)(),this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:o}=this,{options:a}=o,s=e.cells.length,l=i(e.businessHourSegs,s),c=i(e.bgEventSegs,s),d=i(this.getHighlightSegs(),s),u=i(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:p,moreCnts:m,moreMarginTops:g}=v((0,n.bR)(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,e.cells),f=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return(0,r.az)("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map(((t,o)=>{let n=this.renderFgSegs(o,e.forPrint?h[o]:p[o],e.todayRange,f),a=this.renderFgSegs(o,function(e,t){if(!e.length)return[];let o=function(e){let t={};for(let o of e)for(let e of o)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map((e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:o[e.eventRange.instance.instanceId],marginTop:0})))}(u[o],p),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return(0,r.az)(y,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===o,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:m[o],moreMarginTop:g[o],singlePlacements:h[o],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:(0,r.az)(r.HY,null,(0,r.az)(r.HY,null,n),(0,r.az)(r.HY,null,a)),bgContent:(0,r.az)(r.HY,null,this.renderFillSegs(d[o],"highlight"),this.renderFillSegs(l[o],"non-business"),this.renderFillSegs(c[o],"bg-event")),minHeight:e.cellMinHeight})})))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let o=this.props;this.updateSizing(!(0,n.A)(e,o))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,o,a,s,i,l){let{context:c}=this,{eventSelection:p}=this.props,{framePositions:m}=this.state,g=1===this.props.cells.length,f=s||i||l,y=[];if(m)for(let b of t){let{seg:t}=b,{instanceId:v}=t.eventRange.instance,_=v+":"+e,w=b.isVisible&&!a[v],k=b.isAbsolute,x="",S="";k&&(c.isRtl?(S=0,x=m.lefts[t.lastCol]-m.lefts[t.firstCol]):(x=0,S=m.rights[t.firstCol]-m.rights[t.lastCol])),y.push((0,r.az)("div",{className:"fc-daygrid-event-harness"+(k?" fc-daygrid-event-harness-abs":""),key:_,ref:f?null:this.segHarnessRefs.createRef(_),style:{visibility:w?"":"hidden",marginTop:k?"":b.marginTop,top:k?b.absoluteTop:"",left:x,right:S}},d(t)?(0,r.az)(h,Object.assign({seg:t,isDragging:s,isSelected:v===p,defaultDisplayEventEnd:g},(0,n.bS)(t,o))):(0,r.az)(u,Object.assign({seg:t,isDragging:s,isResizing:i,isDateSelecting:l,isSelected:v===p,defaultDisplayEventEnd:g},(0,n.bS)(t,o)))))}return y}renderFillSegs(e,t){let{isRtl:o}=this.context,{todayRange:a}=this.props,{framePositions:s}=this.state,i=[];if(s)for(let l of e){let e=o?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};i.push((0,r.az)("div",{key:(0,n.bT)(l.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?(0,r.az)(n.cp,Object.assign({seg:l},(0,n.bS)(l,a))):(0,n.co)(t)))}return(0,r.az)(r.HY,{},...i)}updateSizing(e){let{props:t,state:o,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map((e=>r.currentMap[e.key]));if(e.length){let t=this.rootElRef.current,r=new n.ba(t,e,!0,!1);o.framePositions&&o.framePositions.similarTo(r)||this.setState({framePositions:new n.ba(t,e,!0,!1)})}}const a=this.state.eventInstanceHeights,s=this.queryEventInstanceHeights(),i=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},a),s),maxContentHeight:i?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let o in e){let n=Math.round(e[o].getBoundingClientRect().height),r=o.split(":")[0];t[r]=Math.max(t[r]||0,n)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],o=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-o.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map((t=>e[t.key]))}}k.addStateEquality({eventInstanceHeights:n.A});class x extends n.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,n.y)(s),this.splitBgEventSegs=(0,n.y)(s),this.splitFgEventSegs=(0,n.y)(s),this.splitDateSelectionSegs=(0,n.y)(s),this.splitEventDrag=(0,n.y)(l),this.splitEventResize=(0,n.y)(l),this.rowRefs=new n.cf}render(){let{props:e,context:t}=this,o=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,o),s=this.splitBgEventSegs(e.bgEventSegs,o),i=this.splitFgEventSegs(e.fgEventSegs,o),l=this.splitDateSelectionSegs(e.dateSelectionSegs,o),c=this.splitEventDrag(e.eventDrag,o),d=this.splitEventResize(e.eventResize,o),u=o>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return(0,r.az)(n.ch,{unit:"day"},((t,n)=>(0,r.az)(r.HY,null,e.cells.map(((t,h)=>(0,r.az)(k,{ref:this.rowRefs.createRef(h),key:t.length?t[0].date.toISOString():h,showDayNumbers:o>1,showWeekNumbers:e.showWeekNumbers,todayRange:n,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:a[h],eventSelection:e.eventSelection,bgEventSegs:s[h].filter(S),fgEventSegs:i[h],dateSelectionSegs:l[h],eventDrag:c[h],eventResize:d[h],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))))}componentDidMount(){const e=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=e?e.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new n.ba(this.rootEl,this.rowRefs.collect().map((e=>e.getCellEls()[0])),!1,!0),this.colPositions=new n.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:o,rowPositions:n}=this,r=o.leftToIndex(e),a=n.topToIndex(t);if(null!=a&&null!=r){let e=this.props.cells[a][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,r),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(a,r),rect:{left:o.lefts[r],right:o.rights[r],top:n.tops[a],bottom:n.bottoms[a]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let o=this.props.cells[e][t].date;return{start:o,end:(0,n.q)(o,1)}}}function S(e){return e.eventRange.def.allDay}class C extends n.be{constructor(){super(...arguments),this.elRef=(0,r.Vf)(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:o,expandRows:n}=e,a=!0===o||!0===t;a&&!n&&(a=!1,t=null,o=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",n?"":"fc-daygrid-body-natural"];return(0,r.az)("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,r.az)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:n?e.clientHeight:""}},e.colGroupNode,(0,r.az)("tbody",{role:"presentation"},(0,r.az)(x,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:o,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=function(e,t){let o;t.currentRangeUnit.match(/year|month/)&&(o=e.querySelector(`[data-date="${(0,n.bx)(t.currentDate)}-01"]`));o||(o=e.querySelector(`[data-date="${(0,n.bv)(t.currentDate)}"]`));return o}(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),o=t.closest(".fc-scroller"),n=e.getBoundingClientRect().top-t.getBoundingClientRect().top;o.scrollTop=n?n+1:0}this.needsScrollReset=!1}}}class E extends n.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class D extends n.be{constructor(){super(...arguments),this.slicer=new E,this.tableRef=(0,r.Vf)()}render(){let{props:e,context:t}=this;return(0,r.az)(C,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class A extends a{constructor(){super(...arguments),this.buildDayTableModel=(0,n.y)(T),this.headerRef=(0,r.Vf)(),this.tableRef=(0,r.Vf)()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:o}=this,a=this.buildDayTableModel(o.dateProfile,t),s=e.dayHeaders&&(0,r.az)(n.bK,{ref:this.headerRef,dateProfile:o.dateProfile,dates:a.headerDates,datesRepDistinctDays:1===a.rowCnt}),i=t=>(0,r.az)(D,{ref:this.tableRef,dateProfile:o.dateProfile,dayTableModel:a,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:o.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,i,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,i)}}function T(e,t){let o=new n.bO(e.renderRange,t);return new n.bV(o,/year|month|week/.test(e.currentRangeUnit))}class O extends n.S{buildRenderRange(e,t,o){let r=super.buildRenderRange(e,t,o),{props:a}=this;return function(e){let t,{dateEnv:o,currentRange:r}=e,{start:a,end:s}=r;e.snapToWeek&&(a=o.startOfWeek(a),t=o.startOfWeek(s),t.valueOf()!==s.valueOf()&&(s=(0,n.bh)(t,1)));if(e.fixedWeekCount){let e=o.startOfWeek(o.startOfMonth((0,n.q)(r.end,-1))),t=Math.ceil((0,n.bi)(e,s));s=(0,n.bh)(s,6-t)}return{start:a,end:s}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}(0,n.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}')},9897:(e,t,o)=>{"use strict";o.d(t,{ZP:()=>A});var n=o(8636),r=o(7920);r.bI.touchMouseIgnoreWait=500;let a=0,s=0,i=!1;class l{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let o=e.target;this.shouldIgnoreMove||o.addEventListener("touchmove",this.handleTouchMove),o.addEventListener("touchend",this.handleTouchEnd),o.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,a+=1,setTimeout((()=>{a-=1}),r.bI.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.pageXOffset-this.prevScrollX+this.prevPageX,o=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:o,deltaX:t-this.origPageX,deltaY:o-this.origPageY})}},this.containerEl=e,this.emitter=new r.E,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),s+=1,1===s&&window.addEventListener("touchmove",c,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),s-=1,s||window.removeEventListener("touchmove",c,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),o=e.target;return!(!t||this.handleSelector&&!(0,r.$)(o,this.handleSelector))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){i=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?(0,r.$)(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return a||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(i=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let o=0,n=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(o=e.pageX-this.origPageX,n=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:o,deltaY:n}}createEventFromTouch(e,t){let o,n,r=e.touches,a=0,s=0;return r&&r.length?(o=r[0].pageX,n=r[0].pageY):(o=e.pageX,n=e.pageY),t?(this.origPageX=o,this.origPageY=n):(a=o-this.origPageX,s=n-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:o,pageY:n,deltaX:a,deltaY:s}}}function c(e){i&&e.preventDefault()}class d{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,o){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=o-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let o=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(o,this.revertDuration):setTimeout(o,0)}doRevertAnimation(e,t){let o=this.mirrorEl,n=this.sourceEl.getBoundingClientRect();o.style.transition="top "+t+"ms,left "+t+"ms",(0,r.aP)(o,{left:n.left,top:n.top}),(0,r.b2)(o,(()=>{o.style.transition="",e()}))}cleanup(){this.mirrorEl&&((0,r.aO)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&(0,r.aP)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.classList.add("fc-event-dragging"),(0,r.aP)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class u extends r.bb{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class h extends u{constructor(e,t){super(new r.bc(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return(0,r.b3)(this.scrollController.el)}}class p extends u{constructor(e){super(new r.bd,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const m="function"==typeof performance?performance.now:Date.now;class g{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let t=m();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,o){this.isEnabled&&(this.scrollCaches=this.buildCaches(o),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let o=e-window.pageXOffset,n=t-window.pageYOffset,r=null===this.pointerScreenY?0:n-this.pointerScreenY,a=null===this.pointerScreenX?0:o-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=o,this.pointerScreenY=n,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(m()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:o}=e,{edgeThreshold:n}=this,r=n-e.distance,a=r*r/(n*n)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":o.setScrollLeft(o.getScrollLeft()+a*s);break;case"top":s=-1;case"bottom":o.setScrollTop(o.getScrollTop()+a*s)}}computeBestEdge(e,t){let{edgeThreshold:o}=this,n=null,r=this.scrollCaches||[];for(let a of r){let r=a.clientRect,s=e-r.left,i=r.right-e,l=t-r.top,c=r.bottom-t;s>=0&&i>=0&&l>=0&&c>=0&&(l<=o&&this.everMovedUp&&a.canScrollUp()&&(!n||n.distance>l)&&(n={scrollCache:a,name:"top",distance:l}),c<=o&&this.everMovedDown&&a.canScrollDown()&&(!n||n.distance>c)&&(n={scrollCache:a,name:"bottom",distance:c}),s<=o&&this.everMovedLeft&&a.canScrollLeft()&&(!n||n.distance>s)&&(n={scrollCache:a,name:"left",distance:s}),i<=o&&this.everMovedRight&&a.canScrollRight()&&(!n||n.distance>i)&&(n={scrollCache:a,name:"right",distance:i}))}return n}buildCaches(e){return this.queryScrollEls(e).map((e=>e===window?new p(!1):new h(e,!1)))}queryScrollEls(e){let t=[];for(let o of this.scrollQuery)"object"==typeof o?t.push(o):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(o)));return t}}class f extends r.bH{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(0,r.ar)(document.body),(0,r.at)(document.body),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t,o=this.minDistance,{deltaX:n,deltaY:r}=e;t=n*n+r*r,t>=o*o&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{this.isInteracting&&(this.isInteracting=!1,(0,r.as)(document.body),(0,r.au)(document.body),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let o=this.pointer=new l(e);o.emitter.on("pointerdown",this.onPointerDown),o.emitter.on("pointermove",this.onPointerMove),o.emitter.on("pointerup",this.onPointerUp),t&&(o.selector=t),this.mirror=new d,this.autoScroller=new g}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout((()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class y{constructor(e){this.origRect=(0,r.b6)(e),this.scrollCaches=(0,r.b5)(e).map((e=>new h(e,!0)))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let o={left:e,top:t};for(let e of this.scrollCaches)if(!b(e.getEventTarget())&&!(0,r.aF)(o,e.clientRect))return!1;return!0}}function b(e){let t=e.tagName;return"HTML"===t||"BODY"===t}class v{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new r.E}processFirstCoord(e){let t,o={left:e.pageX,top:e.pageY},n=o,a=e.subjectEl;a instanceof HTMLElement&&(t=(0,r.b6)(a),n=(0,r.aG)(n,t));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&t){let e=(0,r.aE)(t,s.rect);e&&(n=(0,r.aH)(e))}this.coordAdjust=(0,r.aI)(n,o)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let o=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&_(this.movingHit,o)||(this.movingHit=o,this.emitter.trigger("hitupdate",o,!1,e))}prepareHits(){this.offsetTrackers=(0,r.a)(this.droppableStore,(e=>(e.component.prepareHits(),new y(e.el))))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:o,offsetTrackers:n}=this,a=null;for(let s in o){let i=o[s].component,l=n[s];if(l&&l.isWithinClipping(e,t)){let o=l.computeLeft(),n=l.computeTop(),c=e-o,d=t-n,{origRect:u}=l,h=u.right-u.left,p=u.bottom-u.top;if(c>=0&&c<h&&d>=0&&d<p){let e=i.queryHit(c,d,h,p);e&&(0,r.b9)(e.dateProfile.activeRange,e.dateSpan.range)&&(!a||e.layer>a.layer)&&(e.componentId=s,e.context=i.context,e.rect.left+=o,e.rect.right+=o,e.rect.top+=n,e.rect.bottom+=n,a=e)}}}return a}}function _(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&(0,r.bf)(e.dateSpan,t.dateSpan)}function w(e,t){let o={};for(let n of t.pluginHooks.datePointTransforms)Object.assign(o,n(e,t));var n,r;return Object.assign(o,(n=e,{date:(r=t.dateEnv).toDate(n.range.start),dateStr:r.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),o}class k extends r.Z{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,o=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:o,finalHit:n}=this.hitDragging;if(o&&n&&_(o,n)){let{context:n}=t,r=Object.assign(Object.assign({},w(o.dateSpan,n)),{dayEl:o.dayEl,jsEvent:e.origEvent,view:n.viewApi||n.calendarApi.view});n.emitter.trigger("dateClick",r)}}},this.dragging=new f(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new v(this.dragging,(0,r.bG)(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class x extends r.Z{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:o}=this,{options:n}=t.context,r=n.selectable&&t.isValidDateDownEl(e.origEvent.target);o.setIgnoreMove(!r),o.delay=e.isTouch?function(e){let{options:t}=e.context,o=t.selectLongPressDelay;null==o&&(o=t.longPressDelay);return o}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:o}=this.component,n=null,a=!1;if(e){let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(n=function(e,t,o){let n=e.dateSpan,a=t.dateSpan,s=[n.range.start,n.range.end,a.range.start,a.range.end];s.sort(r.av);let i={};for(let n of o){let o=n(e,t);if(!1===o)return null;o&&Object.assign(i,o)}return i.range={start:s[0],end:s[3]},i.allDay=n.allDay,i}(t,e,o.pluginHooks.dateSelectionTransformers)),n&&(0,r.b_)(n,e.dateProfile,o)||(a=!0,n=null)}n?o.dispatch({type:"SELECT_DATES",selection:n}):t||o.dispatch({type:"UNSELECT_DATES"}),a?(0,r.ax)():(0,r.aw)(),t||(this.dragSelection=n)},this.handlePointerUp=e=>{this.dragSelection&&((0,r.cu)(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:o}=t.context,n=this.dragging=new f(e.el);n.touchScrollAllowed=!1,n.minDistance=o.selectMinDistance||0,n.autoScroller.isEnabled=o.dragScroll;let a=this.hitDragging=new v(this.dragging,(0,r.bG)(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}class S extends r.Z{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:o,dragging:n}=this,{mirror:a}=n,{options:s}=o.context,i=o.context;this.subjectEl=e.subjectEl;let l=this.subjectSeg=(0,r._)(e.subjectEl),c=(this.eventRange=l.eventRange).instance.instanceId;this.relevantEvents=(0,r.aV)(i.getCurrentData().eventStore,c),n.minDistance=e.isTouch?0:s.eventDragMinDistance,n.delay=e.isTouch&&c!==o.props.eventSelection?function(e){let{options:t}=e.context,o=t.eventLongPressDelay;null==o&&(o=t.longPressDelay);return o}(o):null,s.fixedMirrorParent?a.parentNode=s.fixedMirrorParent:a.parentNode=(0,r.$)(t,".fc"),a.revertDuration=s.dragRevertDuration;let d=o.isValidSegDownEl(t)&&!(0,r.$)(t,".fc-event-resizer");n.setIgnoreMove(!d),this.isDragging=d&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,o=this.eventRange,n=o.instance.instanceId;e.isTouch?n!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:n}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new r.a0(t,o.def,o.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let o=this.relevantEvents,n=this.hitDragging.initialHit,a=this.component.context,s=null,i=null,l=null,c=!1,d={affectedEvents:o,mutatedEvents:(0,r.H)(),isEvent:!0};if(e){s=e.context;let t=s.options;a===s||t.editable&&t.droppable?(i=function(e,t,o){let n=e.dateSpan,a=t.dateSpan,s=n.range.start,i=a.range.start,l={};n.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,a.allDay&&(s=(0,r.o)(s)));let c=(0,r.aA)(s,i,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let n of o)n(d,e,t);return d}(n,e,s.getCurrentData().pluginHooks.eventDragMutationMassagers),i&&(l=(0,r.bX)(o,s.getCurrentData().eventUiBases,i,s),d.mutatedEvents=l,(0,r.bZ)(d,e.dateProfile,s)||(c=!0,i=null,l=null,d.mutatedEvents=(0,r.H)()))):s=null}this.displayDrag(s,d),c?(0,r.ax)():(0,r.aw)(),t||(a===s&&_(n,e)&&(i=null),this.dragging.setMirrorNeedsRevert(!i),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=s,this.validMutation=i,this.mutatedRelevantEvents=l)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,o=t.viewApi,{receivingContext:n,validMutation:a}=this,s=this.eventRange.def,i=this.eventRange.instance,l=new r.a0(t,s,i),c=this.relevantEvents,d=this.mutatedRelevantEvents,{finalHit:u}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:l,jsEvent:e.origEvent,view:o}),a){if(n===t){let n=new r.a0(t,d.defs[s.defId],i?d.instances[i.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:d});let u={oldEvent:l,event:n,relatedEvents:(0,r.v)(d,t,i),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:c})}},h={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(h,e(a,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},u),h),{el:e.subjectEl,delta:a.datesDelta,jsEvent:e.origEvent,view:o})),t.emitter.trigger("eventChange",u)}else if(n){let a={event:l,relatedEvents:(0,r.v)(c,t,i),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:c})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},a),{draggedEl:e.subjectEl,view:o})),t.dispatch({type:"REMOVE_EVENTS",eventStore:c}),t.emitter.trigger("eventRemove",a);let h=d.defs[s.defId],p=d.instances[i.instanceId],m=new r.a0(n,h,p);n.dispatch({type:"MERGE_EVENTS",eventStore:d});let g={event:m,relatedEvents:(0,r.v)(d,n,p),revert(){n.dispatch({type:"REMOVE_EVENTS",eventStore:d})}};n.emitter.trigger("eventAdd",g),e.isTouch&&n.dispatch({type:"SELECT_EVENT",eventInstanceId:i.instanceId}),n.emitter.trigger("drop",Object.assign(Object.assign({},w(u.dateSpan,n)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:u.context.viewApi})),n.emitter.trigger("eventReceive",Object.assign(Object.assign({},g),{draggedEl:e.subjectEl,view:u.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:o}=t.context,n=this.dragging=new f(e.el);n.pointer.selector=S.SELECTOR,n.touchScrollAllowed=!1,n.autoScroller.isEnabled=o.dragScroll;let a=this.hitDragging=new v(this.dragging,r.a7);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let o=this.component.context,n=this.receivingContext;n&&n!==e&&(n===o?n.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:(0,r.H)(),isEvent:!0}}):n.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}S.SELECTOR=".fc-event-draggable, .fc-event-resizable";class C extends r.Z{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,o=this.querySegEl(e),n=(0,r._)(o),a=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==a.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,o=this.eventRange;this.relevantEvents=(0,r.aV)(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let n=this.querySegEl(e);this.draggingSegEl=n,this.draggingSeg=(0,r._)(n),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:n,event:new r.a0(t,o.def,o.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,o)=>{let{context:n}=this.component,a=this.relevantEvents,s=this.hitDragging.initialHit,i=this.eventRange.instance,l=null,c=null,d=!1,u={affectedEvents:a,mutatedEvents:(0,r.H)(),isEvent:!0};if(e){e.componentId===s.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(s,e)||(l=function(e,t,o,n){let a=e.context.dateEnv,s=e.dateSpan.range.start,i=t.dateSpan.range.start,l=(0,r.aA)(s,i,a,e.largeUnit);if(o){if(a.add(n.start,l)<n.end)return{startDelta:l}}else if(a.add(n.end,l)>n.start)return{endDelta:l};return null}(s,e,o.subjectEl.classList.contains("fc-event-resizer-start"),i.range))}l&&(c=(0,r.bX)(a,n.getCurrentData().eventUiBases,l,n),u.mutatedEvents=c,(0,r.bZ)(u,e.dateProfile,n)||(d=!0,l=null,c=null,u.mutatedEvents=null)),c?n.dispatch({type:"SET_EVENT_RESIZE",state:u}):n.dispatch({type:"UNSET_EVENT_RESIZE"}),d?(0,r.ax)():(0,r.aw)(),t||(l&&_(s,e)&&(l=null),this.validMutation=l,this.mutatedRelevantEvents=c)},this.handleDragEnd=e=>{let{context:t}=this.component,o=this.eventRange.def,n=this.eventRange.instance,a=new r.a0(t,o,n),s=this.relevantEvents,i=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:a,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let l=new r.a0(t,i.defs[o.defId],n?i.instances[n.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:i});let c={oldEvent:a,event:l,relatedEvents:(0,r.v)(i,t,n),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:s})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},c),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||(0,r.d)(0),endDelta:this.validMutation.endDelta||(0,r.d)(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",c)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,o=this.dragging=new f(e.el);o.pointer.selector=".fc-event-resizer",o.touchScrollAllowed=!1,o.autoScroller.isEnabled=t.context.options.dragScroll;let n=this.hitDragging=new v(this.dragging,(0,r.bG)(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return(0,r.$)(e.subjectEl,".fc-event")}}const E={fixedMirrorParent:r.l},D={dateClick:r.l,eventDragStart:r.l,eventDragStop:r.l,eventDrop:r.l,eventResizeStart:r.l,eventResizeStop:r.l,eventResize:r.l,drop:r.l,eventReceive:r.l,eventLeave:r.l};r.bI.dataAttrPrefix="";var A=(0,n.rx)({name:"@fullcalendar/interaction",componentInteractions:[k,x,S,C],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,o=(0,r.aR)(e.origEvent);this.matchesCancel=!!(0,r.$)(o,t),this.matchesEvent=!!(0,r.$)(o,S.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:o}=this,n=t.getCurrentData();if(!o.wasTouchScroll){if(n.dateSelection&&!this.isRecentPointerDateSelect){let o=t.options.unselectAuto;!o||o&&this.matchesCancel||t.calendarApi.unselect(e)}n.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new l(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:f,optionRefiners:E,listenerRefiners:D})},500:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var n=o(8636),r=o(7920),a=o(6400);(0,r.cw)(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');class s extends r.X{constructor(){super(...arguments),this.state={textId:(0,r.a5)()}}render(){let{theme:e,dateEnv:t,options:o,viewApi:n}=this.context,{cellId:s,dayDate:l,todayRange:c}=this.props,{textId:d}=this.state,u=(0,r.a_)(l,c),h=o.listDayFormat?t.format(l,o.listDayFormat):"",p=o.listDaySideFormat?t.format(l,o.listDaySideFormat):"",m=Object.assign({date:t.toDate(l),view:n,textId:d,text:h,sideText:p,navLinkAttrs:(0,r.b0)(this.context,l),sideNavLinkAttrs:(0,r.b0)(this.context,l,"day",!1)},u);return(0,a.az)(r.C,{elTag:"tr",elClasses:["fc-list-day",...(0,r.aZ)(u,e)],elAttrs:{"data-date":(0,r.bv)(l)},renderProps:m,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:i,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},(t=>(0,a.az)("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":d},(0,a.az)(t,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]}))))}}function i(e){return(0,a.az)(a.HY,null,e.text&&(0,a.az)("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&(0,a.az)("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const l=(0,r.w)({hour:"numeric",minute:"2-digit",meridiem:"short"});class c extends r.X{render(){let{props:e,context:t}=this,{options:o}=t,{seg:n,timeHeaderId:s,eventHeaderId:i,dateHeaderId:c}=e,u=o.eventTimeFormat||l;return(0,a.az)(r.cn,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",n.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function(e,t){let o=(0,r.bU)(e,t);return(0,a.az)("a",Object.assign({},o),e.eventRange.def.title)}(n,t),seg:n,timeText:"",disableDragging:!0,disableResizing:!0}),((e,o)=>(0,a.az)(a.HY,null,function(e,t,o,n,s){let{options:i}=o;if(!1!==i.displayEventTime){let l,c=e.eventRange.def,u=e.eventRange.instance,h=!1;if(c.allDay?h=!0:(0,r.az)(e.eventRange.range)?e.isStart?l=(0,r.bQ)(e,t,o,null,null,u.range.start,e.end):e.isEnd?l=(0,r.bQ)(e,t,o,null,null,e.start,u.range.end):h=!0:l=(0,r.bQ)(e,t,o),h){let e={text:o.options.allDayText,view:o.viewApi};return(0,a.az)(r.C,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${n} ${s}`},renderProps:e,generatorName:"allDayContent",customGenerator:i.allDayContent,defaultGenerator:d,classNameGenerator:i.allDayClassNames,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount})}return(0,a.az)("td",{className:"fc-list-event-time"},l)}return null}(n,u,t,s,c),(0,a.az)("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},(0,a.az)("span",{className:"fc-list-event-dot",style:{borderColor:o.borderColor||o.backgroundColor}})),(0,a.az)(e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${i} ${c}`}}))))}}function d(e){return e.text}class u extends r.be{constructor(){super(...arguments),this.computeDateVars=(0,r.y)(p),this.eventStoreToSegs=(0,r.y)(this._eventStoreToSegs),this.state={timeHeaderId:(0,r.a5)(),eventHeaderId:(0,r.a5)(),dateHeaderIdRoot:(0,r.a5)()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:o,dayRanges:n}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,n);return(0,a.az)(r.ct,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},(0,a.az)(r.cd,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,o):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,o={text:e.noEventsText,view:t};return(0,a.az)(r.C,{elTag:"div",elClasses:["fc-list-empty"],renderProps:o,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:h,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},(e=>(0,a.az)(e,{elTag:"div",elClasses:["fc-list-empty-cushion"]})))}renderSegList(e,t){let{theme:o,options:n}=this.context,{timeHeaderId:i,eventHeaderId:l,dateHeaderIdRoot:d}=this.state,u=function(e){let t,o,n=[];for(t=0;t<e.length;t+=1)o=e[t],(n[o.dayIndex]||(n[o.dayIndex]=[])).push(o);return n}(e);return(0,a.az)(r.ch,{unit:"day"},((e,h)=>{let p=[];for(let o=0;o<u.length;o+=1){let m=u[o];if(m){let u=(0,r.bv)(t[o]),g=d+"-"+u;p.push((0,a.az)(s,{key:u,cellId:g,dayDate:t[o],todayRange:h})),m=(0,r.bR)(m,n.eventOrder);for(let t of m)p.push((0,a.az)(c,Object.assign({key:u+":"+t.eventRange.instance.instanceId,seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:l,dateHeaderId:g},(0,r.bS)(t,h,e))))}}return(0,a.az)("table",{className:"fc-list-table "+o.getClass("table")},(0,a.az)("thead",null,(0,a.az)("tr",null,(0,a.az)("th",{scope:"col",id:i},n.timeHint),(0,a.az)("th",{scope:"col","aria-hidden":!0}),(0,a.az)("th",{scope:"col",id:l},n.eventHint))),(0,a.az)("tbody",null,p))}))}_eventStoreToSegs(e,t,o){return this.eventRangesToSegs((0,r.af)(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,o)}eventRangesToSegs(e,t){let o=[];for(let n of e)o.push(...this.eventRangeToSegs(n,t));return o}eventRangeToSegs(e,t){let o,n,a,{dateEnv:s}=this.context,{nextDayThreshold:i}=this.context.options,l=e.range,c=e.def.allDay,d=[];for(o=0;o<t.length;o+=1)if(n=(0,r.n)(l,t[o]),n&&(a={component:this,eventRange:e,start:n.start,end:n.end,isStart:e.isStart&&n.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&n.end.valueOf()===l.end.valueOf(),dayIndex:o},d.push(a),!a.isEnd&&!c&&o+1<t.length&&l.end<s.add(t[o+1].start,i))){a.end=l.end,a.isEnd=!0;break}return d}}function h(e){return e.text}function p(e){let t=(0,r.o)(e.renderRange.start),o=e.renderRange.end,n=[],a=[];for(;t<o;)n.push(t),a.push({start:t,end:(0,r.q)(t,1)}),t=(0,r.q)(t,1);return{dayDates:n,dayRanges:a}}const m={listDayFormat:g,listDaySideFormat:g,noEventsClassNames:r.l,noEventsContent:r.l,noEventsDidMount:r.l,noEventsWillUnmount:r.l};function g(e){return!1===e?null:(0,r.w)(e)}var f=(0,n.rx)({name:"@fullcalendar/list",optionRefiners:m,views:{list:{component:u,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}})},3196:(e,t,o)=>{"use strict";o.d(t,{Z:()=>U});var n=o(8636),r=o(7920),a=o(6400),s=o(5180);class i extends r.aY{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?(0,r.bP)(e)?["timed","allDay"]:["allDay"]:["timed"]}}const l=(0,r.w)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function c(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return(0,a.az)(r.V.Consumer,null,(o=>{if(!e.isLabeled)return(0,a.az)("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:n,options:s,viewApi:i}=o,c=null==s.slotLabelFormat?l:Array.isArray(s.slotLabelFormat)?(0,r.w)(s.slotLabelFormat[0]):(0,r.w)(s.slotLabelFormat),u={level:0,time:e.time,date:n.toDate(e.date),view:i,text:n.format(e.date,c)};return(0,a.az)(r.C,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:u,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:d,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},(e=>(0,a.az)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,a.az)(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]}))))}))}function d(e){return e.text}class u extends r.X{render(){return this.props.slatMetas.map((e=>(0,a.az)("tr",{key:e.key},(0,a.az)(c,Object.assign({},e)))))}}const h=(0,r.w)({week:"short"});class p extends r.be{constructor(){super(...arguments),this.allDaySplitter=new i,this.headerElRef=(0,a.Vf)(),this.rootElRef=(0,a.Vf)(),this.scrollerElRef=(0,a.Vf)(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:o}=this.context,{dateProfile:n}=this.props,s=n.renderRange,i=1===(0,r.bl)(s.start,s.end)?(0,r.b0)(this.context,s.start,"week"):{};return o.weekNumbers&&"day"===e?(0,a.az)(r.cq,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:h},(e=>(0,a.az)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},(0,a.az)(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:i})))):(0,a.az)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},(0,a.az)("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:o}=this.context,n={text:t.allDayText,view:o};return(0,a.az)(r.C,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:n,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:m,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},(t=>(0,a.az)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},(0,a.az)(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]}))))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,o){let{context:n,props:s}=this,i=[],l=(0,r.cc)(n.options);return e&&i.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:(0,a.az)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,a.az)("td",{className:"fc-timegrid-divider "+n.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(n.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:o}}),(0,a.az)(r.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:n.viewSpec},(0,a.az)(r.b$,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:i}))}renderHScrollLayout(e,t,o,n,s,i,l){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,p=!h.forPrint&&(0,r.cc)(d.options),m=!h.forPrint&&(0,r.cb)(d.options),g=[];e&&g.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,a.az)("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(g.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,a.az)("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),g.push({key:"all-day-divider",type:"body",outerContent:(0,a.az)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,a.az)("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let f=d.options.nowIndicator;return g.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(d.options.expandRows),chunks:[{key:"axis",content:e=>(0,a.az)("div",{className:"fc-timegrid-axis-chunk"},(0,a.az)("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,(0,a.az)("tbody",null,(0,a.az)(u,{slatMetas:i}))),(0,a.az)("div",{className:"fc-timegrid-now-indicator-container"},(0,a.az)(r.ch,{unit:f?"minute":"day"},(e=>{let t=f&&l&&l.safeComputeTop(e);return"number"==typeof t?(0,a.az)(r.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null}))))},{key:"cols",scrollerElRef:this.scrollerElRef,content:o}]}),m&&g.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:r.ca},{key:"cols",content:r.ca}]}),(0,a.az)(r.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},(0,a.az)(c,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:n,minWidth:s}]}],sections:g}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return!0!==e&&!0!==t||(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function m(e){return e.text}class g{constructor(e,t,o){this.positions=e,this.dateProfile=t,this.slotDuration=o}safeComputeTop(e){let{dateProfile:t}=this;if((0,r.G)(t.currentRange,e)){let o=(0,r.o)(e),n=e.valueOf()-o.valueOf();if(n>=(0,r.bs)(t.slotMinTime)&&n<(0,r.bs)(t.slotMaxTime))return this.computeTimeTop((0,r.d)(n))}return null}computeDateTop(e,t){return t||(t=(0,r.o)(e)),this.computeTimeTop((0,r.d)(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,o,{positions:n,dateProfile:a}=this,s=n.els.length,i=(e.milliseconds-(0,r.bs)(a.slotMinTime))/(0,r.bs)(this.slotDuration);return i=Math.max(0,i),i=Math.min(s,i),t=Math.floor(i),t=Math.min(t,s-1),o=i-t,n.tops[t]+n.getHeight(t)*o}}class f extends r.X{render(){let{props:e,context:t}=this,{options:o}=t,{slatElRefs:n}=e;return(0,a.az)("tbody",null,e.slatMetas.map(((s,i)=>{let l={time:s.time,date:t.dateEnv.toDate(s.date),view:t.viewApi};return(0,a.az)("tr",{key:s.key,ref:n.createRef(s.key)},e.axis&&(0,a.az)(c,Object.assign({},s)),(0,a.az)(r.C,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:o.slotLaneContent,classNameGenerator:o.slotLaneClassNames,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount}))})))}}class y extends r.X{constructor(){super(...arguments),this.rootElRef=(0,a.Vf)(),this.slatElRefs=new r.cf}render(){let{props:e,context:t}=this;return(0,a.az)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},(0,a.az)("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,(0,a.az)(f,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;if(t.onCoords&&null!==t.clientWidth){this.rootElRef.current.offsetHeight&&t.onCoords(new g(new r.ba(this.rootElRef.current,(o=this.slatElRefs.currentMap,t.slatMetas.map((e=>o[e.key]))),!1,!0),this.props.dateProfile,e.options.slotDuration))}var o}}function b(e,t){let o,n=[];for(o=0;o<t;o+=1)n.push([]);if(e)for(o=0;o<e.length;o+=1)n[e[o].col].push(e[o]);return n}function v(e,t){let o=[];if(e){for(let n=0;n<t;n+=1)o[n]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)o[t.col].segs.push(t)}else for(let e=0;e<t;e+=1)o[e]=null;return o}class _ extends r.X{render(){let{props:e}=this;return(0,a.az)(r.cr,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>M(e.hiddenSegs,e),defaultGenerator:w,forceTimed:!0},(e=>(0,a.az)(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]})))}}function w(e){return e.shortText}function k(e,t,o){let n=new r.bA;null!=t&&(n.strictOrder=t),null!=o&&(n.maxStackCnt=o);let a=n.addSegs(e),s=(0,r.bE)(a),i=function(e){const{entriesByLevel:t}=e,o=E(((e,t)=>e+":"+t),((n,a)=>{let s=function(e,t,o){let{levelCoords:n,entriesByLevel:a}=e,s=a[t][o],i=n[t]+s.thickness,l=n.length,c=t;for(;c<l&&n[c]<i;c+=1);for(;c<l;c+=1){let e,t=a[c],o=(0,r.bD)(t,s.span.start,r.bC),n=o[0]+o[1],i=n;for(;(e=t[i])&&e.span.start<s.span.end;)i+=1;if(n<i)return{level:c,lateralStart:n,lateralEnd:i}}return null}(e,n,a),i=x(s,o),l=t[n][a];return[Object.assign(Object.assign({},l),{nextLevelNodes:i[0]}),l.thickness+i[1]]}));return x(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,o)[0]}(n);return i=function(e,t){const o=E(((e,t,o)=>(0,r.bB)(e)),((e,n,r)=>{let a,{nextLevelNodes:s,thickness:i}=e,l=i+r,c=i/l,d=[];if(s.length)for(let e of s)if(void 0===a){let t=o(e,n,l);a=t[0],d.push(t[1])}else{let t=o(e,a,0);d.push(t[1])}else a=t;let u=(a-n)*c;return[a-u,Object.assign(Object.assign({},e),{thickness:u,nextLevelNodes:d})]}));return e.map((e=>o(e,0,0)[1]))}(i,1),{segRects:function(e){let t=[];const o=E(((e,t,o)=>(0,r.bB)(e)),((e,o,r)=>{let a=Object.assign(Object.assign({},e),{levelCoord:o,stackDepth:r,stackForward:0});return t.push(a),a.stackForward=n(e.nextLevelNodes,o+e.thickness,r+1)+1}));function n(e,t,n){let r=0;for(let a of e)r=Math.max(o(a,t,n),r);return r}return n(e,0,0),t}(i),hiddenGroups:s}}function x(e,t){if(!e)return[[],0];let{level:o,lateralStart:n,lateralEnd:r}=e,a=n,s=[];for(;a<r;)s.push(t(o,a)),a+=1;return s.sort(S),[s.map(C),s[0][1]]}function S(e,t){return t[1]-e[1]}function C(e){return e[0]}function E(e,t){const o={};return(...n)=>{let r=e(...n);return r in o?o[r]:o[r]=t(...n)}}function D(e,t,o=null,n=0){let r=[];if(o)for(let a=0;a<e.length;a+=1){let s=e[a],i=o.computeDateTop(s.start,t),l=Math.max(i+(n||0),o.computeDateTop(s.end,t));r.push({start:Math.round(i),end:Math.round(l)})}return r}const A=(0,r.w)({hour:"numeric",minute:"2-digit",meridiem:!1});class T extends r.X{render(){return(0,a.az)(r.cj,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:A}))}}class O extends r.X{constructor(){super(...arguments),this.sortEventSegs=(0,r.y)(r.bR)}render(){let{props:e,context:t}=this,{options:o}=t,n=o.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||n&&e.dateSelectionSegs||[],i=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,o.eventOrder);return(0,a.az)(r.cl,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},(t=>(0,a.az)("div",{className:"fc-timegrid-col-frame"},(0,a.az)("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),(0,a.az)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,i,!1,!1,!1)),(0,a.az)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(n))),(0,a.az)("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),(0,r.cm)(o)&&(0,a.az)(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]}))))}renderFgSegs(e,t,o,n,r){let{props:a}=this;return a.forPrint?M(e,a):this.renderPositionedFgSegs(e,t,o,n,r)}renderPositionedFgSegs(e,t,o,n,s){let{eventMaxStack:i,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:d}=this.context.options,{date:u,slatCoords:h,eventSelection:p,todayRange:m,nowDate:g}=this.props,f=o||n||s,y=D(e,u,h,d),{segPlacements:b,hiddenGroups:v}=function(e,t,o,n){let r=[],a=[];for(let o=0;o<e.length;o+=1){let n=t[o];n?r.push({index:o,thickness:1,span:n}):a.push(e[o])}let{segRects:s,hiddenGroups:i}=k(r,o,n),l=[];for(let t of s)l.push({seg:e[t.index],rect:t});for(let e of a)l.push({seg:e,rect:null});return{segPlacements:l,hiddenGroups:i}}(e,y,c,i);return(0,a.az)(a.HY,null,this.renderHiddenGroups(v,e),b.map((e=>{let{seg:i,rect:c}=e,d=i.eventRange.instance.instanceId,u=f||Boolean(!t[d]&&c),h=z(c&&c.span),y=!f&&c?this.computeSegHStyle(c):{left:0,right:0},b=Boolean(c)&&c.stackForward>0,v=Boolean(c)&&c.span.end-c.span.start<l;return(0,a.az)("div",{className:"fc-timegrid-event-harness"+(b?" fc-timegrid-event-harness-inset":""),key:d,style:Object.assign(Object.assign({visibility:u?"":"hidden"},h),y)},(0,a.az)(T,Object.assign({seg:i,isDragging:o,isResizing:n,isDateSelecting:s,isSelected:d===p,isShort:v},(0,r.bS)(i,m,g))))})))}renderHiddenGroups(e,t){let{extraDateSpan:o,dateProfile:n,todayRange:s,nowDate:i,eventSelection:l,eventDrag:c,eventResize:d}=this.props;return(0,a.az)(a.HY,null,e.map((e=>{let u=z(e.span),h=(p=e.entries,m=t,p.map((e=>m[e.index])));var p,m;return(0,a.az)(_,{key:(0,r.bw)((0,r.cs)(h)),hiddenSegs:h,top:u.top,bottom:u.bottom,extraDateSpan:o,dateProfile:n,todayRange:s,nowDate:i,eventSelection:l,eventDrag:c,eventResize:d})})))}renderFillSegs(e,t){let{props:o,context:n}=this,s=D(e,o.date,o.slatCoords,n.options.eventMinHeight).map(((n,s)=>{let i=e[s];return(0,a.az)("div",{key:(0,r.bT)(i.eventRange),className:"fc-timegrid-bg-harness",style:z(n)},"bg-event"===t?(0,a.az)(r.cp,Object.assign({seg:i},(0,r.bS)(i,o.todayRange,o.nowDate))):(0,r.co)(t))}));return(0,a.az)(a.HY,null,s)}renderNowIndicator(e){let{slatCoords:t,date:o}=this.props;return t?e.map(((e,n)=>(0,a.az)(r.ck,{key:n,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,o)},isAxis:!1,date:o}))):null}computeSegHStyle(e){let t,o,{isRtl:n,options:r}=this.context,a=r.slotEventOverlap,s=e.levelCoord,i=e.levelCoord+e.thickness;a&&(i=Math.min(1,s+2*(i-s))),n?(t=1-i,o=s):(t=s,o=1-i);let l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*o+"%"};return a&&!e.stackForward&&(l[n?"marginLeft":"marginRight"]=20),l}}function M(e,{todayRange:t,nowDate:o,eventSelection:n,eventDrag:s,eventResize:i}){let l=(s?s.affectedInstances:null)||(i?i.affectedInstances:null)||{};return(0,a.az)(a.HY,null,e.map((e=>{let s=e.eventRange.instance.instanceId;return(0,a.az)("div",{key:s,style:{visibility:l[s]?"hidden":""}},(0,a.az)(T,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===n,isShort:!1},(0,r.bS)(e,t,o))))})))}function z(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}class R extends r.X{constructor(){super(...arguments),this.splitFgEventSegs=(0,r.y)(b),this.splitBgEventSegs=(0,r.y)(b),this.splitBusinessHourSegs=(0,r.y)(b),this.splitNowIndicatorSegs=(0,r.y)(b),this.splitDateSelectionSegs=(0,r.y)(b),this.splitEventDrag=(0,r.y)(v),this.splitEventResize=(0,r.y)(v),this.rootElRef=(0,a.Vf)(),this.cellElRefs=new r.cf}render(){let{props:e,context:t}=this,o=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),n=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),l=this.splitBusinessHourSegs(e.businessHourSegs,n),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,n),d=this.splitDateSelectionSegs(e.dateSelectionSegs,n),u=this.splitEventDrag(e.eventDrag,n),h=this.splitEventResize(e.eventResize,n);return(0,a.az)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,a.az)("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,(0,a.az)("tbody",{role:"presentation"},(0,a.az)("tr",{role:"row"},e.axis&&(0,a.az)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},(0,a.az)("div",{className:"fc-timegrid-col-frame"},(0,a.az)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof o&&(0,a.az)(r.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:o},isAxis:!0,date:e.nowDate})))),e.cells.map(((t,o)=>(0,a.az)(O,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:s[o],bgEventSegs:i[o],businessHourSegs:l[o],nowIndicatorSegs:c[o],dateSelectionSegs:d[o],eventDrag:u[o],eventResize:h[o],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint})))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;var t;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new r.ba(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.cells.map((e=>t[e.key]))),!0,!1))}}class N extends r.be{constructor(){super(...arguments),this.processSlotOptions=(0,r.y)(I),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:o}=this.state;if(t&&o){if(e.time){let n=o.computeTimeTop(e.time);n=Math.ceil(n),n&&(n+=1),t(n)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return(0,a.az)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,a.az)(y,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,a.az)(R,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:o,options:n}=this.context,{colCoords:a}=this,{dateProfile:s}=this.props,{slatCoords:i}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,n.snapDuration),d=a.leftToIndex(e),u=i.positions.topToIndex(t);if(null!=d&&null!=u){let e=this.props.cells[d],n=i.positions.tops[u],h=i.positions.getHeight(u),p=(t-n)/h,m=u*c+Math.floor(p*c),g=this.props.cells[d].date,f=(0,r.bp)(s.slotMinTime,(0,r.bo)(l,m)),y=o.add(g,f),b=o.add(y,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:y,end:b},allDay:!1},e.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:n,bottom:n+h},layer:0}}return null}}function I(e,t){let o=t||e,n=(0,r.bt)(e,o);return null===n&&(o=e,n=1),{snapDuration:o,snapsPerSlot:n}}class L extends r.bW{sliceRange(e,t){let o=[];for(let n=0;n<t.length;n+=1){let a=(0,r.n)(e,t[n]);a&&o.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:n})}return o}}class P extends r.be{constructor(){super(...arguments),this.buildDayRanges=(0,r.y)(B),this.slicer=new L,this.timeColsRef=(0,a.Vf)()}render(){let{props:e,context:t}=this,{dateProfile:o,dayTableModel:n}=e,{nowIndicator:s,nextDayThreshold:i}=t.options,l=this.buildDayRanges(n,o,t.dateEnv);return(0,a.az)(r.ch,{unit:s?"minute":"day"},((r,c)=>(0,a.az)(N,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,o,null,t,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:o,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:n.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:r,nowIndicatorSegs:s&&this.slicer.sliceNowDate(r,o,i,t,l),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords}))))}}function B(e,t,o){let n=[];for(let r of e.headerDates)n.push({start:o.add(r,t.slotMinTime),end:o.add(r,t.slotMaxTime)});return n}const H=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function F(e,t,o,n,a){let s=new Date(0),i=e,l=(0,r.d)(0),c=o||function(e){let t,o,n;for(t=H.length-1;t>=0;t-=1)if(o=(0,r.d)(H[t]),n=(0,r.bt)(o,e),null!==n&&n>1)return o;return e}(n),d=[];for(;(0,r.bs)(i)<(0,r.bs)(t);){let e=a.add(s,i),t=null!==(0,r.bt)(l,c);d.push({date:e,time:i,key:e.toISOString(),isoTimeStr:(0,r.bu)(e),isLabeled:t}),i=(0,r.bp)(i,n),l=(0,r.bp)(l,n)}return d}function V(e,t){let o=new r.bO(e.renderRange,t);return new r.bV(o,!1)}(0,r.cw)('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');const j={allDaySlot:Boolean};var U=(0,n.rx)({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:j,views:{timeGrid:{component:class extends p{constructor(){super(...arguments),this.buildTimeColsModel=(0,r.y)(V),this.buildSlatMetas=(0,r.y)(F)}render(){let{options:e,dateEnv:t,dateProfileGenerator:o}=this.context,{props:n}=this,{dateProfile:i}=n,l=this.buildTimeColsModel(i,o),c=this.allDaySplitter.splitProps(n),d=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:u}=e,h=!u,p=u,m=e.dayHeaders&&(0,a.az)(r.bK,{dates:l.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),g=!1!==e.allDaySlot&&(t=>(0,a.az)(s.iz,Object.assign({},c.allDay,{dateProfile:i,dayTableModel:l,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint},this.getAllDayMaxEventProps()))),f=t=>(0,a.az)(P,Object.assign({},c.timed,{dayTableModel:l,dateProfile:i,axis:h,slotDuration:e.slotDuration,slatMetas:d,forPrint:n.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return p?this.renderHScrollLayout(m,g,f,l.colCnt,u,d,this.state.slatCoords):this.renderSimpleLayout(m,g,f)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}})},5261:(e,t,o)=>{"use strict";function n(e){return e+.5|0}o.d(t,{ZP:()=>Ms});const r=(e,t,o)=>Math.max(Math.min(e,o),t);function a(e){return r(n(2.55*e),0,255)}function s(e){return r(n(255*e),0,255)}function i(e){return r(n(e/2.55)/100,0,1)}function l(e){return r(n(100*e),0,100)}const c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},d=[..."0123456789ABCDEF"],u=e=>d[15&e],h=e=>d[(240&e)>>4]+d[15&e],p=e=>(240&e)>>4==(15&e),m=e=>p(e.r)&&p(e.g)&&p(e.b)&&p(e.a);const g=(e,t)=>e<255?t(e):"";const f=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function y(e,t,o){const n=t*Math.min(o,1-o),r=(t,r=(t+e/30)%12)=>o-n*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function b(e,t,o){const n=(n,r=(n+e/60)%6)=>o-o*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function v(e,t,o){const n=y(e,1,.5);let r;for(t+o>1&&(r=1/(t+o),t*=r,o*=r),r=0;r<3;r++)n[r]*=1-t-o,n[r]+=t;return n}function _(e){const t=e.r/255,o=e.g/255,n=e.b/255,r=Math.max(t,o,n),a=Math.min(t,o,n),s=(r+a)/2;let i,l,c;return r!==a&&(c=r-a,l=s>.5?c/(2-r-a):c/(r+a),i=function(e,t,o,n,r){return e===r?(t-o)/n+(t<o?6:0):t===r?(o-e)/n+2:(e-t)/n+4}(t,o,n,c,r),i=60*i+.5),[0|i,l||0,s]}function w(e,t,o,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,o,n)).map(s)}function k(e,t,o){return w(y,e,t,o)}function x(e){return(e%360+360)%360}function S(e){const t=f.exec(e);let o,n=255;if(!t)return;t[5]!==o&&(n=t[6]?a(+t[5]):s(+t[5]));const r=x(+t[2]),i=+t[3]/100,l=+t[4]/100;return o="hwb"===t[1]?function(e,t,o){return w(v,e,t,o)}(r,i,l):"hsv"===t[1]?function(e,t,o){return w(b,e,t,o)}(r,i,l):k(r,i,l),{r:o[0],g:o[1],b:o[2],a:n}}const C={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},E={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let D;function A(e){D||(D=function(){const e={},t=Object.keys(E),o=Object.keys(C);let n,r,a,s,i;for(n=0;n<t.length;n++){for(s=i=t[n],r=0;r<o.length;r++)a=o[r],i=i.replace(a,C[a]);a=parseInt(E[s],16),e[i]=[a>>16&255,a>>8&255,255&a]}return e}(),D.transparent=[0,0,0,0]);const t=D[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const T=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const O=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,M=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function z(e,t,o){if(e){let n=_(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*o,0===t?360:1)),n=k(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function R(e,t){return e?Object.assign(t||{},e):e}function N(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=s(e[3]))):(t=R(e,{r:0,g:0,b:0,a:1})).a=s(t.a),t}function I(e){return"r"===e.charAt(0)?function(e){const t=T.exec(e);let o,n,s,i=255;if(t){if(t[7]!==o){const e=+t[7];i=t[8]?a(e):r(255*e,0,255)}return o=+t[1],n=+t[3],s=+t[5],o=255&(t[2]?a(o):r(o,0,255)),n=255&(t[4]?a(n):r(n,0,255)),s=255&(t[6]?a(s):r(s,0,255)),{r:o,g:n,b:s,a:i}}}(e):S(e)}class L{constructor(e){if(e instanceof L)return e;const t=typeof e;let o;var n,r,a;"object"===t?o=N(e):"string"===t&&(a=(n=e).length,"#"===n[0]&&(4===a||5===a?r={r:255&17*c[n[1]],g:255&17*c[n[2]],b:255&17*c[n[3]],a:5===a?17*c[n[4]]:255}:7!==a&&9!==a||(r={r:c[n[1]]<<4|c[n[2]],g:c[n[3]]<<4|c[n[4]],b:c[n[5]]<<4|c[n[6]],a:9===a?c[n[7]]<<4|c[n[8]]:255})),o=r||A(e)||I(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=R(this._rgb);return e&&(e.a=i(e.a)),e}set rgb(e){this._rgb=N(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${i(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?(e=this._rgb,t=m(e)?u:h,e?"#"+t(e.r)+t(e.g)+t(e.b)+g(e.a,t):void 0):void 0;var e,t}hslString(){return this._valid?function(e){if(!e)return;const t=_(e),o=t[0],n=l(t[1]),r=l(t[2]);return e.a<255?`hsla(${o}, ${n}%, ${r}%, ${i(e.a)})`:`hsl(${o}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const o=this.rgb,n=e.rgb;let r;const a=t===r?.5:t,s=2*a-1,i=o.a-n.a,l=((s*i==-1?s:(s+i)/(1+s*i))+1)/2;r=1-l,o.r=255&l*o.r+r*n.r+.5,o.g=255&l*o.g+r*n.g+.5,o.b=255&l*o.b+r*n.b+.5,o.a=a*o.a+(1-a)*n.a,this.rgb=o}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,o){const n=M(i(e.r)),r=M(i(e.g)),a=M(i(e.b));return{r:s(O(n+o*(M(i(t.r))-n))),g:s(O(r+o*(M(i(t.g))-r))),b:s(O(a+o*(M(i(t.b))-a))),a:e.a+o*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new L(this.rgb)}alpha(e){return this._rgb.a=s(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=n(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return z(this._rgb,2,e),this}darken(e){return z(this._rgb,2,-e),this}saturate(e){return z(this._rgb,1,e),this}desaturate(e){return z(this._rgb,1,-e),this}rotate(e){return function(e,t){var o=_(e);o[0]=x(o[0]+t),o=k(o),e.r=o[0],e.g=o[1],e.b=o[2]}(this._rgb,e),this}}function P(){}const B=(()=>{let e=0;return()=>e++})();function H(e){return null==e}function F(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function V(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function j(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function U(e,t){return j(e)?e:t}function W(e,t){return void 0===e?t:e}const Z=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function $(e,t,o){if(e&&"function"==typeof e.call)return e.apply(o,t)}function q(e,t,o,n){let r,a,s;if(F(e))if(a=e.length,n)for(r=a-1;r>=0;r--)t.call(o,e[r],r);else for(r=0;r<a;r++)t.call(o,e[r],r);else if(V(e))for(s=Object.keys(e),a=s.length,r=0;r<a;r++)t.call(o,e[s[r]],s[r])}function Y(e,t){let o,n,r,a;if(!e||!t||e.length!==t.length)return!1;for(o=0,n=e.length;o<n;++o)if(r=e[o],a=t[o],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function G(e){if(F(e))return e.map(G);if(V(e)){const t=Object.create(null),o=Object.keys(e),n=o.length;let r=0;for(;r<n;++r)t[o[r]]=G(e[o[r]]);return t}return e}function K(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function X(e,t,o,n){if(!K(e))return;const r=t[e],a=o[e];V(r)&&V(a)?Q(r,a,n):t[e]=G(a)}function Q(e,t,o){const n=F(t)?t:[t],r=n.length;if(!V(e))return e;const a=(o=o||{}).merger||X;let s;for(let t=0;t<r;++t){if(s=n[t],!V(s))continue;const r=Object.keys(s);for(let t=0,n=r.length;t<n;++t)a(r[t],e,s,o)}return e}function J(e,t){return Q(e,t,{merger:ee})}function ee(e,t,o){if(!K(e))return;const n=t[e],r=o[e];V(n)&&V(r)?J(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=G(r))}const te={"":e=>e,x:e=>e.x,y:e=>e.y};function oe(e,t){const o=te[t]||(te[t]=function(e){const t=function(e){const t=e.split("."),o=[];let n="";for(const e of t)n+=e,n.endsWith("\\")?n=n.slice(0,-1)+".":(o.push(n),n="");return o}(e);return e=>{for(const o of t){if(""===o)break;e=e&&e[o]}return e}}(t));return o(e)}function ne(e){return e.charAt(0).toUpperCase()+e.slice(1)}const re=e=>void 0!==e,ae=e=>"function"==typeof e,se=(e,t)=>{if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0};const ie=Math.PI,le=2*ie,ce=le+ie,de=Number.POSITIVE_INFINITY,ue=ie/180,he=ie/2,pe=ie/4,me=2*ie/3,ge=Math.log10,fe=Math.sign;function ye(e,t,o){return Math.abs(e-t)<o}function be(e){const t=Math.round(e);e=ye(e,t,e/1e3)?t:e;const o=Math.pow(10,Math.floor(ge(e))),n=e/o;return(n<=1?1:n<=2?2:n<=5?5:10)*o}function ve(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _e(e,t,o){let n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n][o],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function we(e){return e*(ie/180)}function ke(e){return e*(180/ie)}function xe(e){if(!j(e))return;let t=1,o=0;for(;Math.round(e*t)/t!==e;)t*=10,o++;return o}function Se(e,t){const o=t.x-e.x,n=t.y-e.y,r=Math.sqrt(o*o+n*n);let a=Math.atan2(n,o);return a<-.5*ie&&(a+=le),{angle:a,distance:r}}function Ce(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ee(e,t){return(e-t+ce)%le-ie}function De(e){return(e%le+le)%le}function Ae(e,t,o,n){const r=De(e),a=De(t),s=De(o),i=De(a-r),l=De(s-r),c=De(r-a),d=De(r-s);return r===a||r===s||n&&a===s||i>l&&c<d}function Te(e,t,o){return Math.max(t,Math.min(o,e))}function Oe(e,t,o,n=1e-6){return e>=Math.min(t,o)-n&&e<=Math.max(t,o)+n}function Me(e,t,o){o=o||(o=>e[o]<t);let n,r=e.length-1,a=0;for(;r-a>1;)n=a+r>>1,o(n)?a=n:r=n;return{lo:a,hi:r}}const ze=(e,t,o,n)=>Me(e,o,n?n=>{const r=e[n][t];return r<o||r===o&&e[n+1][t]===o}:n=>e[n][t]<o),Re=(e,t,o)=>Me(e,o,(n=>e[n][t]>=o));const Ne=["push","pop","shift","splice","unshift"];function Ie(e,t){const o=e._chartjs;if(!o)return;const n=o.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),n.length>0||(Ne.forEach((t=>{delete e[t]})),delete e._chartjs)}function Le(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Pe="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function Be(e,t){let o=[],n=!1;return function(...r){o=r,n||(n=!0,Pe.call(window,(()=>{n=!1,e.apply(t,o)})))}}const He=e=>"start"===e?"left":"end"===e?"right":"center",Fe=(e,t,o)=>"start"===e?t:"end"===e?o:(t+o)/2;function Ve(e,t,o){const n=t.length;let r=0,a=n;if(e._sorted){const{iScale:s,_parsed:i}=e,l=s.axis,{min:c,max:d,minDefined:u,maxDefined:h}=s.getUserBounds();u&&(r=Te(Math.min(ze(i,l,c).lo,o?n:ze(t,l,s.getPixelForValue(c)).lo),0,n-1)),a=h?Te(Math.max(ze(i,s.axis,d,!0).hi+1,o?0:ze(t,l,s.getPixelForValue(d),!0).hi+1),r,n)-r:n-r}return{start:r,count:a}}function je(e){const{xScale:t,yScale:o,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:o.min,ymax:o.max};if(!n)return e._scaleRanges=r,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==o.min||n.ymax!==o.max;return Object.assign(n,r),a}const Ue=e=>0===e||1===e,We=(e,t,o)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*le/o),Ze=(e,t,o)=>Math.pow(2,-10*e)*Math.sin((e-t)*le/o)+1,$e={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*he),easeOutSine:e=>Math.sin(e*he),easeInOutSine:e=>-.5*(Math.cos(ie*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ue(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ue(e)?e:We(e,.075,.3),easeOutElastic:e=>Ue(e)?e:Ze(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ue(e)?e:e<.5?.5*We(2*e,t,.45):.5+.5*Ze(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-$e.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,o=2.75;return e<1/o?t*e*e:e<2/o?t*(e-=1.5/o)*e+.75:e<2.5/o?t*(e-=2.25/o)*e+.9375:t*(e-=2.625/o)*e+.984375},easeInOutBounce:e=>e<.5?.5*$e.easeInBounce(2*e):.5*$e.easeOutBounce(2*e-1)+.5};function qe(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ye(e){return qe(e)?e:new L(e)}function Ge(e){return qe(e)?e:new L(e).saturate(.5).darken(.1).hexString()}const Ke=["x","y","borderWidth","radius","tension"],Xe=["color","borderColor","backgroundColor"];const Qe=new Map;function Je(e,t,o){return function(e,t){t=t||{};const o=e+JSON.stringify(t);let n=Qe.get(o);return n||(n=new Intl.NumberFormat(e,t),Qe.set(o,n)),n}(t,o).format(e)}const et={values:e=>F(e)?e:""+e,numeric(e,t,o){if(0===e)return"0";const n=this.chart.options.locale;let r,a=e;if(o.length>1){const t=Math.max(Math.abs(o[0].value),Math.abs(o[o.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let o=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(o)>=1&&e!==Math.floor(e)&&(o=e-Math.floor(e));return o}(e,o)}const s=ge(Math.abs(a)),i=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:i,maximumFractionDigits:i};return Object.assign(l,this.options.ticks.format),Je(e,n,l)},logarithmic(e,t,o){if(0===e)return"0";const n=o[t].significand||e/Math.pow(10,Math.floor(ge(e)));return[1,2,3,5,10,15].includes(n)||t>.8*o.length?et.numeric.call(this,e,t,o):""}};var tt={formatters:et};const ot=Object.create(null),nt=Object.create(null);function rt(e,t){if(!t)return e;const o=t.split(".");for(let t=0,n=o.length;t<n;++t){const n=o[t];e=e[n]||(e[n]=Object.create(null))}return e}function at(e,t,o){return"string"==typeof t?Q(rt(e,t),o):Q(rt(e,""),t)}class st{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Ge(t.backgroundColor),this.hoverBorderColor=(e,t)=>Ge(t.borderColor),this.hoverColor=(e,t)=>Ge(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return at(this,e,t)}get(e){return rt(this,e)}describe(e,t){return at(nt,e,t)}override(e,t){return at(ot,e,t)}route(e,t,o,n){const r=rt(this,e),a=rt(this,o),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=a[n];return V(e)?Object.assign({},t,e):W(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var it=new st({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Xe},numbers:{type:"number",properties:Ke}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function lt(e,t,o,n,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,o.push(r)),a>n&&(n=a),n}function ct(e,t,o,n){let r=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let s=0;const i=o.length;let l,c,d,u,h;for(l=0;l<i;l++)if(u=o[l],null==u||F(u)){if(F(u))for(c=0,d=u.length;c<d;c++)h=u[c],null==h||F(h)||(s=lt(e,r,a,s,h))}else s=lt(e,r,a,s,u);e.restore();const p=a.length/2;if(p>o.length){for(l=0;l<p;l++)delete r[a[l]];a.splice(0,p)}return s}function dt(e,t,o){const n=e.currentDevicePixelRatio,r=0!==o?Math.max(o/2,.5):0;return Math.round((t-r)*n)/n+r}function ut(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function ht(e,t,o,n){pt(e,t,o,n,null)}function pt(e,t,o,n,r){let a,s,i,l,c,d,u,h;const p=t.pointStyle,m=t.rotation,g=t.radius;let f=(m||0)*ue;if(p&&"object"==typeof p&&(a=p.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(o,n),e.rotate(f),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:r?e.ellipse(o,n,r/2,g,0,0,le):e.arc(o,n,g,0,le),e.closePath();break;case"triangle":d=r?r/2:g,e.moveTo(o+Math.sin(f)*d,n-Math.cos(f)*g),f+=me,e.lineTo(o+Math.sin(f)*d,n-Math.cos(f)*g),f+=me,e.lineTo(o+Math.sin(f)*d,n-Math.cos(f)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,s=Math.cos(f+pe)*l,u=Math.cos(f+pe)*(r?r/2-c:l),i=Math.sin(f+pe)*l,h=Math.sin(f+pe)*(r?r/2-c:l),e.arc(o-u,n-i,c,f-ie,f-he),e.arc(o+h,n-s,c,f-he,f),e.arc(o+u,n+i,c,f,f+he),e.arc(o-h,n+s,c,f+he,f+ie),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=r?r/2:l,e.rect(o-d,n-l,2*d,2*l);break}f+=pe;case"rectRot":u=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,i=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(o-u,n-i),e.lineTo(o+h,n-s),e.lineTo(o+u,n+i),e.lineTo(o-h,n+s),e.closePath();break;case"crossRot":f+=pe;case"cross":u=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,i=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(o-u,n-i),e.lineTo(o+u,n+i),e.moveTo(o+h,n-s),e.lineTo(o-h,n+s);break;case"star":u=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,i=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(o-u,n-i),e.lineTo(o+u,n+i),e.moveTo(o+h,n-s),e.lineTo(o-h,n+s),f+=pe,u=Math.cos(f)*(r?r/2:g),s=Math.cos(f)*g,i=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(o-u,n-i),e.lineTo(o+u,n+i),e.moveTo(o+h,n-s),e.lineTo(o-h,n+s);break;case"line":s=r?r/2:Math.cos(f)*g,i=Math.sin(f)*g,e.moveTo(o-s,n-i),e.lineTo(o+s,n+i);break;case"dash":e.moveTo(o,n),e.lineTo(o+Math.cos(f)*(r?r/2:g),n+Math.sin(f)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function mt(e,t,o){return o=o||.5,!t||e&&e.x>t.left-o&&e.x<t.right+o&&e.y>t.top-o&&e.y<t.bottom+o}function gt(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ft(e){e.restore()}function yt(e,t,o,n,r){if(!t)return e.lineTo(o.x,o.y);if("middle"===r){const n=(t.x+o.x)/2;e.lineTo(n,t.y),e.lineTo(n,o.y)}else"after"===r!=!!n?e.lineTo(t.x,o.y):e.lineTo(o.x,t.y);e.lineTo(o.x,o.y)}function bt(e,t,o,n){if(!t)return e.lineTo(o.x,o.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?o.cp2x:o.cp1x,n?o.cp2y:o.cp1y,o.x,o.y)}function vt(e,t,o,n,r){if(r.strikethrough||r.underline){const a=e.measureText(n),s=t-a.actualBoundingBoxLeft,i=t+a.actualBoundingBoxRight,l=o-a.actualBoundingBoxAscent,c=o+a.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,d),e.lineTo(i,d),e.stroke()}}function _t(e,t){const o=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=o}function wt(e,t,o,n,r,a={}){const s=F(t)?t:[t],i=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),H(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<s.length;++l)c=s[l],a.backdrop&&_t(e,a.backdrop),i&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),H(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,o,n,a.maxWidth)),e.fillText(c,o,n,a.maxWidth),vt(e,o,n,c,a),n+=Number(r.lineHeight);e.restore()}function kt(e,t){const{x:o,y:n,w:r,h:a,radius:s}=t;e.arc(o+s.topLeft,n+s.topLeft,s.topLeft,-he,ie,!0),e.lineTo(o,n+a-s.bottomLeft),e.arc(o+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,ie,he,!0),e.lineTo(o+r-s.bottomRight,n+a),e.arc(o+r-s.bottomRight,n+a-s.bottomRight,s.bottomRight,he,0,!0),e.lineTo(o+r,n+s.topRight),e.arc(o+r-s.topRight,n+s.topRight,s.topRight,0,-he,!0),e.lineTo(o+s.topLeft,n)}const xt=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,St=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ct(e,t){const o=(""+e).match(xt);if(!o||"normal"===o[1])return 1.2*t;switch(e=+o[2],o[3]){case"px":return e;case"%":e/=100}return t*e}const Et=e=>+e||0;function Dt(e,t){const o={},n=V(t),r=n?Object.keys(t):t,a=V(e)?n?o=>W(e[o],e[t[o]]):t=>e[t]:()=>e;for(const e of r)o[e]=Et(a(e));return o}function At(e){return Dt(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Tt(e){return Dt(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ot(e){const t=At(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Mt(e,t){e=e||{},t=t||it.font;let o=W(e.size,t.size);"string"==typeof o&&(o=parseInt(o,10));let n=W(e.style,t.style);n&&!(""+n).match(St)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:W(e.family,t.family),lineHeight:Ct(W(e.lineHeight,t.lineHeight),o),size:o,style:n,weight:W(e.weight,t.weight),string:""};return r.string=function(e){return!e||H(e.size)||H(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function zt(e,t,o,n){let r,a,s,i=!0;for(r=0,a=e.length;r<a;++r)if(s=e[r],void 0!==s&&(void 0!==t&&"function"==typeof s&&(s=s(t),i=!1),void 0!==o&&F(s)&&(s=s[o%s.length],i=!1),void 0!==s))return n&&!i&&(n.cacheable=!1),s}function Rt(e,t){return Object.assign(Object.create(e),t)}function Nt(e,t=[""],o,n,r=(()=>e[0])){const a=o||e;void 0===n&&(n=Zt("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:r,override:o=>Nt([o,...e],t,a,n)};return new Proxy(s,{deleteProperty:(t,o)=>(delete t[o],delete t._keys,delete e[0][o],!0),get:(o,n)=>Ht(o,n,(()=>function(e,t,o,n){let r;for(const a of t)if(r=Zt(Pt(a,e),o),void 0!==r)return Bt(e,r)?Ut(o,n,e,r):r}(n,t,e,o))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>$t(e).includes(t),ownKeys:e=>$t(e),set(e,t,o){const n=e._storage||(e._storage=r());return e[t]=n[t]=o,delete e._keys,!0}})}function It(e,t,o,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:o,_stack:new Set,_descriptors:Lt(e,n),setContext:t=>It(e,t,o,n),override:r=>It(e.override(r),t,o,n)};return new Proxy(r,{deleteProperty:(t,o)=>(delete t[o],delete e[o],!0),get:(e,t,o)=>Ht(e,t,(()=>function(e,t,o){const{_proxy:n,_context:r,_subProxy:a,_descriptors:s}=e;let i=n[t];ae(i)&&s.isScriptable(t)&&(i=function(e,t,o,n){const{_proxy:r,_context:a,_subProxy:s,_stack:i}=o;if(i.has(e))throw new Error("Recursion detected: "+Array.from(i).join("->")+"->"+e);i.add(e);let l=t(a,s||n);i.delete(e),Bt(e,l)&&(l=Ut(r._scopes,r,e,l));return l}(t,i,e,o));F(i)&&i.length&&(i=function(e,t,o,n){const{_proxy:r,_context:a,_subProxy:s,_descriptors:i}=o;if(void 0!==a.index&&n(e))return t[a.index%t.length];if(V(t[0])){const o=t,n=r._scopes.filter((e=>e!==o));t=[];for(const l of o){const o=Ut(n,r,e,l);t.push(It(o,a,s&&s[e],i))}}return t}(t,i,e,s.isIndexable));Bt(t,i)&&(i=It(i,r,a&&a[t],s));return i}(e,t,o))),getOwnPropertyDescriptor:(t,o)=>t._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,o)=>Reflect.has(e,o),ownKeys:()=>Reflect.ownKeys(e),set:(t,o,n)=>(e[o]=n,delete t[o],!0)})}function Lt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:o=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:o,indexable:n,isScriptable:ae(o)?o:()=>o,isIndexable:ae(n)?n:()=>n}}const Pt=(e,t)=>e?e+ne(t):t,Bt=(e,t)=>V(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ht(e,t,o){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=o();return e[t]=n,n}function Ft(e,t,o){return ae(e)?e(t,o):e}const Vt=(e,t)=>!0===e?t:"string"==typeof e?oe(t,e):void 0;function jt(e,t,o,n,r){for(const a of t){const t=Vt(o,a);if(t){e.add(t);const a=Ft(t._fallback,o,r);if(void 0!==a&&a!==o&&a!==n)return a}else if(!1===t&&void 0!==n&&o!==n)return null}return!1}function Ut(e,t,o,n){const r=t._rootScopes,a=Ft(t._fallback,o,n),s=[...e,...r],i=new Set;i.add(n);let l=Wt(i,s,o,a||o,n);return null!==l&&((void 0===a||a===o||(l=Wt(i,s,a,l,n),null!==l))&&Nt(Array.from(i),[""],r,a,(()=>function(e,t,o){const n=e._getTarget();t in n||(n[t]={});const r=n[t];if(F(r)&&V(o))return o;return r||{}}(t,o,n))))}function Wt(e,t,o,n,r){for(;o;)o=jt(e,t,o,n,r);return o}function Zt(e,t){for(const o of t){if(!o)continue;const t=o[e];if(void 0!==t)return t}}function $t(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const o of e)for(const e of Object.keys(o).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function qt(e,t,o,n){const{iScale:r}=e,{key:a="r"}=this._parsing,s=new Array(n);let i,l,c,d;for(i=0,l=n;i<l;++i)c=i+o,d=t[c],s[i]={r:r.parse(oe(d,a),c)};return s}const Yt=Number.EPSILON||1e-14,Gt=(e,t)=>t<e.length&&!e[t].skip&&e[t],Kt=e=>"x"===e?"y":"x";function Xt(e,t,o,n){const r=e.skip?t:e,a=t,s=o.skip?t:o,i=Ce(a,r),l=Ce(s,a);let c=i/(i+l),d=l/(i+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:a.x-u*(s.x-r.x),y:a.y-u*(s.y-r.y)},next:{x:a.x+h*(s.x-r.x),y:a.y+h*(s.y-r.y)}}}function Qt(e,t="x"){const o=Kt(t),n=e.length,r=Array(n).fill(0),a=Array(n);let s,i,l,c=Gt(e,0);for(s=0;s<n;++s)if(i=l,l=c,c=Gt(e,s+1),l){if(c){const e=c[t]-l[t];r[s]=0!==e?(c[o]-l[o])/e:0}a[s]=i?c?fe(r[s-1])!==fe(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(e,t,o){const n=e.length;let r,a,s,i,l,c=Gt(e,0);for(let d=0;d<n-1;++d)l=c,c=Gt(e,d+1),l&&c&&(ye(t[d],0,Yt)?o[d]=o[d+1]=0:(r=o[d]/t[d],a=o[d+1]/t[d],i=Math.pow(r,2)+Math.pow(a,2),i<=9||(s=3/Math.sqrt(i),o[d]=r*s*t[d],o[d+1]=a*s*t[d])))}(e,r,a),function(e,t,o="x"){const n=Kt(o),r=e.length;let a,s,i,l=Gt(e,0);for(let c=0;c<r;++c){if(s=i,i=l,l=Gt(e,c+1),!i)continue;const r=i[o],d=i[n];s&&(a=(r-s[o])/3,i[`cp1${o}`]=r-a,i[`cp1${n}`]=d-a*t[c]),l&&(a=(l[o]-r)/3,i[`cp2${o}`]=r+a,i[`cp2${n}`]=d+a*t[c])}}(e,a,t)}function Jt(e,t,o){return Math.max(Math.min(e,o),t)}function eo(e,t,o,n,r){let a,s,i,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Qt(e,r);else{let o=n?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)i=e[a],l=Xt(o,i,e[Math.min(a+1,s-(n?0:1))%s],t.tension),i.cp1x=l.previous.x,i.cp1y=l.previous.y,i.cp2x=l.next.x,i.cp2y=l.next.y,o=i}t.capBezierPoints&&function(e,t){let o,n,r,a,s,i=mt(e[0],t);for(o=0,n=e.length;o<n;++o)s=a,a=i,i=o<n-1&&mt(e[o+1],t),a&&(r=e[o],s&&(r.cp1x=Jt(r.cp1x,t.left,t.right),r.cp1y=Jt(r.cp1y,t.top,t.bottom)),i&&(r.cp2x=Jt(r.cp2x,t.left,t.right),r.cp2y=Jt(r.cp2y,t.top,t.bottom)))}(e,o)}function to(){return"undefined"!=typeof window&&"undefined"!=typeof document}function oo(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function no(e,t,o){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[o])):n=e,n}const ro=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ao=["top","right","bottom","left"];function so(e,t,o){const n={};o=o?"-"+o:"";for(let r=0;r<4;r++){const a=ao[r];n[a]=parseFloat(e[t+"-"+a+o])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const io=(e,t,o)=>(e>0||t>0)&&(!o||!o.shadowRoot);function lo(e,t){if("native"in e)return e;const{canvas:o,currentDevicePixelRatio:n}=t,r=ro(o),a="border-box"===r.boxSizing,s=so(r,"padding"),i=so(r,"border","width"),{x:l,y:c,box:d}=function(e,t){const o=e.touches,n=o&&o.length?o[0]:e,{offsetX:r,offsetY:a}=n;let s,i,l=!1;if(io(r,a,e.target))s=r,i=a;else{const e=t.getBoundingClientRect();s=n.clientX-e.left,i=n.clientY-e.top,l=!0}return{x:s,y:i,box:l}}(e,o),u=s.left+(d&&i.left),h=s.top+(d&&i.top);let{width:p,height:m}=t;return a&&(p-=s.width+i.width,m-=s.height+i.height),{x:Math.round((l-u)/p*o.width/n),y:Math.round((c-h)/m*o.height/n)}}const co=e=>Math.round(10*e)/10;function uo(e,t,o,n){const r=ro(e),a=so(r,"margin"),s=no(r.maxWidth,e,"clientWidth")||de,i=no(r.maxHeight,e,"clientHeight")||de,l=function(e,t,o){let n,r;if(void 0===t||void 0===o){const a=oo(e);if(a){const e=a.getBoundingClientRect(),s=ro(a),i=so(s,"border","width"),l=so(s,"padding");t=e.width-l.width-i.width,o=e.height-l.height-i.height,n=no(s.maxWidth,a,"clientWidth"),r=no(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,o=e.clientHeight}return{width:t,height:o,maxWidth:n||de,maxHeight:r||de}}(e,t,o);let{width:c,height:d}=l;if("content-box"===r.boxSizing){const e=so(r,"border","width"),t=so(r,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-a.width),d=Math.max(0,n?c/n:d-a.height),c=co(Math.min(c,s,l.maxWidth)),d=co(Math.min(d,i,l.maxHeight)),c&&!d&&(d=co(c/2));return(void 0!==t||void 0!==o)&&n&&l.height&&d>l.height&&(d=l.height,c=co(Math.floor(d*n))),{width:c,height:d}}function ho(e,t,o){const n=t||1,r=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(o||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||s.height!==r||s.width!==a)&&(e.currentDevicePixelRatio=n,s.height=r,s.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const po=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function mo(e,t){const o=function(e,t){return ro(e).getPropertyValue(t)}(e,t),n=o&&o.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function go(e,t,o,n){return{x:e.x+o*(t.x-e.x),y:e.y+o*(t.y-e.y)}}function fo(e,t,o,n){return{x:e.x+o*(t.x-e.x),y:"middle"===n?o<.5?e.y:t.y:"after"===n?o<1?e.y:t.y:o>0?t.y:e.y}}function yo(e,t,o,n){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=go(e,r,o),i=go(r,a,o),l=go(a,t,o),c=go(s,i,o),d=go(i,l,o);return go(c,d,o)}const bo=function(e,t){return{x:o=>e+e+t-o,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}},vo=function(){return{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}};function _o(e,t,o){return e?bo(t,o):vo()}function wo(e,t){let o,n;"ltr"!==t&&"rtl"!==t||(o=e.canvas.style,n=[o.getPropertyValue("direction"),o.getPropertyPriority("direction")],o.setProperty("direction",t,"important"),e.prevTextDirection=n)}function ko(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function xo(e){return"angle"===e?{between:Ae,compare:Ee,normalize:De}:{between:Oe,compare:(e,t)=>e-t,normalize:e=>e}}function So({start:e,end:t,count:o,loop:n,style:r}){return{start:e%o,end:t%o,loop:n&&(t-e+1)%o==0,style:r}}function Co(e,t,o){if(!o)return[e];const{property:n,start:r,end:a}=o,s=t.length,{compare:i,between:l,normalize:c}=xo(n),{start:d,end:u,loop:h,style:p}=function(e,t,o){const{property:n,start:r,end:a}=o,{between:s,normalize:i}=xo(n),l=t.length;let c,d,{start:u,end:h,loop:p}=e;if(p){for(u+=l,h+=l,c=0,d=l;c<d&&s(i(t[u%l][n]),r,a);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:p,style:e.style}}(e,t,o),m=[];let g,f,y,b=!1,v=null;const _=()=>b||l(r,y,g)&&0!==i(r,y),w=()=>!b||0===i(a,g)||l(a,y,g);for(let e=d,o=d;e<=u;++e)f=t[e%s],f.skip||(g=c(f[n]),g!==y&&(b=l(g,r,a),null===v&&_()&&(v=0===i(g,r)?e:o),null!==v&&w()&&(m.push(So({start:v,end:e,loop:h,count:s,style:p})),v=null),o=e,y=g));return null!==v&&m.push(So({start:v,end:u,loop:h,count:s,style:p})),m}function Eo(e,t){const o=[],n=e.segments;for(let r=0;r<n.length;r++){const a=Co(n[r],e.points,t);a.length&&o.push(...a)}return o}function Do(e,t,o,n){return n&&n.setContext&&o?function(e,t,o,n){const r=e._chart.getContext(),a=Ao(e.options),{_datasetIndex:s,options:{spanGaps:i}}=e,l=o.length,c=[];let d=a,u=t[0].start,h=u;function p(e,t,n,r){const a=i?-1:1;if(e!==t){for(e+=l;o[e%l].skip;)e-=a;for(;o[t%l].skip;)t+=a;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:r}),d=r,u=t%l)}}for(const e of t){u=i?u:e.start;let t,a=o[u%l];for(h=u+1;h<=e.end;h++){const i=o[h%l];t=Ao(n.setContext(Rt(r,{type:"segment",p0:a,p1:i,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),To(t,d)&&p(u,h-1,e.loop,d),a=i,d=t}u<h-1&&p(u,h-1,e.loop,d)}return c}(e,t,o,n):t}function Ao(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function To(e,t){if(!t)return!1;const o=[],n=function(e,t){return qe(t)?(o.includes(t)||o.push(t),o.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}class Oo{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,o,n){const r=t.listeners[n],a=t.duration;r.forEach((n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(o-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=Pe.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((o,n)=>{if(!o.running||!o.items.length)return;const r=o.items;let a,s=r.length-1,i=!1;for(;s>=0;--s)a=r[s],a._active?(a._total>o.duration&&(o.duration=a._total),a.tick(e),i=!0):(r[s]=r[r.length-1],r.pop());i&&(n.draw(),this._notify(n,o,e,"progress")),r.length||(o.running=!1,this._notify(n,o,e,"complete"),o.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let o=t.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,o)),o}listen(e,t,o){this._getAnims(e).listeners[t].push(o)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const o=t.items;let n=o.length-1;for(;n>=0;--n)o[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mo=new Oo;const zo="transparent",Ro={boolean:(e,t,o)=>o>.5?t:e,color(e,t,o){const n=Ye(e||zo),r=n.valid&&Ye(t||zo);return r&&r.valid?r.mix(n,o).hexString():t},number:(e,t,o)=>e+(t-e)*o};class No{constructor(e,t,o,n){const r=t[o];n=zt([e.to,n,r,e.from]);const a=zt([e.from,r,n]);this._active=!0,this._fn=e.fn||Ro[e.type||typeof a],this._easing=$e[e.easing]||$e.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=o,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,o){if(this._active){this._notify(!1);const n=this._target[this._prop],r=o-this._start,a=this._duration-r;this._start=o,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=zt([e.to,t,n,e.from]),this._from=zt([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,o=this._duration,n=this._prop,r=this._from,a=this._loop,s=this._to;let i;if(this._active=r!==s&&(a||t<o),!this._active)return this._target[n]=s,void this._notify(!0);t<0?this._target[n]=r:(i=t/o%2,i=a&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[n]=this._fn(r,s,i))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,o)=>{e.push({res:t,rej:o})}))}_notify(e){const t=e?"res":"rej",o=this._promises||[];for(let e=0;e<o.length;e++)o[e][t]()}}class Io{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!V(e))return;const t=Object.keys(it.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const r=e[n];if(!V(r))return;const a={};for(const e of t)a[e]=r[e];(F(r.properties)&&r.properties||[n]).forEach((e=>{e!==n&&o.has(e)||o.set(e,a)}))}))}_animateOptions(e,t){const o=t.options,n=function(e,t){if(!t)return;let o=e.options;if(!o)return void(e.options=t);o.$shared&&(e.options=o=Object.assign({},o,{$shared:!1,$animations:{}}));return o}(e,o);if(!n)return[];const r=this._createAnimations(n,o);return o.$shared&&function(e,t){const o=[],n=Object.keys(t);for(let t=0;t<n.length;t++){const r=e[n[t]];r&&r.active()&&o.push(r.wait())}return Promise.all(o)}(e.options.$animations,o).then((()=>{e.options=o}),(()=>{})),r}_createAnimations(e,t){const o=this._properties,n=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),s=Date.now();let i;for(i=a.length-1;i>=0;--i){const l=a[i];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=r[l];const u=o.get(l);if(d){if(u&&d.active()){d.update(u,c,s);continue}d.cancel()}u&&u.duration?(r[l]=d=new No(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const o=this._createAnimations(e,t);return o.length?(Mo.add(this._chart,o),!0):void 0}}function Lo(e,t){const o=e&&e.options||{},n=o.reverse,r=void 0===o.min?t:0,a=void 0===o.max?t:0;return{start:n?a:r,end:n?r:a}}function Po(e,t){const o=[],n=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=n.length;r<a;++r)o.push(n[r].index);return o}function Bo(e,t,o,n={}){const r=e.keys,a="single"===n.mode;let s,i,l,c;if(null!==t){for(s=0,i=r.length;s<i;++s){if(l=+r[s],l===o){if(n.all)continue;break}c=e.values[l],j(c)&&(a||0===t||fe(t)===fe(c))&&(t+=c)}return t}}function Ho(e,t){const o=e&&e.options.stacked;return o||void 0===o&&void 0!==t.stack}function Fo(e,t,o){const n=e[t]||(e[t]={});return n[o]||(n[o]={})}function Vo(e,t,o,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const t=e[r.index];if(o&&t>0||!o&&t<0)return r.index}return null}function jo(e,t){const{chart:o,_cachedMeta:n}=e,r=o._stacks||(o._stacks={}),{iScale:a,vScale:s,index:i}=n,l=a.axis,c=s.axis,d=function(e,t,o){return`${e.id}.${t.id}.${o.stack||o.type}`}(a,s,n),u=t.length;let h;for(let e=0;e<u;++e){const o=t[e],{[l]:a,[c]:u}=o;h=(o._stacks||(o._stacks={}))[c]=Fo(r,d,a),h[i]=u,h._top=Vo(h,s,!0,n.type),h._bottom=Vo(h,s,!1,n.type);(h._visualValues||(h._visualValues={}))[i]=u}}function Uo(e,t){const o=e.scales;return Object.keys(o).filter((e=>o[e].axis===t)).shift()}function Wo(e,t){const o=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][o])return;delete t[n][o],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[o]&&delete t[n]._visualValues[o]}}}const Zo=e=>"reset"===e||"none"===e,$o=(e,t)=>t?e:Object.assign({},e);class qo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ho(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,o=this.getDataset(),n=(e,t,o,n)=>"x"===e?t:"r"===e?n:o,r=t.xAxisID=W(o.xAxisID,Uo(e,"x")),a=t.yAxisID=W(o.yAxisID,Uo(e,"y")),s=t.rAxisID=W(o.rAxisID,Uo(e,"r")),i=t.indexAxis,l=t.iAxisID=n(i,r,a,s),c=t.vAxisID=n(i,a,r,s);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ie(this._data,this),e._stacked&&Wo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),o=this._data;if(V(t))this._data=function(e){const t=Object.keys(e),o=new Array(t.length);let n,r,a;for(n=0,r=t.length;n<r;++n)a=t[n],o[n]={x:a,y:e[a]};return o}(t);else if(o!==t){if(o){Ie(o,this);const e=this._cachedMeta;Wo(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(n=t)._chartjs?n._chartjs.listeners.push(r):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Ne.forEach((e=>{const t="_onData"+ne(e),o=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...e){const r=o.apply(this,e);return n._chartjs.listeners.forEach((o=>{"function"==typeof o[t]&&o[t](...e)})),r}})})))),this._syncList=[],this._data=t}var n,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,o=this.getDataset();let n=!1;this._dataCheck();const r=t._stacked;t._stacked=Ho(t.vScale,t),t.stack!==o.stack&&(n=!0,Wo(t),t.stack=o.stack),this._resyncElements(e),(n||r!==t._stacked)&&jo(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:o,_data:n}=this,{iScale:r,_stacked:a}=o,s=r.axis;let i,l,c,d=0===e&&t===n.length||o._sorted,u=e>0&&o._parsed[e-1];if(!1===this._parsing)o._parsed=n,o._sorted=!0,c=n;else{c=F(n[e])?this.parseArrayData(o,n,e,t):V(n[e])?this.parseObjectData(o,n,e,t):this.parsePrimitiveData(o,n,e,t);const r=()=>null===l[s]||u&&l[s]<u[s];for(i=0;i<t;++i)o._parsed[i+e]=l=c[i],d&&(r()&&(d=!1),u=l);o._sorted=d}a&&jo(this,c)}parsePrimitiveData(e,t,o,n){const{iScale:r,vScale:a}=e,s=r.axis,i=a.axis,l=r.getLabels(),c=r===a,d=new Array(n);let u,h,p;for(u=0,h=n;u<h;++u)p=u+o,d[u]={[s]:c||r.parse(l[p],p),[i]:a.parse(t[p],p)};return d}parseArrayData(e,t,o,n){const{xScale:r,yScale:a}=e,s=new Array(n);let i,l,c,d;for(i=0,l=n;i<l;++i)c=i+o,d=t[c],s[i]={x:r.parse(d[0],c),y:a.parse(d[1],c)};return s}parseObjectData(e,t,o,n){const{xScale:r,yScale:a}=e,{xAxisKey:s="x",yAxisKey:i="y"}=this._parsing,l=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+o,h=t[u],l[c]={x:r.parse(oe(h,s),u),y:a.parse(oe(h,i),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,o){const n=this.chart,r=this._cachedMeta,a=t[e.axis];return Bo({keys:Po(n,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:o})}updateRangeFromParsed(e,t,o,n){const r=o[t.axis];let a=null===r?NaN:r;const s=n&&o._stacks[t.axis];n&&s&&(n.values=s,a=Bo(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const o=this._cachedMeta,n=o._parsed,r=o._sorted&&e===o.iScale,a=n.length,s=this._getOtherScale(e),i=((e,t,o)=>e&&!t.hidden&&t._stacked&&{keys:Po(o,!0),values:null})(t,o,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:o,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?o:Number.POSITIVE_INFINITY}}(s);let u,h;function p(){h=n[u];const t=h[s.axis];return!j(h[e.axis])||c>t||d<t}for(u=0;u<a&&(p()||(this.updateRangeFromParsed(l,e,h,i),!r));++u);if(r)for(u=a-1;u>=0;--u)if(!p()){this.updateRangeFromParsed(l,e,h,i);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,o=[];let n,r,a;for(n=0,r=t.length;n<r;++n)a=t[n][e.axis],j(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,o=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:o?""+o.getLabelForValue(r[o.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,o,n,r;return V(e)?(t=e.top,o=e.right,n=e.bottom,r=e.left):t=o=n=r=e,{top:t,right:o,bottom:n,left:r,disabled:!1===e}}(W(this.options.clip,function(e,t,o){if(!1===o)return!1;const n=Lo(e,o),r=Lo(t,o);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,o=this._cachedMeta,n=o.data||[],r=t.chartArea,a=[],s=this._drawStart||0,i=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop;let c;for(o.dataset&&o.dataset.draw(e,r,s,i),c=s;c<s+i;++c){const t=n[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,r))}for(c=0;c<a.length;++c)a[c].draw(e,r)}getStyle(e,t){const o=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,t,o){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,o){return Rt(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:o,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return Rt(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=o,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",o){const n="active"===t,r=this._cachedDataOpts,a=e+"-"+t,s=r[a],i=this.enableOptionSharing&&re(o);if(s)return $o(s,i);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(it.elements[e]),p=l.resolveNamedOptions(u,h,(()=>this.getContext(o,n,t)),d);return p.$shared&&(p.$shared=i,r[a]=Object.freeze($o(p,i))),p}_resolveAnimations(e,t,o){const n=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,s=r[a];if(s)return s;let i;if(!1!==n.options.animation){const n=this.chart.config,r=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),r);i=n.createResolver(a,this.getContext(e,o,t))}const l=new Io(n,i&&i.animations);return i&&i._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Zo(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const o=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(o),a=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,o),{sharedOptions:r,includeOptions:a}}updateElement(e,t,o,n){Zo(n)?Object.assign(e,o):this._resolveAnimations(t,n).update(e,o)}updateSharedOptions(e,t,o){e&&!Zo(t)&&this._resolveAnimations(void 0,t).update(e,o)}_setStyle(e,t,o,n){e.active=n;const r=this.getStyle(t,n);this._resolveAnimations(t,o,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,t,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,o=this._cachedMeta.data;for(const[e,t,o]of this._syncList)this[e](t,o);this._syncList=[];const n=o.length,r=t.length,a=Math.min(r,n);a&&this.parse(0,a),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t,o=!0){const n=this._cachedMeta,r=n.data,a=e+t;let s;const i=e=>{for(e.length+=t,s=e.length-1;s>=a;s--)e[s]=e[s-t]};for(i(r),s=e;s<a;++s)r[s]=new this.dataElementType;this._parsing&&i(n._parsed),this.parse(e,t),o&&this.updateElements(r,e,t,"reset")}updateElements(e,t,o,n){}_removeElements(e,t){const o=this._cachedMeta;if(this._parsing){const n=o._parsed.splice(e,t);o._stacked&&Wo(o,n)}o.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,o,n]=e;this[t](o,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Yo(e){const t=e.iScale,o=function(e,t){if(!e._cache.$bar){const o=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,r=o.length;t<r;t++)n=n.concat(o[t].controller.getAllParsedValues(e));e._cache.$bar=Le(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,r,a,s,i=t._length;const l=()=>{32767!==a&&-32768!==a&&(re(s)&&(i=Math.min(i,Math.abs(a-s)||i)),s=a)};for(n=0,r=o.length;n<r;++n)a=t.getPixelForValue(o[n]),l();for(s=void 0,n=0,r=t.ticks.length;n<r;++n)a=t.getPixelForTick(n),l();return i}function Go(e,t,o,n){return F(e)?function(e,t,o,n){const r=o.parse(e[0],n),a=o.parse(e[1],n),s=Math.min(r,a),i=Math.max(r,a);let l=s,c=i;Math.abs(s)>Math.abs(i)&&(l=i,c=s),t[o.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:s,max:i}}(e,t,o,n):t[o.axis]=o.parse(e,n),t}function Ko(e,t,o,n){const r=e.iScale,a=e.vScale,s=r.getLabels(),i=r===a,l=[];let c,d,u,h;for(c=o,d=o+n;c<d;++c)h=t[c],u={},u[r.axis]=i||r.parse(s[c],c),l.push(Go(h,u,a,c));return l}function Xo(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Qo(e,t,o,n){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:i,reverse:l,top:c,bottom:d}=function(e){let t,o,n,r,a;return e.horizontal?(t=e.base>e.x,o="left",n="right"):(t=e.base<e.y,o="bottom",n="top"),t?(r="end",a="start"):(r="start",a="end"),{start:o,end:n,reverse:t,top:r,bottom:a}}(e);"middle"===r&&o&&(e.enableBorderRadius=!0,(o._top||0)===n?r=c:(o._bottom||0)===n?r=d:(a[Jo(d,s,i,l)]=!0,r=c)),a[Jo(r,s,i,l)]=!0,e.borderSkipped=a}function Jo(e,t,o,n){var r,a,s;return n?(s=o,e=en(e=(r=e)===(a=t)?s:r===s?a:r,o,t)):e=en(e,t,o),e}function en(e,t,o){return"start"===e?t:"end"===e?o:e}function tn(e,{inflateAmount:t},o){e.inflateAmount="auto"===t?1===o?.33:0:t}class on extends qo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:o,color:n}}=e.legend.options;return t.labels.map(((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const o=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=o;else{let r,a,s=e=>+o[e];if(V(o[e])){const{key:e="value"}=this._parsing;s=t=>+oe(o[t],e)}for(r=e,a=e+t;r<a;++r)n._parsed[r]=s(r)}}_getRotation(){return we(this.options.rotation-90)}_getCircumference(){return we(this.options.circumference)}_getRotationExtents(){let e=le,t=-le;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const n=this.chart.getDatasetMeta(o).controller,r=n._getRotation(),a=n._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:o}=t,n=this._cachedMeta,r=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(o.width,o.height)-a)/2,0),i=Math.min((l=this.options.cutout,c=s,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:g,offsetY:f}=function(e,t,o){let n=1,r=1,a=0,s=0;if(t<le){const i=e,l=i+t,c=Math.cos(i),d=Math.sin(i),u=Math.cos(l),h=Math.sin(l),p=(e,t,n)=>Ae(e,i,l,!0)?1:Math.max(t,t*o,n,n*o),m=(e,t,n)=>Ae(e,i,l,!0)?-1:Math.min(t,t*o,n,n*o),g=p(0,c,u),f=p(he,d,h),y=m(ie,c,u),b=m(ie+he,d,h);n=(g-y)/2,r=(f-b)/2,a=-(g+y)/2,s=-(f+b)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:s}}(h,u,i),y=(o.width-a)/p,b=(o.height-a)/m,v=Math.max(Math.min(y,b)/2,0),_=Z(this.options.radius,v),w=(_-Math.max(_*i,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=f*_,n.total=this.calculateTotal(),this.outerRadius=_-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const o=this.options,n=this._cachedMeta,r=this._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/le)}updateElements(e,t,o,n){const r="reset"===n,a=this.chart,s=a.chartArea,i=a.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,d=r&&i.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,n);let g,f=this._getRotation();for(g=0;g<t;++g)f+=this._circumference(g,r);for(g=t;g<t+o;++g){const t=this._circumference(g,r),o=e[g],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:h,innerRadius:u};m&&(a.options=p||this.resolveDataElementOptions(g,o.active?"active":n)),f+=t,this.updateElement(o,g,a,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let o,n=0;for(o=0;o<t.length;o++){const r=e._parsed[o];null===r||isNaN(r)||!this.chart.getDataVisibility(o)||t[o].hidden||(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?le*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,o=this.chart,n=o.data.labels||[],r=Je(t._parsed[e],o.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const o=this.chart;let n,r,a,s,i;if(!e)for(n=0,r=o.data.datasets.length;n<r;++n)if(o.isDatasetVisible(n)){a=o.getDatasetMeta(n),e=a.data,s=a.controller;break}if(!e)return 0;for(n=0,r=e.length;n<r;++n)i=s.resolveDataElementOptions(n),"inner"!==i.borderAlign&&(t=Math.max(t,i.borderWidth||0,i.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let o=0,n=e.length;o<n;++o){const e=this.resolveDataElementOptions(o);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(t+=this._getRingWeight(o));return t}_getRingWeight(e){return Math.max(W(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class nn extends qo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:o,color:n}}=e.legend.options;return t.labels.map(((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,o=this.chart,n=o.data.labels||[],r=Je(t._parsed[e].r,o.options.locale);return{label:n[e]||"",value:r}}parseObjectData(e,t,o,n){return qt.bind(this)(e,t,o,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,o)=>{const n=this.getParsed(o).r;!isNaN(n)&&this.chart.getDataVisibility(o)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,o=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(n/2,0),a=(r-Math.max(o.cutoutPercentage?r/100*o.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,o,n){const r="reset"===n,a=this.chart,s=a.options.animation,i=this._cachedMeta.rScale,l=i.xCenter,c=i.yCenter,d=i.getIndexAngle(0)-.5*ie;let u,h=d;const p=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,n,p);for(u=t;u<t+o;u++){const t=e[u];let o=h,m=h+this._computeAngle(u,n,p),g=a.getDataVisibility(u)?i.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=m,r&&(s.animateScale&&(g=0),s.animateRotate&&(o=m=d));const f={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:o,endAngle:m,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,f,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&t++})),t}_computeAngle(e,t,o){return this.chart.getDataVisibility(e)?we(this.resolveDataElementOptions(e,t).angle||o):0}}var rn=Object.freeze({__proto__:null,BarController:class extends qo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,o,n){return Ko(e,t,o,n)}parseArrayData(e,t,o,n){return Ko(e,t,o,n)}parseObjectData(e,t,o,n){const{iScale:r,vScale:a}=e,{xAxisKey:s="x",yAxisKey:i="y"}=this._parsing,l="x"===r.axis?s:i,c="x"===a.axis?s:i,d=[];let u,h,p,m;for(u=o,h=o+n;u<h;++u)m=t[u],p={},p[r.axis]=r.parse(oe(m,l),u),d.push(Go(oe(m,c),p,a,u));return d}updateRangeFromParsed(e,t,o,n){super.updateRangeFromParsed(e,t,o,n);const r=o._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:o,vScale:n}=t,r=this.getParsed(e),a=r._custom,s=Xo(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+o.getLabelForValue(r[o.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,o,n){const r="reset"===n,{index:a,_cachedMeta:{vScale:s}}=this,i=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+o;h++){const t=this.getParsed(h),o=r||H(t[s.axis])?{base:i,head:i}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[s.axis],g={horizontal:l,base:o.base,enableBorderRadius:!m||Xo(t._custom)||a===m._top||a===m._bottom,x:l?o.head:p.center,y:l?p.center:o.head,height:l?p.size:Math.abs(o.size),width:l?Math.abs(o.size):p.size};u&&(g.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const f=g.options||e[h].options;Qo(g,f,m,a),tn(g,f,c.ratio),this.updateElement(e[h],h,g,n)}}_getStacks(e,t){const{iScale:o}=this._cachedMeta,n=o.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=o.options.stacked,a=[],s=e=>{const o=e.controller.getParsed(t),n=o&&o[e.vScale.axis];if(H(n)||isNaN(n))return!0};for(const o of n)if((void 0===t||!s(o))&&((!1===r||-1===a.indexOf(o.stack)||void 0===r&&void 0===o.stack)&&a.push(o.stack),o.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,o){const n=this._getStacks(e,o),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,o=t.iScale,n=[];let r,a;for(r=0,a=t.data.length;r<a;++r)n.push(o.getPixelForValue(this.getParsed(r)[o.axis],r));const s=e.barThickness;return{min:s||Yo(t),pixels:n,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:o,index:n},options:{base:r,minBarLength:a}}=this,s=r||0,i=this.getParsed(e),l=i._custom,c=Xo(l);let d,u,h=i[t.axis],p=0,m=o?this.applyStack(t,i,o):h;m!==h&&(p=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&fe(h)!==fe(l.barEnd)&&(p=0),p+=h);const g=H(r)||c?p:r;let f=t.getPixelForValue(g);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(p+m):f,u=d-f,Math.abs(u)<a){u=function(e,t,o){return 0!==e?fe(e):(t.isHorizontal()?1:-1)*(t.min>=o?1:-1)}(u,t,s)*a,h===s&&(f-=u/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),p=Math.max(e,r);f=Math.max(Math.min(f,p),l),d=f+u,o&&!c&&(i._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(f))}if(f===t.getPixelForValue(s)){const e=fe(u)*t.getLineWidthForValue(s)/2;f+=e,u-=e}return{size:u,base:f,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const o=t.scale,n=this.options,r=n.skipNull,a=W(n.maxBarThickness,1/0);let s,i;if(t.grouped){const o=r?this._getStackCount(e):t.stackCount,l="flex"===n.barThickness?function(e,t,o,n){const r=t.pixels,a=r[e];let s=e>0?r[e-1]:null,i=e<r.length-1?r[e+1]:null;const l=o.categoryPercentage;null===s&&(s=a-(null===i?t.end-t.start:i-a)),null===i&&(i=a+a-s);const c=a-(a-Math.min(s,i))/2*l;return{chunk:Math.abs(i-s)/2*l/n,ratio:o.barPercentage,start:c}}(e,t,n,o):function(e,t,o,n){const r=o.barThickness;let a,s;return H(r)?(a=t.min*o.categoryPercentage,s=o.barPercentage):(a=r*n,s=1),{chunk:a/n,ratio:s,start:t.pixels[e]-a/2}}(e,t,n,o),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);s=l.start+l.chunk*c+l.chunk/2,i=Math.min(a,l.chunk*l.ratio)}else s=o.getPixelForValue(this.getParsed(e)[o.axis],e),i=Math.min(a,t.min*t.ratio);return{base:s-i/2,head:s+i/2,center:s,size:i}}draw(){const e=this._cachedMeta,t=e.vScale,o=e.data,n=o.length;let r=0;for(;r<n;++r)null!==this.getParsed(r)[t.axis]&&o[r].draw(this._ctx)}},BubbleController:class extends qo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,o,n){const r=super.parsePrimitiveData(e,t,o,n);for(let e=0;e<r.length;e++)r[e]._custom=this.resolveDataElementOptions(e+o).radius;return r}parseArrayData(e,t,o,n){const r=super.parseArrayData(e,t,o,n);for(let e=0;e<r.length;e++){const n=t[o+e];r[e]._custom=W(n[2],this.resolveDataElementOptions(e+o).radius)}return r}parseObjectData(e,t,o,n){const r=super.parseObjectData(e,t,o,n);for(let e=0;e<r.length;e++){const n=t[o+e];r[e]._custom=W(n&&n.r&&+n.r,this.resolveDataElementOptions(e+o).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let o=e.length-1;o>=0;--o)t=Math.max(t,e[o].size(this.resolveDataElementOptions(o))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,o=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),i=r.getLabelForValue(a.y),l=a._custom;return{label:o[e]||"",value:"("+s+", "+i+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,o,n){const r="reset"===n,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:i,includeOptions:l}=this._getSharedOptions(t,n),c=a.axis,d=s.axis;for(let u=t;u<t+o;u++){const t=e[u],o=!r&&this.getParsed(u),h={},p=h[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(o[c]),m=h[d]=r?s.getBasePixel():s.getPixelForValue(o[d]);h.skip=isNaN(p)||isNaN(m),l&&(h.options=i||this.resolveDataElementOptions(u,t.active?"active":n),r&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const o=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return"active"!==t&&(n.radius=0),n.radius+=W(o&&o._custom,r),n}},DoughnutController:on,LineController:class extends qo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:o,data:n=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:s,count:i}=Ve(t,n,a);this._drawStart=s,this._drawCount=i,je(t)&&(s=0,i=n.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:l},e),this.updateElements(n,s,i,e)}updateElements(e,t,o,n){const r="reset"===n,{iScale:a,vScale:s,_stacked:i,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=a.axis,h=s.axis,{spanGaps:p,segment:m}=this.options,g=ve(p)?p:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||r||"none"===n,y=t+o,b=e.length;let v=t>0&&this.getParsed(t-1);for(let o=0;o<b;++o){const p=e[o],b=f?p:{};if(o<t||o>=y){b.skip=!0;continue}const _=this.getParsed(o),w=H(_[h]),k=b[u]=a.getPixelForValue(_[u],o),x=b[h]=r||w?s.getBasePixel():s.getPixelForValue(i?this.applyStack(s,_,i):_[h],o);b.skip=isNaN(k)||isNaN(x)||w,b.stop=o>0&&Math.abs(_[u]-v[u])>g,m&&(b.parsed=_,b.raw=l.data[o]),d&&(b.options=c||this.resolveDataElementOptions(o,p.active?"active":n)),f||this.updateElement(p,o,b,n),v=_}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,o=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return o;const r=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}},PieController:class extends on{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:nn,RadarController:class extends qo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,o=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(o[t.axis])}}parseObjectData(e,t,o,n){return qt.bind(this)(e,t,o,n)}update(e){const t=this._cachedMeta,o=t.dataset,n=t.data||[],r=t.iScale.getLabels();if(o.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===n.length,options:t};this.updateElement(o,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,o,n){const r=this._cachedMeta.rScale,a="reset"===n;for(let s=t;s<t+o;s++){const t=e[s],o=this.resolveDataElementOptions(s,t.active?"active":n),i=r.getPointPositionForValue(s,this.getParsed(s).r),l=a?r.xCenter:i.x,c=a?r.yCenter:i.y,d={x:l,y:c,angle:i.angle,skip:isNaN(l)||isNaN(c),options:o};this.updateElement(t,s,d,n)}}},ScatterController:class extends qo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,o=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),i=r.getLabelForValue(a.y);return{label:o[e]||"",value:"("+s+", "+i+")"}}update(e){const t=this._cachedMeta,{data:o=[]}=t,n=this.chart._animationsDisabled;let{start:r,count:a}=Ve(t,o,n);if(this._drawStart=r,this._drawCount=a,je(t)&&(r=0,a=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(o,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,o,n){const r="reset"===n,{iScale:a,vScale:s,_stacked:i,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),h=a.axis,p=s.axis,{spanGaps:m,segment:g}=this.options,f=ve(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===n;let b=t>0&&this.getParsed(t-1);for(let c=t;c<t+o;++c){const t=e[c],o=this.getParsed(c),m=y?t:{},v=H(o[p]),_=m[h]=a.getPixelForValue(o[h],c),w=m[p]=r||v?s.getBasePixel():s.getPixelForValue(i?this.applyStack(s,o,i):o[p],c);m.skip=isNaN(_)||isNaN(w)||v,m.stop=c>0&&Math.abs(o[h]-b[h])>f,g&&(m.parsed=o,m.raw=l.data[c]),u&&(m.options=d||this.resolveDataElementOptions(c,t.active?"active":n)),y||this.updateElement(t,c,m,n),b=o}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let o=t.length-1;o>=0;--o)e=Math.max(e,t[o].size(this.resolveDataElementOptions(o))/2);return e>0&&e}const o=e.dataset,n=o.options&&o.options.borderWidth||0;if(!t.length)return n;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,r,a)/2}}});function an(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sn{static override(e){Object.assign(sn.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return an()}parse(){return an()}format(){return an()}add(){return an()}diff(){return an()}startOf(){return an()}endOf(){return an()}}var ln=sn;function cn(e,t,o,n){const{controller:r,data:a,_sorted:s}=e,i=r._cachedMeta.iScale;if(i&&t===i.axis&&"r"!==t&&s&&a.length){const e=i._reversePixels?Re:ze;if(!n)return e(a,t,o);if(r._sharedOptions){const n=a[0],r="function"==typeof n.getRange&&n.getRange(t);if(r){const n=e(a,t,o-r),s=e(a,t,o+r);return{lo:n.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function dn(e,t,o,n,r){const a=e.getSortedVisibleDatasetMetas(),s=o[t];for(let e=0,o=a.length;e<o;++e){const{index:o,data:i}=a[e],{lo:l,hi:c}=cn(a[e],t,s,r);for(let e=l;e<=c;++e){const t=i[e];t.skip||n(t,o,e)}}}function un(e,t,o,n,r){const a=[];if(!r&&!e.isPointInArea(t))return a;return dn(e,o,t,(function(o,s,i){(r||mt(o,e.chartArea,0))&&o.inRange(t.x,t.y,n)&&a.push({element:o,datasetIndex:s,index:i})}),!0),a}function hn(e,t,o,n,r,a){let s=[];const i=function(e){const t=-1!==e.indexOf("x"),o=-1!==e.indexOf("y");return function(e,n){const r=t?Math.abs(e.x-n.x):0,a=o?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(o);let l=Number.POSITIVE_INFINITY;return dn(e,o,t,(function(o,c,d){const u=o.inRange(t.x,t.y,r);if(n&&!u)return;const h=o.getCenterPoint(r);if(!(!!a||e.isPointInArea(h))&&!u)return;const p=i(t,h);p<l?(s=[{element:o,datasetIndex:c,index:d}],l=p):p===l&&s.push({element:o,datasetIndex:c,index:d})})),s}function pn(e,t,o,n,r,a){return a||e.isPointInArea(t)?"r"!==o||n?hn(e,t,o,n,r,a):function(e,t,o,n){let r=[];return dn(e,o,t,(function(e,o,a){const{startAngle:s,endAngle:i}=e.getProps(["startAngle","endAngle"],n),{angle:l}=Se(e,{x:t.x,y:t.y});Ae(l,s,i)&&r.push({element:e,datasetIndex:o,index:a})})),r}(e,t,o,r):[]}function mn(e,t,o,n,r){const a=[],s="x"===o?"inXRange":"inYRange";let i=!1;return dn(e,o,t,((e,n,l)=>{e[s](t[o],r)&&(a.push({element:e,datasetIndex:n,index:l}),i=i||e.inRange(t.x,t.y,r))})),n&&!i?[]:a}var gn={evaluateInteractionItems:dn,modes:{index(e,t,o,n){const r=lo(t,e),a=o.axis||"x",s=o.includeInvisible||!1,i=o.intersect?un(e,r,a,n,s):pn(e,r,a,!1,n,s),l=[];return i.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=i[0].index,o=e.data[t];o&&!o.skip&&l.push({element:o,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,o,n){const r=lo(t,e),a=o.axis||"xy",s=o.includeInvisible||!1;let i=o.intersect?un(e,r,a,n,s):pn(e,r,a,!1,n,s);if(i.length>0){const t=i[0].datasetIndex,o=e.getDatasetMeta(t).data;i=[];for(let e=0;e<o.length;++e)i.push({element:o[e],datasetIndex:t,index:e})}return i},point:(e,t,o,n)=>un(e,lo(t,e),o.axis||"xy",n,o.includeInvisible||!1),nearest(e,t,o,n){const r=lo(t,e),a=o.axis||"xy",s=o.includeInvisible||!1;return pn(e,r,a,o.intersect,n,s)},x:(e,t,o,n)=>mn(e,lo(t,e),"x",o.intersect,n),y:(e,t,o,n)=>mn(e,lo(t,e),"y",o.intersect,n)}};const fn=["left","top","right","bottom"];function yn(e,t){return e.filter((e=>e.pos===t))}function bn(e,t){return e.filter((e=>-1===fn.indexOf(e.pos)&&e.box.axis===t))}function vn(e,t){return e.sort(((e,o)=>{const n=t?o:e,r=t?e:o;return n.weight===r.weight?n.index-r.index:n.weight-r.weight}))}function _n(e,t){const o=function(e){const t={};for(const o of e){const{stack:e,pos:n,stackWeight:r}=o;if(!e||!fn.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let a,s,i;for(a=0,s=e.length;a<s;++a){i=e[a];const{fullSize:s}=i.box,l=o[i.stack],c=l&&i.stackWeight/l.weight;i.horizontal?(i.width=c?c*n:s&&t.availableWidth,i.height=r):(i.width=n,i.height=c?c*r:s&&t.availableHeight)}return o}function wn(e,t,o,n){return Math.max(e[o],t[o])+Math.max(e[n],t[n])}function kn(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xn(e,t,o,n){const{pos:r,box:a}=o,s=e.maxPadding;if(!V(r)){o.size&&(e[r]-=o.size);const t=n[o.stack]||{size:0,count:1};t.size=Math.max(t.size,o.horizontal?a.height:a.width),o.size=t.size/t.count,e[r]+=o.size}a.getPadding&&kn(s,a.getPadding());const i=Math.max(0,t.outerWidth-wn(s,e,"left","right")),l=Math.max(0,t.outerHeight-wn(s,e,"top","bottom")),c=i!==e.w,d=l!==e.h;return e.w=i,e.h=l,o.horizontal?{same:c,other:d}:{same:d,other:c}}function Sn(e,t){const o=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],o[e])})),n}return n(e?["left","right"]:["top","bottom"])}function Cn(e,t,o,n){const r=[];let a,s,i,l,c,d;for(a=0,s=e.length,c=0;a<s;++a){i=e[a],l=i.box,l.update(i.width||t.w,i.height||t.h,Sn(i.horizontal,t));const{same:s,other:u}=xn(t,o,i,n);c|=s&&r.length,d=d||u,l.fullSize||r.push(i)}return c&&Cn(r,t,o,n)||d}function En(e,t,o,n,r){e.top=o,e.left=t,e.right=t+n,e.bottom=o+r,e.width=n,e.height=r}function Dn(e,t,o,n){const r=o.padding;let{x:a,y:s}=t;for(const i of e){const e=i.box,l=n[i.stack]||{count:1,placed:0,weight:1},c=i.stackWeight/l.weight||1;if(i.horizontal){const n=t.w*c,a=l.size||e.height;re(l.start)&&(s=l.start),e.fullSize?En(e,r.left,s,o.outerWidth-r.right-r.left,a):En(e,t.left+l.placed,s,n,a),l.start=s,l.placed+=n,s=e.bottom}else{const n=t.h*c,s=l.size||e.width;re(l.start)&&(a=l.start),e.fullSize?En(e,a,r.top,s,o.outerHeight-r.bottom-r.top):En(e,a,t.top+l.placed,s,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=s}var An={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const o=e.boxes?e.boxes.indexOf(t):-1;-1!==o&&e.boxes.splice(o,1)},configure(e,t,o){t.fullSize=o.fullSize,t.position=o.position,t.weight=o.weight},update(e,t,o,n){if(!e)return;const r=Ot(e.options.layout.padding),a=Math.max(t-r.width,0),s=Math.max(o-r.height,0),i=function(e){const t=function(e){const t=[];let o,n,r,a,s,i;for(o=0,n=(e||[]).length;o<n;++o)r=e[o],({position:a,options:{stack:s,stackWeight:i=1}}=r),t.push({index:o,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&a+s,stackWeight:i});return t}(e),o=vn(t.filter((e=>e.box.fullSize)),!0),n=vn(yn(t,"left"),!0),r=vn(yn(t,"right")),a=vn(yn(t,"top"),!0),s=vn(yn(t,"bottom")),i=bn(t,"x"),l=bn(t,"y");return{fullSize:o,leftAndTop:n.concat(a),rightAndBottom:r.concat(l).concat(s).concat(i),chartArea:yn(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:a.concat(s).concat(i)}}(e.boxes),l=i.vertical,c=i.horizontal;q(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:o,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/d,hBoxMaxHeight:s/2}),h=Object.assign({},r);kn(h,Ot(n));const p=Object.assign({maxPadding:h,w:a,h:s,x:r.left,y:r.top},r),m=_n(l.concat(c),u);Cn(i.fullSize,p,u,m),Cn(l,p,u,m),Cn(c,p,u,m)&&Cn(l,p,u,m),function(e){const t=e.maxPadding;function o(o){const n=Math.max(t[o]-e[o],0);return e[o]+=n,n}e.y+=o("top"),e.x+=o("left"),o("right"),o("bottom")}(p),Dn(i.leftAndTop,p,u,m),p.x+=p.w,p.y+=p.h,Dn(i.rightAndBottom,p,u,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},q(i.chartArea,(t=>{const o=t.box;Object.assign(o,e.chartArea),o.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class Tn{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,o){}removeEventListener(e,t,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,o,n){return t=Math.max(0,t||e.width),o=o||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):o)}}isAttached(e){return!0}updateConfig(e){}}class On extends Tn{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mn="$chartjs",zn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Rn=e=>null===e||""===e;const Nn=!!po&&{passive:!0};function In(e,t,o){e.canvas.removeEventListener(t,o,Nn)}function Ln(e,t){for(const o of e)if(o===t||o.contains(t))return!0}function Pn(e,t,o){const n=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const o of e)t=t||Ln(o.addedNodes,n),t=t&&!Ln(o.removedNodes,n);t&&o()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Bn(e,t,o){const n=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const o of e)t=t||Ln(o.removedNodes,n),t=t&&!Ln(o.addedNodes,n);t&&o()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Hn=new Map;let Fn=0;function Vn(){const e=window.devicePixelRatio;e!==Fn&&(Fn=e,Hn.forEach(((t,o)=>{o.currentDevicePixelRatio!==e&&t()})))}function jn(e,t,o){const n=e.canvas,r=n&&oo(n);if(!r)return;const a=Be(((e,t)=>{const n=r.clientWidth;o(e,t),n<r.clientWidth&&o()}),window),s=new ResizeObserver((e=>{const t=e[0],o=t.contentRect.width,n=t.contentRect.height;0===o&&0===n||a(o,n)}));return s.observe(r),function(e,t){Hn.size||window.addEventListener("resize",Vn),Hn.set(e,t)}(e,a),s}function Un(e,t,o){o&&o.disconnect(),"resize"===t&&function(e){Hn.delete(e),Hn.size||window.removeEventListener("resize",Vn)}(e)}function Wn(e,t,o){const n=e.canvas,r=Be((t=>{null!==e.ctx&&o(function(e,t){const o=zn[e.type]||e.type,{x:n,y:r}=lo(e,t);return{type:o,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,o){e.addEventListener(t,o,Nn)}(n,t,r),r}class Zn extends Tn{acquireContext(e,t){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(function(e,t){const o=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[Mn]={initial:{height:n,width:r,style:{display:o.display,height:o.height,width:o.width}}},o.display=o.display||"block",o.boxSizing=o.boxSizing||"border-box",Rn(r)){const t=mo(e,"width");void 0!==t&&(e.width=t)}if(Rn(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=mo(e,"height");void 0!==t&&(e.height=t)}}(e,t),o):null}releaseContext(e){const t=e.canvas;if(!t[Mn])return!1;const o=t[Mn].initial;["height","width"].forEach((e=>{const n=o[e];H(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=o.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[Mn],!0}addEventListener(e,t,o){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),r={attach:Pn,detach:Bn,resize:jn}[t]||Wn;n[t]=r(e,t,o)}removeEventListener(e,t){const o=e.$proxies||(e.$proxies={}),n=o[t];if(!n)return;({attach:Un,detach:Un,resize:Un}[t]||In)(e,t,n),o[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,o,n){return uo(e,t,o,n)}isAttached(e){const t=oo(e);return!(!t||!t.isConnected)}}class $n{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}hasValue(){return ve(this.x)&&ve(this.y)}getProps(e,t){const o=this.$animations;if(!t||!o)return this;const n={};return e.forEach((e=>{n[e]=o[e]&&o[e].active()?o[e]._to:this[e]})),n}}function qn(e,t){const o=e.options.ticks,n=function(e){const t=e.options.offset,o=e._tickSize(),n=e._length/o+(t?0:1),r=e._maxLength/o;return Math.floor(Math.min(n,r))}(e),r=Math.min(o.maxTicksLimit||n,n),a=o.major.enabled?function(e){const t=[];let o,n;for(o=0,n=e.length;o<n;o++)e[o].major&&t.push(o);return t}(t):[],s=a.length,i=a[0],l=a[s-1],c=[];if(s>r)return function(e,t,o,n){let r,a=0,s=o[0];for(n=Math.ceil(n),r=0;r<e.length;r++)r===s&&(t.push(e[r]),a++,s=o[a*n])}(t,c,a,s/r),c;const d=function(e,t,o){const n=function(e){const t=e.length;let o,n;if(t<2)return!1;for(n=e[0],o=1;o<t;++o)if(e[o]-e[o-1]!==n)return!1;return n}(e),r=t.length/o;if(!n)return Math.max(r,1);const a=function(e){const t=[],o=Math.sqrt(e);let n;for(n=1;n<o;n++)e%n==0&&(t.push(n),t.push(e/n));return o===(0|o)&&t.push(o),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let e=0,t=a.length-1;e<t;e++){const t=a[e];if(t>r)return t}return Math.max(r,1)}(a,t,r);if(s>0){let e,o;const n=s>1?Math.round((l-i)/(s-1)):null;for(Yn(t,c,d,H(n)?0:i-n,i),e=0,o=s-1;e<o;e++)Yn(t,c,d,a[e],a[e+1]);return Yn(t,c,d,l,H(n)?t.length:l+n),c}return Yn(t,c,d),c}function Yn(e,t,o,n,r){const a=W(n,0),s=Math.min(W(r,e.length),e.length);let i,l,c,d=0;for(o=Math.ceil(o),r&&(i=r-n,o=i/Math.floor(i/o)),c=a;c<0;)d++,c=Math.round(a+d*o);for(l=Math.max(a,0);l<s;l++)l===c&&(t.push(e[l]),d++,c=Math.round(a+d*o))}const Gn=e=>"left"===e?"right":"right"===e?"left":e,Kn=(e,t,o)=>"top"===t||"left"===t?e[t]+o:e[t]-o,Xn=(e,t)=>Math.min(t||e,e);function Qn(e,t){const o=[],n=e.length/t,r=e.length;let a=0;for(;a<r;a+=n)o.push(e[Math.floor(a)]);return o}function Jn(e,t,o){const n=e.ticks.length,r=Math.min(t,n-1),a=e._startPixel,s=e._endPixel,i=1e-6;let l,c=e.getPixelForTick(r);if(!(o&&(l=1===n?Math.max(c-a,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<a-i||c>s+i)))return c}function er(e){return e.drawTicks?e.tickLength:0}function tr(e,t){if(!e.display)return 0;const o=Mt(e.font,t),n=Ot(e.padding);return(F(e.text)?e.text.length:1)*o.lineHeight+n.height}function or(e,t,o){let n=He(e);return(o&&"right"!==t||!o&&"right"===t)&&(n=Gn(n)),n}class nr extends $n{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:o,_suggestedMax:n}=this;return e=U(e,Number.POSITIVE_INFINITY),t=U(t,Number.NEGATIVE_INFINITY),o=U(o,Number.POSITIVE_INFINITY),n=U(n,Number.NEGATIVE_INFINITY),{min:U(e,o),max:U(t,n),minDefined:j(e),maxDefined:j(t)}}getMinMax(e){let t,{min:o,max:n,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:o,max:n};const s=this.getMatchingVisibleMetas();for(let i=0,l=s.length;i<l;++i)t=s[i].controller.getMinMax(this,e),r||(o=Math.min(o,t.min)),a||(n=Math.max(n,t.max));return o=a&&o>n?n:o,n=r&&o>n?o:n,{min:U(o,U(n,o)),max:U(n,U(o,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$(this.options.beforeUpdate,[this])}update(e,t,o){const{beginAtZero:n,grace:r,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,o){const{min:n,max:r}=e,a=Z(t,(r-n)/2),s=(e,t)=>o&&0===e?0:e+t;return{min:s(n,-Math.abs(a)),max:s(r,a)}}(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const i=s<this.ticks.length;this._convertTicksToLabels(i?Qn(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=qn(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,o=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,o=!o),this._startPixel=e,this._endPixel=t,this._reversePixels=o,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$(this.options.afterUpdate,[this])}beforeSetDimensions(){$(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),$(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let o,n,r;for(o=0,n=e.length;o<n;o++)r=e[o],r.label=$(t.callback,[r.value,o,e],this)}afterTickToLabelConversion(){$(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,o=Xn(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,r=t.maxRotation;let a,s,i,l=n;if(!this._isVisible()||!t.display||n>=r||o<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Te(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/o:h/(o-1),d+6>a&&(a=h/(o-(e.offset?.5:1)),s=this.maxHeight-er(e.grid)-t.padding-tr(e.title,this.chart.options.font),i=Math.sqrt(d*d+u*u),l=ke(Math.min(Math.asin(Te((c.highest.height+6)/a,-1,1)),Math.asin(Te(s/i,-1,1))-Math.asin(Te(u/i,-1,1)))),l=Math.max(n,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){$(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:o,title:n,grid:r}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const a=tr(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=er(r)+a):(e.height=this.maxHeight,e.width=er(r)+a),o.display&&this.ticks.length){const{first:t,last:n,widest:r,highest:a}=this._getLabelSizes(),i=2*o.padding,l=we(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(s){const t=o.mirror?0:d*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+i)}else{const t=o.mirror?0:c*r.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+i)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,o,n){const{ticks:{align:r,padding:a},position:s}=this.options,i=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;i?l?(d=n*e.width,u=o*t.height):(d=o*e.height,u=n*t.width):"start"===r?u=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let o=t.height/2,n=e.height/2;"start"===r?(o=0,n=e.height):"end"===r&&(o=t.height,n=0),this.paddingTop=o+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,o=e.length;t<o;t++)H(e[t].label)&&(e.splice(t,1),o--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let o=this.ticks;t<o.length&&(o=Qn(o,t)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,o){const{ctx:n,_longestTextCache:r}=this,a=[],s=[],i=Math.floor(t/Xn(t,o));let l,c,d,u,h,p,m,g,f,y,b,v=0,_=0;for(l=0;l<t;l+=i){if(u=e[l].label,h=this._resolveTickFontOptions(l),n.font=p=h.string,m=r[p]=r[p]||{data:{},gc:[]},g=h.lineHeight,f=y=0,H(u)||F(u)){if(F(u))for(c=0,d=u.length;c<d;++c)b=u[c],H(b)||F(b)||(f=lt(n,m.data,m.gc,f,b),y+=g)}else f=lt(n,m.data,m.gc,f,u),y=g;a.push(f),s.push(y),v=Math.max(f,v),_=Math.max(y,_)}!function(e,t){q(e,(e=>{const o=e.gc,n=o.length/2;let r;if(n>t){for(r=0;r<n;++r)delete e.data[o[r]];o.splice(0,n)}}))}(r,t);const w=a.indexOf(v),k=s.indexOf(_),x=e=>({width:a[e]||0,height:s[e]||0});return{first:x(0),last:x(t-1),widest:x(w),highest:x(k),widths:a,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Te(this._alignToPixels?dt(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const o=t[e];return o.$context||(o.$context=function(e,t,o){return Rt(e,{tick:o,index:t,type:"tick"})}(this.getContext(),e,o))}return this.$context||(this.$context=Rt(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=we(this.labelRotation),o=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,s=r?r.widest.width+a:0,i=r?r.highest.height+a:0;return this.isHorizontal()?i*o>s*n?s/o:i/n:i*n<s*o?i/o:s/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,o=this.chart,n=this.options,{grid:r,position:a,border:s}=n,i=r.offset,l=this.isHorizontal(),c=this.ticks.length+(i?1:0),d=er(r),u=[],h=s.setContext(this.getContext()),p=h.display?h.width:0,m=p/2,g=function(e){return dt(o,e,p)};let f,y,b,v,_,w,k,x,S,C,E,D;if("top"===a)f=g(this.bottom),w=this.bottom-d,x=f-m,C=g(e.top)+m,D=e.bottom;else if("bottom"===a)f=g(this.top),C=e.top,D=g(e.bottom)-m,w=f+m,x=this.top+d;else if("left"===a)f=g(this.right),_=this.right-d,k=f-m,S=g(e.left)+m,E=e.right;else if("right"===a)f=g(this.left),S=e.left,E=g(e.right)-m,_=f+m,k=this.left+d;else if("x"===t){if("center"===a)f=g((e.top+e.bottom)/2+.5);else if(V(a)){const e=Object.keys(a)[0],t=a[e];f=g(this.chart.scales[e].getPixelForValue(t))}C=e.top,D=e.bottom,w=f+m,x=w+d}else if("y"===t){if("center"===a)f=g((e.left+e.right)/2);else if(V(a)){const e=Object.keys(a)[0],t=a[e];f=g(this.chart.scales[e].getPixelForValue(t))}_=f-m,k=_-d,S=e.left,E=e.right}const A=W(n.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/A));for(y=0;y<c;y+=T){const e=this.getContext(y),t=r.setContext(e),n=s.setContext(e),a=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,p=t.tickWidth,m=t.tickColor,g=t.tickBorderDash||[],f=t.tickBorderDashOffset;b=Jn(this,y,i),void 0!==b&&(v=dt(o,b,a),l?_=k=S=E=v:w=x=C=D=v,u.push({tx1:_,ty1:w,tx2:k,ty2:x,x1:S,y1:C,x2:E,y2:D,width:a,color:c,borderDash:d,borderDashOffset:h,tickWidth:p,tickColor:m,tickBorderDash:g,tickBorderDashOffset:f}))}return this._ticksLength=c,this._borderValue=f,u}_computeLabelItems(e){const t=this.axis,o=this.options,{position:n,ticks:r}=o,a=this.isHorizontal(),s=this.ticks,{align:i,crossAlign:l,padding:c,mirror:d}=r,u=er(o.grid),h=u+c,p=d?-c:h,m=-we(this.labelRotation),g=[];let f,y,b,v,_,w,k,x,S,C,E,D,A="middle";if("top"===n)w=this.bottom-p,k=this._getXAxisLabelAlignment();else if("bottom"===n)w=this.top+p,k=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);k=e.textAlign,_=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);k=e.textAlign,_=e.x}else if("x"===t){if("center"===n)w=(e.top+e.bottom)/2+h;else if(V(n)){const e=Object.keys(n)[0],t=n[e];w=this.chart.scales[e].getPixelForValue(t)+h}k=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)_=(e.left+e.right)/2-h;else if(V(n)){const e=Object.keys(n)[0],t=n[e];_=this.chart.scales[e].getPixelForValue(t)}k=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===i?A="top":"end"===i&&(A="bottom"));const T=this._getLabelSizes();for(f=0,y=s.length;f<y;++f){b=s[f],v=b.label;const e=r.setContext(this.getContext(f));x=this.getPixelForTick(f)+r.labelOffset,S=this._resolveTickFontOptions(f),C=S.lineHeight,E=F(v)?v.length:1;const t=E/2,o=e.color,i=e.textStrokeColor,c=e.textStrokeWidth;let u,h=k;if(a?(_=x,"inner"===k&&(h=f===y-1?this.options.reverse?"left":"right":0===f?this.options.reverse?"right":"left":"center"),D="top"===n?"near"===l||0!==m?-E*C+C/2:"center"===l?-T.highest.height/2-t*C+C:-T.highest.height+C/2:"near"===l||0!==m?C/2:"center"===l?T.highest.height/2-t*C:T.highest.height-E*C,d&&(D*=-1),0===m||e.showLabelBackdrop||(_+=C/2*Math.sin(m))):(w=x,D=(1-E)*C/2),e.showLabelBackdrop){const t=Ot(e.backdropPadding),o=T.heights[f],n=T.widths[f];let r=D-t.top,a=0-t.left;switch(A){case"middle":r-=o/2;break;case"bottom":r-=o}switch(k){case"center":a-=n/2;break;case"right":a-=n}u={left:a,top:r,width:n+t.width,height:o+t.height,color:e.backdropColor}}g.push({label:v,font:S,textOffset:D,options:{rotation:m,color:o,strokeColor:i,strokeWidth:c,textAlign:h,textBaseline:A,translation:[_,w],backdrop:u}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-we(this.labelRotation))return"top"===e?"left":"right";let o="center";return"start"===t.align?o="left":"end"===t.align?o="right":"inner"===t.align&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:o,mirror:n,padding:r}}=this.options,a=e+r,s=this._getLabelSizes().widest.width;let i,l;return"left"===t?n?(l=this.right+r,"near"===o?i="left":"center"===o?(i="center",l+=s/2):(i="right",l+=s)):(l=this.right-a,"near"===o?i="right":"center"===o?(i="center",l-=s/2):(i="left",l=this.left)):"right"===t?n?(l=this.left+r,"near"===o?i="right":"center"===o?(i="center",l-=s/2):(i="left",l-=s)):(l=this.left+a,"near"===o?i="left":"center"===o?(i="center",l+=s/2):(i="right",l=this.right)):i="right",{textAlign:i,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:o,top:n,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(o,n,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex((t=>t.value===e));if(o>=0){return t.setContext(this.getContext(o)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,o=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const s=(e,t,n)=>{n.width&&n.color&&(o.save(),o.lineWidth=n.width,o.strokeStyle=n.color,o.setLineDash(n.borderDash||[]),o.lineDashOffset=n.borderDashOffset,o.beginPath(),o.moveTo(e.x,e.y),o.lineTo(t.x,t.y),o.stroke(),o.restore())};if(t.display)for(r=0,a=n.length;r<a;++r){const e=n[r];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:o,grid:n}}=this,r=o.setContext(this.getContext()),a=o.display?r.width:0;if(!a)return;const s=n.setContext(this.getContext(0)).lineWidth,i=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=dt(e,this.left,a)-a/2,c=dt(e,this.right,s)+s/2,d=u=i):(d=dt(e,this.top,a)-a/2,u=dt(e,this.bottom,s)+s/2,l=c=i),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,o=this._computeLabelArea();o&&gt(t,o);const n=this.getLabelItems(e);for(const e of n){const o=e.options,n=e.font;wt(t,e.label,0,e.textOffset,n,o)}o&&ft(t)}drawTitle(){const{ctx:e,options:{position:t,title:o,reverse:n}}=this;if(!o.display)return;const r=Mt(o.font),a=Ot(o.padding),s=o.align;let i=r.lineHeight/2;"bottom"===t||"center"===t||V(t)?(i+=a.bottom,F(o.text)&&(i+=r.lineHeight*(o.text.length-1))):i+=a.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,o,n){const{top:r,left:a,bottom:s,right:i,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,p,m=0;const g=s-r,f=i-a;if(e.isHorizontal()){if(h=Fe(n,a,i),V(o)){const e=Object.keys(o)[0],n=o[e];p=d[e].getPixelForValue(n)+g-t}else p="center"===o?(c.bottom+c.top)/2+g-t:Kn(e,o,t);u=i-a}else{if(V(o)){const e=Object.keys(o)[0],n=o[e];h=d[e].getPixelForValue(n)-f+t}else h="center"===o?(c.left+c.right)/2-f+t:Kn(e,o,t);p=Fe(n,s,r),m="left"===o?-he:he}return{titleX:h,titleY:p,maxWidth:u,rotation:m}}(this,i,t,s);wt(e,o.text,0,0,r,{color:o.color,maxWidth:d,rotation:u,textAlign:or(s,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,o=W(e.grid&&e.grid.z,-1),n=W(e.border&&e.border.z,0);return this._isVisible()&&this.draw===nr.prototype.draw?[{z:o,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",n=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[o]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return Mt(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rr{constructor(e,t,o){this.type=e,this.scope=t,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let o;(function(e){return"id"in e&&"defaults"in e})(t)&&(o=this.register(t));const n=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,function(e,t,o){const n=Q(Object.create(null),[o?it.get(o):{},it.get(t),e.defaults]);it.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((o=>{const n=o.split("."),r=n.pop(),a=[e].concat(n).join("."),s=t[o].split("."),i=s.pop(),l=s.join(".");it.route(a,r,l,i)}))}(t,e.defaultRoutes);e.descriptors&&it.describe(t,e.descriptors)}(e,a,o),this.override&&it.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,o=e.id,n=this.scope;o in t&&delete t[o],n&&o in it[n]&&(delete it[n][o],this.override&&delete ot[o])}}class ar{constructor(){this.controllers=new rr(qo,"datasets",!0),this.elements=new rr($n,"elements"),this.plugins=new rr(Object,"plugins"),this.scales=new rr(nr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,o){[...t].forEach((t=>{const n=o||this._getRegistryForType(t);o||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):q(t,(t=>{const n=o||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,o){const n=ne(e);$(o["before"+n],[],o),t[e](o),$(o["after"+n],[],o)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const o=this._typedRegistries[t];if(o.isForType(e))return o}return this.plugins}_get(e,t,o){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+o+".");return n}}var sr=new ar;class ir{constructor(){this._init=[]}notify(e,t,o,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(r,e,t,o);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,o,n){n=n||{};for(const r of e){const e=r.plugin;if(!1===$(e[o],[t,n,r.options],e)&&n.cancelable)return!1}return!0}invalidate(){H(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const o=e&&e.config,n=W(o.options&&o.options.plugins,{}),r=function(e){const t={},o=[],n=Object.keys(sr.plugins.items);for(let e=0;e<n.length;e++)o.push(sr.getPlugin(n[e]));const r=e.plugins||[];for(let e=0;e<r.length;e++){const n=r[e];-1===o.indexOf(n)&&(o.push(n),t[n.id]=!0)}return{plugins:o,localIds:t}}(o);return!1!==n||t?function(e,{plugins:t,localIds:o},n,r){const a=[],s=e.getContext();for(const i of t){const t=i.id,l=lr(n[t],r);null!==l&&a.push({plugin:i,options:cr(e.config,{plugin:i,local:o[t]},l,s)})}return a}(e,r,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],o=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,o),e,"stop"),this._notify(n(o,t),e,"start")}}function lr(e,t){return t||!1!==e?!0===e?{}:e:null}function cr(e,{plugin:t,local:o},n,r){const a=e.pluginScopeKeys(t),s=e.getOptionScopes(n,a);return o&&t.defaults&&s.push(t.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dr(e,t){const o=it.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||o.indexAxis||"x"}function ur(e){if("x"===e||"y"===e||"r"===e)return e}function hr(e,...t){if(ur(e))return e;for(const n of t){const t=n.axis||("top"===(o=n.position)||"bottom"===o?"x":"left"===o||"right"===o?"y":void 0)||e.length>1&&ur(e[0].toLowerCase());if(t)return t}var o;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pr(e,t,o){if(o[t+"AxisID"]===e)return{axis:t}}function mr(e,t){const o=ot[e.type]||{scales:{}},n=t.scales||{},r=dr(e.type,t),a=Object.create(null);return Object.keys(n).forEach((t=>{const s=n[t];if(!V(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const i=hr(t,s,function(e,t){if(t.data&&t.data.datasets){const o=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(o.length)return pr(e,"x",o[0])||pr(e,"y",o[0])}return{}}(t,e),it.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(i,r),c=o.scales||{};a[t]=J(Object.create(null),[{axis:i},s,c[i],c[l]])})),e.data.datasets.forEach((o=>{const r=o.type||e.type,s=o.indexAxis||dr(r,t),i=(ot[r]||{}).scales||{};Object.keys(i).forEach((e=>{const t=function(e,t){let o=e;return"_index_"===e?o=t:"_value_"===e&&(o="x"===t?"y":"x"),o}(e,s),r=o[t+"AxisID"]||t;a[r]=a[r]||Object.create(null),J(a[r],[{axis:t},n[r],i[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];J(t,[it.scales[t.type],it.scale])})),a}function gr(e){const t=e.options||(e.options={});t.plugins=W(t.plugins,{}),t.scales=mr(e,t)}function fr(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const yr=new Map,br=new Set;function vr(e,t){let o=yr.get(e);return o||(o=t(),yr.set(e,o),br.add(o)),o}const _r=(e,t,o)=>{const n=oe(t,o);void 0!==n&&e.add(n)};class wr{constructor(e){this._config=function(e){return(e=e||{}).data=fr(e.data),gr(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fr(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),gr(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vr(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return vr(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return vr(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return vr(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const o=this._scopeCache;let n=o.get(e);return n&&!t||(n=new Map,o.set(e,n)),n}getOptionScopes(e,t,o){const{options:n,type:r}=this,a=this._cachedScopes(e,o),s=a.get(t);if(s)return s;const i=new Set;t.forEach((t=>{e&&(i.add(e),t.forEach((t=>_r(i,e,t)))),t.forEach((e=>_r(i,n,e))),t.forEach((e=>_r(i,ot[r]||{},e))),t.forEach((e=>_r(i,it,e))),t.forEach((e=>_r(i,nt,e)))}));const l=Array.from(i);return 0===l.length&&l.push(Object.create(null)),br.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,ot[t]||{},it.datasets[t]||{},{type:t},it,nt]}resolveNamedOptions(e,t,o,n=[""]){const r={$shared:!0},{resolver:a,subPrefixes:s}=kr(this._resolverCache,e,n);let i=a;if(function(e,t){const{isScriptable:o,isIndexable:n}=Lt(e);for(const r of t){const t=o(r),a=n(r),s=(a||t)&&e[r];if(t&&(ae(s)||xr(s))||a&&F(s))return!0}return!1}(a,t)){r.$shared=!1;i=It(a,o=ae(o)?o():o,this.createResolver(e,o,s))}for(const e of t)r[e]=i[e];return r}createResolver(e,t,o=[""],n){const{resolver:r}=kr(this._resolverCache,e,o);return V(t)?It(r,t,void 0,n):r}}function kr(e,t,o){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=o.join();let a=n.get(r);if(!a){a={resolver:Nt(t,o),subPrefixes:o.filter((e=>!e.toLowerCase().includes("hover")))},n.set(r,a)}return a}const xr=e=>V(e)&&Object.getOwnPropertyNames(e).reduce(((t,o)=>t||ae(e[o])),!1);const Sr=["top","bottom","left","right","chartArea"];function Cr(e,t){return"top"===e||"bottom"===e||-1===Sr.indexOf(e)&&"x"===t}function Er(e,t){return function(o,n){return o[e]===n[e]?o[t]-n[t]:o[e]-n[e]}}function Dr(e){const t=e.chart,o=t.options.animation;t.notifyPlugins("afterRender"),$(o&&o.onComplete,[e],t)}function Ar(e){const t=e.chart,o=t.options.animation;$(o&&o.onProgress,[e],t)}function Tr(e){return to()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Or={},Mr=e=>{const t=Tr(e);return Object.values(Or).filter((e=>e.canvas===t)).pop()};function zr(e,t,o){const n=Object.keys(e);for(const r of n){const n=+r;if(n>=t){const a=e[r];delete e[r],(o>0||n>t)&&(e[n+o]=a)}}}class Rr{static defaults=it;static instances=Or;static overrides=ot;static registry=sr;static version="4.3.3";static getChart=Mr;static register(...e){sr.add(...e),Nr()}static unregister(...e){sr.remove(...e),Nr()}constructor(e,t){const o=this.config=new wr(t),n=Tr(e),r=Mr(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function(e){return!to()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?On:Zn}(n)),this.platform.updateConfig(o);const s=this.platform.acquireContext(n,a.aspectRatio),i=s&&s.canvas,l=i&&i.height,c=i&&i.width;this.id=B(),this.ctx=s,this.canvas=i,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ir,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let o;return function(...n){return t?(clearTimeout(o),o=setTimeout(e,t,n)):e.apply(this,n),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],Or[this.id]=this,s&&i?(Mo.listen(this,"complete",Dr),Mo.listen(this,"progress",Ar),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:o,height:n,_aspectRatio:r}=this;return H(e)?t&&r?r:n?o/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ho(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ut(this.canvas,this.ctx),this}stop(){return Mo.stop(this),this}resize(e,t){Mo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const o=this.options,n=this.canvas,r=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,r),s=o.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ho(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),$(o.onResize,[this,a],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){q(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,o=this.scales,n=Object.keys(o).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const o=t[e],n=hr(e,o),r="r"===n,a="x"===n;return{options:o,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}})))),q(r,(t=>{const r=t.options,a=r.id,s=hr(a,r),i=W(r.type,t.dtype);void 0!==r.position&&Cr(r.position,s)===Cr(t.dposition)||(r.position=t.dposition),n[a]=!0;let l=null;if(a in o&&o[a].type===i)l=o[a];else{l=new(sr.getScale(i))({id:a,type:i,ctx:this.ctx,chart:this}),o[l.id]=l}l.init(r,e)})),q(n,((e,t)=>{e||delete o[t]})),q(o,(e=>{An.configure(this,e,e.options),An.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,o=e.length;if(e.sort(((e,t)=>e.index-t.index)),o>t){for(let e=t;e<o;++e)this._destroyDatasetMeta(e);e.splice(t,o-t)}this._sortedMetasets=e.slice(0).sort(Er("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,o)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(o)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let o,n;for(this._removeUnreferencedMetasets(),o=0,n=t.length;o<n;o++){const n=t[o];let r=this.getDatasetMeta(o);const a=n.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(o),r=this.getDatasetMeta(o)),r.type=a,r.indexAxis=n.indexAxis||dr(a,this.options),r.order=n.order||0,r.index=o,r.label=""+n.label,r.visible=this.isDatasetVisible(o),r.controller)r.controller.updateIndex(o),r.controller.linkScales();else{const t=sr.getController(a),{datasetElementType:n,dataElementType:s}=it.datasets[a];Object.assign(t,{dataElementType:sr.getElement(s),datasetElementType:n&&sr.getElement(n)}),r.controller=new t(this,o),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){q(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const o=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),o=!n&&-1===r.indexOf(t);t.buildOrUpdateElements(o),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),n||q(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Er("z","_idx"));const{_active:s,_lastEvent:i}=this;i?this._eventHandler(i,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){q(this.scales,(e=>{An.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),o=new Set(e.events);se(t,o)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:o,start:n,count:r}of t){zr(e,n,"_removeElements"===o?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,o=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=o(0);for(let e=1;e<t;e++)if(!se(n,o(e)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;An.update(this,this.width,this.height,e);const t=this.chartArea,o=t.width<=0||t.height<=0;this._layers=[],q(this.boxes,(e=>{o&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,o=this.data.datasets.length;t<o;++t)this._updateDataset(t,ae(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const o=this.getDatasetMeta(e),n={meta:o,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(o.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Mo.has(this)?this.attached&&!Mo.running(this)&&Mo.start(this):(this.draw(),Dr({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,o=[];let n,r;for(n=0,r=t.length;n<r;++n){const r=t[n];e&&!r.visible||o.push(r)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,o=e._clip,n=!o.disabled,r=function(e){const{xScale:t,yScale:o}=e;if(t&&o)return{left:t.left,right:t.right,top:o.top,bottom:o.bottom}}(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(n&&gt(t,{left:!1===o.left?0:r.left-o.left,right:!1===o.right?this.width:r.right+o.right,top:!1===o.top?0:r.top-o.top,bottom:!1===o.bottom?this.height:r.bottom+o.bottom}),e.controller.draw(),n&&ft(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return mt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,o,n){const r=gn.modes[t];return"function"==typeof r?r(this,e,o,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],o=this._metasets;let n=o.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},o.push(n)),n}getContext(){return this.$context||(this.$context=Rt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const o=this.getDatasetMeta(e);return"boolean"==typeof o.hidden?!o.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,o){const n=o?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,n);re(t)?(r.data[t].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(r,{visible:o}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Mo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ut(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Or[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,o=(o,n)=>{t.addEventListener(this,o,n),e[o]=n},n=(e,t,o)=>{e.offsetX=t,e.offsetY=o,this._eventHandler(e)};q(this.options.events,(e=>o(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,o=(o,n)=>{t.addEventListener(this,o,n),e[o]=n},n=(o,n)=>{e[o]&&(t.removeEventListener(this,o,n),delete e[o])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const s=()=>{n("attach",s),this.attached=!0,this.resize(),o("resize",r),o("detach",a)};a=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),o("attach",s)},t.isAttached(this.canvas)?s():a()}unbindEvents(){q(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},q(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,o){const n=o?"set":"remove";let r,a,s,i;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),s=0,i=e.length;s<i;++s){a=e[s];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],o=e.map((({datasetIndex:e,index:t})=>{const o=this.getDatasetMeta(e);if(!o)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:o.data[t],index:t}}));!Y(o,t)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,t))}notifyPlugins(e,t,o){return this._plugins.notify(this,e,t,o)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,o){const n=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=r(t,e),s=o?e:r(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){const o={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",o,n))return;const r=this._handleEvent(e,t,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,n),(r||o.changed)&&this.render(),this}_handleEvent(e,t,o){const{_active:n=[],options:r}=this,a=t,s=this._getActiveElements(e,n,o,a),i=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,o,n){return o&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,o,i);o&&(this._lastEvent=null,$(r.onHover,[e,s,this],this),i&&$(r.onClick,[e,s,this],this));const c=!Y(s,n);return(c||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,o,n){if("mouseout"===e.type)return[];if(!o)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function Nr(){return q(Rr.instances,(e=>e._plugins.invalidate()))}function Ir(e,t,o,n){const r=Dt(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(o-t)/2,s=Math.min(a,n*t/2),i=e=>{const t=(o-Math.min(a,e))*n/2;return Te(e,0,Math.min(a,t))};return{outerStart:i(r.outerStart),outerEnd:i(r.outerEnd),innerStart:Te(r.innerStart,0,s),innerEnd:Te(r.innerEnd,0,s)}}function Lr(e,t,o,n){return{x:o+e*Math.cos(t),y:n+e*Math.sin(t)}}function Pr(e,t,o,n,r,a){const{x:s,y:i,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+o-c,0),h=d>0?d+n+o+c:0;let p=0;const m=r-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;p=(m-(0!==e?m*e/(e+n):m))/2}const g=(m-Math.max(.001,m*u-o/ie)/u)/2,f=l+g+p,y=r-g-p,{outerStart:b,outerEnd:v,innerStart:_,innerEnd:w}=Ir(t,h,u,y-f),k=u-b,x=u-v,S=f+b/k,C=y-v/x,E=h+_,D=h+w,A=f+_/E,T=y-w/D;if(e.beginPath(),a){const t=(S+C)/2;if(e.arc(s,i,u,S,t),e.arc(s,i,u,t,C),v>0){const t=Lr(x,C,s,i);e.arc(t.x,t.y,v,C,y+he)}const o=Lr(D,y,s,i);if(e.lineTo(o.x,o.y),w>0){const t=Lr(D,T,s,i);e.arc(t.x,t.y,w,y+he,T+Math.PI)}const n=(y-w/h+(f+_/h))/2;if(e.arc(s,i,h,y-w/h,n,!0),e.arc(s,i,h,n,f+_/h,!0),_>0){const t=Lr(E,A,s,i);e.arc(t.x,t.y,_,A+Math.PI,f-he)}const r=Lr(k,f,s,i);if(e.lineTo(r.x,r.y),b>0){const t=Lr(k,S,s,i);e.arc(t.x,t.y,b,f-he,S)}}else{e.moveTo(s,i);const t=Math.cos(S)*u+s,o=Math.sin(S)*u+i;e.lineTo(t,o);const n=Math.cos(C)*u+s,r=Math.sin(C)*u+i;e.lineTo(n,r)}e.closePath()}function Br(e,t,o,n,r){const{fullCircles:a,startAngle:s,circumference:i,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(a){Pr(e,t,o,n,m,r);for(let t=0;t<a;++t)e.stroke();isNaN(i)||(m=s+(i%le||le))}p&&function(e,t,o){const{startAngle:n,pixelMargin:r,x:a,y:s,outerRadius:i,innerRadius:l}=t;let c=r/i;e.beginPath(),e.arc(a,s,i,n-c,o+c),l>r?(c=r/l,e.arc(a,s,l,o+c,n-c,!0)):e.arc(a,s,r,o+he,n-he),e.closePath(),e.clip()}(e,t,m),a||(Pr(e,t,o,n,m,r),e.stroke())}function Hr(e,t,o=t){e.lineCap=W(o.borderCapStyle,t.borderCapStyle),e.setLineDash(W(o.borderDash,t.borderDash)),e.lineDashOffset=W(o.borderDashOffset,t.borderDashOffset),e.lineJoin=W(o.borderJoinStyle,t.borderJoinStyle),e.lineWidth=W(o.borderWidth,t.borderWidth),e.strokeStyle=W(o.borderColor,t.borderColor)}function Fr(e,t,o){e.lineTo(o.x,o.y)}function Vr(e,t,o={}){const n=e.length,{start:r=0,end:a=n-1}=o,{start:s,end:i}=t,l=Math.max(r,s),c=Math.min(a,i),d=r<s&&a<s||r>i&&a>i;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function jr(e,t,o,n){const{points:r,options:a}=t,{count:s,start:i,loop:l,ilen:c}=Vr(r,o,n),d=function(e){return e.stepped?yt:e.tension||"monotone"===e.cubicInterpolationMode?bt:Fr}(a);let u,h,p,{move:m=!0,reverse:g}=n||{};for(u=0;u<=c;++u)h=r[(i+(g?c-u:u))%s],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,p,h,g,a.stepped),p=h);return l&&(h=r[(i+(g?c:0))%s],d(e,p,h,g,a.stepped)),!!l}function Ur(e,t,o,n){const r=t.points,{count:a,start:s,ilen:i}=Vr(r,o,n),{move:l=!0,reverse:c}=n||{};let d,u,h,p,m,g,f=0,y=0;const b=e=>(s+(c?i-e:e))%a,v=()=>{p!==m&&(e.lineTo(f,m),e.lineTo(f,p),e.lineTo(f,g))};for(l&&(u=r[b(0)],e.moveTo(u.x,u.y)),d=0;d<=i;++d){if(u=r[b(d)],u.skip)continue;const t=u.x,o=u.y,n=0|t;n===h?(o<p?p=o:o>m&&(m=o),f=(y*f+t)/++y):(v(),e.lineTo(t,o),h=n,y=0,p=m=o),g=o}v()}function Wr(e){const t=e.options,o=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||o)?Ur:jr}const Zr="function"==typeof Path2D;function $r(e,t,o,n){Zr&&!t.options.segment?function(e,t,o,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,o,n)&&r.closePath()),Hr(e,t.options),e.stroke(r)}(e,t,o,n):function(e,t,o,n){const{segments:r,options:a}=t,s=Wr(t);for(const i of r)Hr(e,a,i.style),e.beginPath(),s(e,t,i,{start:o,end:o+n-1})&&e.closePath(),e.stroke()}(e,t,o,n)}class qr extends $n{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const o=this.options;if((o.tension||"monotone"===o.cubicInterpolationMode)&&!o.stepped&&!this._pointsUpdated){const n=o.spanGaps?this._loop:this._fullLoop;eo(this._points,o,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const o=e.points,n=e.options.spanGaps,r=o.length;if(!r)return[];const a=!!e._loop,{start:s,end:i}=function(e,t,o,n){let r=0,a=t-1;if(o&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,o&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(o,r,a,n);return Do(e,!0===n?[{start:s,end:i,loop:a}]:function(e,t,o,n){const r=e.length,a=[];let s,i=t,l=e[t];for(s=t+1;s<=o;++s){const o=e[s%r];o.skip||o.stop?l.skip||(n=!1,a.push({start:t%r,end:(s-1)%r,loop:n}),t=i=o.stop?s:null):(i=s,l.skip&&(t=s)),l=o}return null!==i&&a.push({start:t%r,end:i%r,loop:n}),a}(o,s,i<s?i+r:i,!!e._fullLoop&&0===s&&i===r-1),o,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,o=e.length;return o&&t[e[o-1].end]}interpolate(e,t){const o=this.options,n=e[t],r=this.points,a=Eo(this,{property:t,start:n,end:n});if(!a.length)return;const s=[],i=function(e){return e.stepped?fo:e.tension||"monotone"===e.cubicInterpolationMode?yo:go}(o);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:d}=a[l],u=r[c],h=r[d];if(u===h){s.push(u);continue}const p=i(u,h,Math.abs((n-u[t])/(h[t]-u[t])),o.stepped);p[t]=e[t],s.push(p)}return 1===s.length?s[0]:s}pathSegment(e,t,o){return Wr(this)(e,this,t,o)}path(e,t,o){const n=this.segments,r=Wr(this);let a=this._loop;t=t||0,o=o||this.points.length-t;for(const s of n)a&=r(e,this,s,{start:t,end:t+o-1});return!!a}draw(e,t,o,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),$r(e,this,o,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yr(e,t,o,n){const r=e.options,{[o]:a}=e.getProps([o],n);return Math.abs(t-a)<r.radius+r.hitRadius}function Gr(e,t){const{x:o,y:n,base:r,width:a,height:s}=e.getProps(["x","y","base","width","height"],t);let i,l,c,d,u;return e.horizontal?(u=s/2,i=Math.min(o,r),l=Math.max(o,r),c=n-u,d=n+u):(u=a/2,i=o-u,l=o+u,c=Math.min(n,r),d=Math.max(n,r)),{left:i,top:c,right:l,bottom:d}}function Kr(e,t,o,n){return e?0:Te(t,o,n)}function Xr(e){const t=Gr(e),o=t.right-t.left,n=t.bottom-t.top,r=function(e,t,o){const n=e.options.borderWidth,r=e.borderSkipped,a=At(n);return{t:Kr(r.top,a.top,0,o),r:Kr(r.right,a.right,0,t),b:Kr(r.bottom,a.bottom,0,o),l:Kr(r.left,a.left,0,t)}}(e,o/2,n/2),a=function(e,t,o){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=Tt(r),s=Math.min(t,o),i=e.borderSkipped,l=n||V(r);return{topLeft:Kr(!l||i.top||i.left,a.topLeft,0,s),topRight:Kr(!l||i.top||i.right,a.topRight,0,s),bottomLeft:Kr(!l||i.bottom||i.left,a.bottomLeft,0,s),bottomRight:Kr(!l||i.bottom||i.right,a.bottomRight,0,s)}}(e,o/2,n/2);return{outer:{x:t.left,y:t.top,w:o,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:o-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function Qr(e,t,o,n){const r=null===t,a=null===o,s=e&&!(r&&a)&&Gr(e,n);return s&&(r||Oe(t,s.left,s.right))&&(a||Oe(o,s.top,s.bottom))}function Jr(e,t){e.rect(t.x,t.y,t.w,t.h)}function ea(e,t,o={}){const n=e.x!==o.x?-t:0,r=e.y!==o.y?-t:0,a=(e.x+e.w!==o.x+o.w?t:0)-n,s=(e.y+e.h!==o.y+o.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+a,h:e.h+s,radius:e.radius}}var ta=Object.freeze({__proto__:null,ArcElement:class extends $n{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,o){const n=this.getProps(["x","y"],o),{angle:r,distance:a}=Se(n,{x:e,y:t}),{startAngle:s,endAngle:i,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),u=(this.options.spacing+this.options.borderWidth)/2,h=W(d,i-s)>=le||Ae(r,s,i),p=Oe(a,l+u,c+u);return h&&p}getCenterPoint(e){const{x:t,y:o,startAngle:n,endAngle:r,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:i,spacing:l}=this.options,c=(n+r)/2,d=(a+s+l+i)/2;return{x:t+Math.cos(c)*d,y:o+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:o}=this,n=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=o>le?Math.floor(o/le):0,0===o||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*n,Math.sin(s)*n);const i=n*(1-Math.sin(Math.min(ie,o||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,o,n,r){const{fullCircles:a,startAngle:s,circumference:i}=t;let l=t.endAngle;if(a){Pr(e,t,o,n,l,r);for(let t=0;t<a;++t)e.fill();isNaN(i)||(l=s+(i%le||le))}Pr(e,t,o,n,l,r),e.fill()}(e,this,i,r,a),Br(e,this,i,r,a),e.restore()}},BarElement:class extends $n{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:o,backgroundColor:n}}=this,{inner:r,outer:a}=Xr(this),s=(i=a.radius).topLeft||i.topRight||i.bottomLeft||i.bottomRight?kt:Jr;var i;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),s(e,ea(a,t,r)),e.clip(),s(e,ea(r,-t,a)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),s(e,ea(r,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,o){return Qr(this,e,t,o)}inXRange(e,t){return Qr(this,e,null,t)}inYRange(e,t){return Qr(this,null,e,t)}getCenterPoint(e){const{x:t,y:o,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+n)/2:t,y:r?o:(o+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:qr,PointElement:class extends $n{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,o){const n=this.options,{x:r,y:a}=this.getProps(["x","y"],o);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return Yr(this,e,"x",t)}inYRange(e,t){return Yr(this,e,"y",t)}getCenterPoint(e){const{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const o=this.options;this.skip||o.radius<.1||!mt(this,t,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,ht(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}});const oa=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],na=oa.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function ra(e){return oa[e%oa.length]}function aa(e){return na[e%na.length]}function sa(e){let t=0;return(o,n)=>{const r=e.getDatasetMeta(n).controller;r instanceof on?t=function(e,t){return e.backgroundColor=e.data.map((()=>ra(t++))),t}(o,t):r instanceof nn?t=function(e,t){return e.backgroundColor=e.data.map((()=>aa(t++))),t}(o,t):r&&(t=function(e,t){return e.borderColor=ra(t),e.backgroundColor=aa(t),++t}(o,t))}}function ia(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var la={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,o){if(!o.enabled)return;const{data:{datasets:n},options:r}=e.config,{elements:a}=r;if(!o.forceOverride&&(ia(n)||(s=r)&&(s.borderColor||s.backgroundColor)||a&&ia(a)))return;var s;const i=sa(e);n.forEach(i)}};function ca(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function da(e){e.data.datasets.forEach((e=>{ca(e)}))}var ua={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,o)=>{if(!o.enabled)return void da(e);const n=e.width;e.data.datasets.forEach(((t,r)=>{const{_data:a,indexAxis:s}=t,i=e.getDatasetMeta(r),l=a||t.data;if("y"===zt([s,e.options.indexAxis]))return;if(!i.controller.supportsDecimation)return;const c=e.scales[i.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const o=t.length;let n,r=0;const{iScale:a}=e,{min:s,max:i,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(r=Te(ze(t,a.axis,s).lo,0,o-1)),n=c?Te(ze(t,a.axis,i).hi+1,r,o)-r:o-r,{start:r,count:n}}(i,l);if(u<=(o.threshold||4*n))return void ca(t);let h;switch(H(a)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),o.algorithm){case"lttb":h=function(e,t,o,n,r){const a=r.samples||n;if(a>=o)return e.slice(t,t+o);const s=[],i=(o-2)/(a-2);let l=0;const c=t+o-1;let d,u,h,p,m,g=t;for(s[l++]=e[g],d=0;d<a-2;d++){let n,r=0,a=0;const c=Math.floor((d+1)*i)+1+t,f=Math.min(Math.floor((d+2)*i)+1,o)+t,y=f-c;for(n=c;n<f;n++)r+=e[n].x,a+=e[n].y;r/=y,a/=y;const b=Math.floor(d*i)+1+t,v=Math.min(Math.floor((d+1)*i)+1,o)+t,{x:_,y:w}=e[g];for(h=p=-1,n=b;n<v;n++)p=.5*Math.abs((_-r)*(e[n].y-w)-(_-e[n].x)*(a-w)),p>h&&(h=p,u=e[n],m=n);s[l++]=u,g=m}return s[l++]=e[c],s}(l,d,u,n,o);break;case"min-max":h=function(e,t,o,n){let r,a,s,i,l,c,d,u,h,p,m=0,g=0;const f=[],y=t+o-1,b=e[t].x,v=e[y].x-b;for(r=t;r<t+o;++r){a=e[r],s=(a.x-b)/v*n,i=a.y;const t=0|s;if(t===l)i<h?(h=i,c=r):i>p&&(p=i,d=r),m=(g*m+a.x)/++g;else{const o=r-1;if(!H(c)&&!H(d)){const t=Math.min(c,d),n=Math.max(c,d);t!==u&&t!==o&&f.push({...e[t],x:m}),n!==u&&n!==o&&f.push({...e[n],x:m})}r>0&&o!==u&&f.push(e[o]),f.push(a),l=t,g=0,h=p=i,c=d=u=r}}return f}(l,d,u,n);break;default:throw new Error(`Unsupported decimation algorithm '${o.algorithm}'`)}t._decimated=h}))},destroy(e){da(e)}};function ha(e,t,o,n){if(n)return;let r=t[e],a=o[e];return"angle"===e&&(r=De(r),a=De(a)),{property:e,start:r,end:a}}function pa(e,t,o){for(;t>e;t--){const e=o[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function ma(e,t,o,n){return e&&t?n(e[o],t[o]):e?e[o]:t?t[o]:0}function ga(e,t){let o=[],n=!1;return F(e)?(n=!0,o=e):o=function(e,t){const{x:o=null,y:n=null}=e||{},r=t.points,a=[];return t.segments.forEach((({start:e,end:t})=>{t=pa(e,t,r);const s=r[e],i=r[t];null!==n?(a.push({x:s.x,y:n}),a.push({x:i.x,y:n})):null!==o&&(a.push({x:o,y:s.y}),a.push({x:o,y:i.y}))})),a}(e,t),o.length?new qr({points:o,options:{tension:0},_loop:n,_fullLoop:n}):null}function fa(e){return e&&!1!==e.fill}function ya(e,t,o){let n=e[t].fill;const r=[t];let a;if(!o)return n;for(;!1!==n&&-1===r.indexOf(n);){if(!j(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;r.push(n),n=a.fill}return!1}function ba(e,t,o){const n=function(e){const t=e.options,o=t.fill;let n=W(o&&o.target,o);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(V(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return j(r)&&Math.floor(r)===r?function(e,t,o,n){"-"!==e&&"+"!==e||(o=t+o);if(o===t||o<0||o>=n)return!1;return o}(n[0],t,r,o):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function va(e,t,o){const n=[];for(let r=0;r<o.length;r++){const a=o[r],{first:s,last:i,point:l}=_a(a,t,"x");if(!(!l||s&&i))if(s)n.unshift(l);else if(e.push(l),!i)break}e.push(...n)}function _a(e,t,o){const n=e.interpolate(t,o);if(!n)return{};const r=n[o],a=e.segments,s=e.points;let i=!1,l=!1;for(let e=0;e<a.length;e++){const t=a[e],n=s[t.start][o],c=s[t.end][o];if(Oe(r,n,c)){i=r===n,l=r===c;break}}return{first:i,last:l,point:n}}class wa{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,o){const{x:n,y:r,radius:a}=this;return t=t||{start:0,end:le},e.arc(n,r,a,t.end,t.start,!0),!o.bounds}interpolate(e){const{x:t,y:o,radius:n}=this,r=e.angle;return{x:t+Math.cos(r)*n,y:o+Math.sin(r)*n,angle:r}}}function ka(e){const{chart:t,fill:o,line:n}=e;if(j(o))return function(e,t){const o=e.getDatasetMeta(t),n=o&&e.isDatasetVisible(t);return n?o.dataset:null}(t,o);if("stack"===o)return function(e){const{scale:t,index:o,line:n}=e,r=[],a=n.segments,s=n.points,i=function(e,t){const o=[],n=e.getMatchingVisibleMetas("line");for(let e=0;e<n.length;e++){const r=n[e];if(r.index===t)break;r.hidden||o.unshift(r.dataset)}return o}(t,o);i.push(ga({x:null,y:t.bottom},n));for(let e=0;e<a.length;e++){const t=a[e];for(let e=t.start;e<=t.end;e++)va(r,s[e],i)}return new qr({points:r,options:{}})}(e);if("shape"===o)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:o}=e,n=t.options,r=t.getLabels().length,a=n.reverse?t.max:t.min,s=function(e,t,o){let n;return n="start"===e?o:"end"===e?t.options.reverse?t.min:t.max:V(e)?e.value:t.getBaseValue(),n}(o,t,a),i=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,a);return new wa({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let e=0;e<r;++e)i.push(t.getPointPositionForValue(e,s));return i}(e);return function(e){const{scale:t={},fill:o}=e,n=function(e,t){let o=null;return"start"===e?o=t.bottom:"end"===e?o=t.top:V(e)?o=t.getPixelForValue(e.value):t.getBasePixel&&(o=t.getBasePixel()),o}(o,t);if(j(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return r instanceof wa?r:ga(r,n)}function xa(e,t,o){const n=ka(t),{line:r,scale:a,axis:s}=t,i=r.options,l=i.fill,c=i.backgroundColor,{above:d=c,below:u=c}=l||{};n&&r.points.length&&(gt(e,o),function(e,t){const{line:o,target:n,above:r,below:a,area:s,scale:i}=t,l=o._loop?"angle":t.axis;e.save(),"x"===l&&a!==r&&(Sa(e,n,s.top),Ca(e,{line:o,target:n,color:r,scale:i,property:l}),e.restore(),e.save(),Sa(e,n,s.bottom));Ca(e,{line:o,target:n,color:a,scale:i,property:l}),e.restore()}(e,{line:r,target:n,above:d,below:u,area:o,scale:a,axis:s}),ft(e))}function Sa(e,t,o){const{segments:n,points:r}=t;let a=!0,s=!1;e.beginPath();for(const i of n){const{start:n,end:l}=i,c=r[n],d=r[pa(n,l,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,o),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,i,{move:s}),s?e.closePath():e.lineTo(d.x,o)}e.lineTo(t.first().x,o),e.closePath(),e.clip()}function Ca(e,t){const{line:o,target:n,property:r,color:a,scale:s}=t,i=function(e,t,o){const n=e.segments,r=e.points,a=t.points,s=[];for(const e of n){let{start:n,end:i}=e;i=pa(n,i,r);const l=ha(o,r[n],r[i],e.loop);if(!t.segments){s.push({source:e,target:l,start:r[n],end:r[i]});continue}const c=Eo(t,l);for(const t of c){const n=ha(o,a[t.start],a[t.end],t.loop),i=Co(e,r,n);for(const e of i)s.push({source:e,target:t,start:{[o]:ma(l,n,"start",Math.max)},end:{[o]:ma(l,n,"end",Math.min)}})}}return s}(o,n,r);for(const{source:t,target:l,start:c,end:d}of i){const{style:{backgroundColor:i=a}={}}=t,u=!0!==n;e.save(),e.fillStyle=i,Ea(e,s,u&&ha(r,c,d)),e.beginPath();const h=!!o.pathSegment(e,t);let p;if(u){h?e.closePath():Da(e,n,d,r);const t=!!n.pathSegment(e,l,{move:h,reverse:!0});p=h&&t,p||Da(e,n,c,r)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Ea(e,t,o){const{top:n,bottom:r}=t.chart.chartArea,{property:a,start:s,end:i}=o||{};"x"===a&&(e.beginPath(),e.rect(s,n,i-s,r-n),e.clip())}function Da(e,t,o,n){const r=t.interpolate(o,n);r&&e.lineTo(r.x,r.y)}var Aa={id:"filler",afterDatasetsUpdate(e,t,o){const n=(e.data.datasets||[]).length,r=[];let a,s,i,l;for(s=0;s<n;++s)a=e.getDatasetMeta(s),i=a.dataset,l=null,i&&i.options&&i instanceof qr&&(l={visible:e.isDatasetVisible(s),index:s,fill:ba(i,s,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:i}),a.$filler=l,r.push(l);for(s=0;s<n;++s)l=r[s],l&&!1!==l.fill&&(l.fill=ya(r,s,o.propagate))},beforeDraw(e,t,o){const n="beforeDraw"===o.drawTime,r=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let t=r.length-1;t>=0;--t){const o=r[t].$filler;o&&(o.line.updateControlPoints(a,o.axis),n&&o.fill&&xa(e.ctx,o,a))}},beforeDatasetsDraw(e,t,o){if("beforeDatasetsDraw"!==o.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t){const o=n[t].$filler;fa(o)&&xa(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,o){const n=t.meta.$filler;fa(n)&&"beforeDatasetDraw"===o.drawTime&&xa(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ta=(e,t)=>{let{boxHeight:o=t,boxWidth:n=t}=e;return e.usePointStyle&&(o=Math.min(o,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:o,itemHeight:Math.max(t,o)}};class Oa extends $n{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,o){this.maxWidth=e,this.maxHeight=t,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=$(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,o)=>e.sort(t,o,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const o=e.labels,n=Mt(o.font),r=n.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:i}=Ta(o,r);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,r,s,i)+10):(c=this.maxHeight,l=this._fitCols(a,n,s,i)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,o,n){const{ctx:r,maxWidth:a,options:{labels:{padding:s}}}=this,i=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+s;let d=e;r.textAlign="left",r.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const m=o+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+m+2*s>a)&&(d+=c,l[l.length-(p>0?0:1)]=0,h+=c,u++),i[p]={left:0,top:h,row:u,width:m,height:n},l[l.length-1]+=m+s})),d}_fitCols(e,t,o,n){const{ctx:r,maxHeight:a,options:{labels:{padding:s}}}=this,i=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let d=s,u=0,h=0,p=0,m=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:g,itemHeight:f}=function(e,t,o,n,r){const a=function(e,t,o,n){let r=e.text;r&&"string"!=typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+o.size/2+n.measureText(r).width}(n,e,t,o),s=function(e,t,o){let n=e;"string"!=typeof t.text&&(n=Ma(t,o));return n}(r,n,t.lineHeight);return{itemWidth:a,itemHeight:s}}(o,t,r,e,n);a>0&&h+f+2*s>c&&(d+=u+s,l.push({width:u,height:h}),p+=u+s,m++,u=h=0),i[a]={left:p,top:h,col:m,width:g,height:f},u=Math.max(u,g),h+=f+s})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:o,labels:{padding:n},rtl:r}}=this,a=_o(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=Fe(o,this.left+n,this.right-this.lineWidths[r]);for(const i of t)r!==i.row&&(r=i.row,s=Fe(o,this.left+n,this.right-this.lineWidths[r])),i.top+=this.top+e+n,i.left=a.leftForLtr(a.x(s),i.width),s+=i.width+n}else{let r=0,s=Fe(o,this.top+e+n,this.bottom-this.columnSizes[r].height);for(const i of t)i.col!==r&&(r=i.col,s=Fe(o,this.top+e+n,this.bottom-this.columnSizes[r].height)),i.top=s,i.left+=this.left+n,i.left=a.leftForLtr(a.x(i.left),i.width),s+=i.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;gt(e,this),this._draw(),ft(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:o,ctx:n}=this,{align:r,labels:a}=e,s=it.color,i=_o(e.rtl,this.left,this.width),l=Mt(a.font),{padding:c}=a,d=l.size,u=d/2;let h;this.drawTitle(),n.textAlign=i.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:p,boxHeight:m,itemHeight:g}=Ta(a,d),f=this.isHorizontal(),y=this._computeTitleHeight();h=f?{x:Fe(r,this.left+c,this.right-o[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Fe(r,this.top+y+c,this.bottom-t[0].height),line:0},wo(this.ctx,e.textDirection);const b=g+c;this.legendItems.forEach(((v,_)=>{n.strokeStyle=v.fontColor,n.fillStyle=v.fontColor;const w=n.measureText(v.text).width,k=i.textAlign(v.textAlign||(v.textAlign=a.textAlign)),x=p+u+w;let S=h.x,C=h.y;i.setWidth(this.width),f?_>0&&S+x+c>this.right&&(C=h.y+=b,h.line++,S=h.x=Fe(r,this.left+c,this.right-o[h.line])):_>0&&C+b>this.bottom&&(S=h.x=S+t[h.line].width+c,h.line++,C=h.y=Fe(r,this.top+y+c,this.bottom-t[h.line].height));if(function(e,t,o){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;n.save();const r=W(o.lineWidth,1);if(n.fillStyle=W(o.fillStyle,s),n.lineCap=W(o.lineCap,"butt"),n.lineDashOffset=W(o.lineDashOffset,0),n.lineJoin=W(o.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=W(o.strokeStyle,s),n.setLineDash(W(o.lineDash,[])),a.usePointStyle){const s={radius:m*Math.SQRT2/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:r},l=i.xPlus(e,p/2);pt(n,s,l,t+u,a.pointStyleWidth&&p)}else{const a=t+Math.max((d-m)/2,0),s=i.leftForLtr(e,p),l=Tt(o.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?kt(n,{x:s,y:a,w:p,h:m,radius:l}):n.rect(s,a,p,m),n.fill(),0!==r&&n.stroke()}n.restore()}(i.x(S),C,v),S=((e,t,o,n)=>e===(n?"left":"right")?o:"center"===e?(t+o)/2:t)(k,S+p+u,f?S+x:this.right,e.rtl),function(e,t,o){wt(n,o.text,e,t+g/2,l,{strikethrough:o.hidden,textAlign:i.textAlign(o.textAlign)})}(i.x(S),C,v),f)h.x+=x+c;else if("string"!=typeof v.text){const e=l.lineHeight;h.y+=Ma(v,e)+c}else h.y+=b})),ko(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,o=Mt(t.font),n=Ot(t.padding);if(!t.display)return;const r=_o(e.rtl,this.left,this.width),a=this.ctx,s=t.position,i=o.size/2,l=n.top+i;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Fe(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Fe(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Fe(s,d,d+u);a.textAlign=r.textAlign(He(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=o.string,wt(a,t.text,h,c,o)}_computeTitleHeight(){const e=this.options.title,t=Mt(e.font),o=Ot(e.padding);return e.display?t.lineHeight+o.height:0}_getLegendItemAt(e,t){let o,n,r;if(Oe(e,this.left,this.right)&&Oe(t,this.top,this.bottom))for(r=this.legendHitBoxes,o=0;o<r.length;++o)if(n=r[o],Oe(e,n.left,n.left+n.width)&&Oe(t,n.top,n.top+n.height))return this.legendItems[o];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const o=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,s=(r=o,null!==(n=a)&&null!==r&&n.datasetIndex===r.datasetIndex&&n.index===r.index);a&&!s&&$(t.onLeave,[e,a,this],this),this._hoveredItem=o,o&&!s&&$(t.onHover,[e,o,this],this)}else o&&$(t.onClick,[e,o,this],this);var n,r}}function Ma(e,t){return t*(e.text?e.text.length:0)}var za={id:"legend",_element:Oa,start(e,t,o){const n=e.legend=new Oa({ctx:e.ctx,options:o,chart:e});An.configure(e,n,o),An.addBox(e,n)},stop(e){An.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,o){const n=e.legend;An.configure(e,n,o),n.options=o},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,o){const n=t.datasetIndex,r=o.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:o,pointStyle:n,textAlign:r,color:a,useBorderRadius:s,borderRadius:i}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(o?0:void 0),c=Ot(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(i||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ra extends $n{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=F(o.text)?o.text.length:1;this._padding=Ot(o.padding);const r=n*Mt(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:o,bottom:n,right:r,options:a}=this,s=a.align;let i,l,c,d=0;return this.isHorizontal()?(l=Fe(s,o,r),c=t+e,i=r-o):("left"===a.position?(l=o+e,c=Fe(s,n,t),d=-.5*ie):(l=r-e,c=Fe(s,t,n),d=.5*ie),i=n-t),{titleX:l,titleY:c,maxWidth:i,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const o=Mt(t.font),n=o.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:s,rotation:i}=this._drawArgs(n);wt(e,t.text,0,0,o,{color:t.color,maxWidth:s,rotation:i,textAlign:He(t.align),textBaseline:"middle",translation:[r,a]})}}var Na={id:"title",_element:Ra,start(e,t,o){!function(e,t){const o=new Ra({ctx:e.ctx,options:t,chart:e});An.configure(e,o,t),An.addBox(e,o),e.titleBlock=o}(e,o)},stop(e){const t=e.titleBlock;An.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,o){const n=e.titleBlock;An.configure(e,n,o),n.options=o},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ia=new WeakMap;var La={id:"subtitle",start(e,t,o){const n=new Ra({ctx:e.ctx,options:o,chart:e});An.configure(e,n,o),An.addBox(e,n),Ia.set(e,n)},stop(e){An.removeBox(e,Ia.get(e)),Ia.delete(e)},beforeUpdate(e,t,o){const n=Ia.get(e);An.configure(e,n,o),n.options=o},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pa={average(e){if(!e.length)return!1;let t,o,n=0,r=0,a=0;for(t=0,o=e.length;t<o;++t){const o=e[t].element;if(o&&o.hasValue()){const e=o.tooltipPosition();n+=e.x,r+=e.y,++a}}return{x:n/a,y:r/a}},nearest(e,t){if(!e.length)return!1;let o,n,r,a=t.x,s=t.y,i=Number.POSITIVE_INFINITY;for(o=0,n=e.length;o<n;++o){const n=e[o].element;if(n&&n.hasValue()){const e=Ce(t,n.getCenterPoint());e<i&&(i=e,r=n)}}if(r){const e=r.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function Ba(e,t){return t&&(F(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ha(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Fa(e,t){const{element:o,datasetIndex:n,index:r}=t,a=e.getDatasetMeta(n).controller,{label:s,value:i}=a.getLabelAndValue(r);return{chart:e,label:s,parsed:a.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:i,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:o}}function Va(e,t){const o=e.chart.ctx,{body:n,footer:r,title:a}=e,{boxWidth:s,boxHeight:i}=t,l=Mt(t.bodyFont),c=Mt(t.titleFont),d=Mt(t.footerFont),u=a.length,h=r.length,p=n.length,m=Ot(t.padding);let g=m.height,f=0,y=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,u&&(g+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),y){g+=p*(t.displayColors?Math.max(i,l.lineHeight):l.lineHeight)+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const v=function(e){f=Math.max(f,o.measureText(e).width+b)};return o.save(),o.font=c.string,q(e.title,v),o.font=l.string,q(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?s+2+t.boxPadding:0,q(n,(e=>{q(e.before,v),q(e.lines,v),q(e.after,v)})),b=0,o.font=d.string,q(e.footer,v),o.restore(),f+=m.width,{width:f,height:g}}function ja(e,t,o,n){const{x:r,width:a}=o,{width:s,chartArea:{left:i,right:l}}=e;let c="center";return"center"===n?c=r<=(i+l)/2?"left":"right":r<=a/2?c="left":r>=s-a/2&&(c="right"),function(e,t,o,n){const{x:r,width:a}=n,s=o.caretSize+o.caretPadding;return"left"===e&&r+a+s>t.width||"right"===e&&r-a-s<0||void 0}(c,e,t,o)&&(c="center"),c}function Ua(e,t,o){const n=o.yAlign||t.yAlign||function(e,t){const{y:o,height:n}=t;return o<n/2?"top":o>e.height-n/2?"bottom":"center"}(e,o);return{xAlign:o.xAlign||t.xAlign||ja(e,t,o,n),yAlign:n}}function Wa(e,t,o,n){const{caretSize:r,caretPadding:a,cornerRadius:s}=e,{xAlign:i,yAlign:l}=o,c=r+a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=Tt(s);let m=function(e,t){let{x:o,width:n}=e;return"right"===t?o-=n:"center"===t&&(o-=n/2),o}(t,i);const g=function(e,t,o){let{y:n,height:r}=e;return"top"===t?n+=o:n-="bottom"===t?r+o:r/2,n}(t,l,c);return"center"===l?"left"===i?m+=c:"right"===i&&(m-=c):"left"===i?m-=Math.max(d,h)+r:"right"===i&&(m+=Math.max(u,p)+r),{x:Te(m,0,n.width-t.width),y:Te(g,0,n.height-t.height)}}function Za(e,t,o){const n=Ot(o.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function $a(e){return Ba([],Ha(e))}function qa(e,t){const o=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return o?e.override(o):e}const Ya={beforeTitle:P,title(e){if(e.length>0){const t=e[0],o=t.chart.data.labels,n=o?o.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return o[t.dataIndex]}return""},afterTitle:P,beforeBody:P,beforeLabel:P,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const o=e.formattedValue;return H(o)||(t+=o),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:P,afterBody:P,beforeFooter:P,footer:P,afterFooter:P};function Ga(e,t,o,n){const r=e[t].call(o,n);return void 0===r?Ya[t].call(o,n):r}class Ka extends $n{static positioners=Pa;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,o=this.options.setContext(this.getContext()),n=o.enabled&&t.options.animation&&o.animations,r=new Io(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,o=this._tooltipItems,Rt(e,{tooltip:t,tooltipItems:o,type:"tooltip"})));var e,t,o}getTitle(e,t){const{callbacks:o}=t,n=Ga(o,"beforeTitle",this,e),r=Ga(o,"title",this,e),a=Ga(o,"afterTitle",this,e);let s=[];return s=Ba(s,Ha(n)),s=Ba(s,Ha(r)),s=Ba(s,Ha(a)),s}getBeforeBody(e,t){return $a(Ga(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:o}=t,n=[];return q(e,(e=>{const t={before:[],lines:[],after:[]},r=qa(o,e);Ba(t.before,Ha(Ga(r,"beforeLabel",this,e))),Ba(t.lines,Ga(r,"label",this,e)),Ba(t.after,Ha(Ga(r,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return $a(Ga(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:o}=t,n=Ga(o,"beforeFooter",this,e),r=Ga(o,"footer",this,e),a=Ga(o,"afterFooter",this,e);let s=[];return s=Ba(s,Ha(n)),s=Ba(s,Ha(r)),s=Ba(s,Ha(a)),s}_createItems(e){const t=this._active,o=this.chart.data,n=[],r=[],a=[];let s,i,l=[];for(s=0,i=t.length;s<i;++s)l.push(Fa(this.chart,t[s]));return e.filter&&(l=l.filter(((t,n,r)=>e.filter(t,n,r,o)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,o)))),q(l,(t=>{const o=qa(e.callbacks,t);n.push(Ga(o,"labelColor",this,t)),r.push(Ga(o,"labelPointStyle",this,t)),a.push(Ga(o,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const o=this.options.setContext(this.getContext()),n=this._active;let r,a=[];if(n.length){const e=Pa[o.position].call(this,n,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);const t=this._size=Va(this,o),s=Object.assign({},e,t),i=Ua(this.chart,o,s),l=Wa(o,s,i,this.chart);this.xAlign=i.xAlign,this.yAlign=i.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,o,n){const r=this.getCaretPosition(e,o,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,o){const{xAlign:n,yAlign:r}=this,{caretSize:a,cornerRadius:s}=o,{topLeft:i,topRight:l,bottomLeft:c,bottomRight:d}=Tt(s),{x:u,y:h}=e,{width:p,height:m}=t;let g,f,y,b,v,_;return"center"===r?(v=h+m/2,"left"===n?(g=u,f=g-a,b=v+a,_=v-a):(g=u+p,f=g+a,b=v-a,_=v+a),y=g):(f="left"===n?u+Math.max(i,c)+a:"right"===n?u+p-Math.max(l,d)-a:this.caretX,"top"===r?(b=h,v=b-a,g=f-a,y=f+a):(b=h+m,v=b+a,g=f+a,y=f-a),_=b),{x1:g,x2:f,x3:y,y1:b,y2:v,y3:_}}drawTitle(e,t,o){const n=this.title,r=n.length;let a,s,i;if(r){const l=_o(o.rtl,this.x,this.width);for(e.x=Za(this,o.titleAlign,o),t.textAlign=l.textAlign(o.titleAlign),t.textBaseline="middle",a=Mt(o.titleFont),s=o.titleSpacing,t.fillStyle=o.titleColor,t.font=a.string,i=0;i<r;++i)t.fillText(n[i],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s,i+1===r&&(e.y+=o.titleMarginBottom-s)}}_drawColorBox(e,t,o,n,r){const a=this.labelColors[o],s=this.labelPointStyles[o],{boxHeight:i,boxWidth:l}=r,c=Mt(r.bodyFont),d=Za(this,"left",r),u=n.x(d),h=i<c.lineHeight?(c.lineHeight-i)/2:0,p=t.y+h;if(r.usePointStyle){const t={radius:Math.min(l,i)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},o=n.leftForLtr(u,l)+l/2,c=p+i/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,ht(e,t,o,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ht(e,t,o,c)}else{e.lineWidth=V(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(u,l),o=n.leftForLtr(n.xPlus(u,1),l-2),s=Tt(a.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,kt(e,{x:t,y:p,w:l,h:i,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),kt(e,{x:o,y:p+1,w:l-2,h:i-2,radius:s}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,p,l,i),e.strokeRect(t,p,l,i),e.fillStyle=a.backgroundColor,e.fillRect(o,p+1,l-2,i-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,t,o){const{body:n}=this,{bodySpacing:r,bodyAlign:a,displayColors:s,boxHeight:i,boxWidth:l,boxPadding:c}=o,d=Mt(o.bodyFont);let u=d.lineHeight,h=0;const p=_o(o.rtl,this.x,this.width),m=function(o){t.fillText(o,p.x(e.x+h),e.y+u/2),e.y+=u+r},g=p.textAlign(a);let f,y,b,v,_,w,k;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=Za(this,g,o),t.fillStyle=o.bodyColor,q(this.beforeBody,m),h=s&&"right"!==g?"center"===a?l/2+c:l+2+c:0,v=0,w=n.length;v<w;++v){for(f=n[v],y=this.labelTextColors[v],t.fillStyle=y,q(f.before,m),b=f.lines,s&&b.length&&(this._drawColorBox(t,e,v,p,o),u=Math.max(d.lineHeight,i)),_=0,k=b.length;_<k;++_)m(b[_]),u=d.lineHeight;q(f.after,m)}h=0,u=d.lineHeight,q(this.afterBody,m),e.y-=r}drawFooter(e,t,o){const n=this.footer,r=n.length;let a,s;if(r){const i=_o(o.rtl,this.x,this.width);for(e.x=Za(this,o.footerAlign,o),e.y+=o.footerMarginTop,t.textAlign=i.textAlign(o.footerAlign),t.textBaseline="middle",a=Mt(o.footerFont),t.fillStyle=o.footerColor,t.font=a.string,s=0;s<r;++s)t.fillText(n[s],i.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,t,o,n){const{xAlign:r,yAlign:a}=this,{x:s,y:i}=e,{width:l,height:c}=o,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=Tt(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+d,i),"top"===a&&this.drawCaret(e,t,o,n),t.lineTo(s+l-u,i),t.quadraticCurveTo(s+l,i,s+l,i+u),"center"===a&&"right"===r&&this.drawCaret(e,t,o,n),t.lineTo(s+l,i+c-p),t.quadraticCurveTo(s+l,i+c,s+l-p,i+c),"bottom"===a&&this.drawCaret(e,t,o,n),t.lineTo(s+h,i+c),t.quadraticCurveTo(s,i+c,s,i+c-h),"center"===a&&"left"===r&&this.drawCaret(e,t,o,n),t.lineTo(s,i+d),t.quadraticCurveTo(s,i,s+d,i),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,o=this.$animations,n=o&&o.x,r=o&&o.y;if(n||r){const o=Pa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Va(this,e),s=Object.assign({},o,this._size),i=Ua(t,e,s),l=Wa(e,s,i,t);n._to===l.x&&r._to===l.y||(this.xAlign=i.xAlign,this.yAlign=i.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const a=Ot(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=o,this.drawBackground(r,e,n,t),wo(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),ko(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const o=this._active,n=e.map((({datasetIndex:e,index:t})=>{const o=this.chart.getDatasetMeta(e);if(!o)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:o.data[t],index:t}})),r=!Y(o,n),a=this._positionChanged(n,t);(r||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,o=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,o),s=this._positionChanged(a,e),i=t||!Y(a,r)||s;return i&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),i}_getActiveElements(e,t,o,n){const r=this.options;if("mouseout"===e.type)return[];if(!n)return t;const a=this.chart.getElementsAtEventForMode(e,r.mode,r,o);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:o,caretY:n,options:r}=this,a=Pa[r.position].call(this,e,t);return!1!==a&&(o!==a.x||n!==a.y)}}var Xa={id:"tooltip",_element:Ka,positioners:Pa,afterInit(e,t,o){o&&(e.tooltip=new Ka({chart:e,options:o}))},beforeUpdate(e,t,o){e.tooltip&&e.tooltip.initialize(o)},reset(e,t,o){e.tooltip&&e.tooltip.initialize(o)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const o={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...o,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",o)}},afterEvent(e,t){if(e.tooltip){const o=t.replay;e.tooltip.handleEvent(t.event,o,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ya},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Qa=Object.freeze({__proto__:null,Colors:la,Decimation:ua,Filler:Aa,Legend:za,SubTitle:La,Title:Na,Tooltip:Xa});const Ja=(e,t,o,n)=>("string"==typeof t?(o=e.push(t)-1,n.unshift({index:o,label:t})):isNaN(t)&&(o=null),o);function es(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function ts(e,t){const o=[],{bounds:n,step:r,min:a,max:s,precision:i,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=r||1,p=c-1,{min:m,max:g}=t,f=!H(a),y=!H(s),b=!H(l),v=(g-m)/(d+1);let _,w,k,x,S=be((g-m)/p/h)*h;if(S<1e-14&&!f&&!y)return[{value:m},{value:g}];x=Math.ceil(g/S)-Math.floor(m/S),x>p&&(S=be(x*S/p/h)*h),H(i)||(_=Math.pow(10,i),S=Math.ceil(S*_)/_),"ticks"===n?(w=Math.floor(m/S)*S,k=Math.ceil(g/S)*S):(w=m,k=g),f&&y&&r&&function(e,t){const o=Math.round(e);return o-t<=e&&o+t>=e}((s-a)/r,S/1e3)?(x=Math.round(Math.min((s-a)/S,c)),S=(s-a)/x,w=a,k=s):b?(w=f?a:w,k=y?s:k,x=l-1,S=(k-w)/x):(x=(k-w)/S,x=ye(x,Math.round(x),S/1e3)?Math.round(x):Math.ceil(x));const C=Math.max(xe(S),xe(w));_=Math.pow(10,H(i)?C:i),w=Math.round(w*_)/_,k=Math.round(k*_)/_;let E=0;for(f&&(u&&w!==a?(o.push({value:a}),w<a&&E++,ye(Math.round((w+E*S)*_)/_,a,os(a,v,e))&&E++):w<a&&E++);E<x;++E){const e=Math.round((w+E*S)*_)/_;if(y&&e>s)break;o.push({value:e})}return y&&u&&k!==s?o.length&&ye(o[o.length-1].value,s,os(s,v,e))?o[o.length-1].value=s:o.push({value:s}):y&&k!==s||o.push({value:k}),o}function os(e,t,{horizontal:o,minRotation:n}){const r=we(n),a=(o?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}class ns extends nr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return H(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:o}=this.getUserBounds();let{min:n,max:r}=this;const a=e=>n=t?n:e,s=e=>r=o?r:e;if(e){const e=fe(n),t=fe(r);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(n===r){let t=0===r?1:Math.abs(.05*r);s(r+t),e||a(n-t)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:o,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),o=o||11),o&&(t=Math.min(o,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const n=ts({maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&_e(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const n=(o-t)/Math.max(e.length-1,1)/2;t-=n,o+=n}this._startValue=t,this._endValue=o,this._valueRange=o-t}getLabelForValue(e){return Je(e,this.chart.options.locale,this.options.ticks.format)}}class rs extends ns{static id="linear";static defaults={ticks:{callback:tt.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=j(e)?e:0,this.max=j(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,o=we(this.options.ticks.minRotation),n=(e?Math.sin(o):Math.cos(o))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const as=e=>Math.floor(ge(e)),ss=(e,t)=>Math.pow(10,as(e)+t);function is(e){return 1===e/Math.pow(10,as(e))}function ls(e,t,o){const n=Math.pow(10,o),r=Math.floor(e/n);return Math.ceil(t/n)-r}function cs(e,{min:t,max:o}){t=U(e.min,t);const n=[],r=as(t);let a=function(e,t){let o=as(t-e);for(;ls(e,t,o)>10;)o++;for(;ls(e,t,o)<10;)o--;return Math.min(o,as(e))}(t,o),s=a<0?Math.pow(10,Math.abs(a)):1;const i=Math.pow(10,a),l=r>a?Math.pow(10,r):0,c=Math.round((t-l)*s)/s,d=Math.floor((t-l)/i/10)*i*10;let u=Math.floor((c-d)/Math.pow(10,a)),h=U(e.min,Math.round((l+d+u*Math.pow(10,a))*s)/s);for(;h<o;)n.push({value:h,major:is(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(a++,u=2,s=a>=0?1:s),h=Math.round((l+d+u*Math.pow(10,a))*s)/s;const p=U(e.max,h);return n.push({value:p,major:is(p),significand:u}),n}class ds extends nr{static id="logarithmic";static defaults={ticks:{callback:tt.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const o=ns.prototype.parse.apply(this,[e,t]);if(0!==o)return j(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=j(e)?Math.max(0,e):null,this.max=j(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!j(this._userMin)&&(this.min=e===ss(this.min,0)?ss(this.min,-1):ss(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let o=this.min,n=this.max;const r=t=>o=e?o:t,a=e=>n=t?n:e;o===n&&(o<=0?(r(1),a(10)):(r(ss(o,-1)),a(ss(n,1)))),o<=0&&r(ss(n,-1)),n<=0&&a(ss(o,1)),this.min=o,this.max=n}buildTicks(){const e=this.options,t=cs({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&_e(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Je(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ge(e),this._valueRange=ge(this.max)-ge(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ge(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function us(e){const t=e.ticks;if(t.display&&e.display){const e=Ot(t.backdropPadding);return W(t.font&&t.font.size,it.font.size)+e.height}return 0}function hs(e,t,o,n,r){return e===n||e===r?{start:t-o/2,end:t+o/2}:e<n||e>r?{start:t-o,end:t}:{start:t,end:t+o}}function ps(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},o=Object.assign({},t),n=[],r=[],a=e._pointLabels.length,s=e.options.pointLabels,i=s.centerPointLabels?ie/a:0;for(let u=0;u<a;u++){const a=s.setContext(e.getPointLabelContext(u));r[u]=a.padding;const h=e.getPointPosition(u,e.drawingArea+r[u],i),p=Mt(a.font),m=(l=e.ctx,c=p,d=F(d=e._pointLabels[u])?d:[d],{w:ct(l,c.string,d),h:d.length*c.lineHeight});n[u]=m;const g=De(e.getIndexAngle(u)+i),f=Math.round(ke(g));ms(o,t,g,hs(f,h.x,m.w,0,180),hs(f,h.y,m.h,90,270))}var l,c,d;e.setCenterPoint(t.l-o.l,o.r-t.r,t.t-o.t,o.b-t.b),e._pointLabelItems=function(e,t,o){const n=[],r=e._pointLabels.length,a=e.options,{centerPointLabels:s,display:i}=a.pointLabels,l={extra:us(a)/2,additionalAngle:s?ie/r:0};let c;for(let a=0;a<r;a++){l.padding=o[a],l.size=t[a];const r=gs(e,a,l);n.push(r),"auto"===i&&(r.visible=fs(r,c),r.visible&&(c=r))}return n}(e,n,r)}function ms(e,t,o,n,r){const a=Math.abs(Math.sin(o)),s=Math.abs(Math.cos(o));let i=0,l=0;n.start<t.l?(i=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-i)):n.end>t.r&&(i=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+i)),r.start<t.t?(l=(t.t-r.start)/s,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function gs(e,t,o){const n=e.drawingArea,{extra:r,additionalAngle:a,padding:s,size:i}=o,l=e.getPointPosition(t,n+r+s,a),c=Math.round(ke(De(l.angle+he))),d=function(e,t,o){90===o||270===o?e-=t/2:(o>270||o<90)&&(e-=t);return e}(l.y,i.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,o){"right"===o?e-=t:"center"===o&&(e-=t/2);return e}(l.x,i.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+i.w,bottom:d+i.h}}function fs(e,t){if(!t)return!0;const{left:o,top:n,right:r,bottom:a}=e;return!(mt({x:o,y:n},t)||mt({x:o,y:a},t)||mt({x:r,y:n},t)||mt({x:r,y:a},t))}function ys(e,t,o){const{left:n,top:r,right:a,bottom:s}=o,{backdropColor:i}=t;if(!H(i)){const o=Tt(t.borderRadius),l=Ot(t.backdropPadding);e.fillStyle=i;const c=n-l.left,d=r-l.top,u=a-n+l.width,h=s-r+l.height;Object.values(o).some((e=>0!==e))?(e.beginPath(),kt(e,{x:c,y:d,w:u,h,radius:o}),e.fill()):e.fillRect(c,d,u,h)}}function bs(e,t,o,n){const{ctx:r}=e;if(o)r.arc(e.xCenter,e.yCenter,t,0,le);else{let o=e.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let a=1;a<n;a++)o=e.getPointPosition(a,t),r.lineTo(o.x,o.y)}}class vs extends ns{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tt.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ot(us(this.options)/2),t=this.width=this.maxWidth-e.width,o=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+o/2+e.top),this.drawingArea=Math.floor(Math.min(t,o)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=j(e)&&!isNaN(e)?e:0,this.max=j(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/us(this.options))}generateTickLabels(e){ns.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const o=$(this.options.pointLabels.callback,[e,t],this);return o||0===o?o:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?ps(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,o,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((o-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,o,n))}getIndexAngle(e){return De(e*(le/(this._pointLabels.length||1))+we(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(H(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(H(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const o=t[e];return function(e,t,o){return Rt(e,{label:o,index:t,type:"pointLabel"})}(this.getContext(),e,o)}}getPointPosition(e,t,o=0){const n=this.getIndexAngle(e)-he+o;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:o,right:n,bottom:r}=this._pointLabelItems[e];return{left:t,top:o,right:n,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const o=this.ctx;o.save(),o.beginPath(),bs(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),o.closePath(),o.fillStyle=e,o.fill(),o.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:o,grid:n,border:r}=t,a=this._pointLabels.length;let s,i,l;if(t.pointLabels.display&&function(e,t){const{ctx:o,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const a=n.setContext(e.getPointLabelContext(r));ys(o,a,t);const s=Mt(a.font),{x:i,y:l,textAlign:c}=t;wt(o,e._pointLabels[r],i,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach(((e,t)=>{if(0!==t){i=this.getDistanceFromCenterForValue(e.value);const o=this.getContext(t),s=n.setContext(o),l=r.setContext(o);!function(e,t,o,n,r){const a=e.ctx,s=t.circular,{color:i,lineWidth:l}=t;!s&&!n||!i||!l||o<0||(a.save(),a.strokeStyle=i,a.lineWidth=l,a.setLineDash(r.dash),a.lineDashOffset=r.dashOffset,a.beginPath(),bs(e,o,s,n),a.closePath(),a.stroke(),a.restore())}(this,s,i,a,l)}})),o.display){for(e.save(),s=a-1;s>=0;s--){const n=o.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:a}=n;a&&r&&(e.lineWidth=a,e.strokeStyle=r,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,i=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,i),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,o=t.ticks;if(!o.display)return;const n=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((n,s)=>{if(0===s&&!t.reverse)return;const i=o.setContext(this.getContext(s)),l=Mt(i.font);if(r=this.getDistanceFromCenterForValue(this.ticks[s].value),i.showLabelBackdrop){e.font=l.string,a=e.measureText(n.label).width,e.fillStyle=i.backdropColor;const t=Ot(i.backdropPadding);e.fillRect(-a/2-t.left,-r-l.size/2-t.top,a+t.width,l.size+t.height)}wt(e,n.label,0,-r,l,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth})})),e.restore()}drawTitle(){}}const _s={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ws=Object.keys(_s);function ks(e,t){return e-t}function xs(e,t){if(H(t))return null;const o=e._adapter,{parser:n,round:r,isoWeekday:a}=e._parseOpts;let s=t;return"function"==typeof n&&(s=n(s)),j(s)||(s="string"==typeof n?o.parse(s,n):o.parse(s)),null===s?null:(r&&(s="week"!==r||!ve(a)&&!0!==a?o.startOf(s,r):o.startOf(s,"isoWeek",a)),+s)}function Ss(e,t,o,n){const r=ws.length;for(let a=ws.indexOf(e);a<r-1;++a){const e=_s[ws[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((o-t)/(r*e.size))<=n)return ws[a]}return ws[r-1]}function Cs(e,t,o){if(o){if(o.length){const{lo:n,hi:r}=Me(o,t);e[o[n]>=t?o[n]:o[r]]=!0}}else e[t]=!0}function Es(e,t,o){const n=[],r={},a=t.length;let s,i;for(s=0;s<a;++s)i=t[s],r[i]=s,n.push({value:i,major:!1});return 0!==a&&o?function(e,t,o,n){const r=e._adapter,a=+r.startOf(t[0].value,n),s=t[t.length-1].value;let i,l;for(i=a;i<=s;i=+r.add(i,1,n))l=o[i],l>=0&&(t[l].major=!0);return t}(e,n,r,o):n}class Ds extends nr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const o=e.time||(e.time={}),n=this._adapter=new ln(e.adapters.date);n.init(t),J(o.displayFormats,n.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:xs(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,o=e.time.unit||"day";let{min:n,max:r,minDefined:a,maxDefined:s}=this.getUserBounds();function i(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),s||isNaN(e.max)||(r=Math.max(r,e.max))}a&&s||(i(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||i(this.getMinMax(!1))),n=j(n)&&!isNaN(n)?n:+t.startOf(Date.now(),o),r=j(r)&&!isNaN(r)?r:+t.endOf(Date.now(),o)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],o=e[e.length-1]),{min:t,max:o}}buildTicks(){const e=this.options,t=e.time,o=e.ticks,n="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,a=function(e,t,o){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>o;)r--;return n>0||r<e.length?e.slice(n,r):e}(n,r,this.max);return this._unit=t.unit||(o.autoSkip?Ss(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,o,n,r){for(let a=ws.length-1;a>=ws.indexOf(o);a--){const o=ws[a];if(_s[o].common&&e._adapter.diff(r,n,o)>=t-1)return o}return ws[o?ws.indexOf(o):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function(e){for(let t=ws.indexOf(e)+1,o=ws.length;t<o;++t)if(_s[ws[t]].common)return ws[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),Es(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,o,n=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),n=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,o=this.getDecimalForValue(e[e.length-1]),r=1===e.length?o:(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Te(n,0,a),r=Te(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,t=this.min,o=this.max,n=this.options,r=n.time,a=r.unit||Ss(r.minUnit,t,o,this._getLabelCapacity(t)),s=W(n.ticks.stepSize,1),i="week"===a&&r.isoWeekday,l=ve(i)||!0===i,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",i)),h=+e.startOf(h,l?"day":a),e.diff(o,t,a)>1e5*s)throw new Error(t+" and "+o+" are too far apart with stepSize of "+s+" "+a);const p="data"===n.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<o;d=+e.add(d,s,a),u++)Cs(c,d,p);return d!==o&&"ticks"!==n.bounds&&1!==u||Cs(c,d,p),Object.keys(c).sort(ks).map((e=>+e))}getLabelForValue(e){const t=this._adapter,o=this.options.time;return o.tooltipFormat?t.format(e,o.tooltipFormat):t.format(e,o.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,n=this._unit,r=t||o[n];return this._adapter.format(e,r)}_tickFormatFunction(e,t,o,n){const r=this.options,a=r.ticks.callback;if(a)return $(a,[e,t,o],this);const s=r.time.displayFormats,i=this._unit,l=this._majorUnit,c=i&&s[i],d=l&&s[l],u=o[t],h=l&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,o,n;for(t=0,o=e.length;t<o;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+o)*t.factor)}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,o=this.ctx.measureText(e).width,n=we(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(n),a=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:o*r+s*a,h:o*a+s*r}}_getLabelCapacity(e){const t=this.options.time,o=t.displayFormats,n=o[t.unit]||o.millisecond,r=this._tickFormatFunction(e,0,Es(this,[e],this._majorUnit),n),a=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,o=this._cache.data||[];if(o.length)return o;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)o=o.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){const e=this._cache.labels||[];let t,o;if(e.length)return e;const n=this.getLabels();for(t=0,o=n.length;t<o;++t)e.push(xs(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Le(e.sort(ks))}}function As(e,t,o){let n,r,a,s,i=0,l=e.length-1;o?(t>=e[i].pos&&t<=e[l].pos&&({lo:i,hi:l}=ze(e,"pos",t)),({pos:n,time:a}=e[i]),({pos:r,time:s}=e[l])):(t>=e[i].time&&t<=e[l].time&&({lo:i,hi:l}=ze(e,"time",t)),({time:n,pos:a}=e[i]),({time:r,pos:s}=e[l]));const c=r-n;return c?a+(s-a)*(t-n)/c:a}var Ts=Object.freeze({__proto__:null,CategoryScale:class extends nr{static id="category";static defaults={ticks:{callback:es}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:o,label:n}of t)e[o]===n&&e.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(H(e))return null;const o=this.getLabels();return t=isFinite(t)&&o[t]===e?t:function(e,t,o,n){const r=e.indexOf(t);return-1===r?Ja(e,t,o,n):r!==e.lastIndexOf(t)?o:r}(o,e,W(t,e),this._addedLabels),((e,t)=>null===e?null:Te(Math.round(e),0,t))(t,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:o,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(o=0),t||(n=this.getLabels().length-1)),this.min=o,this.max=n}buildTicks(){const e=this.min,t=this.max,o=this.options.offset,n=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let o=e;o<=t;o++)n.push({value:o});return n}getLabelForValue(e){return es.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:rs,LogarithmicScale:ds,RadialLinearScale:vs,TimeScale:Ds,TimeSeriesScale:class extends Ds{static id="timeseries";static defaults=Ds.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=As(t,this.min),this._tableRange=As(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:o}=this,n=[],r=[];let a,s,i,l,c;for(a=0,s=e.length;a<s;++a)l=e[a],l>=t&&l<=o&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:o,pos:1}];for(a=0,s=n.length;a<s;++a)c=n[a+1],i=n[a-1],l=n[a],Math.round((c+i)/2)!==l&&r.push({time:l,pos:a/(s-1)});return r}_generate(){const e=this.min,t=this.max;let o=super.getDataTimestamps();return o.includes(e)&&o.length||o.splice(0,0,e),o.includes(t)&&1!==o.length||o.push(t),o.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),o=this.getLabelTimestamps();return e=t.length&&o.length?this.normalize(t.concat(o)):t.length?t:o,e=this._cache.all=e,e}getDecimalForValue(e){return(As(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return As(this._table,o*this._tableRange+this._minPos,!0)}}});const Os=[rn,ta,Qa,Ts];Rr.register(...Os);const Ms=Rr},5724:(e,t,o)=>{"use strict";function n(e){return e[e.length-1]}function r(e,...t){return t.forEach((t=>{e.includes(t)||e.push(t)})),e}function a(e,t){return e?e.split(t):[]}function s(e,t,o){return(void 0===t||e>=t)&&(void 0===o||e<=o)}function i(e,t,o){return e<t?t:e>o?o:e}function l(e,t,o={},n=0,r=""){r+=`<${Object.keys(o).reduce(((e,t)=>{let r=o[t];return"function"==typeof r&&(r=r(n)),`${e} ${t}="${r}"`}),e)}></${e}>`;const a=n+1;return a<t?l(e,t,o,a,r):r}function c(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function d(e){return new Date(e).setHours(0,0,0,0)}function u(){return(new Date).setHours(0,0,0,0)}function h(...e){switch(e.length){case 0:return u();case 1:return d(e[0])}const t=new Date(0);return t.setFullYear(...e),t.setHours(0,0,0,0)}function p(e,t){const o=new Date(e);return o.setDate(o.getDate()+t)}function m(e,t){const o=new Date(e),n=o.getMonth()+t;let r=n%12;r<0&&(r+=12);const a=o.setMonth(n);return o.getMonth()!==r?o.setDate(0):a}function g(e,t){const o=new Date(e),n=o.getMonth(),r=o.setFullYear(o.getFullYear()+t);return 1===n&&2===o.getMonth()?o.setDate(0):r}function f(e,t){return(e-t+7)%7}function y(e,t,o=0){const n=new Date(e).getDay();return p(e,f(t,o)-f(n,o))}function b(e,t){return Math.round((e-t)/6048e5)+1}function v(e){const t=y(e,4,1);return b(t,y(new Date(t).setMonth(0,4),4,1))}function _(e,t){const o=y(new Date(e).setMonth(0,1),t,t),n=y(e,t,t),r=b(n,o);if(r<53)return r;return n===y(new Date(e).setDate(32),t,t)?1:r}function w(e){return _(e,0)}function k(e){return _(e,6)}function x(e,t){const o=new Date(e).getFullYear();return Math.floor(o/t)*t}function S(e,t,o){if(1!==t&&2!==t)return e;const n=new Date(e);return 1===t?o?n.setMonth(n.getMonth()+1,0):n.setDate(1):o?n.setFullYear(n.getFullYear()+1,0,0):n.setMonth(0,1),n.setHours(0,0,0,0)}o.d(t,{a:()=>Ye});const C=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,E=/[\s!-/:-@[-`{-~年月日]+/;let D={};const A={y:(e,t)=>new Date(e).setFullYear(parseInt(t,10)),m(e,t,o){const n=new Date(e);let r=parseInt(t,10)-1;if(isNaN(r)){if(!t)return NaN;const e=t.toLowerCase(),n=t=>t.toLowerCase().startsWith(e);if(r=o.monthsShort.findIndex(n),r<0&&(r=o.months.findIndex(n)),r<0)return NaN}return n.setMonth(r),n.getMonth()!==O(r)?n.setDate(0):n.getTime()},d:(e,t)=>new Date(e).setDate(parseInt(t,10))},T={d:e=>e.getDate(),dd:e=>M(e.getDate(),2),D:(e,t)=>t.daysShort[e.getDay()],DD:(e,t)=>t.days[e.getDay()],m:e=>e.getMonth()+1,mm:e=>M(e.getMonth()+1,2),M:(e,t)=>t.monthsShort[e.getMonth()],MM:(e,t)=>t.months[e.getMonth()],y:e=>e.getFullYear(),yy:e=>M(e.getFullYear(),2).slice(-2),yyyy:e=>M(e.getFullYear(),4)};function O(e){return e>-1?e%12:O(e+12)}function M(e,t){return e.toString().padStart(t,"0")}function z(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in D)return D[e];const t=e.split(C),o=e.match(new RegExp(C,"g"));if(0===t.length||!o)throw new Error("Invalid date format.");const r=o.map((e=>T[e])),a=Object.keys(A).reduce(((e,t)=>(o.find((e=>"D"!==e[0]&&e[0].toLowerCase()===t))&&e.push(t),e)),[]);return D[e]={parser(e,t){const n=e.split(E).reduce(((e,t,n)=>{if(t.length>0&&o[n]){const r=o[n][0];"M"===r?e.m=t:"D"!==r&&(e[r]=t)}return e}),{});return a.reduce(((e,o)=>{const r=A[o](e,n[o],t);return isNaN(r)?e:r}),u())},formatter:(e,o)=>r.reduce(((n,r,a)=>n+`${t[a]}${r(e,o)}`),"")+n(t)}}function R(e,t,o){if(e instanceof Date||"number"==typeof e){const t=d(e);return isNaN(t)?void 0:t}if(e){if("today"===e)return u();if(t&&t.toValue){const n=t.toValue(e,t,o);return isNaN(n)?void 0:d(n)}return z(t).parser(e,o)}}function N(e,t,o){if(isNaN(e)||!e&&0!==e)return"";const n="number"==typeof e?new Date(e):e;return t.toDisplay?t.toDisplay(n,t,o):z(t).formatter(n,o)}const I=document.createRange();function L(e){return I.createContextualFragment(e)}function P(e){return e.parentElement||(e.parentNode instanceof ShadowRoot?e.parentNode.host:void 0)}function B(e){return e.getRootNode().activeElement===e}function H(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function F(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function V(e){e.firstChild&&(e.removeChild(e.firstChild),V(e))}const j=new WeakMap,{addEventListener:U,removeEventListener:W}=EventTarget.prototype;function Z(e,t){let o=j.get(e);o||(o=[],j.set(e,o)),t.forEach((e=>{U.call(...e),o.push(e)}))}if(!Event.prototype.composedPath){const e=(t,o=[])=>{let n;return o.push(t),t.parentNode?n=t.parentNode:t.host?n=t.host:t.defaultView&&(n=t.defaultView),n?e(n,o):o};Event.prototype.composedPath=function(){return e(this.target)}}function $(e,t,o){const[n,...r]=e;return t(n)?n:n!==o&&"HTML"!==n.tagName&&0!==r.length?$(r,t,o):void 0}function q(e,t){const o="function"==typeof t?t:e=>e instanceof Element&&e.matches(t);return $(e.composedPath(),o,e.currentTarget)}const Y={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},G={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0},{language:K,format:X,weekStart:Q}=G;function J(e,t){return e.length<6&&t>=0&&t<7?r(e,t):e}function ee(e,t){switch(4===e?6===t?3:!t+1:e){case 1:return v;case 2:return w;case 3:return k}}function te(e,t,o){return t.weekStart=e,t.weekEnd=(e+6)%7,4===o&&(t.getWeekNumber=ee(4,e)),e}function oe(e,t,o,n){const r=R(e,t,o);return void 0!==r?r:n}function ne(e,t,o=3){const n=parseInt(e,10);return n>=0&&n<=o?n:t}function re(e,t,o,n=undefined){t in e&&(o in e||(e[o]=n?n(e[t]):e[t]),delete e[t])}function ae(e,t){const o=Object.assign({},e),n={},a=t.constructor.locales,s=!!t.rangeSideIndex;let{datesDisabled:i,format:l,language:c,locale:d,maxDate:u,maxView:p,minDate:m,pickLevel:g,startView:f,weekNumbers:y,weekStart:b}=t.config||{};if(re(o,"calendarWeeks","weekNumbers",(e=>e?1:0)),re(o,"clearBtn","clearButton"),re(o,"todayBtn","todayButton"),re(o,"todayBtnMode","todayButtonMode"),o.language){let e;if(o.language!==c&&(a[o.language]?e=o.language:(e=o.language.split("-")[0],a[e]||(e=!1))),delete o.language,e){c=n.language=e;const t=d||a[K];d=Object.assign({format:X,weekStart:Q},a[K]),c!==K&&Object.assign(d,a[c]),n.locale=d,l===t.format&&(l=n.format=d.format),b===t.weekStart&&(b=te(d.weekStart,n,y))}}if(o.format){const e="function"==typeof o.format.toDisplay,t="function"==typeof o.format.toValue,r=C.test(o.format);(e&&t||r)&&(l=n.format=o.format),delete o.format}let v=g;"pickLevel"in o&&(v=ne(o.pickLevel,g,2),delete o.pickLevel),v!==g&&(v>g&&("minDate"in o||(o.minDate=m),"maxDate"in o||(o.maxDate=u)),i&&!o.datesDisabled&&(o.datesDisabled=[]),g=n.pickLevel=v);let _=m,w=u;if("minDate"in o){const e=h(0,0,1);_=null===o.minDate?e:oe(o.minDate,l,d,_),_!==e&&(_=S(_,g,!1)),delete o.minDate}if("maxDate"in o&&(w=null===o.maxDate?void 0:oe(o.maxDate,l,d,w),void 0!==w&&(w=S(w,g,!0)),delete o.maxDate),w<_?(m=n.minDate=w,u=n.maxDate=_):(m!==_&&(m=n.minDate=_),u!==w&&(u=n.maxDate=w)),o.datesDisabled){const e=o.datesDisabled;if("function"==typeof e)n.datesDisabled=null,n.checkDisabled=(t,o)=>e(new Date(t),o,s);else{const t=n.datesDisabled=e.reduce(((e,t)=>{const o=R(t,l,d);return void 0!==o?r(e,S(o,g,s)):e}),[]);n.checkDisabled=e=>t.includes(e)}delete o.datesDisabled}if("defaultViewDate"in o){const e=R(o.defaultViewDate,l,d);void 0!==e&&(n.defaultViewDate=e),delete o.defaultViewDate}if("weekStart"in o){const e=Number(o.weekStart)%7;isNaN(e)||(b=te(e,n,y)),delete o.weekStart}if(o.daysOfWeekDisabled&&(n.daysOfWeekDisabled=o.daysOfWeekDisabled.reduce(J,[]),delete o.daysOfWeekDisabled),o.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=o.daysOfWeekHighlighted.reduce(J,[]),delete o.daysOfWeekHighlighted),"weekNumbers"in o){let e=o.weekNumbers;if(e){const t="function"==typeof e?(t,o)=>e(new Date(t),o):ee(e=parseInt(e,10),b);t&&(y=n.weekNumbers=e,n.getWeekNumber=t)}else y=n.weekNumbers=0,n.getWeekNumber=null;delete o.weekNumbers}if("maxNumberOfDates"in o){const e=parseInt(o.maxNumberOfDates,10);e>=0&&(n.maxNumberOfDates=e,n.multidate=1!==e),delete o.maxNumberOfDates}o.dateDelimiter&&(n.dateDelimiter=String(o.dateDelimiter),delete o.dateDelimiter);let k=p;"maxView"in o&&(k=ne(o.maxView,p),delete o.maxView),k=g>k?g:k,k!==p&&(p=n.maxView=k);let x=f;if("startView"in o&&(x=ne(o.startView,x),delete o.startView),x<g?x=g:x>p&&(x=p),x!==f&&(n.startView=x),o.prevArrow){const e=L(o.prevArrow);e.childNodes.length>0&&(n.prevArrow=e.childNodes),delete o.prevArrow}if(o.nextArrow){const e=L(o.nextArrow);e.childNodes.length>0&&(n.nextArrow=e.childNodes),delete o.nextArrow}if("disableTouchKeyboard"in o&&(n.disableTouchKeyboard="ontouchstart"in document&&!!o.disableTouchKeyboard,delete o.disableTouchKeyboard),o.orientation){const e=o.orientation.toLowerCase().split(/\s+/g);n.orientation={x:e.find((e=>"left"===e||"right"===e))||"auto",y:e.find((e=>"top"===e||"bottom"===e))||"auto"},delete o.orientation}if("todayButtonMode"in o){switch(o.todayButtonMode){case 0:case 1:n.todayButtonMode=o.todayButtonMode}delete o.todayButtonMode}return Object.entries(o).forEach((([e,t])=>{void 0!==t&&e in G&&(n[e]=t)})),n}const se={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};const ie=c('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-button prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-button next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-button today-btn"></button>\n        <button type="button" class="%buttonClass% clear-button clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),le=c(`<div class="days">\n  <div class="days-of-week">${l("span",7,{class:"dow"})}</div>\n  <div class="datepicker-grid">${l("span",42)}</div>\n</div>`),ce=c(`<div class="week-numbers calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">${l("span",6,{class:"week"})}</div>\n</div>`);class de{constructor(e,t){Object.assign(this,t,{picker:e,element:L('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,t,o){this.disabled=[];const n=this.picker;n.setViewSwitchLabel(e),n.setPrevButtonDisabled(t),n.setNextButtonDisabled(o)}setDisabled(e,t){t.add("disabled"),r(this.disabled,e)}performBeforeHook(e,t){let o=this.beforeShow(new Date(t));switch(typeof o){case"boolean":o={enabled:o};break;case"string":o={classes:o}}if(o){const n=e.classList;if(!1===o.enabled&&this.setDisabled(t,n),o.classes){const e=o.classes.split(/\s+/);n.add(...e),e.includes("disabled")&&this.setDisabled(t,n)}o.content&&function(e,t){V(e),t instanceof DocumentFragment?e.appendChild(t):"string"==typeof t?e.appendChild(L(t)):"function"==typeof t.forEach&&t.forEach((t=>{e.appendChild(t)}))}(e,o.content)}}renderCell(e,t,o,n,{selected:r,range:a},s,i=[]){e.textContent=t,this.isMinView&&(e.dataset.date=n);const l=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,o<this.first?l.add("prev"):o>this.last&&l.add("next"),l.add(...i),(s||this.checkDisabled(n,this.id))&&this.setDisabled(n,l),a){const[e,t]=a;o>e&&o<t&&l.add("range"),o===e&&l.add("range-start"),o===t&&l.add("range-end")}r.includes(o)&&l.add("selected"),o===this.focused&&l.add("focused"),this.beforeShow&&this.performBeforeHook(e,n)}refreshCell(e,t,o,[n,r]){const a=e.classList;a.remove("range","range-start","range-end","selected","focused"),t>n&&t<r&&a.add("range"),t===n&&a.add("range-start"),t===r&&a.add("range-end"),o.includes(t)&&a.add("selected"),t===this.focused&&a.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach((e=>{e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}class ue extends de{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const e=L(le).firstChild;this.dow=e.firstChild,this.grid=e.lastChild,this.element.appendChild(e)}super.init(e)}setOptions(e){let t;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){const o=this.locale=e.locale;this.dayNames=o.daysMin,this.switchLabelFormat=o.titleFormat,t=!0}if("beforeShowDay"in e&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){const e=L(ce).firstChild;this.weekNumbers={element:e,dow:e.firstChild,weeks:e.lastChild},this.element.insertBefore(e,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(F(this.dow),this.weekNumbers&&F(this.weekNumbers.dow)):(H(this.dow),this.weekNumbers&&H(this.weekNumbers.dow))),t&&Array.from(this.dow.children).forEach(((e,t)=>{const o=(this.weekStart+t)%7;e.textContent=this.dayNames[o],e.className=this.daysOfWeekDisabled.includes(o)?"dow disabled":"dow"}))}updateFocus(){const e=new Date(this.picker.viewDate),t=e.getFullYear(),o=e.getMonth(),n=h(t,o,1),r=y(n,this.weekStart,this.weekStart);this.first=n,this.last=h(t,o+1,0),this.start=r,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){if(this.today=this.todayHighlight?u():void 0,this.prepareForRender(N(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){const e=this.weekStart,t=y(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach(((o,n)=>{const r=p(t,7*n);o.textContent=this.getWeekNumber(r,e),n>3&&o.classList[r>this.last?"add":"remove"]("next")}))}Array.from(this.grid.children).forEach(((e,t)=>{const o=p(this.start,t),n=new Date(o),r=n.getDay(),a=[];this.today===o&&a.push("today"),this.daysOfWeekHighlighted.includes(r)&&a.push("highlighted"),this.renderCell(e,n.getDate(),o,o,this,o<this.minDate||o>this.maxDate||this.daysOfWeekDisabled.includes(r),a)}))}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach((t=>{this.refreshCell(t,Number(t.dataset.date),this.selected,e)}))}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function he(e,t){if(!e||!e[0]||!e[1])return;const[[o,n],[r,a]]=e;return o>t||r<t?void 0:[o===t?n:-1,r===t?a:12]}class pe extends de{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(L(l("span",12,{"data-month":e=>e}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{const t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if("maxDate"in e)if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=h(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||null===e.datesDisabled?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce(((e,t)=>{const o=new Date(t),n=o.getFullYear(),a=o.getMonth();return void 0===e[n]?e[n]=[a]:r(e[n],a),e}),{}),t&&t.dates&&(this.range=t.dates.map((e=>{const t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]})))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,o=this.year===this.minYear,n=this.year===this.maxYear,r=he(this.range,this.year);Array.from(this.grid.children).forEach(((a,s)=>{const i=S(new Date(this.year,s,1),1,this.isRangeEnd);this.renderCell(a,this.monthNames[s],s,i,{selected:e,range:r},t||o&&s<this.minMonth||n&&s>this.maxMonth)}))}refresh(){const e=this.selected[this.year]||[],t=he(this.range,this.year)||[];Array.from(this.grid.children).forEach(((o,n)=>{this.refreshCell(o,n,e,t)}))}refreshFocus(){this.changeFocusedCell(this.focused)}}class me extends de{constructor(e,t){super(e,t)}init(e,t=!0){var o;t&&(this.navStep=10*this.step,this.beforeShowOption=`beforeShow${o=this.cellClass,[...o].reduce(((e,t,o)=>e+(o?t:t.toUpperCase())),"")}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(L(l("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=x(e.minDate,this.step),this.minDate=h(this.minYear,0,1))),"maxDate"in e&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=x(e.maxDate,this.step),this.maxDate=h(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||null===e.datesDisabled?e.checkDisabled:()=>!1),this.beforeShowOption in e){const t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),t=x(e,this.navStep),o=t+9*this.step;this.first=t,this.last=o,this.start=t-this.step,this.focused=x(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce(((e,t)=>r(e,x(t,this.step))),[]),t&&t.dates&&(this.range=t.dates.map((e=>{if(void 0!==e)return x(e,this.step)})))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach(((e,t)=>{const o=this.start+t*this.step,n=S(new Date(o,0,1),2,this.isRangeEnd);e.dataset.year=o,this.renderCell(e,o,o,n,this,o<this.minYear||o>this.maxYear)}))}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach((t=>{this.refreshCell(t,Number(t.textContent),this.selected,e)}))}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function ge(e,t){const o={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:o}))}function fe(e,t){const{config:o,picker:n}=e,{currentView:r,viewDate:a}=n;let s;switch(r.id){case 0:s=m(a,t);break;case 1:s=g(a,t);break;default:s=g(a,t*r.navStep)}s=i(s,o.minDate,o.maxDate),n.changeFocus(s).render()}function ye(e){const t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function be(e){e.setDate({clear:!0})}function ve(e){const t=u();1===e.config.todayButtonMode?e.setDate(t,{forceRefresh:!0,viewDate:t}):e.setFocusedDate(t,!0)}function _e(e){const t=()=>{e.config.updateOnBlur?e.update({revert:!0}):e.refresh("input"),e.hide()},o=e.element;B(o)?o.addEventListener("blur",t,{once:!0}):t()}function we(e,t){const o=e.picker,n=new Date(o.viewDate),r=o.currentView.id,a=1===r?m(n,t-n.getMonth()):g(n,t-n.getFullYear());o.changeFocus(a).changeView(r-1).render()}function ke(e){ye(e)}function xe(e){fe(e,-1)}function Se(e){fe(e,1)}function Ce(e,t){const o=q(t,".datepicker-cell");if(!o||o.classList.contains("disabled"))return;const{id:n,isMinView:r}=e.picker.currentView,a=o.dataset;r?e.setDate(Number(a.date)):we(e,Number(1===n?a.month:a.year))}function Ee(e){e.preventDefault()}const De=["left","top","right","bottom"].reduce(((e,t)=>(e[t]=`datepicker-orient-${t}`,e)),{}),Ae=e=>e?`${e}px`:e;function Te(e,t){if("title"in t&&(t.title?(e.controls.title.textContent=t.title,F(e.controls.title)):(e.controls.title.textContent="",H(e.controls.title))),t.prevArrow){const o=e.controls.prevButton;V(o),t.prevArrow.forEach((e=>{o.appendChild(e.cloneNode(!0))}))}if(t.nextArrow){const o=e.controls.nextButton;V(o),t.nextArrow.forEach((e=>{o.appendChild(e.cloneNode(!0))}))}if(t.locale&&(e.controls.todayButton.textContent=t.locale.today,e.controls.clearButton.textContent=t.locale.clear),"todayButton"in t&&(t.todayButton?F(e.controls.todayButton):H(e.controls.todayButton)),"minDate"in t||"maxDate"in t){const{minDate:t,maxDate:o}=e.datepicker.config;e.controls.todayButton.disabled=!s(u(),t,o)}"clearButton"in t&&(t.clearButton?F(e.controls.clearButton):H(e.controls.clearButton))}function Oe(e){const{dates:t,config:o,rangeSideIndex:r}=e;return i(t.length>0?n(t):S(o.defaultViewDate,o.pickLevel,r),o.minDate,o.maxDate)}function Me(e,t){"_oldViewDate"in e||t===e.viewDate||(e._oldViewDate=e.viewDate),e.viewDate=t;const{id:o,year:n,first:r,last:a}=e.currentView,s=new Date(t).getFullYear();switch(o){case 0:return t<r||t>a;case 1:return s!==n;default:return s<r||s>a}}function ze(e){return window.getComputedStyle(e).direction}function Re(e){const t=P(e);if(t!==document.body&&t)return"visible"!==window.getComputedStyle(t).overflow?t:Re(t)}class Ne{constructor(e){const{config:t,inputField:o}=this.datepicker=e,n=ie.replace(/%buttonClass%/g,t.buttonClass),r=this.element=L(n).firstChild,[a,s,i]=r.firstChild.children,l=a.firstElementChild,[c,d,u]=a.lastElementChild.children,[h,p]=i.firstChild.children,m={title:l,prevButton:c,viewSwitch:d,nextButton:u,todayButton:h,clearButton:p};this.main=s,this.controls=m;const g=o?"dropdown":"inline";r.classList.add(`datepicker-${g}`),Te(this,t),this.viewDate=Oe(e),Z(e,[[r,"mousedown",Ee],[s,"click",Ce.bind(null,e)],[m.viewSwitch,"click",ke.bind(null,e)],[m.prevButton,"click",xe.bind(null,e)],[m.nextButton,"click",Se.bind(null,e)],[m.todayButton,"click",ve.bind(null,e)],[m.clearButton,"click",be.bind(null,e)]]),this.views=[new ue(this),new pe(this),new me(this,{id:2,name:"years",cellClass:"year",step:1}),new me(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):o.after(this.element)}setOptions(e){Te(this,e),this.views.forEach((t=>{t.init(e,!1)})),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;const{datepicker:e,element:t}=this,o=e.inputField;if(o){const n=ze(o);n!==ze(P(t))?t.dir=n:t.dir&&t.removeAttribute("dir"),t.style.visibility="hidden",t.classList.add("active"),this.place(),t.style.visibility="",e.config.disableTouchKeyboard&&o.blur()}else t.classList.add("active");this.active=!0,ge(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,ge(this.datepicker,"hide"))}place(){const{classList:e,offsetParent:t,style:o}=this.element,{config:n,inputField:r}=this.datepicker,{width:a,height:s}=this.element.getBoundingClientRect(),{left:i,top:l,right:c,bottom:d,width:u,height:h}=r.getBoundingClientRect();let{x:p,y:m}=n.orientation,g=i,f=l;if(t!==document.body&&t){const e=t.getBoundingClientRect();g-=e.left-t.scrollLeft,f-=e.top-t.scrollTop}else g+=window.scrollX,f+=window.scrollY;const y=Re(r);let b=0,v=0,{clientWidth:_,clientHeight:w}=document.documentElement;if(y){const e=y.getBoundingClientRect();e.top>0&&(v=e.top),e.left>0&&(b=e.left),e.right<_&&(_=e.right),e.bottom<w&&(w=e.bottom)}let k=0;"auto"===p&&(i<b?(p="left",k=b-i):i+a>_?(p="right",_<c&&(k=_-c)):p="rtl"===ze(r)?c-a<b?"left":"right":"left"),"right"===p&&(g+=u-a),g+=k,"auto"===m&&(m=l-s>v&&d+s>w?"top":"bottom"),"top"===m?f-=s:f+=h,e.remove(...Object.values(De)),e.add(De[p],De[m]),o.left=Ae(g),o.top=Ae(f)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){const t=this.currentView;return e!==t.id&&(this._oldView||(this._oldView=t),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=Me(this,e)?"render":"refreshFocus",this.views.forEach((e=>{e.updateFocus()})),this}update(e=undefined){const t=void 0===e?Oe(this.datepicker):e;return this._renderMethod=Me(this,t)?"render":"refresh",this.views.forEach((e=>{e.updateFocus(),e.updateSelection()})),this}render(e=!0){const{currentView:t,datepicker:o,_oldView:n}=this,r=new Date(this._oldViewDate),a=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,t[a](),n&&(this.main.replaceChild(t.element,n.element),ge(o,"changeView")),!isNaN(r)){const e=new Date(this.viewDate);e.getFullYear()!==r.getFullYear()&&ge(o,"changeYear"),e.getMonth()!==r.getMonth()&&ge(o,"changeMonth")}}}function Ie(e,t,o,n,r,a){if(s(e,r,a)){if(n(e)){return Ie(t(e,o),t,o,n,r,a)}return e}}function Le(e,t,o){const n=e.picker,r=n.currentView,a=r.step||1;let s,i=n.viewDate;switch(r.id){case 0:i=p(i,o?7*t:t),s=p;break;case 1:i=m(i,o?4*t:t),s=m;break;default:i=g(i,t*(o?4:1)*a),s=g}i=Ie(i,s,t<0?-a:a,(e=>r.disabled.includes(e)),r.minDate,r.maxDate),void 0!==i&&n.changeFocus(i).render()}function Pe(e,t){const{config:o,picker:n,editMode:r}=e,a=n.active,{key:s,altKey:i,shiftKey:l}=t,c=t.ctrlKey||t.metaKey,d=()=>{t.preventDefault(),t.stopPropagation()};if("Tab"===s)return void _e(e);if("Enter"===s){if(a)if(r)e.exitEditMode({update:!0,autohide:o.autohide});else{const t=n.currentView;t.isMinView?e.setDate(n.viewDate):(n.changeView(t.id-1).render(),d())}else e.update();return}const u=o.shortcutKeys,h={key:s,ctrlOrMetaKey:c,altKey:i,shiftKey:l},p=Object.keys(u).find((e=>{const t=u[e];return!Object.keys(t).find((e=>t[e]!==h[e]))}));if(p){let t;if("toggle"===p?t=p:r?"exitEditMode"===p&&(t=p):a?"hide"===p?t=p:"prevButton"===p?t=[fe,[e,-1]]:"nextButton"===p?t=[fe,[e,1]]:"viewSwitch"===p?t=[ye,[e]]:o.clearButton&&"clearButton"===p?t=[be,[e]]:o.todayButton&&"todayButton"===p&&(t=[ve,[e]]):"show"===p&&(t=p),t)return Array.isArray(t)?t[0].apply(null,t[1]):e[t](),void d()}if(!a||r)return;const m=(o,n)=>{l||c||i?e.enterEditMode():(Le(e,o,n),t.preventDefault())};"ArrowLeft"===s?m(-1,!1):"ArrowRight"===s?m(1,!1):"ArrowUp"===s?m(-1,!0):"ArrowDown"===s?m(1,!0):("Backspace"===s||"Delete"===s||1===s.length&&!c)&&e.enterEditMode()}function Be(e){e.config.showOnFocus&&!e._showing&&e.show()}function He(e,t){const o=t.target;(e.picker.active||e.config.showOnClick)&&(o._active=B(o),o._clicking=setTimeout((()=>{delete o._active,delete o._clicking}),2e3))}function Fe(e,t){const o=t.target;o._clicking&&(clearTimeout(o._clicking),delete o._clicking,o._active&&e.enterEditMode(),delete o._active,e.config.showOnClick&&e.show())}function Ve(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function je(e,t){const{element:o,picker:n}=e;if(!n.active&&!B(o))return;const r=n.element;q(t,(e=>e===o||e===r))||_e(e)}function Ue(e,t){return e.map((e=>N(e,t.format,t.locale))).join(t.dateDelimiter)}function We(e,t,o=!1){if(0===t.length)return o?[]:void 0;const{config:n,dates:r,rangeSideIndex:a}=e,{pickLevel:i,maxNumberOfDates:l}=n;let c=t.reduce(((e,t)=>{let o=R(t,n.format,n.locale);return void 0===o||(o=S(o,i,a),!s(o,n.minDate,n.maxDate)||e.includes(o)||n.checkDisabled(o,i)||!(i>0)&&n.daysOfWeekDisabled.includes(new Date(o).getDay())||e.push(o)),e}),[]);return 0!==c.length?(n.multidate&&!o&&(c=c.reduce(((e,t)=>(r.includes(t)||e.push(t),e)),r.filter((e=>!c.includes(e))))),l&&c.length>l?c.slice(-1*l):c):void 0}function Ze(e,t=3,o=!0,n=undefined){const{config:r,picker:a,inputField:s}=e;if(2&t){const e=a.active?r.pickLevel:r.startView;a.update(n).changeView(e).render(o)}1&t&&s&&(s.value=Ue(e.dates,r))}function $e(e,t,o){const n=e.config;let{clear:r,render:a,autohide:s,revert:i,forceRefresh:l,viewDate:c}=o;void 0===a&&(a=!0),a?void 0===s&&(s=n.autohide):s=l=!1,c=R(c,n.format,n.locale);const d=We(e,t,r);(d||i)&&(d&&d.toString()!==e.dates.toString()?(e.dates=d,Ze(e,a?3:1,!0,c),ge(e,"changeDate")):Ze(e,l?3:1,!0,c),s&&e.hide())}function qe(e,t){return t?o=>N(o,t,e.config.locale):e=>new Date(e)}class Ye{constructor(e,t={},o=undefined){e.datepicker=this,this.element=e,this.dates=[];const n=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:u(),maxDate:void 0,minDate:void 0},ae(G,this));let r;if("INPUT"===e.tagName?(r=this.inputField=e,r.classList.add("datepicker-input"),t.container&&(n.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container))):n.container=e,o){const e=o.inputs.indexOf(r),t=o.datepickers;if(e<0||e>1||!Array.isArray(t))throw Error("Invalid rangepicker object.");t[e]=this,this.rangepicker=o,this.rangeSideIndex=e}this._options=t,Object.assign(n,ae(t,this)),n.shortcutKeys=function(e){return Object.keys(se).reduce(((t,o)=>{const n=void 0===e[o]?se[o]:e[o],r=n&&n.key;if(!r||"string"!=typeof r)return t;const a={key:r,ctrlOrMetaKey:!!(n.ctrlOrMetaKey||n.ctrlKey||n.metaKey)};return r.length>1&&(a.altKey=!!n.altKey,a.shiftKey=!!n.shiftKey),t[o]=a,t}),{})}(t.shortcutKeys||{});const s=a(e.value||e.dataset.date,n.dateDelimiter);delete e.dataset.date;const i=We(this,s);i&&i.length>0&&(this.dates=i),r&&(r.value=Ue(this.dates,n));const l=this.picker=new Ne(this),c=[e,"keydown",Pe.bind(null,this)];r?Z(this,[c,[r,"focus",Be.bind(null,this)],[r,"mousedown",He.bind(null,this)],[r,"click",Fe.bind(null,this)],[r,"paste",Ve.bind(null,this)],[document,"mousedown",je.bind(null,this)],[window,"resize",l.place.bind(l)]]):(Z(this,[c]),this.show())}static formatDate(e,t,o){return N(e,t,o&&Y[o]||Y.en)}static parseDate(e,t,o){return R(e,t,o&&Y[o]||Y.en)}static get locales(){return Y}get active(){return!(!this.picker||!this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const t=ae(e,this);Object.assign(this._options,e),Object.assign(this.config,t),this.picker.setOptions(t),Ze(this,3)}show(){if(this.inputField){const{config:e,inputField:t}=this;if(t.disabled||t.readOnly&&!e.enableOnReadonly)return;B(t)||e.disableTouchKeyboard||(this._showing=!0,t.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),function(e){let t=j.get(e);t&&(t.forEach((e=>{W.call(...e)})),j.delete(e))}(this),this.picker.detach();const e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=undefined){const t=qe(this,e);return this.config.multidate?this.dates.map(t):this.dates.length>0?t(this.dates[0]):void 0}setDate(...e){const t=[...e],o={},r=n(e);!r||"object"!=typeof r||Array.isArray(r)||r instanceof Date||Object.assign(o,t.pop());$e(this,Array.isArray(t[0])?t[0]:t,o)}update(e=undefined){if(!this.inputField)return;const t=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0});$e(this,a(this.inputField.value,this.config.dateDelimiter),t)}getFocusedDate(e=undefined){return qe(this,e)(this.picker.viewDate)}setFocusedDate(e,t=!1){const{config:o,picker:n,active:r,rangeSideIndex:a}=this,s=o.pickLevel,i=R(e,o.format,o.locale);void 0!==i&&(n.changeFocus(S(i,s,a)),r&&t&&n.changeView(s),n.render())}refresh(e=undefined,t=!1){let o;e&&"string"!=typeof e&&(t=e,e=void 0),o="picker"===e?2:"input"===e?1:3,Ze(this,o,!t)}enterEditMode(){const e=this.inputField;e&&!e.readOnly&&this.picker.active&&!this.editMode&&(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=undefined){if(!this.inputField||!this.editMode)return;const t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}}}}]);